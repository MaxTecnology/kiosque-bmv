import{a as R}from"./chunk-F76X7RG5.js";import{a as le}from"./chunk-2TO534EY.js";import"./chunk-RSPORLB7.js";import{Cb as oe,Fb as L,G as n,H as f,J as H,K as y,M as d,O as a,Oa as T,P as o,Pa as Z,Q as G,Sa as W,T as U,Ta as J,U as C,Ua as X,Va as Y,Wa as $,Xa as ee,Ya as te,aa as q,ba as s,ca as g,cb as ie,da as h,e as z,ec as ae,fa as w,ga as F,gc as N,ha as M,jc as j,kb as ne,lb as D,lc as A,ma as c,na as u,nb as B,ob as re,p as I,s as S,t as E,ta as K,tc as se,x as v,y as _}from"./chunk-K77LY3FL.js";import"./chunk-B4AJQJMI.js";var de=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=S({type:e,selectors:[["faqs"]],decls:1,vars:0,template:function(r,i){r&1&&G(0,"router-outlet")},dependencies:[Z],encapsulation:2})}}return e})();var me=(()=>{class e extends le{constructor(t,r,i){super(r),this.client=t,this.coreService=r,this.route=i,this.columns=[{key:"title",translation_key:"FAQ.FIELDS.TITLE.LABEL",column:{title:"",type:"string",filter:!1}}],this.editPageUrl="pages/faqs/edit",this.actionSettings={actions:{columnTitle:"Action",position:"right",add:!1}}}ngOnInit(){super.ngOnInit(this.client.getBaseEndpoint())}delete(t){super.delete(t)}static{this.\u0275fac=function(r){return new(r||e)(f(R),f(A),f(T))}}static{this.\u0275cmp=S({type:e,selectors:[["list"]],features:[H],decls:6,vars:6,consts:[["nbSpinnerStatus","danger",3,"nbSpinner"],[3,"delete","edit","settings","source"]],template:function(r,i){r&1&&(a(0,"nb-card")(1,"nb-card-header"),s(2),c(3,"translate"),o(),a(4,"nb-card-body",0)(5,"angular2-smart-table",1),C("delete",function(m){return i.onDeleteConfirm(m)})("edit",function(m){return i.edit(m)}),o()()()),r&2&&(n(2),h(" ",u(3,4,"FAQ.LABELS.LIST")," "),n(2),d("nbSpinner",i.loading),n(),d("settings",i.settings)("source",i.source))},dependencies:[L,B,D,ne,ae,N],styles:[`[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}





`]})}}return e})();var O=class{};var P=class{};var V=class{};function Se(e,b){if(e&1&&(a(0,"label",16),s(1),o()),e&2){let t=b.$implicit;n(),g(t)}}function ve(e,b){if(e&1&&(a(0,"label",16),s(1),o()),e&2){let t=b.$implicit;n(),g(t)}}function _e(e,b){if(e&1&&(a(0,"label",16),s(1),o()),e&2){let t=b.$implicit;n(),g(t)}}var k=(()=>{class e{constructor(t,r,i){this.client=t,this.coreService=r,this.route=i,this.faq=new O,this.faqRequest=new P,this.faqError=new V,this.showProgress=!1,this.showProgressButton=!1,this.isEdit=!1,this.editId=null}ngOnInit(){this.getEditData()}getEditData(){let t=this.route.snapshot.paramMap.get("id");t&&(this.isEdit=!0,this.editId=t,this.getDataById(t).subscribe())}getDataById(t){return this.showProgress=!0,this.client.show(t).pipe(z(r=>(this.showProgress=!1,this.faq=r,this.faqRequest.title=this.faq.title,this.faqRequest.short_description=this.faq.short_description,this.faqRequest.description=this.faq.description,r)))}saveFaq(){this.showProgressButton=!0;let t=new FormData;t.append("title",this.faqRequest.title),t.append("short_description",this.faqRequest.short_description),t.append("description",this.faqRequest.description),(this.isEdit?this.client.update(this.editId,t):this.client.store(t)).subscribe(i=>{this.showProgressButton=!1,this.coreService.toastService.showToast(j.SUCCESS,"Saved","Saved successfully!"),this.back()},i=>{if(this.showProgressButton=!1,this.coreService.toastService.showToast(j.DANGER,"Failed",i.error.message),i.error.errors){let p=i.error.errors;this.faqError.title=p?.title,this.faqError.short_description=p?.short_description,this.faqError.description=p?.description}})}back(){this.coreService.location.back()}formatRole(t){switch(t){default:return t}}static{this.\u0275fac=function(r){return new(r||e)(f(R),f(A),f(T))}}static{this.\u0275cmp=S({type:e,selectors:[["save"]],decls:43,vars:36,consts:[["form","ngForm"],["title","ngModel"],["short_description","ngModel"],["description","ngModel"],[1,"row"],[1,"col-md-12"],["nbSpinnerStatus","danger",3,"nbSpinner"],[3,"ngSubmit"],[1,"form-group"],["nbInput","","fullWidth","","placeholder","Title","name","title","required","",3,"ngModelChange","ngModel"],[1,"error","text-danger",3,"hidden"],["class","error text-danger",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","placeholder","Short_description","name","short_description","required","",3,"ngModelChange","ngModel"],["nbInput","","fullWidth","","placeholder","Description","name","description","required","",3,"ngModelChange","ngModel"],["type","submit","nbButton","","status","success","size","medium","nbSpinnerStatus","success","nbSpinnerSize","small",3,"disabled","nbSpinner"],["type","button","nbButton","","status","danger","size","medium",3,"click"],[1,"error","text-danger"]],template:function(r,i){if(r&1){let p=U();a(0,"div",4)(1,"div",5)(2,"nb-card")(3,"nb-card-body",6)(4,"form",7,0),C("ngSubmit",function(){return v(p),_(i.saveFaq())}),a(6,"div",8)(7,"label"),s(8),c(9,"translate"),o(),a(10,"textarea",9,1),M("ngModelChange",function(l){return v(p),F(i.faqRequest.title,l)||(i.faqRequest.title=l),_(l)}),o(),a(12,"label",10),s(13),c(14,"translate"),o(),y(15,Se,2,1,"label",11),o(),a(16,"div",8)(17,"label"),s(18),c(19,"translate"),o(),a(20,"textarea",12,2),M("ngModelChange",function(l){return v(p),F(i.faqRequest.short_description,l)||(i.faqRequest.short_description=l),_(l)}),o(),a(22,"label",10),s(23),c(24,"translate"),o(),y(25,ve,2,1,"label",11),o(),a(26,"div",8)(27,"label"),s(28),c(29,"translate"),o(),a(30,"textarea",13,3),M("ngModelChange",function(l){return v(p),F(i.faqRequest.description,l)||(i.faqRequest.description=l),_(l)}),o(),a(32,"label",10),s(33),c(34,"translate"),o(),y(35,_e,2,1,"label",11),o(),a(36,"button",14),s(37),c(38,"translate"),o(),s(39," \xA0 "),a(40,"button",15),C("click",function(){return v(p),_(i.back())}),s(41),c(42,"translate"),o()()()()()()}if(r&2){let p=q(5),m=q(11),l=q(21),Q=q(31);n(3),d("nbSpinner",i.showProgress),n(5),g(u(9,20,"FAQ.FIELDS.TITLE.LABEL")),n(2),w("ngModel",i.faqRequest.title),n(2),d("hidden",m.valid||m.pristine),n(),h(" ",u(14,22,"FAQ.FIELDS.TITLE.VALIDATION")," "),n(2),d("ngForOf",i.faqError.title),n(3),g(u(19,24,"FAQ.FIELDS.SHORT_DESCRIPTION.LABEL")),n(2),w("ngModel",i.faqRequest.short_description),n(2),d("hidden",l.valid||l.pristine),n(),h(" ",u(24,26,"FAQ.FIELDS.SHORT_DESCRIPTION.VALIDATION")," "),n(2),d("ngForOf",i.faqError.short_description),n(3),g(u(29,28,"FAQ.FIELDS.DESCRIPTION.LABEL")),n(2),w("ngModel",i.faqRequest.description),n(2),d("hidden",Q.valid||Q.pristine),n(),h(" ",u(34,30,"FAQ.FIELDS.DESCRIPTION.VALIDATION")," "),n(2),d("ngForOf",i.faqError.description),n(),d("disabled",!p.form.valid||i.showProgressButton)("nbSpinner",i.showProgressButton),n(),h(" ",u(38,32,"COMMON.SAVE")," "),n(4),h(" ",u(42,34,"COMMON.BACK")," ")}},dependencies:[K,te,J,X,Y,ie,ee,$,re,L,B,D,oe,N],encapsulation:2})}}return e})();var be=[{path:"",component:de,children:[{path:"add",component:k},{path:"list",component:me},{path:"edit/:id",component:k}]}],ce=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=E({type:e})}static{this.\u0275inj=I({imports:[W.forChild(be),W]})}}return e})();var ze=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=E({type:e})}static{this.\u0275inj=I({imports:[se,ce]})}}return e})();export{ze as FaqsModule};
