import{a as Ee,b as vt,c as r9,d as FA,e as hs,f as tn,g as cc,h as Ri,i as Vo,j as hd}from"./chunk-TWZW5B45.js";var eS=tn((dU,V1)=>{"use strict";(function(n,t){typeof dU=="object"&&typeof V1<"u"?V1.exports=t():typeof define=="function"&&define.amd?define(t):n.moment=t()})(dU,function(){"use strict";var n;function t(){return n.apply(null,arguments)}function e(y){n=y}function i(y){return y instanceof Array||Object.prototype.toString.call(y)==="[object Array]"}function r(y){return y!=null&&Object.prototype.toString.call(y)==="[object Object]"}function o(y,O){return Object.prototype.hasOwnProperty.call(y,O)}function s(y){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(y).length===0;var O;for(O in y)if(o(y,O))return!1;return!0}function a(y){return y===void 0}function l(y){return typeof y=="number"||Object.prototype.toString.call(y)==="[object Number]"}function u(y){return y instanceof Date||Object.prototype.toString.call(y)==="[object Date]"}function d(y,O){var U=[],Q;for(Q=0;Q<y.length;++Q)U.push(O(y[Q],Q));return U}function h(y,O){for(var U in O)o(O,U)&&(y[U]=O[U]);return o(O,"toString")&&(y.toString=O.toString),o(O,"valueOf")&&(y.valueOf=O.valueOf),y}function f(y,O,U,Q){return iA(y,O,U,Q,!0).utc()}function A(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(y){return y._pf==null&&(y._pf=A()),y._pf}var m;Array.prototype.some?m=Array.prototype.some:m=function(y){var O=Object(this),U=O.length>>>0,Q;for(Q=0;Q<U;Q++)if(Q in O&&y.call(this,O[Q],Q,O))return!0;return!1};function b(y){if(y._isValid==null){var O=g(y),U=m.call(O.parsedDateParts,function(ee){return ee!=null}),Q=!isNaN(y._d.getTime())&&O.overflow<0&&!O.empty&&!O.invalidEra&&!O.invalidMonth&&!O.invalidWeekday&&!O.weekdayMismatch&&!O.nullInput&&!O.invalidFormat&&!O.userInvalidated&&(!O.meridiem||O.meridiem&&U);if(y._strict&&(Q=Q&&O.charsLeftOver===0&&O.unusedTokens.length===0&&O.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(y))y._isValid=Q;else return Q}return y._isValid}function S(y){var O=f(NaN);return y!=null?h(g(O),y):g(O).userInvalidated=!0,O}var F=t.momentProperties=[],R=!1;function B(y,O){var U,Q,ee;if(a(O._isAMomentObject)||(y._isAMomentObject=O._isAMomentObject),a(O._i)||(y._i=O._i),a(O._f)||(y._f=O._f),a(O._l)||(y._l=O._l),a(O._strict)||(y._strict=O._strict),a(O._tzm)||(y._tzm=O._tzm),a(O._isUTC)||(y._isUTC=O._isUTC),a(O._offset)||(y._offset=O._offset),a(O._pf)||(y._pf=g(O)),a(O._locale)||(y._locale=O._locale),F.length>0)for(U=0;U<F.length;U++)Q=F[U],ee=O[Q],a(ee)||(y[Q]=ee);return y}function P(y){B(this,y),this._d=new Date(y._d!=null?y._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),R===!1&&(R=!0,t.updateOffset(this),R=!1)}function L(y){return y instanceof P||y!=null&&y._isAMomentObject!=null}function j(y){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+y)}function G(y,O){var U=!0;return h(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,y),U){var Q=[],ee,fe,Me;for(fe=0;fe<arguments.length;fe++){if(ee="",typeof arguments[fe]=="object"){ee+=`
[`+fe+"] ";for(Me in arguments[0])o(arguments[0],Me)&&(ee+=Me+": "+arguments[0][Me]+", ");ee=ee.slice(0,-2)}else ee=arguments[fe];Q.push(ee)}j(y+`
Arguments: `+Array.prototype.slice.call(Q).join("")+`
`+new Error().stack),U=!1}return O.apply(this,arguments)},O)}var Y={};function Z(y,O){t.deprecationHandler!=null&&t.deprecationHandler(y,O),Y[y]||(j(O),Y[y]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function _e(y){return typeof Function<"u"&&y instanceof Function||Object.prototype.toString.call(y)==="[object Function]"}function xe(y){var O,U;for(U in y)o(y,U)&&(O=y[U],_e(O)?this[U]=O:this["_"+U]=O);this._config=y,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function qe(y,O){var U=h({},y),Q;for(Q in O)o(O,Q)&&(r(y[Q])&&r(O[Q])?(U[Q]={},h(U[Q],y[Q]),h(U[Q],O[Q])):O[Q]!=null?U[Q]=O[Q]:delete U[Q]);for(Q in y)o(y,Q)&&!o(O,Q)&&r(y[Q])&&(U[Q]=h({},U[Q]));return U}function ge(y){y!=null&&this.set(y)}var me;Object.keys?me=Object.keys:me=function(y){var O,U=[];for(O in y)o(y,O)&&U.push(O);return U};var re={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ue(y,O,U){var Q=this._calendar[y]||this._calendar.sameElse;return _e(Q)?Q.call(O,U):Q}function Fe(y,O,U){var Q=""+Math.abs(y),ee=O-Q.length,fe=y>=0;return(fe?U?"+":"":"-")+Math.pow(10,Math.max(0,ee)).toString().substr(1)+Q}var Ue=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Je=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,xt={},lt={};function Le(y,O,U,Q){var ee=Q;typeof Q=="string"&&(ee=function(){return this[Q]()}),y&&(lt[y]=ee),O&&(lt[O[0]]=function(){return Fe(ee.apply(this,arguments),O[1],O[2])}),U&&(lt[U]=function(){return this.localeData().ordinal(ee.apply(this,arguments),y)})}function it(y){return y.match(/\[[\s\S]/)?y.replace(/^\[|\]$/g,""):y.replace(/\\/g,"")}function Xn(y){var O=y.match(Ue),U,Q;for(U=0,Q=O.length;U<Q;U++)lt[O[U]]?O[U]=lt[O[U]]:O[U]=it(O[U]);return function(ee){var fe="",Me;for(Me=0;Me<Q;Me++)fe+=_e(O[Me])?O[Me].call(ee,y):O[Me];return fe}}function Yt(y,O){return y.isValid()?(O=Jt(O,y.localeData()),xt[O]=xt[O]||Xn(O),xt[O](y)):y.localeData().invalidDate()}function Jt(y,O){var U=5;function Q(ee){return O.longDateFormat(ee)||ee}for(Je.lastIndex=0;U>=0&&Je.test(y);)y=y.replace(Je,Q),Je.lastIndex=0,U-=1;return y}var Rt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Sr(y){var O=this._longDateFormat[y],U=this._longDateFormat[y.toUpperCase()];return O||!U?O:(this._longDateFormat[y]=U.match(Ue).map(function(Q){return Q==="MMMM"||Q==="MM"||Q==="DD"||Q==="dddd"?Q.slice(1):Q}).join(""),this._longDateFormat[y])}var Br="Invalid date";function Oo(){return this._invalidDate}var Nc="%d",Vu=/\d{1,2}/;function Fo(y){return this._ordinal.replace("%d",y)}var xr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function yi(y,O,U,Q){var ee=this._relativeTime[U];return _e(ee)?ee(y,O,U,Q):ee.replace(/%d/i,y)}function gl(y,O){var U=this._relativeTime[y>0?"future":"past"];return _e(U)?U(O):U.replace(/%s/i,O)}var Fi={};function Pr(y,O){var U=y.toLowerCase();Fi[U]=Fi[U+"s"]=Fi[O]=y}function Bi(y){return typeof y=="string"?Fi[y]||Fi[y.toLowerCase()]:void 0}function Is(y){var O={},U,Q;for(Q in y)o(y,Q)&&(U=Bi(Q),U&&(O[U]=y[Q]));return O}var Rc={};function pr(y,O){Rc[y]=O}function Qn(y){var O=[],U;for(U in y)o(y,U)&&O.push({unit:U,priority:Rc[U]});return O.sort(function(Q,ee){return Q.priority-ee.priority}),O}function di(y){return y%4===0&&y%100!==0||y%400===0}function Ht(y){return y<0?Math.ceil(y)||0:Math.floor(y)}function ot(y){var O=+y,U=0;return O!==0&&isFinite(O)&&(U=Ht(O)),U}function Ts(y,O){return function(U){return U!=null?($l(this,y,U),t.updateOffset(this,O),this):ql(this,y)}}function ql(y,O){return y.isValid()?y._d["get"+(y._isUTC?"UTC":"")+O]():NaN}function $l(y,O,U){y.isValid()&&!isNaN(U)&&(O==="FullYear"&&di(y.year())&&y.month()===1&&y.date()===29?(U=ot(U),y._d["set"+(y._isUTC?"UTC":"")+O](U,y.month(),Af(U,y.month()))):y._d["set"+(y._isUTC?"UTC":"")+O](U))}function v_(y){return y=Bi(y),_e(this[y])?this[y]():this}function Xi(y,O){if(typeof y=="object"){y=Is(y);var U=Qn(y),Q;for(Q=0;Q<U.length;Q++)this[U[Q].unit](y[U[Q].unit])}else if(y=Bi(y),_e(this[y]))return this[y](O);return this}var Kd=/\d/,Ar=/\d\d/,ka=/\d{3}/,zd=/\d{4}/,gr=/[+-]?\d{6}/,oi=/\d\d?/,as=/\d\d\d\d?/,Qu=/\d\d\d\d\d\d?/,ju=/\d{1,3}/,Lc=/\d{1,4}/,jp=/[+-]?\d{1,6}/,sa=/\d+/,Gu=/[+-]?\d+/,gn=/Z|[+-]\d\d:?\d\d/gi,Wu=/Z|[+-]\d\d(?::?\d\d)?/gi,nm=/[+-]?\d+(\.\d{1,3})?/,ls=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Uc;Uc={};function tt(y,O,U){Uc[y]=_e(O)?O:function(Q,ee){return Q&&U?U:O}}function pf(y,O){return o(Uc,y)?Uc[y](O._strict,O._locale):new RegExp(__(y))}function __(y){return Bo(y.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(O,U,Q,ee,fe){return U||Q||ee||fe}))}function Bo(y){return y.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Gp={};function Jn(y,O){var U,Q=O;for(typeof y=="string"&&(y=[y]),l(O)&&(Q=function(ee,fe){fe[O]=ot(ee)}),U=0;U<y.length;U++)Gp[y[U]]=Q}function aa(y,O){Jn(y,function(U,Q,ee,fe){ee._w=ee._w||{},O(U,ee._w,ee,fe)})}function im(y,O,U){O!=null&&o(Gp,y)&&Gp[y](O,U._a,U,y)}var ro=0,la=1,ml=2,kr=3,Na=4,vl=5,Ds=6,Wp=7,Kp=8;function y_(y,O){return(y%O+O)%O}var Sn;Array.prototype.indexOf?Sn=Array.prototype.indexOf:Sn=function(y){var O;for(O=0;O<this.length;++O)if(this[O]===y)return O;return-1};function Af(y,O){if(isNaN(y)||isNaN(O))return NaN;var U=y_(O,12);return y+=(O-U)/12,U===1?di(y)?29:28:31-U%7%2}Le("M",["MM",2],"Mo",function(){return this.month()+1}),Le("MMM",0,0,function(y){return this.localeData().monthsShort(this,y)}),Le("MMMM",0,0,function(y){return this.localeData().months(this,y)}),Pr("month","M"),pr("month",8),tt("M",oi),tt("MM",oi,Ar),tt("MMM",function(y,O){return O.monthsShortRegex(y)}),tt("MMMM",function(y,O){return O.monthsRegex(y)}),Jn(["M","MM"],function(y,O){O[la]=ot(y)-1}),Jn(["MMM","MMMM"],function(y,O,U,Q){var ee=U._locale.monthsParse(y,Q,U._strict);ee!=null?O[la]=ee:g(U).invalidMonth=y});var Nb="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),$d=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,w_=ls,rm=ls;function om(y,O){return y?i(this._months)?this._months[y.month()]:this._months[(this._months.isFormat||$d).test(O)?"format":"standalone"][y.month()]:i(this._months)?this._months:this._months.standalone}function Yd(y,O){return y?i(this._monthsShort)?this._monthsShort[y.month()]:this._monthsShort[$d.test(O)?"format":"standalone"][y.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Zd(y,O,U){var Q,ee,fe,Me=y.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Q=0;Q<12;++Q)fe=f([2e3,Q]),this._shortMonthsParse[Q]=this.monthsShort(fe,"").toLocaleLowerCase(),this._longMonthsParse[Q]=this.months(fe,"").toLocaleLowerCase();return U?O==="MMM"?(ee=Sn.call(this._shortMonthsParse,Me),ee!==-1?ee:null):(ee=Sn.call(this._longMonthsParse,Me),ee!==-1?ee:null):O==="MMM"?(ee=Sn.call(this._shortMonthsParse,Me),ee!==-1?ee:(ee=Sn.call(this._longMonthsParse,Me),ee!==-1?ee:null)):(ee=Sn.call(this._longMonthsParse,Me),ee!==-1?ee:(ee=Sn.call(this._shortMonthsParse,Me),ee!==-1?ee:null))}function gf(y,O,U){var Q,ee,fe;if(this._monthsParseExact)return Zd.call(this,y,O,U);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Q=0;Q<12;Q++){if(ee=f([2e3,Q]),U&&!this._longMonthsParse[Q]&&(this._longMonthsParse[Q]=new RegExp("^"+this.months(ee,"").replace(".","")+"$","i"),this._shortMonthsParse[Q]=new RegExp("^"+this.monthsShort(ee,"").replace(".","")+"$","i")),!U&&!this._monthsParse[Q]&&(fe="^"+this.months(ee,"")+"|^"+this.monthsShort(ee,""),this._monthsParse[Q]=new RegExp(fe.replace(".",""),"i")),U&&O==="MMMM"&&this._longMonthsParse[Q].test(y))return Q;if(U&&O==="MMM"&&this._shortMonthsParse[Q].test(y))return Q;if(!U&&this._monthsParse[Q].test(y))return Q}}function sm(y,O){var U;if(!y.isValid())return y;if(typeof O=="string"){if(/^\d+$/.test(O))O=ot(O);else if(O=y.localeData().monthsParse(O),!l(O))return y}return U=Math.min(y.date(),Af(y.year(),O)),y._d["set"+(y._isUTC?"UTC":"")+"Month"](O,U),y}function Wi(y){return y!=null?(sm(this,y),t.updateOffset(this,!0),this):ql(this,"Month")}function Rb(){return Af(this.year(),this.month())}function mf(y){return this._monthsParseExact?(o(this,"_monthsRegex")||am.call(this),y?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=w_),this._monthsShortStrictRegex&&y?this._monthsShortStrictRegex:this._monthsShortRegex)}function b_(y){return this._monthsParseExact?(o(this,"_monthsRegex")||am.call(this),y?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=rm),this._monthsStrictRegex&&y?this._monthsStrictRegex:this._monthsRegex)}function am(){function y(Me,Bt){return Bt.length-Me.length}var O=[],U=[],Q=[],ee,fe;for(ee=0;ee<12;ee++)fe=f([2e3,ee]),O.push(this.monthsShort(fe,"")),U.push(this.months(fe,"")),Q.push(this.months(fe,"")),Q.push(this.monthsShort(fe,""));for(O.sort(y),U.sort(y),Q.sort(y),ee=0;ee<12;ee++)O[ee]=Bo(O[ee]),U[ee]=Bo(U[ee]);for(ee=0;ee<24;ee++)Q[ee]=Bo(Q[ee]);this._monthsRegex=new RegExp("^("+Q.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+U.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+O.join("|")+")","i")}Le("Y",0,0,function(){var y=this.year();return y<=9999?Fe(y,4):"+"+y}),Le(0,["YY",2],0,function(){return this.year()%100}),Le(0,["YYYY",4],0,"year"),Le(0,["YYYYY",5],0,"year"),Le(0,["YYYYYY",6,!0],0,"year"),Pr("year","y"),pr("year",1),tt("Y",Gu),tt("YY",oi,Ar),tt("YYYY",Lc,zd),tt("YYYYY",jp,gr),tt("YYYYYY",jp,gr),Jn(["YYYYY","YYYYYY"],ro),Jn("YYYY",function(y,O){O[ro]=y.length===2?t.parseTwoDigitYear(y):ot(y)}),Jn("YY",function(y,O){O[ro]=t.parseTwoDigitYear(y)}),Jn("Y",function(y,O){O[ro]=parseInt(y,10)});function vf(y){return di(y)?366:365}t.parseTwoDigitYear=function(y){return ot(y)+(ot(y)>68?1900:2e3)};var C_=Ts("FullYear",!0);function zp(){return di(this.year())}function Lb(y,O,U,Q,ee,fe,Me){var Bt;return y<100&&y>=0?(Bt=new Date(y+400,O,U,Q,ee,fe,Me),isFinite(Bt.getFullYear())&&Bt.setFullYear(y)):Bt=new Date(y,O,U,Q,ee,fe,Me),Bt}function Yl(y){var O,U;return y<100&&y>=0?(U=Array.prototype.slice.call(arguments),U[0]=y+400,O=new Date(Date.UTC.apply(null,U)),isFinite(O.getUTCFullYear())&&O.setUTCFullYear(y)):O=new Date(Date.UTC.apply(null,arguments)),O}function Xd(y,O,U){var Q=7+O-U,ee=(7+Yl(y,0,Q).getUTCDay()-O)%7;return-ee+Q-1}function lm(y,O,U,Q,ee){var fe=(7+U-Q)%7,Me=Xd(y,Q,ee),Bt=1+7*(O-1)+fe+Me,hn,wi;return Bt<=0?(hn=y-1,wi=vf(hn)+Bt):Bt>vf(y)?(hn=y+1,wi=Bt-vf(y)):(hn=y,wi=Bt),{year:hn,dayOfYear:wi}}function Hc(y,O,U){var Q=Xd(y.year(),O,U),ee=Math.floor((y.dayOfYear()-Q-1)/7)+1,fe,Me;return ee<1?(Me=y.year()-1,fe=ee+ca(Me,O,U)):ee>ca(y.year(),O,U)?(fe=ee-ca(y.year(),O,U),Me=y.year()+1):(Me=y.year(),fe=ee),{week:fe,year:Me}}function ca(y,O,U){var Q=Xd(y,O,U),ee=Xd(y+1,O,U);return(vf(y)-Q+ee)/7}Le("w",["ww",2],"wo","week"),Le("W",["WW",2],"Wo","isoWeek"),Pr("week","w"),Pr("isoWeek","W"),pr("week",5),pr("isoWeek",5),tt("w",oi),tt("ww",oi,Ar),tt("W",oi),tt("WW",oi,Ar),aa(["w","ww","W","WW"],function(y,O,U,Q){O[Q.substr(0,1)]=ot(y)});function E_(y){return Hc(y,this._week.dow,this._week.doy).week}var _f={dow:0,doy:6};function Vc(){return this._week.dow}function S_(){return this._week.doy}function bn(y){var O=this.localeData().week(this);return y==null?O:this.add((y-O)*7,"d")}function Ku(y){var O=Hc(this,1,4).week;return y==null?O:this.add((y-O)*7,"d")}Le("d",0,"do","day"),Le("dd",0,0,function(y){return this.localeData().weekdaysMin(this,y)}),Le("ddd",0,0,function(y){return this.localeData().weekdaysShort(this,y)}),Le("dddd",0,0,function(y){return this.localeData().weekdays(this,y)}),Le("e",0,0,"weekday"),Le("E",0,0,"isoWeekday"),Pr("day","d"),Pr("weekday","e"),Pr("isoWeekday","E"),pr("day",11),pr("weekday",11),pr("isoWeekday",11),tt("d",oi),tt("e",oi),tt("E",oi),tt("dd",function(y,O){return O.weekdaysMinRegex(y)}),tt("ddd",function(y,O){return O.weekdaysShortRegex(y)}),tt("dddd",function(y,O){return O.weekdaysRegex(y)}),aa(["dd","ddd","dddd"],function(y,O,U,Q){var ee=U._locale.weekdaysParse(y,Q,U._strict);ee!=null?O.d=ee:g(U).invalidWeekday=y}),aa(["d","e","E"],function(y,O,U,Q){O[Q]=ot(y)});function Zl(y,O){return typeof y!="string"?y:isNaN(y)?(y=O.weekdaysParse(y),typeof y=="number"?y:null):parseInt(y,10)}function Xl(y,O){return typeof y=="string"?O.weekdaysParse(y)%7||7:isNaN(y)?null:y}function qp(y,O){return y.slice(O,7).concat(y.slice(0,O))}var x_="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$p="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ft="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Pi=ls,Ra=ls,I_=ls;function cm(y,O){var U=i(this._weekdays)?this._weekdays:this._weekdays[y&&y!==!0&&this._weekdays.isFormat.test(O)?"format":"standalone"];return y===!0?qp(U,this._week.dow):y?U[y.day()]:U}function um(y){return y===!0?qp(this._weekdaysShort,this._week.dow):y?this._weekdaysShort[y.day()]:this._weekdaysShort}function dm(y){return y===!0?qp(this._weekdaysMin,this._week.dow):y?this._weekdaysMin[y.day()]:this._weekdaysMin}function T_(y,O,U){var Q,ee,fe,Me=y.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Q=0;Q<7;++Q)fe=f([2e3,1]).day(Q),this._minWeekdaysParse[Q]=this.weekdaysMin(fe,"").toLocaleLowerCase(),this._shortWeekdaysParse[Q]=this.weekdaysShort(fe,"").toLocaleLowerCase(),this._weekdaysParse[Q]=this.weekdays(fe,"").toLocaleLowerCase();return U?O==="dddd"?(ee=Sn.call(this._weekdaysParse,Me),ee!==-1?ee:null):O==="ddd"?(ee=Sn.call(this._shortWeekdaysParse,Me),ee!==-1?ee:null):(ee=Sn.call(this._minWeekdaysParse,Me),ee!==-1?ee:null):O==="dddd"?(ee=Sn.call(this._weekdaysParse,Me),ee!==-1||(ee=Sn.call(this._shortWeekdaysParse,Me),ee!==-1)?ee:(ee=Sn.call(this._minWeekdaysParse,Me),ee!==-1?ee:null)):O==="ddd"?(ee=Sn.call(this._shortWeekdaysParse,Me),ee!==-1||(ee=Sn.call(this._weekdaysParse,Me),ee!==-1)?ee:(ee=Sn.call(this._minWeekdaysParse,Me),ee!==-1?ee:null)):(ee=Sn.call(this._minWeekdaysParse,Me),ee!==-1||(ee=Sn.call(this._weekdaysParse,Me),ee!==-1)?ee:(ee=Sn.call(this._shortWeekdaysParse,Me),ee!==-1?ee:null))}function zu(y,O,U){var Q,ee,fe;if(this._weekdaysParseExact)return T_.call(this,y,O,U);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Q=0;Q<7;Q++){if(ee=f([2e3,1]).day(Q),U&&!this._fullWeekdaysParse[Q]&&(this._fullWeekdaysParse[Q]=new RegExp("^"+this.weekdays(ee,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Q]=new RegExp("^"+this.weekdaysShort(ee,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Q]=new RegExp("^"+this.weekdaysMin(ee,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Q]||(fe="^"+this.weekdays(ee,"")+"|^"+this.weekdaysShort(ee,"")+"|^"+this.weekdaysMin(ee,""),this._weekdaysParse[Q]=new RegExp(fe.replace(".",""),"i")),U&&O==="dddd"&&this._fullWeekdaysParse[Q].test(y))return Q;if(U&&O==="ddd"&&this._shortWeekdaysParse[Q].test(y))return Q;if(U&&O==="dd"&&this._minWeekdaysParse[Q].test(y))return Q;if(!U&&this._weekdaysParse[Q].test(y))return Q}}function hm(y){if(!this.isValid())return y!=null?this:NaN;var O=this._isUTC?this._d.getUTCDay():this._d.getDay();return y!=null?(y=Zl(y,this.localeData()),this.add(y-O,"d")):O}function D_(y){if(!this.isValid())return y!=null?this:NaN;var O=(this.day()+7-this.localeData()._week.dow)%7;return y==null?O:this.add(y-O,"d")}function fm(y){if(!this.isValid())return y!=null?this:NaN;if(y!=null){var O=Xl(y,this.localeData());return this.day(this.day()%7?O:O-7)}else return this.day()||7}function M_(y){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||pm.call(this),y?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Pi),this._weekdaysStrictRegex&&y?this._weekdaysStrictRegex:this._weekdaysRegex)}function O_(y){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||pm.call(this),y?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ra),this._weekdaysShortStrictRegex&&y?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function oo(y){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||pm.call(this),y?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=I_),this._weekdaysMinStrictRegex&&y?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function pm(){function y(Rs,Ls){return Ls.length-Rs.length}var O=[],U=[],Q=[],ee=[],fe,Me,Bt,hn,wi;for(fe=0;fe<7;fe++)Me=f([2e3,1]).day(fe),Bt=Bo(this.weekdaysMin(Me,"")),hn=Bo(this.weekdaysShort(Me,"")),wi=Bo(this.weekdays(Me,"")),O.push(Bt),U.push(hn),Q.push(wi),ee.push(Bt),ee.push(hn),ee.push(wi);O.sort(y),U.sort(y),Q.sort(y),ee.sort(y),this._weekdaysRegex=new RegExp("^("+ee.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Q.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+U.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+O.join("|")+")","i")}function Jl(){return this.hours()%12||12}function Jd(){return this.hours()||24}Le("H",["HH",2],0,"hour"),Le("h",["hh",2],0,Jl),Le("k",["kk",2],0,Jd),Le("hmm",0,0,function(){return""+Jl.apply(this)+Fe(this.minutes(),2)}),Le("hmmss",0,0,function(){return""+Jl.apply(this)+Fe(this.minutes(),2)+Fe(this.seconds(),2)}),Le("Hmm",0,0,function(){return""+this.hours()+Fe(this.minutes(),2)}),Le("Hmmss",0,0,function(){return""+this.hours()+Fe(this.minutes(),2)+Fe(this.seconds(),2)});function yf(y,O){Le(y,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),O)})}yf("a",!0),yf("A",!1),Pr("hour","h"),pr("hour",13);function Yp(y,O){return O._meridiemParse}tt("a",Yp),tt("A",Yp),tt("H",oi),tt("h",oi),tt("k",oi),tt("HH",oi,Ar),tt("hh",oi,Ar),tt("kk",oi,Ar),tt("hmm",as),tt("hmmss",Qu),tt("Hmm",as),tt("Hmmss",Qu),Jn(["H","HH"],kr),Jn(["k","kk"],function(y,O,U){var Q=ot(y);O[kr]=Q===24?0:Q}),Jn(["a","A"],function(y,O,U){U._isPm=U._locale.isPM(y),U._meridiem=y}),Jn(["h","hh"],function(y,O,U){O[kr]=ot(y),g(U).bigHour=!0}),Jn("hmm",function(y,O,U){var Q=y.length-2;O[kr]=ot(y.substr(0,Q)),O[Na]=ot(y.substr(Q)),g(U).bigHour=!0}),Jn("hmmss",function(y,O,U){var Q=y.length-4,ee=y.length-2;O[kr]=ot(y.substr(0,Q)),O[Na]=ot(y.substr(Q,2)),O[vl]=ot(y.substr(ee)),g(U).bigHour=!0}),Jn("Hmm",function(y,O,U){var Q=y.length-2;O[kr]=ot(y.substr(0,Q)),O[Na]=ot(y.substr(Q))}),Jn("Hmmss",function(y,O,U){var Q=y.length-4,ee=y.length-2;O[kr]=ot(y.substr(0,Q)),O[Na]=ot(y.substr(Q,2)),O[vl]=ot(y.substr(ee))});function F_(y){return(y+"").toLowerCase().charAt(0)==="p"}var wf=/[ap]\.?m?\.?/i,Zp=Ts("Hours",!0);function Am(y,O,U){return y>11?U?"pm":"PM":U?"am":"AM"}var B_={calendar:re,longDateFormat:Rt,invalidDate:Br,ordinal:Nc,dayOfMonthOrdinalParse:Vu,relativeTime:xr,months:Nb,monthsShort:qd,week:_f,weekdays:x_,weekdaysMin:Ft,weekdaysShort:$p,meridiemParse:wf},Kn={},Nr={},Ms;function Ub(y,O){var U,Q=Math.min(y.length,O.length);for(U=0;U<Q;U+=1)if(y[U]!==O[U])return U;return Q}function eh(y){return y&&y.toLowerCase().replace("_","-")}function Hb(y){for(var O=0,U,Q,ee,fe;O<y.length;){for(fe=eh(y[O]).split("-"),U=fe.length,Q=eh(y[O+1]),Q=Q?Q.split("-"):null;U>0;){if(ee=Xp(fe.slice(0,U).join("-")),ee)return ee;if(Q&&Q.length>=U&&Ub(fe,Q)>=U-1)break;U--}O++}return Ms}function Xp(y){var O=null,U;if(Kn[y]===void 0&&typeof V1<"u"&&V1&&V1.exports)try{O=Ms._abbr,U=r9,U("./locale/"+y),La(O)}catch{Kn[y]=null}return Kn[y]}function La(y,O){var U;return y&&(a(O)?U=Ua(y):U=th(y,O),U?Ms=U:typeof console<"u"&&console.warn&&console.warn("Locale "+y+" not found. Did you forget to load it?")),Ms._abbr}function th(y,O){if(O!==null){var U,Q=B_;if(O.abbr=y,Kn[y]!=null)Z("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Q=Kn[y]._config;else if(O.parentLocale!=null)if(Kn[O.parentLocale]!=null)Q=Kn[O.parentLocale]._config;else if(U=Xp(O.parentLocale),U!=null)Q=U._config;else return Nr[O.parentLocale]||(Nr[O.parentLocale]=[]),Nr[O.parentLocale].push({name:y,config:O}),null;return Kn[y]=new ge(qe(Q,O)),Nr[y]&&Nr[y].forEach(function(ee){th(ee.name,ee.config)}),La(y),Kn[y]}else return delete Kn[y],null}function gm(y,O){if(O!=null){var U,Q,ee=B_;Kn[y]!=null&&Kn[y].parentLocale!=null?Kn[y].set(qe(Kn[y]._config,O)):(Q=Xp(y),Q!=null&&(ee=Q._config),O=qe(ee,O),Q==null&&(O.abbr=y),U=new ge(O),U.parentLocale=Kn[y],Kn[y]=U),La(y)}else Kn[y]!=null&&(Kn[y].parentLocale!=null?(Kn[y]=Kn[y].parentLocale,y===La()&&La(y)):Kn[y]!=null&&delete Kn[y]);return Kn[y]}function Ua(y){var O;if(y&&y._locale&&y._locale._abbr&&(y=y._locale._abbr),!y)return Ms;if(!i(y)){if(O=Xp(y),O)return O;y=[y]}return Hb(y)}function mm(){return me(Kn)}function bf(y){var O,U=y._a;return U&&g(y).overflow===-2&&(O=U[la]<0||U[la]>11?la:U[ml]<1||U[ml]>Af(U[ro],U[la])?ml:U[kr]<0||U[kr]>24||U[kr]===24&&(U[Na]!==0||U[vl]!==0||U[Ds]!==0)?kr:U[Na]<0||U[Na]>59?Na:U[vl]<0||U[vl]>59?vl:U[Ds]<0||U[Ds]>999?Ds:-1,g(y)._overflowDayOfYear&&(O<ro||O>ml)&&(O=ml),g(y)._overflowWeeks&&O===-1&&(O=Wp),g(y)._overflowWeekday&&O===-1&&(O=Kp),g(y).overflow=O),y}var P_=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ha=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cf=/Z|[+-]\d\d(?::?\d\d)?/,Jp=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ef=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ua=/^\/?Date\((-?\d+)/i,k_=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,N_={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function vm(y){var O,U,Q=y._i,ee=P_.exec(Q)||Ha.exec(Q),fe,Me,Bt,hn;if(ee){for(g(y).iso=!0,O=0,U=Jp.length;O<U;O++)if(Jp[O][1].exec(ee[1])){Me=Jp[O][0],fe=Jp[O][2]!==!1;break}if(Me==null){y._isValid=!1;return}if(ee[3]){for(O=0,U=Ef.length;O<U;O++)if(Ef[O][1].exec(ee[3])){Bt=(ee[2]||" ")+Ef[O][0];break}if(Bt==null){y._isValid=!1;return}}if(!fe&&Bt!=null){y._isValid=!1;return}if(ee[4])if(Cf.exec(ee[4]))hn="Z";else{y._isValid=!1;return}y._f=Me+(Bt||"")+(hn||""),ec(y)}else y._isValid=!1}function R_(y,O,U,Q,ee,fe){var Me=[Vb(y),qd.indexOf(O),parseInt(U,10),parseInt(Q,10),parseInt(ee,10)];return fe&&Me.push(parseInt(fe,10)),Me}function Vb(y){var O=parseInt(y,10);return O<=49?2e3+O:O<=999?1900+O:O}function nh(y){return y.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function eA(y,O,U){if(y){var Q=$p.indexOf(y),ee=new Date(O[0],O[1],O[2]).getDay();if(Q!==ee)return g(U).weekdayMismatch=!0,U._isValid=!1,!1}return!0}function tA(y,O,U){if(y)return N_[y];if(O)return 0;var Q=parseInt(U,10),ee=Q%100,fe=(Q-ee)/100;return fe*60+ee}function Ir(y){var O=k_.exec(nh(y._i)),U;if(O){if(U=R_(O[4],O[3],O[2],O[5],O[6],O[7]),!eA(O[1],U,y))return;y._a=U,y._tzm=tA(O[8],O[9],O[10]),y._d=Yl.apply(null,y._a),y._d.setUTCMinutes(y._d.getUTCMinutes()-y._tzm),g(y).rfc2822=!0}else y._isValid=!1}function qu(y){var O=ua.exec(y._i);if(O!==null){y._d=new Date(+O[1]);return}if(vm(y),y._isValid===!1)delete y._isValid;else return;if(Ir(y),y._isValid===!1)delete y._isValid;else return;y._strict?y._isValid=!1:t.createFromInputFallback(y)}t.createFromInputFallback=G("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(y){y._d=new Date(y._i+(y._useUTC?" UTC":""))});function xn(y,O,U){return y??O??U}function nA(y){var O=new Date(t.now());return y._useUTC?[O.getUTCFullYear(),O.getUTCMonth(),O.getUTCDate()]:[O.getFullYear(),O.getMonth(),O.getDate()]}function $u(y){var O,U,Q=[],ee,fe,Me;if(!y._d){for(ee=nA(y),y._w&&y._a[ml]==null&&y._a[la]==null&&Yu(y),y._dayOfYear!=null&&(Me=xn(y._a[ro],ee[ro]),(y._dayOfYear>vf(Me)||y._dayOfYear===0)&&(g(y)._overflowDayOfYear=!0),U=Yl(Me,0,y._dayOfYear),y._a[la]=U.getUTCMonth(),y._a[ml]=U.getUTCDate()),O=0;O<3&&y._a[O]==null;++O)y._a[O]=Q[O]=ee[O];for(;O<7;O++)y._a[O]=Q[O]=y._a[O]==null?O===2?1:0:y._a[O];y._a[kr]===24&&y._a[Na]===0&&y._a[vl]===0&&y._a[Ds]===0&&(y._nextDay=!0,y._a[kr]=0),y._d=(y._useUTC?Yl:Lb).apply(null,Q),fe=y._useUTC?y._d.getUTCDay():y._d.getDay(),y._tzm!=null&&y._d.setUTCMinutes(y._d.getUTCMinutes()-y._tzm),y._nextDay&&(y._a[kr]=24),y._w&&typeof y._w.d<"u"&&y._w.d!==fe&&(g(y).weekdayMismatch=!0)}}function Yu(y){var O,U,Q,ee,fe,Me,Bt,hn,wi;O=y._w,O.GG!=null||O.W!=null||O.E!=null?(fe=1,Me=4,U=xn(O.GG,y._a[ro],Hc(dn(),1,4).year),Q=xn(O.W,1),ee=xn(O.E,1),(ee<1||ee>7)&&(hn=!0)):(fe=y._locale._week.dow,Me=y._locale._week.doy,wi=Hc(dn(),fe,Me),U=xn(O.gg,y._a[ro],wi.year),Q=xn(O.w,wi.week),O.d!=null?(ee=O.d,(ee<0||ee>6)&&(hn=!0)):O.e!=null?(ee=O.e+fe,(O.e<0||O.e>6)&&(hn=!0)):ee=fe),Q<1||Q>ca(U,fe,Me)?g(y)._overflowWeeks=!0:hn!=null?g(y)._overflowWeekday=!0:(Bt=lm(U,Q,ee,fe,Me),y._a[ro]=Bt.year,y._dayOfYear=Bt.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function ec(y){if(y._f===t.ISO_8601){vm(y);return}if(y._f===t.RFC_2822){Ir(y);return}y._a=[],g(y).empty=!0;var O=""+y._i,U,Q,ee,fe,Me,Bt=O.length,hn=0,wi;for(ee=Jt(y._f,y._locale).match(Ue)||[],U=0;U<ee.length;U++)fe=ee[U],Q=(O.match(pf(fe,y))||[])[0],Q&&(Me=O.substr(0,O.indexOf(Q)),Me.length>0&&g(y).unusedInput.push(Me),O=O.slice(O.indexOf(Q)+Q.length),hn+=Q.length),lt[fe]?(Q?g(y).empty=!1:g(y).unusedTokens.push(fe),im(fe,Q,y)):y._strict&&!Q&&g(y).unusedTokens.push(fe);g(y).charsLeftOver=Bt-hn,O.length>0&&g(y).unusedInput.push(O),y._a[kr]<=12&&g(y).bigHour===!0&&y._a[kr]>0&&(g(y).bigHour=void 0),g(y).parsedDateParts=y._a.slice(0),g(y).meridiem=y._meridiem,y._a[kr]=Va(y._locale,y._a[kr],y._meridiem),wi=g(y).era,wi!==null&&(y._a[ro]=y._locale.erasConvertYear(wi,y._a[ro])),$u(y),bf(y)}function Va(y,O,U){var Q;return U==null?O:y.meridiemHour!=null?y.meridiemHour(O,U):(y.isPM!=null&&(Q=y.isPM(U),Q&&O<12&&(O+=12),!Q&&O===12&&(O=0)),O)}function Qb(y){var O,U,Q,ee,fe,Me,Bt=!1;if(y._f.length===0){g(y).invalidFormat=!0,y._d=new Date(NaN);return}for(ee=0;ee<y._f.length;ee++)fe=0,Me=!1,O=B({},y),y._useUTC!=null&&(O._useUTC=y._useUTC),O._f=y._f[ee],ec(O),b(O)&&(Me=!0),fe+=g(O).charsLeftOver,fe+=g(O).unusedTokens.length*10,g(O).score=fe,Bt?fe<Q&&(Q=fe,U=O):(Q==null||fe<Q||Me)&&(Q=fe,U=O,Me&&(Bt=!0));h(y,U||O)}function Os(y){if(!y._d){var O=Is(y._i),U=O.day===void 0?O.date:O.day;y._a=d([O.year,O.month,U,O.hour,O.minute,O.second,O.millisecond],function(Q){return Q&&parseInt(Q,10)}),$u(y)}}function Ji(y){var O=new P(bf(tc(y)));return O._nextDay&&(O.add(1,"d"),O._nextDay=void 0),O}function tc(y){var O=y._i,U=y._f;return y._locale=y._locale||Ua(y._l),O===null||U===void 0&&O===""?S({nullInput:!0}):(typeof O=="string"&&(y._i=O=y._locale.preparse(O)),L(O)?new P(bf(O)):(u(O)?y._d=O:i(U)?Qb(y):U?ec(y):$r(y),b(y)||(y._d=null),y))}function $r(y){var O=y._i;a(O)?y._d=new Date(t.now()):u(O)?y._d=new Date(O.valueOf()):typeof O=="string"?qu(y):i(O)?(y._a=d(O.slice(0),function(U){return parseInt(U,10)}),$u(y)):r(O)?Os(y):l(O)?y._d=new Date(O):t.createFromInputFallback(y)}function iA(y,O,U,Q,ee){var fe={};return(O===!0||O===!1)&&(Q=O,O=void 0),(U===!0||U===!1)&&(Q=U,U=void 0),(r(y)&&s(y)||i(y)&&y.length===0)&&(y=void 0),fe._isAMomentObject=!0,fe._useUTC=fe._isUTC=ee,fe._l=U,fe._i=y,fe._f=O,fe._strict=Q,Ji(fe)}function dn(y,O,U,Q){return iA(y,O,U,Q,!1)}var Qc=G("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var y=dn.apply(null,arguments);return this.isValid()&&y.isValid()?y<this?this:y:S()}),li=G("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var y=dn.apply(null,arguments);return this.isValid()&&y.isValid()?y>this?this:y:S()});function Sf(y,O){var U,Q;if(O.length===1&&i(O[0])&&(O=O[0]),!O.length)return dn();for(U=O[0],Q=1;Q<O.length;++Q)(!O[Q].isValid()||O[Q][y](U))&&(U=O[Q]);return U}function er(){var y=[].slice.call(arguments,0);return Sf("isBefore",y)}function Fs(){var y=[].slice.call(arguments,0);return Sf("isAfter",y)}var _l=function(){return Date.now?Date.now():+new Date},nc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ih(y){var O,U=!1,Q;for(O in y)if(o(y,O)&&!(Sn.call(nc,O)!==-1&&(y[O]==null||!isNaN(y[O]))))return!1;for(Q=0;Q<nc.length;++Q)if(y[nc[Q]]){if(U)return!1;parseFloat(y[nc[Q]])!==ot(y[nc[Q]])&&(U=!0)}return!0}function rh(){return this._isValid}function da(){return Po(NaN)}function ha(y){var O=Is(y),U=O.year||0,Q=O.quarter||0,ee=O.month||0,fe=O.week||O.isoWeek||0,Me=O.day||0,Bt=O.hour||0,hn=O.minute||0,wi=O.second||0,Rs=O.millisecond||0;this._isValid=ih(O),this._milliseconds=+Rs+wi*1e3+hn*6e4+Bt*1e3*60*60,this._days=+Me+fe*7,this._months=+ee+Q*3+U*12,this._data={},this._locale=Ua(),this._bubble()}function Qa(y){return y instanceof ha}function Tr(y){return y<0?Math.round(-1*y)*-1:Math.round(y)}function jc(y,O,U){var Q=Math.min(y.length,O.length),ee=Math.abs(y.length-O.length),fe=0,Me;for(Me=0;Me<Q;Me++)(U&&y[Me]!==O[Me]||!U&&ot(y[Me])!==ot(O[Me]))&&fe++;return fe+ee}function _m(y,O){Le(y,0,0,function(){var U=this.utcOffset(),Q="+";return U<0&&(U=-U,Q="-"),Q+Fe(~~(U/60),2)+O+Fe(~~U%60,2)})}_m("Z",":"),_m("ZZ",""),tt("Z",Wu),tt("ZZ",Wu),Jn(["Z","ZZ"],function(y,O,U){U._useUTC=!0,U._tzm=fa(Wu,y)});var Gc=/([\+\-]|\d\d)/gi;function fa(y,O){var U=(O||"").match(y),Q,ee,fe;return U===null?null:(Q=U[U.length-1]||[],ee=(Q+"").match(Gc)||["-",0,0],fe=+(ee[1]*60)+ot(ee[2]),fe===0?0:ee[0]==="+"?fe:-fe)}function xf(y,O){var U,Q;return O._isUTC?(U=O.clone(),Q=(L(y)||u(y)?y.valueOf():dn(y).valueOf())-U.valueOf(),U._d.setTime(U._d.valueOf()+Q),t.updateOffset(U,!1),U):dn(y).local()}function pa(y){return-Math.round(y._d.getTimezoneOffset())}t.updateOffset=function(){};function Zu(y,O,U){var Q=this._offset||0,ee;if(!this.isValid())return y!=null?this:NaN;if(y!=null){if(typeof y=="string"){if(y=fa(Wu,y),y===null)return this}else Math.abs(y)<16&&!U&&(y=y*60);return!this._isUTC&&O&&(ee=pa(this)),this._offset=y,this._isUTC=!0,ee!=null&&this.add(ee,"m"),Q!==y&&(!O||this._changeInProgress?oA(this,Po(y-Q,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Q:pa(this)}function yl(y,O){return y!=null?(typeof y!="string"&&(y=-y),this.utcOffset(y,O),this):-this.utcOffset()}function ja(y){return this.utcOffset(0,y)}function oh(y){return this._isUTC&&(this.utcOffset(0,y),this._isUTC=!1,y&&this.subtract(pa(this),"m")),this}function jb(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var y=fa(gn,this._i);y!=null?this.utcOffset(y):this.utcOffset(0,!0)}return this}function If(y){return this.isValid()?(y=y?dn(y).utcOffset():0,(this.utcOffset()-y)%60===0):!1}function L_(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ym(){if(!a(this._isDSTShifted))return this._isDSTShifted;var y={},O;return B(y,this),y=tc(y),y._a?(O=y._isUTC?f(y._a):dn(y._a),this._isDSTShifted=this.isValid()&&jc(y._a,O.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function U_(){return this.isValid()?!this._isUTC:!1}function Ga(){return this.isValid()?this._isUTC:!1}function rA(){return this.isValid()?this._isUTC&&this._offset===0:!1}var wm=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tf=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Po(y,O){var U=y,Q=null,ee,fe,Me;return Qa(y)?U={ms:y._milliseconds,d:y._days,M:y._months}:l(y)||!isNaN(+y)?(U={},O?U[O]=+y:U.milliseconds=+y):(Q=wm.exec(y))?(ee=Q[1]==="-"?-1:1,U={y:0,d:ot(Q[ml])*ee,h:ot(Q[kr])*ee,m:ot(Q[Na])*ee,s:ot(Q[vl])*ee,ms:ot(Tr(Q[Ds]*1e3))*ee}):(Q=Tf.exec(y))?(ee=Q[1]==="-"?-1:1,U={y:Wc(Q[2],ee),M:Wc(Q[3],ee),w:Wc(Q[4],ee),d:Wc(Q[5],ee),h:Wc(Q[6],ee),m:Wc(Q[7],ee),s:Wc(Q[8],ee)}):U==null?U={}:typeof U=="object"&&("from"in U||"to"in U)&&(Me=Cm(dn(U.from),dn(U.to)),U={},U.ms=Me.milliseconds,U.M=Me.months),fe=new ha(U),Qa(y)&&o(y,"_locale")&&(fe._locale=y._locale),Qa(y)&&o(y,"_isValid")&&(fe._isValid=y._isValid),fe}Po.fn=ha.prototype,Po.invalid=da;function Wc(y,O){var U=y&&parseFloat(y.replace(",","."));return(isNaN(U)?0:U)*O}function bm(y,O){var U={};return U.months=O.month()-y.month()+(O.year()-y.year())*12,y.clone().add(U.months,"M").isAfter(O)&&--U.months,U.milliseconds=+O-+y.clone().add(U.months,"M"),U}function Cm(y,O){var U;return y.isValid()&&O.isValid()?(O=xf(O,y),y.isBefore(O)?U=bm(y,O):(U=bm(O,y),U.milliseconds=-U.milliseconds,U.months=-U.months),U):{milliseconds:0,months:0}}function ic(y,O){return function(U,Q){var ee,fe;return Q!==null&&!isNaN(+Q)&&(Z(O,"moment()."+O+"(period, number) is deprecated. Please use moment()."+O+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),fe=U,U=Q,Q=fe),ee=Po(U,Q),oA(this,ee,y),this}}function oA(y,O,U,Q){var ee=O._milliseconds,fe=Tr(O._days),Me=Tr(O._months);y.isValid()&&(Q=Q??!0,Me&&sm(y,ql(y,"Month")+Me*U),fe&&$l(y,"Date",ql(y,"Date")+fe*U),ee&&y._d.setTime(y._d.valueOf()+ee*U),Q&&t.updateOffset(y,fe||Me))}var H_=ic(1,"add"),V_=ic(-1,"subtract");function Em(y){return typeof y=="string"||y instanceof String}function sA(y){return L(y)||u(y)||Em(y)||l(y)||sh(y)||Gb(y)||y===null||y===void 0}function Gb(y){var O=r(y)&&!s(y),U=!1,Q=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],ee,fe;for(ee=0;ee<Q.length;ee+=1)fe=Q[ee],U=U||o(y,fe);return O&&U}function sh(y){var O=i(y),U=!1;return O&&(U=y.filter(function(Q){return!l(Q)&&Em(y)}).length===0),O&&U}function Ao(y){var O=r(y)&&!s(y),U=!1,Q=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],ee,fe;for(ee=0;ee<Q.length;ee+=1)fe=Q[ee],U=U||o(y,fe);return O&&U}function Wa(y,O){var U=y.diff(O,"days",!0);return U<-6?"sameElse":U<-1?"lastWeek":U<0?"lastDay":U<1?"sameDay":U<2?"nextDay":U<7?"nextWeek":"sameElse"}function wl(y,O){arguments.length===1&&(sA(arguments[0])?(y=arguments[0],O=void 0):Ao(arguments[0])&&(O=arguments[0],y=void 0));var U=y||dn(),Q=xf(U,this).startOf("day"),ee=t.calendarFormat(this,Q)||"sameElse",fe=O&&(_e(O[ee])?O[ee].call(this,U):O[ee]);return this.format(fe||this.localeData().calendar(ee,this,dn(U)))}function so(){return new P(this)}function go(y,O){var U=L(y)?y:dn(y);return this.isValid()&&U.isValid()?(O=Bi(O)||"millisecond",O==="millisecond"?this.valueOf()>U.valueOf():U.valueOf()<this.clone().startOf(O).valueOf()):!1}function Df(y,O){var U=L(y)?y:dn(y);return this.isValid()&&U.isValid()?(O=Bi(O)||"millisecond",O==="millisecond"?this.valueOf()<U.valueOf():this.clone().endOf(O).valueOf()<U.valueOf()):!1}function Q_(y,O,U,Q){var ee=L(y)?y:dn(y),fe=L(O)?O:dn(O);return this.isValid()&&ee.isValid()&&fe.isValid()?(Q=Q||"()",(Q[0]==="("?this.isAfter(ee,U):!this.isBefore(ee,U))&&(Q[1]===")"?this.isBefore(fe,U):!this.isAfter(fe,U))):!1}function Xu(y,O){var U=L(y)?y:dn(y),Q;return this.isValid()&&U.isValid()?(O=Bi(O)||"millisecond",O==="millisecond"?this.valueOf()===U.valueOf():(Q=U.valueOf(),this.clone().startOf(O).valueOf()<=Q&&Q<=this.clone().endOf(O).valueOf())):!1}function j_(y,O){return this.isSame(y,O)||this.isAfter(y,O)}function ah(y,O){return this.isSame(y,O)||this.isBefore(y,O)}function ao(y,O,U){var Q,ee,fe;if(!this.isValid())return NaN;if(Q=xf(y,this),!Q.isValid())return NaN;switch(ee=(Q.utcOffset()-this.utcOffset())*6e4,O=Bi(O),O){case"year":fe=Dn(this,Q)/12;break;case"month":fe=Dn(this,Q);break;case"quarter":fe=Dn(this,Q)/3;break;case"second":fe=(this-Q)/1e3;break;case"minute":fe=(this-Q)/6e4;break;case"hour":fe=(this-Q)/36e5;break;case"day":fe=(this-Q-ee)/864e5;break;case"week":fe=(this-Q-ee)/6048e5;break;default:fe=this-Q}return U?fe:Ht(fe)}function Dn(y,O){if(y.date()<O.date())return-Dn(O,y);var U=(O.year()-y.year())*12+(O.month()-y.month()),Q=y.clone().add(U,"months"),ee,fe;return O-Q<0?(ee=y.clone().add(U-1,"months"),fe=(O-Q)/(Q-ee)):(ee=y.clone().add(U+1,"months"),fe=(O-Q)/(ee-Q)),-(U+fe)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Sm(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ju(y){if(!this.isValid())return null;var O=y!==!0,U=O?this.clone().utc():this;return U.year()<0||U.year()>9999?Yt(U,O?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):_e(Date.prototype.toISOString)?O?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Yt(U,"Z")):Yt(U,O?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Kc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var y="moment",O="",U,Q,ee,fe;return this.isLocal()||(y=this.utcOffset()===0?"moment.utc":"moment.parseZone",O="Z"),U="["+y+'("]',Q=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",ee="-MM-DD[T]HH:mm:ss.SSS",fe=O+'[")]',this.format(U+Q+ee+fe)}function lh(y){y||(y=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var O=Yt(this,y);return this.localeData().postformat(O)}function Mf(y,O){return this.isValid()&&(L(y)&&y.isValid()||dn(y).isValid())?Po({to:this,from:y}).locale(this.locale()).humanize(!O):this.localeData().invalidDate()}function zc(y){return this.from(dn(),y)}function G_(y,O){return this.isValid()&&(L(y)&&y.isValid()||dn(y).isValid())?Po({from:this,to:y}).locale(this.locale()).humanize(!O):this.localeData().invalidDate()}function ch(y){return this.to(dn(),y)}function qc(y){var O;return y===void 0?this._locale._abbr:(O=Ua(y),O!=null&&(this._locale=O),this)}var xm=G("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(y){return y===void 0?this.localeData():this.locale(y)});function uh(){return this._locale}var Ka=1e3,$c=60*Ka,aA=60*$c,dh=(365*400+97)*24*aA;function Ti(y,O){return(y%O+O)%O}function Of(y,O,U){return y<100&&y>=0?new Date(y+400,O,U)-dh:new Date(y,O,U).valueOf()}function W_(y,O,U){return y<100&&y>=0?Date.UTC(y+400,O,U)-dh:Date.UTC(y,O,U)}function K_(y){var O,U;if(y=Bi(y),y===void 0||y==="millisecond"||!this.isValid())return this;switch(U=this._isUTC?W_:Of,y){case"year":O=U(this.year(),0,1);break;case"quarter":O=U(this.year(),this.month()-this.month()%3,1);break;case"month":O=U(this.year(),this.month(),1);break;case"week":O=U(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":O=U(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":O=U(this.year(),this.month(),this.date());break;case"hour":O=this._d.valueOf(),O-=Ti(O+(this._isUTC?0:this.utcOffset()*$c),aA);break;case"minute":O=this._d.valueOf(),O-=Ti(O,$c);break;case"second":O=this._d.valueOf(),O-=Ti(O,Ka);break}return this._d.setTime(O),t.updateOffset(this,!0),this}function Im(y){var O,U;if(y=Bi(y),y===void 0||y==="millisecond"||!this.isValid())return this;switch(U=this._isUTC?W_:Of,y){case"year":O=U(this.year()+1,0,1)-1;break;case"quarter":O=U(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":O=U(this.year(),this.month()+1,1)-1;break;case"week":O=U(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":O=U(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":O=U(this.year(),this.month(),this.date()+1)-1;break;case"hour":O=this._d.valueOf(),O+=aA-Ti(O+(this._isUTC?0:this.utcOffset()*$c),aA)-1;break;case"minute":O=this._d.valueOf(),O+=$c-Ti(O,$c)-1;break;case"second":O=this._d.valueOf(),O+=Ka-Ti(O,Ka)-1;break}return this._d.setTime(O),t.updateOffset(this,!0),this}function Tm(){return this._d.valueOf()-(this._offset||0)*6e4}function hh(){return Math.floor(this.valueOf()/1e3)}function Ct(){return new Date(this.valueOf())}function ko(){var y=this;return[y.year(),y.month(),y.date(),y.hour(),y.minute(),y.second(),y.millisecond()]}function Yc(){var y=this;return{years:y.year(),months:y.month(),date:y.date(),hours:y.hours(),minutes:y.minutes(),seconds:y.seconds(),milliseconds:y.milliseconds()}}function Wb(){return this.isValid()?this.toISOString():null}function Kb(){return b(this)}function Dm(){return h({},g(this))}function Mm(){return g(this).overflow}function Om(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Le("N",0,0,"eraAbbr"),Le("NN",0,0,"eraAbbr"),Le("NNN",0,0,"eraAbbr"),Le("NNNN",0,0,"eraName"),Le("NNNNN",0,0,"eraNarrow"),Le("y",["y",1],"yo","eraYear"),Le("y",["yy",2],0,"eraYear"),Le("y",["yyy",3],0,"eraYear"),Le("y",["yyyy",4],0,"eraYear"),tt("N",ke),tt("NN",ke),tt("NNN",ke),tt("NNNN",Pm),tt("NNNNN",uA),Jn(["N","NN","NNN","NNNN","NNNNN"],function(y,O,U,Q){var ee=U._locale.erasParse(y,Q,U._strict);ee?g(U).era=ee:g(U).invalidEra=y}),tt("y",sa),tt("yy",sa),tt("yyy",sa),tt("yyyy",sa),tt("yo",z_),Jn(["y","yy","yyy","yyyy"],ro),Jn(["yo"],function(y,O,U,Q){var ee;U._locale._eraYearOrdinalRegex&&(ee=y.match(U._locale._eraYearOrdinalRegex)),U._locale.eraYearOrdinalParse?O[ro]=U._locale.eraYearOrdinalParse(y,ee):O[ro]=parseInt(y,10)});function Zc(y,O){var U,Q,ee,fe=this._eras||Ua("en")._eras;for(U=0,Q=fe.length;U<Q;++U){switch(typeof fe[U].since){case"string":ee=t(fe[U].since).startOf("day"),fe[U].since=ee.valueOf();break}switch(typeof fe[U].until){case"undefined":fe[U].until=1/0;break;case"string":ee=t(fe[U].until).startOf("day").valueOf(),fe[U].until=ee.valueOf();break}}return fe}function Fm(y,O,U){var Q,ee,fe=this.eras(),Me,Bt,hn;for(y=y.toUpperCase(),Q=0,ee=fe.length;Q<ee;++Q)if(Me=fe[Q].name.toUpperCase(),Bt=fe[Q].abbr.toUpperCase(),hn=fe[Q].narrow.toUpperCase(),U)switch(O){case"N":case"NN":case"NNN":if(Bt===y)return fe[Q];break;case"NNNN":if(Me===y)return fe[Q];break;case"NNNNN":if(hn===y)return fe[Q];break}else if([Me,Bt,hn].indexOf(y)>=0)return fe[Q]}function Bm(y,O){var U=y.since<=y.until?1:-1;return O===void 0?t(y.since).year():t(y.since).year()+(O-y.offset)*U}function Ff(){var y,O,U,Q=this.localeData().eras();for(y=0,O=Q.length;y<O;++y)if(U=this.startOf("day").valueOf(),Q[y].since<=U&&U<=Q[y].until||Q[y].until<=U&&U<=Q[y].since)return Q[y].name;return""}function Bf(){var y,O,U,Q=this.localeData().eras();for(y=0,O=Q.length;y<O;++y)if(U=this.startOf("day").valueOf(),Q[y].since<=U&&U<=Q[y].until||Q[y].until<=U&&U<=Q[y].since)return Q[y].narrow;return""}function zb(){var y,O,U,Q=this.localeData().eras();for(y=0,O=Q.length;y<O;++y)if(U=this.startOf("day").valueOf(),Q[y].since<=U&&U<=Q[y].until||Q[y].until<=U&&U<=Q[y].since)return Q[y].abbr;return""}function lA(){var y,O,U,Q,ee=this.localeData().eras();for(y=0,O=ee.length;y<O;++y)if(U=ee[y].since<=ee[y].until?1:-1,Q=this.startOf("day").valueOf(),ee[y].since<=Q&&Q<=ee[y].until||ee[y].until<=Q&&Q<=ee[y].since)return(this.year()-t(ee[y].since).year())*U+ee[y].offset;return this.year()}function cA(y){return o(this,"_erasNameRegex")||dA.call(this),y?this._erasNameRegex:this._erasRegex}function ed(y){return o(this,"_erasAbbrRegex")||dA.call(this),y?this._erasAbbrRegex:this._erasRegex}function qb(y){return o(this,"_erasNarrowRegex")||dA.call(this),y?this._erasNarrowRegex:this._erasRegex}function ke(y,O){return O.erasAbbrRegex(y)}function Pm(y,O){return O.erasNameRegex(y)}function uA(y,O){return O.erasNarrowRegex(y)}function z_(y,O){return O._eraYearOrdinalRegex||sa}function dA(){var y=[],O=[],U=[],Q=[],ee,fe,Me=this.eras();for(ee=0,fe=Me.length;ee<fe;++ee)O.push(Bo(Me[ee].name)),y.push(Bo(Me[ee].abbr)),U.push(Bo(Me[ee].narrow)),Q.push(Bo(Me[ee].name)),Q.push(Bo(Me[ee].abbr)),Q.push(Bo(Me[ee].narrow));this._erasRegex=new RegExp("^("+Q.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+O.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+y.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+U.join("|")+")","i")}Le(0,["gg",2],0,function(){return this.weekYear()%100}),Le(0,["GG",2],0,function(){return this.isoWeekYear()%100});function hA(y,O){Le(0,[y,y.length],0,O)}hA("gggg","weekYear"),hA("ggggg","weekYear"),hA("GGGG","isoWeekYear"),hA("GGGGG","isoWeekYear"),Pr("weekYear","gg"),Pr("isoWeekYear","GG"),pr("weekYear",1),pr("isoWeekYear",1),tt("G",Gu),tt("g",Gu),tt("GG",oi,Ar),tt("gg",oi,Ar),tt("GGGG",Lc,zd),tt("gggg",Lc,zd),tt("GGGGG",jp,gr),tt("ggggg",jp,gr),aa(["gggg","ggggg","GGGG","GGGGG"],function(y,O,U,Q){O[Q.substr(0,2)]=ot(y)}),aa(["gg","GG"],function(y,O,U,Q){O[Q]=t.parseTwoDigitYear(y)});function q_(y){return Y_.call(this,y,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Xc(y){return Y_.call(this,y,this.isoWeek(),this.isoWeekday(),1,4)}function $b(){return ca(this.year(),1,4)}function km(){return ca(this.isoWeekYear(),1,4)}function Pf(){var y=this.localeData()._week;return ca(this.year(),y.dow,y.doy)}function $_(){var y=this.localeData()._week;return ca(this.weekYear(),y.dow,y.doy)}function Y_(y,O,U,Q,ee){var fe;return y==null?Hc(this,Q,ee).year:(fe=ca(y,Q,ee),O>fe&&(O=fe),Yb.call(this,y,O,U,Q,ee))}function Yb(y,O,U,Q,ee){var fe=lm(y,O,U,Q,ee),Me=Yl(fe.year,0,fe.dayOfYear);return this.year(Me.getUTCFullYear()),this.month(Me.getUTCMonth()),this.date(Me.getUTCDate()),this}Le("Q",0,"Qo","quarter"),Pr("quarter","Q"),pr("quarter",7),tt("Q",Kd),Jn("Q",function(y,O){O[la]=(ot(y)-1)*3});function Z_(y){return y==null?Math.ceil((this.month()+1)/3):this.month((y-1)*3+this.month()%3)}Le("D",["DD",2],"Do","date"),Pr("date","D"),pr("date",9),tt("D",oi),tt("DD",oi,Ar),tt("Do",function(y,O){return y?O._dayOfMonthOrdinalParse||O._ordinalParse:O._dayOfMonthOrdinalParseLenient}),Jn(["D","DD"],ml),Jn("Do",function(y,O){O[ml]=ot(y.match(oi)[0])});var bl=Ts("Date",!0);Le("DDD",["DDDD",3],"DDDo","dayOfYear"),Pr("dayOfYear","DDD"),pr("dayOfYear",4),tt("DDD",ju),tt("DDDD",ka),Jn(["DDD","DDDD"],function(y,O,U){U._dayOfYear=ot(y)});function Zb(y){var O=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return y==null?O:this.add(y-O,"d")}Le("m",["mm",2],0,"minute"),Pr("minute","m"),pr("minute",14),tt("m",oi),tt("mm",oi,Ar),Jn(["m","mm"],Na);var Bs=Ts("Minutes",!1);Le("s",["ss",2],0,"second"),Pr("second","s"),pr("second",15),tt("s",oi),tt("ss",oi,Ar),Jn(["s","ss"],vl);var fA=Ts("Seconds",!1);Le("S",0,0,function(){return~~(this.millisecond()/100)}),Le(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Le(0,["SSS",3],0,"millisecond"),Le(0,["SSSS",4],0,function(){return this.millisecond()*10}),Le(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Le(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Le(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Le(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Le(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Pr("millisecond","ms"),pr("millisecond",16),tt("S",ju,Kd),tt("SS",ju,Ar),tt("SSS",ju,ka);var rc,Cl;for(rc="SSSS";rc.length<=9;rc+="S")tt(rc,sa);function Nm(y,O){O[Ds]=ot(("0."+y)*1e3)}for(rc="S";rc.length<=9;rc+="S")Jn(rc,Nm);Cl=Ts("Milliseconds",!1),Le("z",0,0,"zoneAbbr"),Le("zz",0,0,"zoneName");function X_(){return this._isUTC?"UTC":""}function Xb(){return this._isUTC?"Coordinated Universal Time":""}var Ge=P.prototype;Ge.add=H_,Ge.calendar=wl,Ge.clone=so,Ge.diff=ao,Ge.endOf=Im,Ge.format=lh,Ge.from=Mf,Ge.fromNow=zc,Ge.to=G_,Ge.toNow=ch,Ge.get=v_,Ge.invalidAt=Mm,Ge.isAfter=go,Ge.isBefore=Df,Ge.isBetween=Q_,Ge.isSame=Xu,Ge.isSameOrAfter=j_,Ge.isSameOrBefore=ah,Ge.isValid=Kb,Ge.lang=xm,Ge.locale=qc,Ge.localeData=uh,Ge.max=li,Ge.min=Qc,Ge.parsingFlags=Dm,Ge.set=Xi,Ge.startOf=K_,Ge.subtract=V_,Ge.toArray=ko,Ge.toObject=Yc,Ge.toDate=Ct,Ge.toISOString=Ju,Ge.inspect=Kc,typeof Symbol<"u"&&Symbol.for!=null&&(Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ge.toJSON=Wb,Ge.toString=Sm,Ge.unix=hh,Ge.valueOf=Tm,Ge.creationData=Om,Ge.eraName=Ff,Ge.eraNarrow=Bf,Ge.eraAbbr=zb,Ge.eraYear=lA,Ge.year=C_,Ge.isLeapYear=zp,Ge.weekYear=q_,Ge.isoWeekYear=Xc,Ge.quarter=Ge.quarters=Z_,Ge.month=Wi,Ge.daysInMonth=Rb,Ge.week=Ge.weeks=bn,Ge.isoWeek=Ge.isoWeeks=Ku,Ge.weeksInYear=Pf,Ge.weeksInWeekYear=$_,Ge.isoWeeksInYear=$b,Ge.isoWeeksInISOWeekYear=km,Ge.date=bl,Ge.day=Ge.days=hm,Ge.weekday=D_,Ge.isoWeekday=fm,Ge.dayOfYear=Zb,Ge.hour=Ge.hours=Zp,Ge.minute=Ge.minutes=Bs,Ge.second=Ge.seconds=fA,Ge.millisecond=Ge.milliseconds=Cl,Ge.utcOffset=Zu,Ge.utc=ja,Ge.local=oh,Ge.parseZone=jb,Ge.hasAlignedHourOffset=If,Ge.isDST=L_,Ge.isLocal=U_,Ge.isUtcOffset=Ga,Ge.isUtc=rA,Ge.isUTC=rA,Ge.zoneAbbr=X_,Ge.zoneName=Xb,Ge.dates=G("dates accessor is deprecated. Use date instead.",bl),Ge.months=G("months accessor is deprecated. Use month instead",Wi),Ge.years=G("years accessor is deprecated. Use year instead",C_),Ge.zone=G("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yl),Ge.isDSTShifted=G("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ym);function J_(y){return dn(y*1e3)}function Rm(){return dn.apply(null,arguments).parseZone()}function Lm(y){return y}var In=ge.prototype;In.calendar=ue,In.longDateFormat=Sr,In.invalidDate=Oo,In.ordinal=Fo,In.preparse=Lm,In.postformat=Lm,In.relativeTime=yi,In.pastFuture=gl,In.set=xe,In.eras=Zc,In.erasParse=Fm,In.erasConvertYear=Bm,In.erasAbbrRegex=ed,In.erasNameRegex=cA,In.erasNarrowRegex=qb,In.months=om,In.monthsShort=Yd,In.monthsParse=gf,In.monthsRegex=b_,In.monthsShortRegex=mf,In.week=E_,In.firstDayOfYear=S_,In.firstDayOfWeek=Vc,In.weekdays=cm,In.weekdaysMin=dm,In.weekdaysShort=um,In.weekdaysParse=zu,In.weekdaysRegex=M_,In.weekdaysShortRegex=O_,In.weekdaysMinRegex=oo,In.isPM=F_,In.meridiem=Am;function Jc(y,O,U,Q){var ee=Ua(),fe=f().set(Q,O);return ee[U](fe,y)}function fh(y,O,U){if(l(y)&&(O=y,y=void 0),y=y||"",O!=null)return Jc(y,O,U,"month");var Q,ee=[];for(Q=0;Q<12;Q++)ee[Q]=Jc(y,Q,U,"month");return ee}function ph(y,O,U,Q){typeof y=="boolean"?(l(O)&&(U=O,O=void 0),O=O||""):(O=y,U=O,y=!1,l(O)&&(U=O,O=void 0),O=O||"");var ee=Ua(),fe=y?ee._week.dow:0,Me,Bt=[];if(U!=null)return Jc(O,(U+fe)%7,Q,"day");for(Me=0;Me<7;Me++)Bt[Me]=Jc(O,(Me+fe)%7,Q,"day");return Bt}function Jb(y,O){return fh(y,O,"months")}function eC(y,O){return fh(y,O,"monthsShort")}function kf(y,O,U){return ph(y,O,U,"weekdays")}function pA(y,O,U){return ph(y,O,U,"weekdaysShort")}function ey(y,O,U){return ph(y,O,U,"weekdaysMin")}La("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(y){var O=y%10,U=ot(y%100/10)===1?"th":O===1?"st":O===2?"nd":O===3?"rd":"th";return y+U}}),t.lang=G("moment.lang is deprecated. Use moment.locale instead.",La),t.langData=G("moment.langData is deprecated. Use moment.localeData instead.",Ua);var El=Math.abs;function AA(){var y=this._data;return this._milliseconds=El(this._milliseconds),this._days=El(this._days),this._months=El(this._months),y.milliseconds=El(y.milliseconds),y.seconds=El(y.seconds),y.minutes=El(y.minutes),y.hours=El(y.hours),y.months=El(y.months),y.years=El(y.years),this}function gA(y,O,U,Q){var ee=Po(O,U);return y._milliseconds+=Q*ee._milliseconds,y._days+=Q*ee._days,y._months+=Q*ee._months,y._bubble()}function Um(y,O){return gA(this,y,O,1)}function ty(y,O){return gA(this,y,O,-1)}function td(y){return y<0?Math.floor(y):Math.ceil(y)}function ny(){var y=this._milliseconds,O=this._days,U=this._months,Q=this._data,ee,fe,Me,Bt,hn;return y>=0&&O>=0&&U>=0||y<=0&&O<=0&&U<=0||(y+=td(Aa(U)+O)*864e5,O=0,U=0),Q.milliseconds=y%1e3,ee=Ht(y/1e3),Q.seconds=ee%60,fe=Ht(ee/60),Q.minutes=fe%60,Me=Ht(fe/60),Q.hours=Me%24,O+=Ht(Me/24),hn=Ht(tr(O)),U+=hn,O-=td(Aa(hn)),Bt=Ht(U/12),U%=12,Q.days=O,Q.months=U,Q.years=Bt,this}function tr(y){return y*4800/146097}function Aa(y){return y*146097/4800}function iy(y){if(!this.isValid())return NaN;var O,U,Q=this._milliseconds;if(y=Bi(y),y==="month"||y==="quarter"||y==="year")switch(O=this._days+Q/864e5,U=this._months+tr(O),y){case"month":return U;case"quarter":return U/3;case"year":return U/12}else switch(O=this._days+Math.round(Aa(this._months)),y){case"week":return O/7+Q/6048e5;case"day":return O+Q/864e5;case"hour":return O*24+Q/36e5;case"minute":return O*1440+Q/6e4;case"second":return O*86400+Q/1e3;case"millisecond":return Math.floor(O*864e5)+Q;default:throw new Error("Unknown unit "+y)}}function ry(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ot(this._months/12)*31536e6:NaN}function Sl(y){return function(){return this.as(y)}}var oy=Sl("ms"),Hm=Sl("s"),mA=Sl("m"),Ps=Sl("h"),vA=Sl("d"),Ah=Sl("w"),gh=Sl("M"),nd=Sl("Q"),Vm=Sl("y");function sy(){return Po(this)}function rt(y){return y=Bi(y),this.isValid()?this[y+"s"]():NaN}function oc(y){return function(){return this.isValid()?this._data[y]:NaN}}var tC=oc("milliseconds"),sc=oc("seconds"),za=oc("minutes"),ks=oc("hours"),eu=oc("days"),mh=oc("months"),xl=oc("years");function ay(){return Ht(this.days()/7)}var No=Math.round,id={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ga(y,O,U,Q,ee){return ee.relativeTime(O||1,!!U,y,Q)}function _A(y,O,U,Q){var ee=Po(y).abs(),fe=No(ee.as("s")),Me=No(ee.as("m")),Bt=No(ee.as("h")),hn=No(ee.as("d")),wi=No(ee.as("M")),Rs=No(ee.as("w")),Ls=No(ee.as("y")),cs=fe<=U.ss&&["s",fe]||fe<U.s&&["ss",fe]||Me<=1&&["m"]||Me<U.m&&["mm",Me]||Bt<=1&&["h"]||Bt<U.h&&["hh",Bt]||hn<=1&&["d"]||hn<U.d&&["dd",hn];return U.w!=null&&(cs=cs||Rs<=1&&["w"]||Rs<U.w&&["ww",Rs]),cs=cs||wi<=1&&["M"]||wi<U.M&&["MM",wi]||Ls<=1&&["y"]||["yy",Ls],cs[2]=O,cs[3]=+y>0,cs[4]=Q,ga.apply(null,cs)}function Il(y){return y===void 0?No:typeof y=="function"?(No=y,!0):!1}function nC(y,O){return id[y]===void 0?!1:O===void 0?id[y]:(id[y]=O,y==="s"&&(id.ss=O-1),!0)}function Ns(y,O){if(!this.isValid())return this.localeData().invalidDate();var U=!1,Q=id,ee,fe;return typeof y=="object"&&(O=y,y=!1),typeof y=="boolean"&&(U=y),typeof O=="object"&&(Q=Object.assign({},id,O),O.s!=null&&O.ss==null&&(Q.ss=O.s-1)),ee=this.localeData(),fe=_A(this,!U,Q,ee),U&&(fe=ee.pastFuture(+this,fe)),ee.postformat(fe)}var yA=Math.abs;function Tl(y){return(y>0)-(y<0)||+y}function qa(){if(!this.isValid())return this.localeData().invalidDate();var y=yA(this._milliseconds)/1e3,O=yA(this._days),U=yA(this._months),Q,ee,fe,Me,Bt=this.asSeconds(),hn,wi,Rs,Ls;return Bt?(Q=Ht(y/60),ee=Ht(Q/60),y%=60,Q%=60,fe=Ht(U/12),U%=12,Me=y?y.toFixed(3).replace(/\.?0+$/,""):"",hn=Bt<0?"-":"",wi=Tl(this._months)!==Tl(Bt)?"-":"",Rs=Tl(this._days)!==Tl(Bt)?"-":"",Ls=Tl(this._milliseconds)!==Tl(Bt)?"-":"",hn+"P"+(fe?wi+fe+"Y":"")+(U?wi+U+"M":"")+(O?Rs+O+"D":"")+(ee||Q||y?"T":"")+(ee?Ls+ee+"H":"")+(Q?Ls+Q+"M":"")+(y?Ls+Me+"S":"")):"P0D"}var Mn=ha.prototype;Mn.isValid=rh,Mn.abs=AA,Mn.add=Um,Mn.subtract=ty,Mn.as=iy,Mn.asMilliseconds=oy,Mn.asSeconds=Hm,Mn.asMinutes=mA,Mn.asHours=Ps,Mn.asDays=vA,Mn.asWeeks=Ah,Mn.asMonths=gh,Mn.asQuarters=nd,Mn.asYears=Vm,Mn.valueOf=ry,Mn._bubble=ny,Mn.clone=sy,Mn.get=rt,Mn.milliseconds=tC,Mn.seconds=sc,Mn.minutes=za,Mn.hours=ks,Mn.days=eu,Mn.weeks=ay,Mn.months=mh,Mn.years=xl,Mn.humanize=Ns,Mn.toISOString=qa,Mn.toString=qa,Mn.toJSON=qa,Mn.locale=qc,Mn.localeData=uh,Mn.toIsoString=G("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qa),Mn.lang=xm,Le("X",0,0,"unix"),Le("x",0,0,"valueOf"),tt("x",Gu),tt("X",nm),Jn("X",function(y,O,U){U._d=new Date(parseFloat(y)*1e3)}),Jn("x",function(y,O,U){U._d=new Date(ot(y))});return t.version="2.27.0",e(dn),t.fn=Ge,t.min=er,t.max=Fs,t.now=_l,t.utc=f,t.unix=J_,t.months=Jb,t.isDate=u,t.locale=La,t.invalid=S,t.duration=Po,t.isMoment=L,t.weekdays=kf,t.parseZone=Rm,t.localeData=Ua,t.isDuration=Qa,t.monthsShort=eC,t.weekdaysMin=ey,t.defineLocale=th,t.updateLocale=gm,t.locales=mm,t.weekdaysShort=pA,t.normalizeUnits=Bi,t.relativeTimeRounding=Il,t.relativeTimeThreshold=nC,t.calendarFormat=Wa,t.prototype=Ge,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var gJ={};cc(gJ,{__assign:()=>Z5,__asyncDelegator:()=>UDe,__asyncGenerator:()=>LDe,__asyncValues:()=>HDe,__await:()=>DS,__awaiter:()=>FDe,__classPrivateFieldGet:()=>GDe,__classPrivateFieldSet:()=>WDe,__createBinding:()=>PDe,__decorate:()=>DDe,__exportStar:()=>kDe,__extends:()=>IDe,__generator:()=>BDe,__importDefault:()=>jDe,__importStar:()=>QDe,__makeTemplateObject:()=>VDe,__metadata:()=>ODe,__param:()=>MDe,__read:()=>AJ,__rest:()=>TDe,__spread:()=>NDe,__spreadArrays:()=>RDe,__values:()=>X5});function IDe(n,t){Y5(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function TDe(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function DDe(n,t,e,i){var r=arguments.length,o=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(t,e,o):s(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function MDe(n,t){return function(e,i){t(e,i,n)}}function ODe(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function FDe(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(h){s(h)}}function l(d){try{u(i.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function BDe(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(d){u=[6,d],r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function PDe(n,t,e,i){i===void 0&&(i=e),n[i]=t[e]}function kDe(n,t){for(var e in n)e!=="default"&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function X5(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function AJ(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),r,o=[],s;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return o}function NDe(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(AJ(arguments[t]));return n}function RDe(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function DS(n){return this instanceof DS?(this.v=n,this):new DS(n)}function LDe(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(A){return new Promise(function(g,m){o.push([f,A,g,m])>1||a(f,A)})})}function a(f,A){try{l(i[f](A))}catch(g){h(o[0][3],g)}}function l(f){f.value instanceof DS?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,A){f(A),o.shift(),o.length&&a(o[0][0],o[0][1])}}function UDe(n){var t,e;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,o){t[r]=n[r]?function(s){return(e=!e)?{value:DS(n[r](s)),done:r==="return"}:o?o(s):s}:o}}function HDe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof X5=="function"?X5(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}function VDe(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function QDe(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function jDe(n){return n&&n.__esModule?n:{default:n}}function GDe(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)}function WDe(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e}var Y5,Z5,mJ=hs(()=>{"use strict";Y5=function(n,t){return Y5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])},Y5(n,t)};Z5=function(){return Z5=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Z5.apply(this,arguments)}});var _J={};cc(_J,{__assign:()=>eH,__asyncDelegator:()=>r2e,__asyncGenerator:()=>i2e,__asyncValues:()=>o2e,__await:()=>MS,__awaiter:()=>ZDe,__classPrivateFieldGet:()=>c2e,__classPrivateFieldSet:()=>u2e,__createBinding:()=>JDe,__decorate:()=>qDe,__exportStar:()=>e2e,__extends:()=>KDe,__generator:()=>XDe,__importDefault:()=>l2e,__importStar:()=>a2e,__makeTemplateObject:()=>s2e,__metadata:()=>YDe,__param:()=>$De,__read:()=>vJ,__rest:()=>zDe,__spread:()=>t2e,__spreadArrays:()=>n2e,__values:()=>tH});function KDe(n,t){J5(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function zDe(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function qDe(n,t,e,i){var r=arguments.length,o=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(t,e,o):s(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function $De(n,t){return function(e,i){t(e,i,n)}}function YDe(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function ZDe(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(h){s(h)}}function l(d){try{u(i.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function XDe(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(d){u=[6,d],r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function JDe(n,t,e,i){i===void 0&&(i=e),n[i]=t[e]}function e2e(n,t){for(var e in n)e!=="default"&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function tH(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vJ(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),r,o=[],s;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return o}function t2e(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(vJ(arguments[t]));return n}function n2e(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function MS(n){return this instanceof MS?(this.v=n,this):new MS(n)}function i2e(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(A){return new Promise(function(g,m){o.push([f,A,g,m])>1||a(f,A)})})}function a(f,A){try{l(i[f](A))}catch(g){h(o[0][3],g)}}function l(f){f.value instanceof MS?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,A){f(A),o.shift(),o.length&&a(o[0][0],o[0][1])}}function r2e(n){var t,e;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,o){t[r]=n[r]?function(s){return(e=!e)?{value:MS(n[r](s)),done:r==="return"}:o?o(s):s}:o}}function o2e(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof tH=="function"?tH(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}function s2e(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function a2e(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function l2e(n){return n&&n.__esModule?n:{default:n}}function c2e(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)}function u2e(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e}var J5,eH,yJ=hs(()=>{"use strict";J5=function(n,t){return J5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])},J5(n,t)};eH=function(){return eH=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},eH.apply(this,arguments)}});var Jh=tn(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});var d2e=(yJ(),Vo(_J));var sF={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var wJ=function(n,t){if(!n)throw bJ(t)},bJ=function(n){return new Error("Firebase Database ("+sF.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var CJ=function(n){for(var t=[],e=0,i=0;i<n.length;i++){var r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},h2e=function(n){for(var t=[],e=0,i=0;e<n.length;){var r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){var o=n[e++],s=n[e++],a=n[e++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{var o=n[e++],s=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return t.join("")},oH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<n.length;r+=3){var o=n[r],s=r+1<n.length,a=s?n[r+1]:0,l=r+2<n.length,u=l?n[r+2]:0,d=o>>2,h=(o&3)<<4|a>>4,f=(a&15)<<2|u>>6,A=u&63;l||(A=64,s||(f=64)),i.push(e[d],e[h],e[f],e[A])}return i.join("")},encodeString:function(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(CJ(n),t)},decodeString:function(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):h2e(this.decodeStringToByteArray(n,t))},decodeStringToByteArray:function(n,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<n.length;){var o=e[n.charAt(r++)],s=r<n.length,a=s?e[n.charAt(r)]:0;++r;var l=r<n.length,u=l?e[n.charAt(r)]:64;++r;var d=r<n.length,h=d?e[n.charAt(r)]:64;if(++r,o==null||a==null||u==null||h==null)throw Error();var f=o<<2|a>>4;if(i.push(f),u!==64){var A=a<<4&240|u>>2;if(i.push(A),h!==64){var g=u<<6&192|h;i.push(g)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},f2e=function(n){var t=CJ(n);return oH.encodeByteArray(t,!0)},iH=function(n){try{return oH.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function p2e(n){return sH(void 0,n)}function sH(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var e=t;return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(var i in t)t.hasOwnProperty(i)&&(n[i]=sH(n[i],t[i]));return n}var A2e=function(){function n(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i})}return n.prototype.wrapCallback=function(t){var e=this;return function(i,r){i?e.reject(i):e.resolve(r),typeof t=="function"&&(e.promise.catch(function(){}),t.length===1?t(i):t(i,r))}},n}();function OS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g2e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(OS())}function EJ(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m2e(){return typeof self=="object"&&self.self===self}function v2e(){var n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _2e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y2e(){return OS().indexOf("Electron/")>=0}function w2e(){var n=OS();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function b2e(){return OS().indexOf("MSAppHost/")>=0}function C2e(){return sF.NODE_CLIENT===!0||sF.NODE_ADMIN===!0}function E2e(){return!EJ()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var S2e="FirebaseError",SJ=function(n){d2e.__extends(t,n);function t(e,i){var r=n.call(this,i)||this;return r.code=e,r.name=S2e,Object.setPrototypeOf(r,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,xJ.prototype.create),r}return t}(Error),xJ=function(){function n(t,e,i){this.service=t,this.serviceName=e,this.errors=i}return n.prototype.create=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var r=e[0]||{},o=this.service+"/"+t,s=this.errors[t],a=s?x2e(s,r):"Error",l=this.serviceName+": "+a+" ("+o+").",u=new SJ(o,l),d=0,h=Object.keys(r);d<h.length;d++){var f=h[d];f.slice(-1)!=="_"&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},n}();function x2e(n,t){return n.replace(I2e,function(e,i){var r=t[i];return r!=null?String(r):"<"+i+"?>"})}var I2e=/\{\$([^}]+)}/g;function rH(n){return JSON.parse(n)}function T2e(n){return JSON.stringify(n)}var FS=function(n){var t={},e={},i={},r="";try{var o=n.split(".");t=rH(iH(o[0])||""),e=rH(iH(o[1])||""),r=o[2],i=e.d||{},delete e.d}catch{}return{header:t,claims:e,data:i,signature:r}},D2e=function(n){var t=FS(n).claims,e=Math.floor(new Date().getTime()/1e3),i=0,r=0;return typeof t=="object"&&(t.hasOwnProperty("nbf")?i=t.nbf:t.hasOwnProperty("iat")&&(i=t.iat),t.hasOwnProperty("exp")?r=t.exp:r=i+86400),!!e&&!!i&&!!r&&e>=i&&e<=r},M2e=function(n){var t=FS(n).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},O2e=function(n){var t=FS(n),e=t.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},F2e=function(n){var t=FS(n).claims;return typeof t=="object"&&t.admin===!0};function B2e(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function P2e(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function k2e(n){for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function N2e(n,t,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=t.call(e,n[r],r,n));return i}function R2e(n){for(var t=[],e=function(l,u){Array.isArray(u)?u.forEach(function(d){t.push(encodeURIComponent(l)+"="+encodeURIComponent(d))}):t.push(encodeURIComponent(l)+"="+encodeURIComponent(u))},i=0,r=Object.entries(n);i<r.length;i++){var o=r[i],s=o[0],a=o[1];e(s,a)}return t.length?"&"+t.join("&"):""}function L2e(n){var t={},e=n.replace(/^\?/,"").split("&");return e.forEach(function(i){if(i){var r=i.split("=");t[r[0]]=r[1]}}),t}var U2e=function(){function n(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return n.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},n.prototype.compress_=function(t,e){e||(e=0);var i=this.W_;if(typeof t=="string")for(var r=0;r<16;r++)i[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var r=0;r<16;r++)i[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var r=16;r<80;r++){var o=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=(o<<1|o>>>31)&4294967295}for(var s=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],d=this.chain_[4],h,f,r=0;r<80;r++){r<40?r<20?(h=u^a&(l^u),f=1518500249):(h=a^l^u,f=1859775393):r<60?(h=a&l|u&(a|l),f=2400959708):(h=a^l^u,f=3395469782);var o=(s<<5|s>>>27)+h+d+f+i[r]&4294967295;d=u,u=l,l=(a<<30|a>>>2)&4294967295,a=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},n.prototype.update=function(t,e){if(t!=null){e===void 0&&(e=t.length);for(var i=e-this.blockSize,r=0,o=this.buf_,s=this.inbuf_;r<e;){if(s===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(o[s]=t.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<e;)if(o[s]=t[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=e}},n.prototype.digest=function(){var t=[],e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=e&255,e/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t},n}();function H2e(n,t){var e=new V2e(n,t);return e.subscribe.bind(e)}var V2e=function(){function n(t,e){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(i)}).catch(function(r){i.error(r)})}return n.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},n.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},n.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},n.prototype.subscribe=function(t,e,i){var r=this,o;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");j2e(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:i},o.next===void 0&&(o.next=nH),o.error===void 0&&(o.error=nH),o.complete===void 0&&(o.complete=nH);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?o.error(r.finalError):o.complete()}catch{}}),this.observers.push(o),s},n.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},n.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},n.prototype.sendOne=function(t,e){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{e(i.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})},n.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},n}();function Q2e(n,t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];Promise.resolve(!0).then(function(){n.apply(void 0,e)}).catch(function(r){t&&t(r)})}}function j2e(n,t){if(typeof n!="object"||n===null)return!1;for(var e=0,i=t;e<i.length;e++){var r=i[e];if(r in n&&typeof n[r]=="function")return!0}return!1}function nH(){}var G2e=function(n,t,e,i){var r;if(i<t?r="at least "+t:i>e&&(r=e===0?"none":"no more than "+e),r){var o=n+" failed: Was called with "+i+(i===1?" argument.":" arguments.")+" Expects "+r+".";throw new Error(o)}};function aF(n,t,e){var i="";switch(t){case 1:i=e?"first":"First";break;case 2:i=e?"second":"Second";break;case 3:i=e?"third":"Third";break;case 4:i=e?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var r=n+" failed: ";return r+=i+" argument ",r}function W2e(n,t,e,i){if(!(i&&!e)&&typeof e!="string")throw new Error(aF(n,t,i)+"must be a valid firebase namespace.")}function K2e(n,t,e,i){if(!(i&&!e)&&typeof e!="function")throw new Error(aF(n,t,i)+"must be a valid function.")}function z2e(n,t,e,i){if(!(i&&!e)&&(typeof e!="object"||e===null))throw new Error(aF(n,t,i)+"must be a valid context object.")}var q2e=function(n){for(var t=[],e=0,i=0;i<n.length;i++){var r=n.charCodeAt(i);if(r>=55296&&r<=56319){var o=r-55296;i++,wJ(i<n.length,"Surrogate pair missing trail surrogate.");var s=n.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):r<65536?(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},$2e=function(n){for(var t=0,e=0;e<n.length;e++){var i=n.charCodeAt(e);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,e++):t+=3}return t};Zt.CONSTANTS=sF;Zt.Deferred=A2e;Zt.ErrorFactory=xJ;Zt.FirebaseError=SJ;Zt.Sha1=U2e;Zt.assert=wJ;Zt.assertionError=bJ;Zt.async=Q2e;Zt.base64=oH;Zt.base64Decode=iH;Zt.base64Encode=f2e;Zt.contains=B2e;Zt.createSubscribe=H2e;Zt.decode=FS;Zt.deepCopy=p2e;Zt.deepExtend=sH;Zt.errorPrefix=aF;Zt.getUA=OS;Zt.isAdmin=F2e;Zt.isBrowser=m2e;Zt.isBrowserExtension=v2e;Zt.isElectron=y2e;Zt.isEmpty=k2e;Zt.isIE=w2e;Zt.isMobileCordova=g2e;Zt.isNode=EJ;Zt.isNodeSdk=C2e;Zt.isReactNative=_2e;Zt.isSafari=E2e;Zt.isUWP=b2e;Zt.isValidFormat=O2e;Zt.isValidTimestamp=D2e;Zt.issuedAtTime=M2e;Zt.jsonEval=rH;Zt.map=N2e;Zt.querystring=R2e;Zt.querystringDecode=L2e;Zt.safeGet=P2e;Zt.stringLength=$2e;Zt.stringToByteArray=q2e;Zt.stringify=T2e;Zt.validateArgCount=G2e;Zt.validateCallback=K2e;Zt.validateContextObject=z2e;Zt.validateNamespace=W2e});var TJ={};cc(TJ,{__assign:()=>lH,__asyncDelegator:()=>lMe,__asyncGenerator:()=>aMe,__asyncValues:()=>cMe,__await:()=>BS,__awaiter:()=>tMe,__classPrivateFieldGet:()=>fMe,__classPrivateFieldSet:()=>pMe,__createBinding:()=>iMe,__decorate:()=>X2e,__exportStar:()=>rMe,__extends:()=>Y2e,__generator:()=>nMe,__importDefault:()=>hMe,__importStar:()=>dMe,__makeTemplateObject:()=>uMe,__metadata:()=>eMe,__param:()=>J2e,__read:()=>IJ,__rest:()=>Z2e,__spread:()=>oMe,__spreadArrays:()=>sMe,__values:()=>cH});function Y2e(n,t){aH(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Z2e(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function X2e(n,t,e,i){var r=arguments.length,o=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(t,e,o):s(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function J2e(n,t){return function(e,i){t(e,i,n)}}function eMe(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function tMe(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(h){s(h)}}function l(d){try{u(i.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function nMe(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(d){u=[6,d],r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function iMe(n,t,e,i){i===void 0&&(i=e),n[i]=t[e]}function rMe(n,t){for(var e in n)e!=="default"&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function cH(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function IJ(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),r,o=[],s;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return o}function oMe(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(IJ(arguments[t]));return n}function sMe(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function BS(n){return this instanceof BS?(this.v=n,this):new BS(n)}function aMe(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(A){return new Promise(function(g,m){o.push([f,A,g,m])>1||a(f,A)})})}function a(f,A){try{l(i[f](A))}catch(g){h(o[0][3],g)}}function l(f){f.value instanceof BS?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,A){f(A),o.shift(),o.length&&a(o[0][0],o[0][1])}}function lMe(n){var t,e;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,o){t[r]=n[r]?function(s){return(e=!e)?{value:BS(n[r](s)),done:r==="return"}:o?o(s):s}:o}}function cMe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof cH=="function"?cH(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}function uMe(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function dMe(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function hMe(n){return n&&n.__esModule?n:{default:n}}function fMe(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)}function pMe(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e}var aH,lH,DJ=hs(()=>{"use strict";aH=function(n,t){return aH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])},aH(n,t)};lH=function(){return lH=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},lH.apply(this,arguments)}});var xd=tn(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});var PS=(DJ(),Vo(TJ)),AMe=Jh(),gMe=function(){function n(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return n.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},n.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},n.prototype.setServiceProps=function(t){return this.serviceProps=t,this},n}();var Aw="[DEFAULT]";var MJ=function(){function n(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return n.prototype.get=function(t){t===void 0&&(t=Aw);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var i=new AMe.Deferred;this.instancesDeferred.set(e,i);try{var r=this.getOrInitializeService(e);r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise},n.prototype.getImmediate=function(t){var e=PS.__assign({identifier:Aw,optional:!1},t),i=e.identifier,r=e.optional,o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService(o);if(!s){if(r)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(r)return null;throw a}},n.prototype.getComponent=function(){return this.component},n.prototype.setComponent=function(t){var e,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,vMe(t))try{this.getOrInitializeService(Aw)}catch{}try{for(var r=PS.__values(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var s=PS.__read(o.value,2),a=s[0],l=s[1],u=this.normalizeInstanceIdentifier(a);try{var d=this.getOrInitializeService(u);l.resolve(d)}catch{}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}},n.prototype.clearInstance=function(t){t===void 0&&(t=Aw),this.instancesDeferred.delete(t),this.instances.delete(t)},n.prototype.delete=function(){return PS.__awaiter(this,void 0,void 0,function(){var t;return PS.__generator(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))];case 1:return e.sent(),[2]}})})},n.prototype.isComponentSet=function(){return this.component!=null},n.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,mMe(t)),this.instances.set(t,e)),e||null},n.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Aw:t},n}();function mMe(n){return n===Aw?void 0:n}function vMe(n){return n.instantiationMode==="EAGER"}var _Me=function(){function n(t){this.name=t,this.providers=new Map}return n.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},n.prototype.addOrOverwriteComponent=function(t){var e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},n.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new MJ(t,this);return this.providers.set(t,e),e},n.prototype.getProviders=function(){return Array.from(this.providers.values())},n}();kS.Component=gMe;kS.ComponentContainer=_Me;kS.Provider=MJ});var gw={};cc(gw,{LogLevel:()=>ar,Logger:()=>dH,setLogLevel:()=>CMe,setUserLogHandler:()=>EMe});function Id(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function CMe(n){uH.forEach(function(t){t.setLogLevel(n)})}function EMe(n,t){for(var e=function(s){var a=null;t&&t.level&&(a=OJ[t.level]),n===null?s.userLogHandler=null:s.userLogHandler=function(l,u){for(var d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];var f=d.map(function(A){if(A==null)return null;if(typeof A=="string")return A;if(typeof A=="number"||typeof A=="boolean")return A.toString();if(A instanceof Error)return A.message;try{return JSON.stringify(A)}catch{return null}}).filter(function(A){return A}).join(" ");u>=(a??l.logLevel)&&n({level:ar[u].toLowerCase(),message:f,args:d,type:l.name})}},i=0,r=uH;i<r.length;i++){var o=r[i];e(o)}}var hv,uH,ar,OJ,yMe,wMe,bMe,dH,fv=hs(()=>{"use strict";uH=[],ar=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ar||{}),OJ={debug:ar.DEBUG,verbose:ar.VERBOSE,info:ar.INFO,warn:ar.WARN,error:ar.ERROR,silent:ar.SILENT},yMe=ar.INFO,wMe=(hv={},hv[ar.DEBUG]="log",hv[ar.VERBOSE]="log",hv[ar.INFO]="info",hv[ar.WARN]="warn",hv[ar.ERROR]="error",hv),bMe=function(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];if(!(t<n.logLevel)){var r=new Date().toISOString(),o=wMe[t];if(o)console[o].apply(console,Id(["["+r+"]  "+n.name+":"],e));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},dH=function(){function n(t){this.name=t,this._logLevel=yMe,this._logHandler=bMe,this._userLogHandler=null,uH.push(this)}return Object.defineProperty(n.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ar))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),n.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?OJ[t]:t},Object.defineProperty(n.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),n.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Id([this,ar.DEBUG],t)),this._logHandler.apply(this,Id([this,ar.DEBUG],t))},n.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Id([this,ar.VERBOSE],t)),this._logHandler.apply(this,Id([this,ar.VERBOSE],t))},n.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Id([this,ar.INFO],t)),this._logHandler.apply(this,Id([this,ar.INFO],t))},n.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Id([this,ar.WARN],t)),this._logHandler.apply(this,Id([this,ar.WARN],t))},n.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Id([this,ar.ERROR],t)),this._logHandler.apply(this,Id([this,ar.ERROR],t))},n}()});var bu=tn(hF=>{"use strict";Object.defineProperty(hF,"__esModule",{value:!0});var cF=(mJ(),Vo(gJ)),Td=Jh(),uF=xd(),fH=(fv(),Vo(gw));var vg,SMe=(vg={},vg["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",vg["bad-app-name"]="Illegal App name: '{$appName}",vg["duplicate-app"]="Firebase App named '{$appName}' already exists",vg["app-deleted"]="Firebase App named '{$appName}' already deleted",vg["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",vg["invalid-log-argument"]="First argument to `onLog` must be null or a function.",vg),mw=new Td.ErrorFactory("app","Firebase",SMe),FJ="@firebase/app",xMe="0.6.8",IMe="@firebase/analytics",TMe="@firebase/auth",DMe="@firebase/database",MMe="@firebase/functions",OMe="@firebase/installations",FMe="@firebase/messaging",BMe="@firebase/performance",PMe="@firebase/remote-config",kMe="@firebase/storage",NMe="@firebase/firestore",RMe="firebase-wrapper";var ol,dF="[DEFAULT]",LMe=(ol={},ol[FJ]="fire-core",ol[IMe]="fire-analytics",ol[TMe]="fire-auth",ol[DMe]="fire-rtdb",ol[MMe]="fire-fn",ol[OMe]="fire-iid",ol[FMe]="fire-fcm",ol[BMe]="fire-perf",ol[PMe]="fire-rc",ol[kMe]="fire-gcs",ol[NMe]="fire-fst",ol["fire-js"]="fire-js",ol[RMe]="fire-js-all",ol);var vw=new fH.Logger("@firebase/app");var lF=function(){function n(t,e,i){var r,o,s=this;this.firebase_=i,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Td.deepCopy(t),this.container=new uF.ComponentContainer(e.name),this._addComponent(new uF.Component("app",function(){return s},"PUBLIC"));try{for(var a=cF.__values(this.firebase_.INTERNAL.components.values()),l=a.next();!l.done;l=a.next()){var u=l.value;this._addComponent(u)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}}return Object.defineProperty(n.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),n.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(e){return e.delete()}))}).then(function(){t.isDeleted_=!0})},n.prototype._getService=function(t,e){return e===void 0&&(e=dF),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},n.prototype._removeServiceInstance=function(t,e){e===void 0&&(e=dF),this.container.getProvider(t).clearInstance(e)},n.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){vw.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},n.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},n.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw mw.create("app-deleted",{appName:this.name_})},n}();lF.prototype.name&&lF.prototype.options||lF.prototype.delete||console.log("dc");var UMe="7.16.0";function HMe(n){var t={},e=new Map,i={__esModule:!0,initializeApp:s,app:o,registerVersion:u,setLogLevel:fH.setLogLevel,onLog:d,apps:null,SDK_VERSION:UMe,INTERNAL:{registerComponent:l,removeApp:r,components:e,useAsService:h}};i.default=i,Object.defineProperty(i,"apps",{get:a});function r(f){delete t[f]}function o(f){if(f=f||dF,!Td.contains(t,f))throw mw.create("no-app",{appName:f});return t[f]}o.App=n;function s(f,A){if(A===void 0&&(A={}),typeof A!="object"||A===null){var g=A;A={name:g}}var m=A;m.name===void 0&&(m.name=dF);var b=m.name;if(typeof b!="string"||!b)throw mw.create("bad-app-name",{appName:String(b)});if(Td.contains(t,b))throw mw.create("duplicate-app",{appName:b});var S=new n(f,m,i);return t[b]=S,S}function a(){return Object.keys(t).map(function(f){return t[f]})}function l(f){var A,g,m=f.name;if(e.has(m))return vw.debug("There were multiple attempts to register component "+m+"."),f.type==="PUBLIC"?i[m]:null;if(e.set(m,f),f.type==="PUBLIC"){var b=function(B){if(B===void 0&&(B=o()),typeof B[m]!="function")throw mw.create("invalid-app-argument",{appName:m});return B[m]()};f.serviceProps!==void 0&&Td.deepExtend(b,f.serviceProps),i[m]=b,n.prototype[m]=function(){for(var B=[],P=0;P<arguments.length;P++)B[P]=arguments[P];var L=this._getService.bind(this,m);return L.apply(this,f.multipleInstances?B:[])}}try{for(var S=cF.__values(Object.keys(t)),F=S.next();!F.done;F=S.next()){var R=F.value;t[R]._addComponent(f)}}catch(B){A={error:B}}finally{try{F&&!F.done&&(g=S.return)&&g.call(S)}finally{if(A)throw A.error}}return f.type==="PUBLIC"?i[m]:null}function u(f,A,g){var m,b=(m=LMe[f])!==null&&m!==void 0?m:f;g&&(b+="-"+g);var S=b.match(/\s|\//),F=A.match(/\s|\//);if(S||F){var R=['Unable to register library "'+b+'" with version "'+A+'":'];S&&R.push('library name "'+b+'" contains illegal characters (whitespace or "/")'),S&&F&&R.push("and"),F&&R.push('version name "'+A+'" contains illegal characters (whitespace or "/")'),vw.warn(R.join(" "));return}l(new uF.Component(b+"-version",function(){return{library:b,version:A}},"VERSION"))}function d(f,A){if(f!==null&&typeof f!="function")throw mw.create("invalid-log-argument",{appName:name});fH.setUserLogHandler(f,A)}function h(f,A){if(A==="serverAuth")return null;var g=A;return g}return i}function BJ(){var n=HMe(lF);n.INTERNAL=cF.__assign(cF.__assign({},n.INTERNAL),{createFirebaseNamespace:BJ,extendNamespace:t,createSubscribe:Td.createSubscribe,ErrorFactory:Td.ErrorFactory,deepExtend:Td.deepExtend});function t(e){Td.deepExtend(n,e)}return n}var pH=BJ();var VMe=function(){function n(t){this.container=t}return n.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(e){if(QMe(e)){var i=e.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(e){return e}).join(" ")},n}();function QMe(n){var t=n.getComponent();return t?.type==="VERSION"}function jMe(n,t){n.INTERNAL.registerComponent(new uF.Component("platform-logger",function(e){return new VMe(e)},"PRIVATE")),n.registerVersion(FJ,xMe,t),n.registerVersion("fire-js","")}Td.isBrowser()&&self.firebase!==void 0&&(vw.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),hH=self.firebase.SDK_VERSION,hH&&hH.indexOf("LITE")>=0&&vw.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));var hH,GMe=pH.initializeApp;pH.initializeApp=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Td.isNode()&&vw.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/rollup-plugin-node-resolve
      `),GMe.apply(void 0,n)};var AH=pH;jMe(AH);hF.default=AH;hF.firebase=AH});var PJ=tn(()=>{"use strict";(function(){var n=bu().default,t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){c!=Array.prototype&&c!=Object.prototype&&(c[p]=_.value)};function i(c){c=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,c];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}return globalThis}var r=i(this);function o(c,p){if(p){var _=r;c=c.split(".");for(var D=0;D<c.length-1;D++){var k=c[D];k in _||(_[k]={}),_=_[k]}c=c[c.length-1],D=_[c],p=p(D),p!=D&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function s(c){var p=0;return function(){return p<c.length?{done:!1,value:c[p++]}:{done:!0}}}function a(c){var p=typeof Symbol<"u"&&Symbol.iterator&&c[Symbol.iterator];return p?p.call(c):{next:s(c)}}o("Promise",function(c){function p(J){this.b=0,this.c=void 0,this.a=[];var ce=this.f();try{J(ce.resolve,ce.reject)}catch(Pe){ce.reject(Pe)}}function _(){this.a=null}function D(J){return J instanceof p?J:new p(function(ce){ce(J)})}if(c)return c;_.prototype.b=function(J){if(this.a==null){this.a=[];var ce=this;this.c(function(){ce.g()})}this.a.push(J)};var k=r.setTimeout;_.prototype.c=function(J){k(J,0)},_.prototype.g=function(){for(;this.a&&this.a.length;){var J=this.a;this.a=[];for(var ce=0;ce<J.length;++ce){var Pe=J[ce];J[ce]=null;try{Pe()}catch(Ve){this.f(Ve)}}}this.a=null},_.prototype.f=function(J){this.c(function(){throw J})},p.prototype.f=function(){function J(Ve){return function(en){Pe||(Pe=!0,Ve.call(ce,en))}}var ce=this,Pe=!1;return{resolve:J(this.m),reject:J(this.g)}},p.prototype.m=function(J){if(J===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(J instanceof p)this.s(J);else{e:switch(typeof J){case"object":var ce=J!=null;break e;case"function":ce=!0;break e;default:ce=!1}ce?this.u(J):this.h(J)}},p.prototype.u=function(J){var ce=void 0;try{ce=J.then}catch(Pe){this.g(Pe);return}typeof ce=="function"?this.w(ce,J):this.h(J)},p.prototype.g=function(J){this.i(2,J)},p.prototype.h=function(J){this.i(1,J)},p.prototype.i=function(J,ce){if(this.b!=0)throw Error("Cannot settle("+J+", "+ce+"): Promise already settled in state"+this.b);this.b=J,this.c=ce,this.l()},p.prototype.l=function(){if(this.a!=null){for(var J=0;J<this.a.length;++J)q.b(this.a[J]);this.a=null}};var q=new _;return p.prototype.s=function(J){var ce=this.f();J.Oa(ce.resolve,ce.reject)},p.prototype.w=function(J,ce){var Pe=this.f();try{J.call(ce,Pe.resolve,Pe.reject)}catch(Ve){Pe.reject(Ve)}},p.prototype.then=function(J,ce){function Pe(ci,ds){return typeof ci=="function"?function(Gf){try{Ve(ci(Gf))}catch(VN){en(VN)}}:ds}var Ve,en,Ki=new p(function(ci,ds){Ve=ci,en=ds});return this.Oa(Pe(J,Ve),Pe(ce,en)),Ki},p.prototype.catch=function(J){return this.then(void 0,J)},p.prototype.Oa=function(J,ce){function Pe(){switch(Ve.b){case 1:J(Ve.c);break;case 2:ce(Ve.c);break;default:throw Error("Unexpected state: "+Ve.b)}}var Ve=this;this.a==null?q.b(Pe):this.a.push(Pe)},p.resolve=D,p.reject=function(J){return new p(function(ce,Pe){Pe(J)})},p.race=function(J){return new p(function(ce,Pe){for(var Ve=a(J),en=Ve.next();!en.done;en=Ve.next())D(en.value).Oa(ce,Pe)})},p.all=function(J){var ce=a(J),Pe=ce.next();return Pe.done?D([]):new p(function(Ve,en){function Ki(Gf){return function(VN){ci[Gf]=VN,ds--,ds==0&&Ve(ci)}}var ci=[],ds=0;do ci.push(void 0),ds++,D(Pe.value).Oa(Ki(ci.length-1),en),Pe=ce.next();while(!Pe.done)})},p});var l=l||{},u=this||self,d=/^[\w+/_-]+[=]{0,2}$/,h=null;function f(){}function A(c){var p=typeof c;if(p=="object")if(c){if(c instanceof Array)return"array";if(c instanceof Object)return p;var _=Object.prototype.toString.call(c);if(_=="[object Window]")return"object";if(_=="[object Array]"||typeof c.length=="number"&&typeof c.splice<"u"&&typeof c.propertyIsEnumerable<"u"&&!c.propertyIsEnumerable("splice"))return"array";if(_=="[object Function]"||typeof c.call<"u"&&typeof c.propertyIsEnumerable<"u"&&!c.propertyIsEnumerable("call"))return"function"}else return"null";else if(p=="function"&&typeof c.call>"u")return"object";return p}function g(c){var p=A(c);return p=="array"||p=="object"&&typeof c.length=="number"}function m(c){return A(c)=="function"}function b(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function S(c){return Object.prototype.hasOwnProperty.call(c,F)&&c[F]||(c[F]=++R)}var F="closure_uid_"+(1e9*Math.random()>>>0),R=0;function B(c,p,_){return c.call.apply(c.bind,arguments)}function P(c,p,_){if(!c)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,D),c.apply(p,k)}}return function(){return c.apply(p,arguments)}}function L(c,p,_){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?L=B:L=P,L.apply(null,arguments)}function j(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var D=_.slice();return D.push.apply(D,arguments),c.apply(this,D)}}var G=Date.now||function(){return+new Date};function Y(c,p){function _(){}_.prototype=p.prototype,c.Za=p.prototype,c.prototype=new _,c.prototype.constructor=c}function Z(c,p,_){this.code=xe+c,this.message=p||qe[c]||"",this.a=_||null}Y(Z,Error),Z.prototype.v=function(){var c={code:this.code,message:this.message};return this.a&&(c.serverResponse=this.a),c},Z.prototype.toJSON=function(){return this.v()};function _e(c){var p=c&&c.code;return p?new Z(p.substring(xe.length),c.message,c.serverResponse):null}var xe="auth/",qe={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ge={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function me(c){for(var p in ge)if(ge[p].id===c)return c=ge[p],{firebaseEndpoint:c.Ra,secureTokenEndpoint:c.Xa,identityPlatformEndpoint:c.Ua};return null}var re;re=me("__EID__")?"__EID__":void 0;function ue(c){if(!c)return!1;try{return!!c.$goog_Thenable}catch{return!1}}function Fe(c){if(Error.captureStackTrace)Error.captureStackTrace(this,Fe);else{var p=Error().stack;p&&(this.stack=p)}c&&(this.message=String(c))}Y(Fe,Error),Fe.prototype.name="CustomError";function Ue(c,p){c=c.split("%s");for(var _="",D=c.length-1,k=0;k<D;k++)_+=c[k]+(k<p.length?p[k]:"%s");Fe.call(this,_+c[D])}Y(Ue,Fe),Ue.prototype.name="AssertionError";function Je(c,p){throw new Ue("Failure"+(c?": "+c:""),Array.prototype.slice.call(arguments,1))}function xt(c,p){this.c=c,this.f=p,this.b=0,this.a=null}xt.prototype.get=function(){if(0<this.b){this.b--;var c=this.a;this.a=c.next,c.next=null}else c=this.c();return c};function lt(c,p){c.f(p),100>c.b&&(c.b++,p.next=c.a,c.a=p)}function Le(){this.b=this.a=null}var it=new xt(function(){return new Yt},function(c){c.reset()});Le.prototype.add=function(c,p){var _=it.get();_.set(c,p),this.b?this.b.next=_:this.a=_,this.b=_};function Xn(){var c=Vc,p=null;return c.a&&(p=c.a,c.a=c.a.next,c.a||(c.b=null),p.next=null),p}function Yt(){this.next=this.b=this.a=null}Yt.prototype.set=function(c,p){this.a=c,this.b=p,this.next=null},Yt.prototype.reset=function(){this.next=this.b=this.a=null};var Jt=Array.prototype.indexOf?function(c,p){return Array.prototype.indexOf.call(c,p,void 0)}:function(c,p){if(typeof c=="string")return typeof p!="string"||p.length!=1?-1:c.indexOf(p,0);for(var _=0;_<c.length;_++)if(_ in c&&c[_]===p)return _;return-1},Rt=Array.prototype.forEach?function(c,p,_){Array.prototype.forEach.call(c,p,_)}:function(c,p,_){for(var D=c.length,k=typeof c=="string"?c.split(""):c,q=0;q<D;q++)q in k&&p.call(_,k[q],q,c)};function Sr(c,p){for(var _=typeof c=="string"?c.split(""):c,D=c.length-1;0<=D;--D)D in _&&p.call(void 0,_[D],D,c)}var Br=Array.prototype.filter?function(c,p){return Array.prototype.filter.call(c,p,void 0)}:function(c,p){for(var _=c.length,D=[],k=0,q=typeof c=="string"?c.split(""):c,J=0;J<_;J++)if(J in q){var ce=q[J];p.call(void 0,ce,J,c)&&(D[k++]=ce)}return D},Oo=Array.prototype.map?function(c,p){return Array.prototype.map.call(c,p,void 0)}:function(c,p){for(var _=c.length,D=Array(_),k=typeof c=="string"?c.split(""):c,q=0;q<_;q++)q in k&&(D[q]=p.call(void 0,k[q],q,c));return D},Nc=Array.prototype.some?function(c,p){return Array.prototype.some.call(c,p,void 0)}:function(c,p){for(var _=c.length,D=typeof c=="string"?c.split(""):c,k=0;k<_;k++)if(k in D&&p.call(void 0,D[k],k,c))return!0;return!1};function Vu(c){e:{for(var p=Zm,_=c.length,D=typeof c=="string"?c.split(""):c,k=0;k<_;k++)if(k in D&&p.call(void 0,D[k],k,c)){p=k;break e}p=-1}return 0>p?null:typeof c=="string"?c.charAt(p):c[p]}function Fo(c,p){return 0<=Jt(c,p)}function xr(c,p){p=Jt(c,p);var _;return(_=0<=p)&&Array.prototype.splice.call(c,p,1),_}function yi(c,p){var _=0;Sr(c,function(D,k){p.call(void 0,D,k,c)&&Array.prototype.splice.call(c,k,1).length==1&&_++})}function gl(c){return Array.prototype.concat.apply([],arguments)}function Fi(c){var p=c.length;if(0<p){for(var _=Array(p),D=0;D<p;D++)_[D]=c[D];return _}return[]}var Pr=String.prototype.trim?function(c){return c.trim()}:function(c){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(c)[1]},Bi=/&/g,Is=/</g,Rc=/>/g,pr=/"/g,Qn=/'/g,di=/\x00/g,Ht=/[\x00&<>"']/;function ot(c,p){return c.indexOf(p)!=-1}function Ts(c,p){return c<p?-1:c>p?1:0}var ql;e:{var $l=u.navigator;if($l){var v_=$l.userAgent;if(v_){ql=v_;break e}}ql=""}function Xi(c){return ot(ql,c)}function Kd(c,p){for(var _ in c)p.call(void 0,c[_],_,c)}function Ar(c){for(var p in c)return!1;return!0}function ka(c){var p={},_;for(_ in c)p[_]=c[_];return p}var zd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gr(c,p){for(var _,D,k=1;k<arguments.length;k++){D=arguments[k];for(_ in D)c[_]=D[_];for(var q=0;q<zd.length;q++)_=zd[q],Object.prototype.hasOwnProperty.call(D,_)&&(c[_]=D[_])}}function oi(c,p){e:{try{var _=c&&c.ownerDocument,D=_&&(_.defaultView||_.parentWindow);if(D=D||u,D.Element&&D.Location){var k=D;break e}}catch{}k=null}if(k&&typeof k[p]<"u"&&(!c||!(c instanceof k[p])&&(c instanceof k.Location||c instanceof k.Element))){if(b(c))try{var q=c.constructor.displayName||c.constructor.name||Object.prototype.toString.call(c)}catch{q="<object could not be stringified>"}else q=c===void 0?"undefined":c===null?"null":typeof c;Je("Argument is not a %s (or a non-Element, non-Location mock); got: %s",p,q)}}function as(c,p){this.a=c===Lc&&p||"",this.b=ju}as.prototype.ra=!0,as.prototype.qa=function(){return this.a},as.prototype.toString=function(){return"Const{"+this.a+"}"};function Qu(c){return c instanceof as&&c.constructor===as&&c.b===ju?c.a:(Je("expected object of type Const, got '"+c+"'"),"type_error:Const")}var ju={},Lc={},jp=new as(Lc,"");function sa(c,p){this.a=c===Uc&&p||"",this.b=ls}sa.prototype.ra=!0,sa.prototype.qa=function(){return this.a.toString()},sa.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Gu(c){return c instanceof sa&&c.constructor===sa&&c.b===ls?c.a:(Je("expected object of type TrustedResourceUrl, got '"+c+"' of type "+A(c)),"type_error:TrustedResourceUrl")}function gn(c,p){var _=Qu(c);if(!nm.test(_))throw Error("Invalid TrustedResourceUrl format: "+_);return c=_.replace(Wu,function(D,k){if(!Object.prototype.hasOwnProperty.call(p,k))throw Error('Found marker, "'+k+'", in format string, "'+_+'", but no valid label mapping found in args: '+JSON.stringify(p));return D=p[k],D instanceof as?Qu(D):encodeURIComponent(String(D))}),new sa(Uc,c)}var Wu=/%{(\w+)}/g,nm=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ls={},Uc={};function tt(c,p){this.a=c===Jn&&p||"",this.b=Gp}tt.prototype.ra=!0,tt.prototype.qa=function(){return this.a.toString()},tt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function pf(c){return c instanceof tt&&c.constructor===tt&&c.b===Gp?c.a:(Je("expected object of type SafeUrl, got '"+c+"' of type "+A(c)),"type_error:SafeUrl")}var __=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Bo(c){return c instanceof tt?c:(c=typeof c=="object"&&c.ra?c.qa():String(c),__.test(c)||(c="about:invalid#zClosurez"),new tt(Jn,c))}var Gp={},Jn={};function aa(){this.a="",this.b=ro}aa.prototype.ra=!0,aa.prototype.qa=function(){return this.a.toString()},aa.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function im(c){return c instanceof aa&&c.constructor===aa&&c.b===ro?c.a:(Je("expected object of type SafeHtml, got '"+c+"' of type "+A(c)),"type_error:SafeHtml")}var ro={};function la(c){var p=new aa;return p.a=c,p}la("<!DOCTYPE html>");var ml=la("");la("<br>");function kr(c){var p=new sa(Uc,Qu(jp));oi(c,"HTMLIFrameElement"),c.src=Gu(p).toString()}function Na(c,p){if(oi(c,"HTMLScriptElement"),c.src=Gu(p),h===null)e:{if(p=u.document,(p=p.querySelector&&p.querySelector("script[nonce]"))&&(p=p.nonce||p.getAttribute("nonce"))&&d.test(p)){h=p;break e}h=""}p=h,p&&c.setAttribute("nonce",p)}function vl(c,p){for(var _=c.split("%s"),D="",k=Array.prototype.slice.call(arguments,1);k.length&&1<_.length;)D+=_.shift()+k.shift();return D+_.join("%s")}function Ds(c){return Ht.test(c)&&(c.indexOf("&")!=-1&&(c=c.replace(Bi,"&amp;")),c.indexOf("<")!=-1&&(c=c.replace(Is,"&lt;")),c.indexOf(">")!=-1&&(c=c.replace(Rc,"&gt;")),c.indexOf('"')!=-1&&(c=c.replace(pr,"&quot;")),c.indexOf("'")!=-1&&(c=c.replace(Qn,"&#39;")),c.indexOf("\0")!=-1&&(c=c.replace(di,"&#0;"))),c}function Wp(c){return Wp[" "](c),c}Wp[" "]=f;function Kp(c,p){var _=gf;return Object.prototype.hasOwnProperty.call(_,c)?_[c]:_[c]=p(c)}var y_=Xi("Opera"),Sn=Xi("Trident")||Xi("MSIE"),Af=Xi("Edge"),Nb=Af||Sn,qd=Xi("Gecko")&&!(ot(ql.toLowerCase(),"webkit")&&!Xi("Edge"))&&!(Xi("Trident")||Xi("MSIE"))&&!Xi("Edge"),$d=ot(ql.toLowerCase(),"webkit")&&!Xi("Edge");function w_(){var c=u.document;return c?c.documentMode:void 0}var rm;e:{var om="",Yd=function(){var c=ql;if(qd)return/rv:([^\);]+)(\)|;)/.exec(c);if(Af)return/Edge\/([\d\.]+)/.exec(c);if(Sn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(c);if($d)return/WebKit\/(\S+)/.exec(c);if(y_)return/(?:Version)[ \/]?(\S+)/.exec(c)}();if(Yd&&(om=Yd?Yd[1]:""),Sn){var Zd=w_();if(Zd!=null&&Zd>parseFloat(om)){rm=String(Zd);break e}}rm=om}var gf={};function sm(c){return Kp(c,function(){for(var p=0,_=Pr(String(rm)).split("."),D=Pr(String(c)).split("."),k=Math.max(_.length,D.length),q=0;p==0&&q<k;q++){var J=_[q]||"",ce=D[q]||"";do{if(J=/(\d*)(\D*)(.*)/.exec(J)||["","","",""],ce=/(\d*)(\D*)(.*)/.exec(ce)||["","","",""],J[0].length==0&&ce[0].length==0)break;p=Ts(J[1].length==0?0:parseInt(J[1],10),ce[1].length==0?0:parseInt(ce[1],10))||Ts(J[2].length==0,ce[2].length==0)||Ts(J[2],ce[2]),J=J[3],ce=ce[3]}while(p==0)}return 0<=p})}var Wi;Wi=u.document&&Sn?w_():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var Rb=!Sn||9<=Number(Wi);function mf(c){var p=document;return typeof c=="string"?p.getElementById(c):c}function b_(c,p){Kd(p,function(_,D){_&&typeof _=="object"&&_.ra&&(_=_.qa()),D=="style"?c.style.cssText=_:D=="class"?c.className=_:D=="for"?c.htmlFor=_:am.hasOwnProperty(D)?c.setAttribute(am[D],_):D.lastIndexOf("aria-",0)==0||D.lastIndexOf("data-",0)==0?c.setAttribute(D,_):c[D]=_})}var am={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function vf(c,p,_){var D=arguments,k=document,q=String(D[0]),J=D[1];if(!Rb&&J&&(J.name||J.type)){if(q=["<",q],J.name&&q.push(' name="',Ds(J.name),'"'),J.type){q.push(' type="',Ds(J.type),'"');var ce={};gr(ce,J),delete ce.type,J=ce}q.push(">"),q=q.join("")}return q=zp(k,q),J&&(typeof J=="string"?q.className=J:Array.isArray(J)?q.className=J.join(" "):b_(q,J)),2<D.length&&C_(k,q,D),q}function C_(c,p,_){function D(J){J&&p.appendChild(typeof J=="string"?c.createTextNode(J):J)}for(var k=2;k<_.length;k++){var q=_[k];!g(q)||b(q)&&0<q.nodeType?D(q):Rt(Lb(q)?Fi(q):q,D)}}function zp(c,p){return p=String(p),c.contentType==="application/xhtml+xml"&&(p=p.toLowerCase()),c.createElement(p)}function Lb(c){if(c&&typeof c.length=="number"){if(b(c))return typeof c.item=="function"||typeof c.item=="string";if(m(c))return typeof c.item=="function"}return!1}function Yl(c){u.setTimeout(function(){throw c},0)}var Xd;function lm(){var c=u.MessageChannel;if(typeof c>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Xi("Presto")&&(c=function(){var k=zp(document,"IFRAME");k.style.display="none",kr(k),document.documentElement.appendChild(k);var q=k.contentWindow;k=q.document,k.open(),k.write(im(ml)),k.close();var J="callImmediate"+Math.random(),ce=q.location.protocol=="file:"?"*":q.location.protocol+"//"+q.location.host;k=L(function(Pe){(ce=="*"||Pe.origin==ce)&&Pe.data==J&&this.port1.onmessage()},this),q.addEventListener("message",k,!1),this.port1={},this.port2={postMessage:function(){q.postMessage(J,ce)}}}),typeof c<"u"&&!Xi("Trident")&&!Xi("MSIE")){var p=new c,_={},D=_;return p.port1.onmessage=function(){if(_.next!==void 0){_=_.next;var k=_.Db;_.Db=null,k()}},function(k){D.next={Db:k},D=D.next,p.port2.postMessage(0)}}return function(k){u.setTimeout(k,0)}}function Hc(c,p){ca||E_(),_f||(ca(),_f=!0),Vc.add(c,p)}var ca;function E_(){if(u.Promise&&u.Promise.resolve){var c=u.Promise.resolve(void 0);ca=function(){c.then(S_)}}else ca=function(){var p=S_;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!Xi("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(Xd||(Xd=lm()),Xd(p)):u.setImmediate(p)}}var _f=!1,Vc=new Le;function S_(){for(var c;c=Xn();){try{c.a.call(c.b)}catch(p){Yl(p)}lt(it,c)}_f=!1}function bn(c,p){if(this.a=Ku,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,c!=f)try{var _=this;c.call(p,function(D){zu(_,Zl,D)},function(D){if(!(D instanceof Jd))try{throw D instanceof Error?D:Error("Promise rejected.")}catch{}zu(_,Xl,D)})}catch(D){zu(this,Xl,D)}}var Ku=0,Zl=2,Xl=3;function qp(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}qp.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var x_=new xt(function(){return new qp},function(c){c.reset()});function $p(c,p,_){var D=x_.get();return D.g=c,D.b=p,D.f=_,D}function Ft(c){if(c instanceof bn)return c;var p=new bn(f);return zu(p,Zl,c),p}function Pi(c){return new bn(function(p,_){_(c)})}function Ra(c,p,_){hm(c,p,_,null)||Hc(j(p,c))}function I_(c){return new bn(function(p,_){var D=c.length,k=[];if(D)for(var q=function(Ve,en){D--,k[Ve]=en,D==0&&p(k)},J=function(Ve){_(Ve)},ce=0,Pe;ce<c.length;ce++)Pe=c[ce],Ra(Pe,j(q,ce),J);else p(k)})}function cm(c){return new bn(function(p){var _=c.length,D=[];if(_)for(var k=function(ce,Pe,Ve){_--,D[ce]=Pe?{Mb:!0,value:Ve}:{Mb:!1,reason:Ve},_==0&&p(D)},q=0,J;q<c.length;q++)J=c[q],Ra(J,j(k,q,!0),j(k,q,!1));else p(D)})}bn.prototype.then=function(c,p,_){return T_(this,m(c)?c:null,m(p)?p:null,_)},bn.prototype.$goog_Thenable=!0,t=bn.prototype,t.ma=function(c,p){return c=$p(c,c,p),c.c=!0,dm(this,c),this},t.o=function(c,p){return T_(this,null,c,p)},t.cancel=function(c){if(this.a==Ku){var p=new Jd(c);Hc(function(){um(this,p)},this)}};function um(c,p){if(c.a==Ku)if(c.c){var _=c.c;if(_.b){for(var D=0,k=null,q=null,J=_.b;J&&(J.c||(D++,J.a==c&&(k=J),!(k&&1<D)));J=J.next)k||(q=J);k&&(_.a==Ku&&D==1?um(_,p):(q?(D=q,D.next==_.f&&(_.f=D),D.next=D.next.next):M_(_),O_(_,k,Xl,p)))}c.c=null}else zu(c,Xl,p)}function dm(c,p){c.b||c.a!=Zl&&c.a!=Xl||fm(c),c.f?c.f.next=p:c.b=p,c.f=p}function T_(c,p,_,D){var k=$p(null,null,null);return k.a=new bn(function(q,J){k.g=p?function(ce){try{var Pe=p.call(D,ce);q(Pe)}catch(Ve){J(Ve)}}:q,k.b=_?function(ce){try{var Pe=_.call(D,ce);Pe===void 0&&ce instanceof Jd?J(ce):q(Pe)}catch(Ve){J(Ve)}}:J}),k.a.c=c,dm(c,k),k.a}t.Yc=function(c){this.a=Ku,zu(this,Zl,c)},t.Zc=function(c){this.a=Ku,zu(this,Xl,c)};function zu(c,p,_){c.a==Ku&&(c===_&&(p=Xl,_=new TypeError("Promise cannot resolve to itself")),c.a=1,hm(_,c.Yc,c.Zc,c)||(c.i=_,c.a=p,c.c=null,fm(c),p!=Xl||_ instanceof Jd||pm(c,_)))}function hm(c,p,_,D){if(c instanceof bn)return dm(c,$p(p||f,_||null,D)),!0;if(ue(c))return c.then(p,_,D),!0;if(b(c))try{var k=c.then;if(m(k))return D_(c,k,p,_,D),!0}catch(q){return _.call(D,q),!0}return!1}function D_(c,p,_,D,k){function q(Pe){ce||(ce=!0,D.call(k,Pe))}function J(Pe){ce||(ce=!0,_.call(k,Pe))}var ce=!1;try{p.call(c,J,q)}catch(Pe){q(Pe)}}function fm(c){c.h||(c.h=!0,Hc(c.ec,c))}function M_(c){var p=null;return c.b&&(p=c.b,c.b=p.next,p.next=null),c.b||(c.f=null),p}t.ec=function(){for(var c;c=M_(this);)O_(this,c,this.a,this.i);this.h=!1};function O_(c,p,_,D){if(_==Xl&&p.b&&!p.c)for(;c&&c.g;c=c.c)c.g=!1;if(p.a)p.a.c=null,oo(p,_,D);else try{p.c?p.g.call(p.f):oo(p,_,D)}catch(k){Jl.call(null,k)}lt(x_,p)}function oo(c,p,_){p==Zl?c.g.call(c.f,_):c.b&&c.b.call(c.f,_)}function pm(c,p){c.g=!0,Hc(function(){c.g&&Jl.call(null,p)})}var Jl=Yl;function Jd(c){Fe.call(this,c)}Y(Jd,Fe),Jd.prototype.name="cancel";function yf(){Yp!=0&&(F_[S(this)]=this),this.wa=this.wa,this.na=this.na}var Yp=0,F_={};yf.prototype.wa=!1;function wf(c){if(!c.wa&&(c.wa=!0,c.Ba(),Yp!=0)){var p=S(c);if(Yp!=0&&c.na&&0<c.na.length)throw Error(c+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete F_[p]}}yf.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Zp=Object.freeze||function(c){return c},Am=!Sn||9<=Number(Wi),B_=Sn&&!sm("9"),Kn=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{u.addEventListener("test",f,p),u.removeEventListener("test",f,p)}catch{}return c}();function Nr(c,p){this.type=c,this.b=this.target=p,this.defaultPrevented=!1}Nr.prototype.preventDefault=function(){this.defaultPrevented=!0};function Ms(c,p){if(Nr.call(this,c?c.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,c){var _=this.type=c.type,D=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.b=p,p=c.relatedTarget){if(qd){e:{try{Wp(p.nodeName);var k=!0;break e}catch{}k=!1}k||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ub[c.pointerType]||"",this.a=c,c.defaultPrevented&&this.preventDefault()}}Y(Ms,Nr);var Ub=Zp({2:"touch",3:"pen",4:"mouse"});Ms.prototype.preventDefault=function(){Ms.Za.preventDefault.call(this);var c=this.a;if(c.preventDefault)c.preventDefault();else if(c.returnValue=!1,B_)try{(c.ctrlKey||112<=c.keyCode&&123>=c.keyCode)&&(c.keyCode=-1)}catch{}},Ms.prototype.f=function(){return this.a};var eh="closure_listenable_"+(1e6*Math.random()|0),Hb=0;function Xp(c,p,_,D,k){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!D,this.Ta=k,this.key=++Hb,this.ua=this.Na=!1}function La(c){c.ua=!0,c.listener=null,c.proxy=null,c.src=null,c.Ta=null}function th(c){this.src=c,this.a={},this.b=0}th.prototype.add=function(c,p,_,D,k){var q=c.toString();c=this.a[q],c||(c=this.a[q]=[],this.b++);var J=Ua(c,p,D,k);return-1<J?(p=c[J],_||(p.Na=!1)):(p=new Xp(p,this.src,q,!!D,k),p.Na=_,c.push(p)),p};function gm(c,p){var _=p.type;_ in c.a&&xr(c.a[_],p)&&(La(p),c.a[_].length==0&&(delete c.a[_],c.b--))}function Ua(c,p,_,D){for(var k=0;k<c.length;++k){var q=c[k];if(!q.ua&&q.listener==p&&q.capture==!!_&&q.Ta==D)return k}return-1}var mm="closure_lm_"+(1e6*Math.random()|0),bf={},P_=0;function Ha(c,p,_,D,k){if(D&&D.once)Ef(c,p,_,D,k);else if(Array.isArray(p))for(var q=0;q<p.length;q++)Ha(c,p[q],_,D,k);else _=tA(_),c&&c[eh]?qu(c,p,_,b(D)?!!D.capture:!!D,k):Cf(c,p,_,!1,D,k)}function Cf(c,p,_,D,k,q){if(!p)throw Error("Invalid event type");var J=b(k)?!!k.capture:!!k,ce=nh(c);if(ce||(c[mm]=ce=new th(c)),_=ce.add(p,_,D,J,q),!_.proxy){if(D=Jp(),_.proxy=D,D.src=c,D.listener=_,c.addEventListener)Kn||(k=J),k===void 0&&(k=!1),c.addEventListener(p.toString(),D,k);else if(c.attachEvent)c.attachEvent(N_(p.toString()),D);else if(c.addListener&&c.removeListener)c.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");P_++}}function Jp(){var c=Vb,p=Am?function(_){return c.call(p.src,p.listener,_)}:function(_){if(_=c.call(p.src,p.listener,_),!_)return _};return p}function Ef(c,p,_,D,k){if(Array.isArray(p))for(var q=0;q<p.length;q++)Ef(c,p[q],_,D,k);else _=tA(_),c&&c[eh]?xn(c,p,_,b(D)?!!D.capture:!!D,k):Cf(c,p,_,!0,D,k)}function ua(c,p,_,D,k){if(Array.isArray(p))for(var q=0;q<p.length;q++)ua(c,p[q],_,D,k);else D=b(D)?!!D.capture:!!D,_=tA(_),c&&c[eh]?(c=c.u,p=String(p).toString(),p in c.a&&(q=c.a[p],_=Ua(q,_,D,k),-1<_&&(La(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.a[p],c.b--)))):c&&(c=nh(c))&&(p=c.a[p.toString()],c=-1,p&&(c=Ua(p,_,D,k)),(_=-1<c?p[c]:null)&&k_(_))}function k_(c){if(typeof c!="number"&&c&&!c.ua){var p=c.src;if(p&&p[eh])gm(p.u,c);else{var _=c.type,D=c.proxy;p.removeEventListener?p.removeEventListener(_,D,c.capture):p.detachEvent?p.detachEvent(N_(_),D):p.addListener&&p.removeListener&&p.removeListener(D),P_--,(_=nh(p))?(gm(_,c),_.b==0&&(_.src=null,p[mm]=null)):La(c)}}}function N_(c){return c in bf?bf[c]:bf[c]="on"+c}function vm(c,p,_,D){var k=!0;if((c=nh(c))&&(p=c.a[p.toString()]))for(p=p.concat(),c=0;c<p.length;c++){var q=p[c];q&&q.capture==_&&!q.ua&&(q=R_(q,D),k=k&&q!==!1)}return k}function R_(c,p){var _=c.listener,D=c.Ta||c.src;return c.Na&&k_(c),_.call(D,p)}function Vb(c,p){if(c.ua)return!0;if(!Am){if(!p)e:{p=["window","event"];for(var _=u,D=0;D<p.length;D++)if(_=_[p[D]],_==null){p=null;break e}p=_}if(D=p,p=new Ms(D,this),_=!0,!(0>D.keyCode||D.returnValue!=null)){e:{var k=!1;if(D.keyCode==0)try{D.keyCode=-1;break e}catch{k=!0}(k||D.returnValue==null)&&(D.returnValue=!0)}for(D=[],k=p.b;k;k=k.parentNode)D.push(k);for(c=c.type,k=D.length-1;0<=k;k--){p.b=D[k];var q=vm(D[k],c,!0,p);_=_&&q}for(k=0;k<D.length;k++)p.b=D[k],q=vm(D[k],c,!1,p),_=_&&q}return _}return R_(c,new Ms(p,this))}function nh(c){return c=c[mm],c instanceof th?c:null}var eA="__closure_events_fn_"+(1e9*Math.random()>>>0);function tA(c){return m(c)?c:(c[eA]||(c[eA]=function(p){return c.handleEvent(p)}),c[eA])}function Ir(){yf.call(this),this.u=new th(this),this.Yb=this,this.eb=null}Y(Ir,yf),Ir.prototype[eh]=!0,Ir.prototype.addEventListener=function(c,p,_,D){Ha(this,c,p,_,D)},Ir.prototype.removeEventListener=function(c,p,_,D){ua(this,c,p,_,D)},Ir.prototype.dispatchEvent=function(c){var p,_=this.eb;if(_)for(p=[];_;_=_.eb)p.push(_);_=this.Yb;var D=c.type||c;if(typeof c=="string")c=new Nr(c,_);else if(c instanceof Nr)c.target=c.target||_;else{var k=c;c=new Nr(D,_),gr(c,k)}if(k=!0,p)for(var q=p.length-1;0<=q;q--){var J=c.b=p[q];k=nA(J,D,!0,c)&&k}if(J=c.b=_,k=nA(J,D,!0,c)&&k,k=nA(J,D,!1,c)&&k,p)for(q=0;q<p.length;q++)J=c.b=p[q],k=nA(J,D,!1,c)&&k;return k},Ir.prototype.Ba=function(){if(Ir.Za.Ba.call(this),this.u){var c=this.u,p=0,_;for(_ in c.a){for(var D=c.a[_],k=0;k<D.length;k++)++p,La(D[k]);delete c.a[_],c.b--}}this.eb=null};function qu(c,p,_,D,k){c.u.add(String(p),_,!1,D,k)}function xn(c,p,_,D,k){c.u.add(String(p),_,!0,D,k)}function nA(c,p,_,D){if(p=c.u.a[String(p)],!p)return!0;p=p.concat();for(var k=!0,q=0;q<p.length;++q){var J=p[q];if(J&&!J.ua&&J.capture==_){var ce=J.listener,Pe=J.Ta||J.src;J.Na&&gm(c.u,J),k=ce.call(Pe,D)!==!1&&k}}return k&&!D.defaultPrevented}function $u(c,p,_){if(m(c))_&&(c=L(c,_));else if(c&&typeof c.handleEvent=="function")c=L(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:u.setTimeout(c,p||0)}function Yu(c){var p=null;return new bn(function(_,D){p=$u(function(){_(void 0)},c),p==-1&&D(Error("Failed to schedule timer."))}).o(function(_){throw u.clearTimeout(p),_})}function ec(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,D=0;D<_;D++)p.push(c[D]);return p}p=[],_=0;for(D in c)p[_++]=c[D];return p}function Va(c){if(c.X&&typeof c.X=="function")return c.X();if(!c.V||typeof c.V!="function"){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(var D in c)p[_++]=D;return p}}function Qb(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Rt(c,p,void 0);else for(var _=Va(c),D=ec(c),k=D.length,q=0;q<k;q++)p.call(void 0,D[q],_&&_[q],c)}function Os(c,p){this.b={},this.a=[],this.c=0;var _=arguments.length;if(1<_){if(_%2)throw Error("Uneven number of arguments");for(var D=0;D<_;D+=2)this.set(arguments[D],arguments[D+1])}else if(c)if(c instanceof Os)for(_=c.X(),D=0;D<_.length;D++)this.set(_[D],c.get(_[D]));else for(D in c)this.set(D,c[D])}t=Os.prototype,t.V=function(){Ji(this);for(var c=[],p=0;p<this.a.length;p++)c.push(this.b[this.a[p]]);return c},t.X=function(){return Ji(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Ji(c){if(c.c!=c.a.length){for(var p=0,_=0;p<c.a.length;){var D=c.a[p];tc(c.b,D)&&(c.a[_++]=D),p++}c.a.length=_}if(c.c!=c.a.length){var k={};for(_=p=0;p<c.a.length;)D=c.a[p],tc(k,D)||(c.a[_++]=D,k[D]=1),p++;c.a.length=_}}t.get=function(c,p){return tc(this.b,c)?this.b[c]:p},t.set=function(c,p){tc(this.b,c)||(this.c++,this.a.push(c)),this.b[c]=p},t.forEach=function(c,p){for(var _=this.X(),D=0;D<_.length;D++){var k=_[D],q=this.get(k);c.call(p,q,k,this)}};function tc(c,p){return Object.prototype.hasOwnProperty.call(c,p)}var $r=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function iA(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var D=c[_].indexOf("="),k=null;if(0<=D){var q=c[_].substring(0,D);k=c[_].substring(D+1)}else q=c[_];p(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function dn(c,p){this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1;var _;c instanceof dn?(this.h=p!==void 0?p:c.h,Qc(this,c.f),this.i=c.i,this.b=c.b,li(this,c.l),this.c=c.c,Sf(this,ja(c.a)),this.g=c.g):c&&(_=String(c).match($r))?(this.h=!!p,Qc(this,_[1]||"",!0),this.i=ih(_[2]||""),this.b=ih(_[3]||"",!0),li(this,_[4]),this.c=ih(_[5]||"",!0),Sf(this,_[6]||"",!0),this.g=ih(_[7]||"")):(this.h=!!p,this.a=new Gc(null,this.h))}dn.prototype.toString=function(){var c=[],p=this.f;p&&c.push(rh(p,ha,!0),":");var _=this.b;return(_||p=="file")&&(c.push("//"),(p=this.i)&&c.push(rh(p,ha,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.l,_!=null&&c.push(":",String(_))),(_=this.c)&&(this.b&&_.charAt(0)!="/"&&c.push("/"),c.push(rh(_,_.charAt(0)=="/"?Tr:Qa,!0))),(_=this.a.toString())&&c.push("?",_),(_=this.g)&&c.push("#",rh(_,_m)),c.join("")},dn.prototype.resolve=function(c){var p=new dn(this),_=!!c.f;_?Qc(p,c.f):_=!!c.i,_?p.i=c.i:_=!!c.b,_?p.b=c.b:_=c.l!=null;var D=c.c;if(_)li(p,c.l);else if(_=!!c.c){if(D.charAt(0)!="/")if(this.b&&!this.c)D="/"+D;else{var k=p.c.lastIndexOf("/");k!=-1&&(D=p.c.substr(0,k+1)+D)}if(k=D,k==".."||k==".")D="";else if(ot(k,"./")||ot(k,"/.")){D=k.lastIndexOf("/",0)==0,k=k.split("/");for(var q=[],J=0;J<k.length;){var ce=k[J++];ce=="."?D&&J==k.length&&q.push(""):ce==".."?((1<q.length||q.length==1&&q[0]!="")&&q.pop(),D&&J==k.length&&q.push("")):(q.push(ce),D=!0)}D=q.join("/")}else D=k}return _?p.c=D:_=c.a.toString()!=="",_?Sf(p,ja(c.a)):_=!!c.g,_&&(p.g=c.g),p};function Qc(c,p,_){c.f=_?ih(p,!0):p,c.f&&(c.f=c.f.replace(/:$/,""))}function li(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.l=p}else c.l=null}function Sf(c,p,_){p instanceof Gc?(c.a=p,jb(c.a,c.h)):(_||(p=rh(p,jc)),c.a=new Gc(p,c.h))}function er(c,p,_){c.a.set(p,_)}function Fs(c,p){return c.a.get(p)}function _l(c){return c instanceof dn?new dn(c):new dn(c,void 0)}function nc(c,p){var _=new dn(null,void 0);return Qc(_,"https"),c&&(_.b=c),p&&(_.c=p),_}function ih(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function rh(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,da),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function da(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,Qa=/[#\?:]/g,Tr=/[#\?]/g,jc=/[#\?@]/g,_m=/#/g;function Gc(c,p){this.b=this.a=null,this.c=c||null,this.f=!!p}function fa(c){c.a||(c.a=new Os,c.b=0,c.c&&iA(c.c,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}function xf(c){var p=Va(c);if(typeof p>"u")throw Error("Keys are undefined");var _=new Gc(null,void 0);c=ec(c);for(var D=0;D<p.length;D++){var k=p[D],q=c[D];Array.isArray(q)?yl(_,k,q):_.add(k,q)}return _}t=Gc.prototype,t.add=function(c,p){fa(this),this.c=null,c=oh(this,c);var _=this.a.get(c);return _||this.a.set(c,_=[]),_.push(p),this.b+=1,this};function pa(c,p){fa(c),p=oh(c,p),tc(c.a.b,p)&&(c.c=null,c.b-=c.a.get(p).length,c=c.a,tc(c.b,p)&&(delete c.b[p],c.c--,c.a.length>2*c.c&&Ji(c)))}t.clear=function(){this.a=this.c=null,this.b=0};function Zu(c,p){return fa(c),p=oh(c,p),tc(c.a.b,p)}t.forEach=function(c,p){fa(this),this.a.forEach(function(_,D){Rt(_,function(k){c.call(p,k,D,this)},this)},this)},t.X=function(){fa(this);for(var c=this.a.V(),p=this.a.X(),_=[],D=0;D<p.length;D++)for(var k=c[D],q=0;q<k.length;q++)_.push(p[D]);return _},t.V=function(c){fa(this);var p=[];if(typeof c=="string")Zu(this,c)&&(p=gl(p,this.a.get(oh(this,c))));else{c=this.a.V();for(var _=0;_<c.length;_++)p=gl(p,c[_])}return p},t.set=function(c,p){return fa(this),this.c=null,c=oh(this,c),Zu(this,c)&&(this.b-=this.a.get(c).length),this.a.set(c,[p]),this.b+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function yl(c,p,_){pa(c,p),0<_.length&&(c.c=null,c.a.set(oh(c,p),Fi(_)),c.b+=_.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var c=[],p=this.a.X(),_=0;_<p.length;_++){var D=p[_],k=encodeURIComponent(String(D));D=this.V(D);for(var q=0;q<D.length;q++){var J=k;D[q]!==""&&(J+="="+encodeURIComponent(String(D[q]))),c.push(J)}}return this.c=c.join("&")};function ja(c){var p=new Gc;return p.c=c.c,c.a&&(p.a=new Os(c.a),p.b=c.b),p}function oh(c,p){return p=String(p),c.f&&(p=p.toLowerCase()),p}function jb(c,p){p&&!c.f&&(fa(c),c.c=null,c.a.forEach(function(_,D){var k=D.toLowerCase();D!=k&&(pa(this,D),yl(this,k,_))},c)),c.f=p}function If(c){var p=[];return ym(new L_,c,p),p.join("")}function L_(){}function ym(c,p,_){if(p==null)_.push("null");else{if(typeof p=="object"){if(Array.isArray(p)){var D=p;p=D.length,_.push("[");for(var k="",q=0;q<p;q++)_.push(k),ym(c,D[q],_),k=",";_.push("]");return}if(p instanceof String||p instanceof Number||p instanceof Boolean)p=p.valueOf();else{_.push("{"),k="";for(D in p)Object.prototype.hasOwnProperty.call(p,D)&&(q=p[D],typeof q!="function"&&(_.push(k),rA(D,_),_.push(":"),ym(c,q,_),k=","));_.push("}");return}}switch(typeof p){case"string":rA(p,_);break;case"number":_.push(isFinite(p)&&!isNaN(p)?String(p):"null");break;case"boolean":_.push(String(p));break;case"function":_.push("null");break;default:throw Error("Unknown type: "+typeof p)}}}var U_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Ga=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function rA(c,p){p.push('"',c.replace(Ga,function(_){var D=U_[_];return D||(D="\\u"+(_.charCodeAt(0)|65536).toString(16).substr(1),U_[_]=D),D}),'"')}function wm(){var c=ao();return Sn&&!!Wi&&Wi==11||/Edge\/\d+/.test(c)}function Tf(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function Po(c,p){p=p||u.window;var _="about:blank";c&&(_=pf(Bo(c))),p.location.href=_}function Wc(c,p){var _=[],D;for(D in c)D in p?typeof c[D]!=typeof p[D]?_.push(D):typeof c[D]=="object"&&c[D]!=null&&p[D]!=null?0<Wc(c[D],p[D]).length&&_.push(D):c[D]!==p[D]&&_.push(D):_.push(D);for(D in p)D in c||_.push(D);return _}function bm(){var c=ao();return c=Xu(c)!=Q_?null:(c=c.match(/\sChrome\/(\d+)/i))&&c.length==2?parseInt(c[1],10):null,c&&30>c?!1:!Sn||!Wi||9<Wi}function Cm(c){return c=(c||ao()).toLowerCase(),!!(c.match(/android/)||c.match(/webos/)||c.match(/iphone|ipad|ipod/)||c.match(/blackberry/)||c.match(/windows phone/)||c.match(/iemobile/))}function ic(c){c=c||u.window;try{c.close()}catch{}}function oA(c,p,_){var D=Math.floor(1e9*Math.random()).toString();p=p||500,_=_||600;var k=(window.screen.availHeight-_)/2,q=(window.screen.availWidth-p)/2;p={width:p,height:_,top:0<k?k:0,left:0<q?q:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},_=ao().toLowerCase(),D&&(p.target=D,ot(_,"crios/")&&(p.target="_blank")),Xu(ao())==Df&&(c=c||"http://localhost",p.scrollbars=!0),_=c||"",(c=p)||(c={}),D=window,p=_ instanceof tt?_:Bo(typeof _.href<"u"?_.href:String(_)),_=c.target||_.target,k=[];for(J in c)switch(J){case"width":case"height":case"top":case"left":k.push(J+"="+c[J]);break;case"target":case"noopener":case"noreferrer":break;default:k.push(J+"="+(c[J]?1:0))}var J=k.join(",");if((Xi("iPhone")&&!Xi("iPod")&&!Xi("iPad")||Xi("iPad")||Xi("iPod"))&&D.navigator&&D.navigator.standalone&&_&&_!="_self"?(J=zp(document,"A"),oi(J,"HTMLAnchorElement"),p instanceof tt||p instanceof tt||(p=typeof p=="object"&&p.ra?p.qa():String(p),__.test(p)||(p="about:invalid#zClosurez"),p=new tt(Jn,p)),J.href=pf(p),J.setAttribute("target",_),c.noreferrer&&J.setAttribute("rel","noreferrer"),c=document.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,D,1),J.dispatchEvent(c),J={}):c.noreferrer?(J=D.open("",_,J),c=pf(p),J&&(Nb&&ot(c,";")&&(c="'"+c.replace(/'/g,"%27")+"'"),J.opener=null,c=la('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ds(c)+'">'),D=J.document)&&(D.write(im(c)),D.close())):(J=D.open(pf(p),_,J))&&c.noopener&&(J.opener=null),J)try{J.focus()}catch{}return J}function H_(c){return new bn(function(p){function _(){Yu(2e3).then(function(){if(!c||c.closed)p();else return _()})}return _()})}var V_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Em=/^[^@]+@[^@]+$/;function sA(){var c=null;return new bn(function(p){u.document.readyState=="complete"?p():(c=function(){p()},Ef(window,"load",c))}).o(function(p){throw ua(window,"load",c),p})}function Gb(){return sh(void 0)?sA().then(function(){return new bn(function(c,p){var _=u.document,D=setTimeout(function(){p(Error("Cordova framework is not ready."))},1e3);_.addEventListener("deviceready",function(){clearTimeout(D),c()},!1)})}):Pi(Error("Cordova must run in an Android or iOS file scheme."))}function sh(c){return c=c||ao(),!(lh()!=="file:"&&lh()!=="ionic:"||!c.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ao(){var c=u.window;try{return!(!c||c==c.top)}catch{return!1}}function Wa(){return typeof u.WorkerGlobalScope<"u"&&typeof u.importScripts=="function"}function wl(){return n.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":n.INTERNAL.hasOwnProperty("node")?"Node":Wa()?"Worker":"Browser"}function so(){var c=wl();return c==="ReactNative"||c==="Node"}function go(){for(var c=50,p=[];0<c;)p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),c--;return p.join("")}var Df="Firefox",Q_="Chrome";function Xu(c){var p=c.toLowerCase();if(ot(p,"opera/")||ot(p,"opr/")||ot(p,"opios/"))return"Opera";if(ot(p,"iemobile"))return"IEMobile";if(ot(p,"msie")||ot(p,"trident/"))return"IE";if(ot(p,"edge/"))return"Edge";if(ot(p,"firefox/"))return Df;if(ot(p,"silk/"))return"Silk";if(ot(p,"blackberry"))return"Blackberry";if(ot(p,"webos"))return"Webos";if(!ot(p,"safari/")||ot(p,"chrome/")||ot(p,"crios/")||ot(p,"android"))if(!ot(p,"chrome/")&&!ot(p,"crios/")||ot(p,"edge/")){if(ot(p,"android"))return"Android";if((c=c.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&c.length==2)return c[1]}else return Q_;else return"Safari";return"Other"}var j_={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function ah(c,p){p=p||[];var _=[],D={},k;for(k in j_)D[j_[k]]=!0;for(k=0;k<p.length;k++)typeof D[p[k]]<"u"&&(delete D[p[k]],_.push(p[k]));return _.sort(),p=_,p.length||(p=["FirebaseCore-web"]),_=wl(),_==="Browser"?(D=ao(),_=Xu(D)):_==="Worker"&&(D=ao(),_=Xu(D)+"-"+_),_+"/JsCore/"+c+"/"+p.join(",")}function ao(){return u.navigator&&u.navigator.userAgent||""}function Dn(c,p){c=c.split("."),p=p||u;for(var _=0;_<c.length&&typeof p=="object"&&p!=null;_++)p=p[c[_]];return _!=c.length&&(p=void 0),p}function Sm(){try{var c=u.localStorage,p=qc();if(c)return c.setItem(p,"1"),c.removeItem(p),wm()?!!u.indexedDB:!0}catch{return Wa()&&!!u.indexedDB}return!1}function Ju(){return(Kc()||lh()==="chrome-extension:"||sh())&&!so()&&Sm()&&!Wa()}function Kc(){return lh()==="http:"||lh()==="https:"}function lh(){return u.location&&u.location.protocol||null}function Mf(c){return c=c||ao(),!(Cm(c)||Xu(c)==Df)}function zc(c){return typeof c>"u"?null:If(c)}function G_(c){var p={},_;for(_ in c)c.hasOwnProperty(_)&&c[_]!==null&&c[_]!==void 0&&(p[_]=c[_]);return p}function ch(c){if(c!==null)return JSON.parse(c)}function qc(c){return c||Math.floor(1e9*Math.random()).toString()}function xm(c){return c=c||ao(),!(Xu(c)=="Safari"||c.toLowerCase().match(/iphone|ipad|ipod/))}function uh(){var c=u.___jsl;if(c&&c.H){for(var p in c.H)if(c.H[p].r=c.H[p].r||[],c.H[p].L=c.H[p].L||[],c.H[p].r=c.H[p].L.concat(),c.CP)for(var _=0;_<c.CP.length;_++)c.CP[_]=null}}function Ka(c,p){if(c>p)throw Error("Short delay should be less than long delay!");this.a=c,this.c=p,c=ao(),p=wl(),this.b=Cm(c)||p==="ReactNative"}Ka.prototype.get=function(){var c=u.navigator;return!(c&&typeof c.onLine=="boolean"&&(Kc()||lh()==="chrome-extension:"||typeof c.connection<"u"))||c.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function $c(){var c=u.document;return c&&typeof c.visibilityState<"u"?c.visibilityState=="visible":!0}function aA(){var c=u.document,p=null;return $c()||!c?Ft():new bn(function(_){p=function(){$c()&&(c.removeEventListener("visibilitychange",p,!1),_())},c.addEventListener("visibilitychange",p,!1)}).o(function(_){throw c.removeEventListener("visibilitychange",p,!1),_})}function dh(c){try{var p=new Date(parseInt(c,10));if(!isNaN(p.getTime())&&!/[^0-9]/.test(c))return p.toUTCString()}catch{}return null}function Ti(){return!(!Dn("fireauth.oauthhelper",u)&&!Dn("fireauth.iframe",u))}function Of(){var c=u.navigator;return c&&c.serviceWorker&&c.serviceWorker.controller||null}function W_(){var c=u.navigator;return c&&c.serviceWorker?Ft().then(function(){return c.serviceWorker.ready}).then(function(p){return p.active||null}).o(function(){return null}):Ft(null)}var K_={};function Im(c){K_[c]||(K_[c]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(c))}var Tm;try{var hh={};Object.defineProperty(hh,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(hh,"abcd",{configurable:!0,enumerable:!0,value:2}),Tm=hh.abcd==2}catch{Tm=!1}function Ct(c,p,_){Tm?Object.defineProperty(c,p,{configurable:!0,enumerable:!0,value:_}):c[p]=_}function ko(c,p){if(p)for(var _ in p)p.hasOwnProperty(_)&&Ct(c,_,p[_])}function Yc(c){var p={};return ko(p,c),p}function Wb(c){var p={},_;for(_ in c)c.hasOwnProperty(_)&&(p[_]=c[_]);return p}function Kb(c,p){if(!p||!p.length)return!0;if(!c)return!1;for(var _=0;_<p.length;_++){var D=c[p[_]];if(D==null||D==="")return!1}return!0}function Dm(c){var p=c;if(typeof c=="object"&&c!=null){p="length"in c?[]:{};for(var _ in c)Ct(p,_,Dm(c[_]))}return p}function Mm(c){var p=c&&(c[Ff]?"phone":null);if(p&&c&&c[Bm]){Ct(this,"uid",c[Bm]),Ct(this,"displayName",c[Zc]||null);var _=null;c[Fm]&&(_=new Date(c[Fm]).toUTCString()),Ct(this,"enrollmentTime",_),Ct(this,"factorId",p)}else throw new Z("internal-error","Internal assert: invalid MultiFactorInfo object")}Mm.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Om(c){try{var p=new Bf(c)}catch{p=null}return p}var Zc="displayName",Fm="enrolledAt",Bm="mfaEnrollmentId",Ff="phoneInfo";function Bf(c){Mm.call(this,c),Ct(this,"phoneNumber",c[Ff])}Y(Bf,Mm),Bf.prototype.v=function(){var c=Bf.Za.v.call(this);return c.phoneNumber=this.phoneNumber,c};function zb(c){var p={},_=c[qb],D=c[Pm],k=c[uA];if(c=Om(c[ke]),!k||k!=cA&&k!=ed&&!_||k==ed&&!D||k==lA&&!c)throw Error("Invalid checkActionCode response!");k==ed?(p[dA]=_||null,p[q_]=_||null,p[z_]=D):(p[dA]=D||null,p[q_]=D||null,p[z_]=_||null),p[hA]=c||null,Ct(this,$b,k),Ct(this,Xc,Dm(p))}var lA="REVERT_SECOND_FACTOR_ADDITION",cA="EMAIL_SIGNIN",ed="VERIFY_AND_CHANGE_EMAIL",qb="email",ke="mfaInfo",Pm="newEmail",uA="requestType",z_="email",dA="fromEmail",hA="multiFactorInfo",q_="previousEmail",Xc="data",$b="operation";function km(c){c=_l(c);var p=Fs(c,Pf)||null,_=Fs(c,$_)||null,D=Fs(c,Z_)||null;if(D=D&&Zb[D]||null,!p||!_||!D)throw new Z("argument-error",Pf+", "+$_+"and "+Z_+" are required in a valid action code URL.");ko(this,{apiKey:p,operation:D,code:_,continueUrl:Fs(c,Y_)||null,languageCode:Fs(c,Yb)||null,tenantId:Fs(c,bl)||null})}var Pf="apiKey",$_="oobCode",Y_="continueUrl",Yb="languageCode",Z_="mode",bl="tenantId",Zb={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:lA,signIn:cA,verifyAndChangeEmail:ed,verifyEmail:"VERIFY_EMAIL"};function Bs(c){try{return new km(c)}catch{return null}}function fA(c){var p=c[Xb];if(typeof p>"u")throw new Z("missing-continue-uri");if(typeof p!="string"||typeof p=="string"&&!p.length)throw new Z("invalid-continue-uri");this.h=p,this.b=this.a=null,this.g=!1;var _=c[rc];if(_&&typeof _=="object"){p=_[Rm];var D=_[Ge];if(_=_[J_],typeof p=="string"&&p.length){if(this.a=p,typeof D<"u"&&typeof D!="boolean")throw new Z("argument-error",Ge+" property must be a boolean when specified.");if(this.g=!!D,typeof _<"u"&&(typeof _!="string"||typeof _=="string"&&!_.length))throw new Z("argument-error",J_+" property must be a non empty string when specified.");this.b=_||null}else{if(typeof p<"u")throw new Z("argument-error",Rm+" property must be a non empty string when specified.");if(typeof D<"u"||typeof _<"u")throw new Z("missing-android-pkg-name")}}else if(typeof _<"u")throw new Z("argument-error",rc+" property must be a non null object when specified.");if(this.f=null,(p=c[X_])&&typeof p=="object"){if(p=p[Lm],typeof p=="string"&&p.length)this.f=p;else if(typeof p<"u")throw new Z("argument-error",Lm+" property must be a non empty string when specified.")}else if(typeof p<"u")throw new Z("argument-error",X_+" property must be a non null object when specified.");if(p=c[Nm],typeof p<"u"&&typeof p!="boolean")throw new Z("argument-error",Nm+" property must be a boolean when specified.");if(this.c=!!p,c=c[Cl],typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new Z("argument-error",Cl+" property must be a non empty string when specified.");this.i=c||null}var rc="android",Cl="dynamicLinkDomain",Nm="handleCodeInApp",X_="iOS",Xb="url",Ge="installApp",J_="minimumVersion",Rm="packageName",Lm="bundleId";function In(c){var p={};p.continueUrl=c.h,p.canHandleCodeInApp=c.c,(p.androidPackageName=c.a)&&(p.androidMinimumVersion=c.b,p.androidInstallApp=c.g),p.iOSBundleId=c.f,p.dynamicLinkDomain=c.i;for(var _ in p)p[_]===null&&delete p[_];return p}function Jc(c){return Oo(c,function(p){return p=p.toString(16),1<p.length?p:"0"+p}).join("")}var fh=null;function ph(c){var p="";return Jb(c,function(_){p+=String.fromCharCode(_)}),p}function Jb(c,p){function _(Pe){for(;D<c.length;){var Ve=c.charAt(D++),en=fh[Ve];if(en!=null)return en;if(!/^[\s\xa0]*$/.test(Ve))throw Error("Unknown base64 encoding at char: "+Ve)}return Pe}eC();for(var D=0;;){var k=_(-1),q=_(0),J=_(64),ce=_(64);if(ce===64&&k===-1)break;p(k<<2|q>>4),J!=64&&(p(q<<4&240|J>>2),ce!=64&&p(J<<6&192|ce))}}function eC(){if(!fh){fh={};for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),p=["+/=","+/","-_=","-_.","-_"],_=0;5>_;_++)for(var D=c.concat(p[_].split("")),k=0;k<D.length;k++){var q=D[k];fh[q]===void 0&&(fh[q]=k)}}}function kf(c){var p=ey(c);if(!(p&&p.sub&&p.iss&&p.aud&&p.exp))throw Error("Invalid JWT");this.g=c,this.c=p.exp,this.h=p.sub,G(),this.a=p.provider_id||p.firebase&&p.firebase.sign_in_provider||null,this.f=p.firebase&&p.firebase.tenant||null,this.b=!!p.is_anonymous||this.a=="anonymous"}kf.prototype.S=function(){return this.f},kf.prototype.i=function(){return this.b},kf.prototype.toString=function(){return this.g};function pA(c){try{return new kf(c)}catch{return null}}function ey(c){if(!c||(c=c.split("."),c.length!=3))return null;c=c[1];for(var p=(4-c.length%4)%4,_=0;_<p;_++)c+=".";try{return JSON.parse(ph(c))}catch{}return null}var El="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),AA=["client_id","response_type","scope","redirect_uri","state"],gA={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:AA},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:AA},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:AA},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:El},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Um(c){for(var p in gA)if(gA[p].ea==c)return gA[p];return null}function ty(c){var p={};p["facebook.com"]=iy,p["google.com"]=Sl,p["github.com"]=ry,p["twitter.com"]=oy;var _=c&&c[ny];try{if(_)return p[_]?new p[_](c):new Aa(c);if(typeof c[td]<"u")return new tr(c)}catch{}return null}var td="idToken",ny="providerId";function tr(c){var p=c[ny];if(!p&&c[td]){var _=pA(c[td]);_&&_.a&&(p=_.a)}if(!p)throw Error("Invalid additional user info!");(p=="anonymous"||p=="custom")&&(p=null),_=!1,typeof c.isNewUser<"u"?_=!!c.isNewUser:c.kind==="identitytoolkit#SignupNewUserResponse"&&(_=!0),Ct(this,"providerId",p),Ct(this,"isNewUser",_)}function Aa(c){tr.call(this,c),c=ch(c.rawUserInfo||"{}"),Ct(this,"profile",Dm(c||{}))}Y(Aa,tr);function iy(c){if(Aa.call(this,c),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}Y(iy,Aa);function ry(c){if(Aa.call(this,c),this.providerId!="github.com")throw Error("Invalid provider ID!");Ct(this,"username",this.profile&&this.profile.login||null)}Y(ry,Aa);function Sl(c){if(Aa.call(this,c),this.providerId!="google.com")throw Error("Invalid provider ID!")}Y(Sl,Aa);function oy(c){if(Aa.call(this,c),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Ct(this,"username",c.screenName||null)}Y(oy,Aa);function Hm(c){var p=_l(c),_=Fs(p,"link"),D=Fs(_l(_),"link");return p=Fs(p,"deep_link_id"),Fs(_l(p),"link")||p||D||_||c}function mA(c,p){if(!c&&!p)throw new Z("internal-error","Internal assert: no raw session string available");if(c&&p)throw new Z("internal-error","Internal assert: unable to determine the session type");this.a=c||null,this.b=p||null,this.type=this.a?Ps:vA}var Ps="enroll",vA="signin";mA.prototype.Fa=function(){return this.a?Ft(this.a):Ft(this.b)},mA.prototype.v=function(){return this.type==Ps?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Ah(){}Ah.prototype.ia=function(){},Ah.prototype.b=function(){},Ah.prototype.c=function(){},Ah.prototype.v=function(){};function gh(c,p){return c.then(function(_){if(_[Ml]){var D=pA(_[Ml]);if(!D||p!=D.h)throw new Z("user-mismatch");return _}throw new Z("user-mismatch")}).o(function(_){throw _&&_.code&&_.code==xe+"user-not-found"?new Z("user-mismatch"):_})}function nd(c,p){if(p)this.a=p;else throw new Z("internal-error","failed to construct a credential");Ct(this,"providerId",c),Ct(this,"signInMethod",c)}nd.prototype.ia=function(c){return Ey(c,Vm(this))},nd.prototype.b=function(c,p){var _=Vm(this);return _.idToken=p,mr(c,_)},nd.prototype.c=function(c,p){return gh(sd(c,Vm(this)),p)};function Vm(c){return{pendingToken:c.a,requestUri:"http://localhost"}}nd.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function sy(c){if(c&&c.providerId&&c.signInMethod&&c.providerId.indexOf("saml.")==0&&c.pendingToken)try{return new nd(c.providerId,c.pendingToken)}catch{}return null}function rt(c,p,_){if(this.a=null,p.idToken||p.accessToken)p.idToken&&Ct(this,"idToken",p.idToken),p.accessToken&&Ct(this,"accessToken",p.accessToken),p.nonce&&!p.pendingToken&&Ct(this,"nonce",p.nonce),p.pendingToken&&(this.a=p.pendingToken);else if(p.oauthToken&&p.oauthTokenSecret)Ct(this,"accessToken",p.oauthToken),Ct(this,"secret",p.oauthTokenSecret);else throw new Z("internal-error","failed to construct a credential");Ct(this,"providerId",c),Ct(this,"signInMethod",_)}rt.prototype.ia=function(c){return Ey(c,oc(this))},rt.prototype.b=function(c,p){var _=oc(this);return _.idToken=p,mr(c,_)},rt.prototype.c=function(c,p){var _=oc(this);return gh(sd(c,_),p)};function oc(c){var p={};return c.idToken&&(p.id_token=c.idToken),c.accessToken&&(p.access_token=c.accessToken),c.secret&&(p.oauth_token_secret=c.secret),p.providerId=c.providerId,c.nonce&&!c.a&&(p.nonce=c.nonce),p={postBody:xf(p).toString(),requestUri:"http://localhost"},c.a&&(delete p.postBody,p.pendingToken=c.a),p}rt.prototype.v=function(){var c={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(c.oauthIdToken=this.idToken),this.accessToken&&(c.oauthAccessToken=this.accessToken),this.secret&&(c.oauthTokenSecret=this.secret),this.nonce&&(c.nonce=this.nonce),this.a&&(c.pendingToken=this.a),c};function tC(c){if(c&&c.providerId&&c.signInMethod){var p={idToken:c.oauthIdToken,accessToken:c.oauthTokenSecret?null:c.oauthAccessToken,oauthTokenSecret:c.oauthTokenSecret,oauthToken:c.oauthTokenSecret&&c.oauthAccessToken,nonce:c.nonce,pendingToken:c.pendingToken};try{return new rt(c.providerId,p,c.signInMethod)}catch{}}return null}function sc(c,p){this.Oc=p||[],ko(this,{providerId:c,isOAuthProvider:!0}),this.Fb={},this.lb=(Um(c)||{}).Ha||null,this.kb=null}sc.prototype.Ia=function(c){return this.Fb=ka(c),this};function za(c){if(typeof c!="string"||c.indexOf("saml.")!=0)throw new Z("argument-error",'SAML provider IDs must be prefixed with "saml."');sc.call(this,c,[])}Y(za,sc);function ks(c){sc.call(this,c,AA),this.a=[]}Y(ks,sc),ks.prototype.Aa=function(c){return Fo(this.a,c)||this.a.push(c),this},ks.prototype.Nb=function(){return Fi(this.a)},ks.prototype.credential=function(c,p){var _;if(b(c)?_={idToken:c.idToken||null,accessToken:c.accessToken||null,nonce:c.rawNonce||null}:_={idToken:c||null,accessToken:p||null},!_.idToken&&!_.accessToken)throw new Z("argument-error","credential failed: must provide the ID token and/or the access token.");return new rt(this.providerId,_,this.providerId)};function eu(){ks.call(this,"facebook.com")}Y(eu,ks),Ct(eu,"PROVIDER_ID","facebook.com"),Ct(eu,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function mh(c){if(!c)throw new Z("argument-error","credential failed: expected 1 argument (the OAuth access token).");var p=c;return b(c)&&(p=c.accessToken),new eu().credential({accessToken:p})}function xl(){ks.call(this,"github.com")}Y(xl,ks),Ct(xl,"PROVIDER_ID","github.com"),Ct(xl,"GITHUB_SIGN_IN_METHOD","github.com");function ay(c){if(!c)throw new Z("argument-error","credential failed: expected 1 argument (the OAuth access token).");var p=c;return b(c)&&(p=c.accessToken),new xl().credential({accessToken:p})}function No(){ks.call(this,"google.com"),this.Aa("profile")}Y(No,ks),Ct(No,"PROVIDER_ID","google.com"),Ct(No,"GOOGLE_SIGN_IN_METHOD","google.com");function id(c,p){var _=c;return b(c)&&(_=c.idToken,p=c.accessToken),new No().credential({idToken:_,accessToken:p})}function ga(){sc.call(this,"twitter.com",El)}Y(ga,sc),Ct(ga,"PROVIDER_ID","twitter.com"),Ct(ga,"TWITTER_SIGN_IN_METHOD","twitter.com");function _A(c,p){var _=c;if(b(_)||(_={oauthToken:c,oauthTokenSecret:p}),!_.oauthToken||!_.oauthTokenSecret)throw new Z("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new rt("twitter.com",_,"twitter.com")}function Il(c,p,_){this.a=c,this.f=p,Ct(this,"providerId","password"),Ct(this,"signInMethod",_===Ns.EMAIL_LINK_SIGN_IN_METHOD?Ns.EMAIL_LINK_SIGN_IN_METHOD:Ns.EMAIL_PASSWORD_SIGN_IN_METHOD)}Il.prototype.ia=function(c){return this.signInMethod==Ns.EMAIL_LINK_SIGN_IN_METHOD?On(c,AT,{email:this.a,oobCode:this.f}):On(c,bC,{email:this.a,password:this.f})},Il.prototype.b=function(c,p){return this.signInMethod==Ns.EMAIL_LINK_SIGN_IN_METHOD?On(c,_C,{idToken:p,email:this.a,oobCode:this.f}):On(c,yT,{idToken:p,email:this.a,password:this.f})},Il.prototype.c=function(c,p){return gh(this.ia(c),p)},Il.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function nC(c){return c&&c.email&&c.password?new Il(c.email,c.password,c.signInMethod):null}function Ns(){ko(this,{providerId:"password",isOAuthProvider:!1})}function yA(c,p){if(p=Tl(p),!p)throw new Z("argument-error","Invalid email link!");return new Il(c,p.code,Ns.EMAIL_LINK_SIGN_IN_METHOD)}function Tl(c){return c=Hm(c),(c=Bs(c))&&c.operation===cA?c:null}ko(Ns,{PROVIDER_ID:"password"}),ko(Ns,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ko(Ns,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function qa(c){if(!(c.bb&&c.ab||c.Ja&&c.da))throw new Z("internal-error");this.a=c,Ct(this,"providerId","phone"),this.ea="phone",Ct(this,"signInMethod","phone")}qa.prototype.ia=function(c){return c.cb(y(this))},qa.prototype.b=function(c,p){var _=y(this);return _.idToken=p,On(c,Hk,_)},qa.prototype.c=function(c,p){var _=y(this);return _.operation="REAUTH",c=On(c,Vk,_),gh(c,p)},qa.prototype.v=function(){var c={providerId:"phone"};return this.a.bb&&(c.verificationId=this.a.bb),this.a.ab&&(c.verificationCode=this.a.ab),this.a.Ja&&(c.temporaryProof=this.a.Ja),this.a.da&&(c.phoneNumber=this.a.da),c};function Mn(c){if(c&&c.providerId==="phone"&&(c.verificationId&&c.verificationCode||c.temporaryProof&&c.phoneNumber)){var p={};return Rt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(_){c[_]&&(p[_]=c[_])}),new qa(p)}return null}function y(c){return c.a.Ja&&c.a.da?{temporaryProof:c.a.Ja,phoneNumber:c.a.da}:{sessionInfo:c.a.bb,code:c.a.ab}}function O(c){try{this.a=c||n.auth()}catch{throw new Z("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ko(this,{providerId:"phone",isOAuthProvider:!1})}O.prototype.cb=function(c,p){var _=this.a.b;return Ft(p.verify()).then(function(D){if(typeof D!="string")throw new Z("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(p.type){case"recaptcha":var k=b(c)?c.session:null,q=b(c)?c.phoneNumber:c,J;return k&&k.type==Ps?J=k.Fa().then(function(ce){return Tk(_,{idToken:ce,phoneEnrollmentInfo:{phoneNumber:q,recaptchaToken:D}})}):k&&k.type==vA?J=k.Fa().then(function(ce){return dT(_,{mfaPendingCredential:ce,mfaEnrollmentId:c.multiFactorHint&&c.multiFactorHint.uid||c.multiFactorUid,phoneSignInInfo:{recaptchaToken:D}})}):J=Cy(_,{phoneNumber:q,recaptchaToken:D}),J.then(function(ce){return typeof p.reset=="function"&&p.reset(),ce},function(ce){throw typeof p.reset=="function"&&p.reset(),ce});default:throw new Z("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function U(c,p){if(!c)throw new Z("missing-verification-id");if(!p)throw new Z("missing-verification-code");return new qa({bb:c,ab:p})}ko(O,{PROVIDER_ID:"phone"}),ko(O,{PHONE_SIGN_IN_METHOD:"phone"});function Q(c){if(c.temporaryProof&&c.phoneNumber)return new qa({Ja:c.temporaryProof,da:c.phoneNumber});var p=c&&c.providerId;if(!p||p==="password")return null;var _=c&&c.oauthAccessToken,D=c&&c.oauthTokenSecret,k=c&&c.nonce,q=c&&c.oauthIdToken,J=c&&c.pendingToken;try{switch(p){case"google.com":return id(q,_);case"facebook.com":return mh(_);case"github.com":return ay(_);case"twitter.com":return _A(_,D);default:return _||D||q||J?J?p.indexOf("saml.")==0?new nd(p,J):new rt(p,{pendingToken:J,idToken:c.oauthIdToken,accessToken:c.oauthAccessToken},p):new ks(p).credential({idToken:q,accessToken:_,rawNonce:k}):null}}catch{return null}}function ee(c){if(!c.isOAuthProvider)throw new Z("invalid-oauth-provider")}function fe(c,p,_,D,k,q,J){if(this.c=c,this.b=p||null,this.g=_||null,this.f=D||null,this.i=q||null,this.h=J||null,this.a=k||null,this.g||this.a){if(this.g&&this.a)throw new Z("invalid-auth-event");if(this.g&&!this.f)throw new Z("invalid-auth-event")}else throw new Z("invalid-auth-event")}fe.prototype.getUid=function(){var c=[];return c.push(this.c),this.b&&c.push(this.b),this.f&&c.push(this.f),this.h&&c.push(this.h),c.join("-")},fe.prototype.S=function(){return this.h},fe.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};function Me(c){return c=c||{},c.type?new fe(c.type,c.eventId,c.urlResponse,c.sessionId,c.error&&_e(c.error),c.postBody,c.tenantId):null}function Bt(){this.b=null,this.a=[]}var hn=null;function wi(c){var p=hn;p.a.push(c),p.b||(p.b=function(_){for(var D=0;D<p.a.length;D++)p.a[D](_)},c=Dn("universalLinks.subscribe",u),typeof c=="function"&&c(null,p.b))}function Rs(c){var p="unauthorized-domain",_=void 0,D=_l(c);c=D.b,D=D.f,D=="chrome-extension"?_=vl("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",c):D=="http"||D=="https"?_=vl("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",c):p="operation-not-supported-in-this-environment",Z.call(this,p,_)}Y(Rs,Z);function Ls(c,p,_){Z.call(this,c,_),c=p||{},c.Gb&&Ct(this,"email",c.Gb),c.da&&Ct(this,"phoneNumber",c.da),c.credential&&Ct(this,"credential",c.credential),c.Wb&&Ct(this,"tenantId",c.Wb)}Y(Ls,Z),Ls.prototype.v=function(){var c={code:this.code,message:this.message};this.email&&(c.email=this.email),this.phoneNumber&&(c.phoneNumber=this.phoneNumber),this.tenantId&&(c.tenantId=this.tenantId);var p=this.credential&&this.credential.v();return p&&gr(c,p),c},Ls.prototype.toJSON=function(){return this.v()};function cs(c){if(c.code){var p=c.code||"";p.indexOf(xe)==0&&(p=p.substring(xe.length));var _={credential:Q(c),Wb:c.tenantId};if(c.email)_.Gb=c.email;else if(c.phoneNumber)_.da=c.phoneNumber;else if(!_.credential)return new Z(p,c.message||void 0);return new Ls(p,_,c.message)}return null}function Qm(){}Qm.prototype.c=null;function ly(c){return c.c||(c.c=c.b())}var jm;function Gm(){}Y(Gm,Qm),Gm.prototype.a=function(){var c=iC(this);return c?new ActiveXObject(c):new XMLHttpRequest},Gm.prototype.b=function(){var c={};return iC(this)&&(c[0]=!0,c[1]=!0),c};function iC(c){if(!c.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var p=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],_=0;_<p.length;_++){var D=p[_];try{return new ActiveXObject(D),c.f=D}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return c.f}jm=new Gm;function cy(){}Y(cy,Qm),cy.prototype.a=function(){var c=new XMLHttpRequest;if("withCredentials"in c)return c;if(typeof XDomainRequest<"u")return new rC;throw Error("Unsupported browser")},cy.prototype.b=function(){return{}};function rC(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=L(this.oc,this),this.a.onerror=L(this.Pb,this),this.a.onprogress=L(this.pc,this),this.a.ontimeout=L(this.tc,this)}t=rC.prototype,t.open=function(c,p,_){if(_!=null&&!_)throw Error("Only async requests are supported.");this.a.open(c,p)},t.send=function(c){if(c)if(typeof c=="string")this.a.send(c);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(c){return c.toLowerCase()=="content-type"?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Wm(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Wm(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Wm(this,1)};function Wm(c,p){c.readyState=p,c.onreadystatechange&&c.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Km(c,p,_){this.reset(c,p,_,void 0,void 0)}Km.prototype.a=null;var YI=0;Km.prototype.reset=function(c,p,_,D,k){typeof k=="number"||YI++,D||G(),delete this.a};function uy(c){this.f=c,this.b=this.c=this.a=null}function wA(c,p){this.name=c,this.value=p}wA.prototype.toString=function(){return this.name};var oC=new wA("SEVERE",1e3),zm=new wA("WARNING",900),vk=new wA("CONFIG",700),_k=new wA("FINE",500);function ZI(c){return c.c?c.c:c.a?ZI(c.a):(Je("Root logger has no level set."),null)}uy.prototype.log=function(c,p,_){if(c.value>=ZI(this).value)for(m(p)&&(p=p()),c=new Km(c,String(p),this.f),_&&(c.a=_),_=this;_;)_=_.a};var ma={},bA=null;function sC(c){bA||(bA=new uy(""),ma[""]=bA,bA.c=vk);var p;if(!(p=ma[c])){p=new uy(c);var _=c.lastIndexOf("."),D=c.substr(_+1);_=sC(c.substr(0,_)),_.b||(_.b={}),_.b[D]=p,p.a=_,ma[c]=p}return p}function Dl(c,p){c&&c.log(_k,p,void 0)}function dy(c){this.f=c}Y(dy,Qm),dy.prototype.a=function(){return new hy(this.f)},dy.prototype.b=function(c){return function(){return c}}({});function hy(c){Ir.call(this),this.s=c,this.readyState=aC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=sC("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}Y(hy,Ir);var aC=0;t=hy.prototype,t.open=function(c,p){if(this.readyState!=aC)throw this.abort(),Error("Error reopening a connection");this.m=c,this.g=p,this.readyState=1,$m(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var p={headers:this.i,method:this.m,credentials:void 0,cache:void 0};c&&(p.body=c),this.s.fetch(new Request(this.g,p)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,qm(this,!1)),this.readyState=aC},t.sc=function(c){this.a&&(this.f=c,this.b||(this.b=c.headers,this.readyState=2,$m(this)),this.a&&(this.readyState=3,$m(this),this.a&&(this.responseType==="arraybuffer"?c.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):typeof u.ReadableStream<"u"&&"body"in c?(this.response=this.responseText="",this.c=c.body.getReader(),this.l=new TextDecoder,XI(this)):c.text().then(this.rc.bind(this),this.Sa.bind(this)))))};function XI(c){c.c.read().then(c.nc.bind(c)).catch(c.Sa.bind(c))}t.nc=function(c){if(this.a){var p=this.l.decode(c.value?c.value:new Uint8Array(0),{stream:!c.done});p&&(this.response=this.responseText+=p),c.done?qm(this,!0):$m(this),this.readyState==3&&XI(this)}},t.rc=function(c){this.a&&(this.response=this.responseText=c,qm(this,!0))},t.qc=function(c){this.a&&(this.response=c,qm(this,!0))},t.Sa=function(c){var p=this.h;p&&p.log(zm,"Failed to fetch url "+this.g,c instanceof Error?c:Error(c)),this.a&&qm(this,!0)};function qm(c,p){p&&c.f&&(c.status=c.f.status,c.statusText=c.f.statusText),c.readyState=4,c.f=null,c.c=null,c.l=null,$m(c)}t.setRequestHeader=function(c,p){this.i.append(c,p)},t.getResponseHeader=function(c){return this.b?this.b.get(c.toLowerCase())||"":((c=this.h)&&c.log(zm,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var c=this.h;return c&&c.log(zm,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}c=[];for(var p=this.b.entries(),_=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function $m(c){c.onreadystatechange&&c.onreadystatechange.call(c)}function Ym(c){Ir.call(this),this.headers=new Os,this.D=c||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=lC,this.w=this.R=!1}Y(Ym,Ir);var lC="";Ym.prototype.b=sC("goog.net.XhrIo");var yk=/^https?$/i,cC=["POST","PUT"];function JI(c,p,_,D,k){if(c.a)throw Error("[goog.net.XhrIo] Object is active with another request="+c.l+"; newUri="+p);_=_?_.toUpperCase():"GET",c.l=p,c.h="",c.P=_,c.N=!1,c.c=!0,c.a=c.D?c.D.a():jm.a(),c.B=c.D?ly(c.D):ly(jm),c.a.onreadystatechange=L(c.Sb,c);try{Dl(c.b,rd(c,"Opening Xhr")),c.O=!0,c.a.open(_,String(p),!0),c.O=!1}catch(J){Dl(c.b,rd(c,"Error opening Xhr: "+J.message)),eT(c,J);return}p=D||"";var q=new Os(c.headers);k&&Qb(k,function(J,ce){q.set(ce,J)}),k=Vu(q.X()),D=u.FormData&&p instanceof u.FormData,!Fo(cC,_)||k||D||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),q.forEach(function(J,ce){this.a.setRequestHeader(ce,J)},c),c.m&&(c.a.responseType=c.m),"withCredentials"in c.a&&c.a.withCredentials!==c.R&&(c.a.withCredentials=c.R);try{nT(c),0<c.g&&(c.w=Us(c.a),Dl(c.b,rd(c,"Will abort after "+c.g+"ms if incomplete, xhr2 "+c.w)),c.w?(c.a.timeout=c.g,c.a.ontimeout=L(c.Ka,c)):c.s=$u(c.Ka,c.g,c)),Dl(c.b,rd(c,"Sending request")),c.i=!0,c.a.send(p),c.i=!1}catch(J){Dl(c.b,rd(c,"Send error: "+J.message)),eT(c,J)}}function Us(c){return Sn&&sm(9)&&typeof c.timeout=="number"&&c.ontimeout!==void 0}function Zm(c){return c.toLowerCase()=="content-type"}t=Ym.prototype,t.Ka=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Dl(this.b,rd(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function eT(c,p){c.c=!1,c.a&&(c.f=!0,c.a.abort(),c.f=!1),c.h=p,tT(c),fy(c)}function tT(c){c.N||(c.N=!0,c.dispatchEvent("complete"),c.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(Dl(this.b,rd(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),fy(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),fy(this,!0)),Ym.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?uC(this):this.Hc())},t.Hc=function(){uC(this)};function uC(c){if(c.c&&typeof l<"u"){if(c.B[1]&&Xm(c)==4&&py(c)==2)Dl(c.b,rd(c,"Local request error detected and ignored"));else if(c.i&&Xm(c)==4)$u(c.Sb,0,c);else if(c.dispatchEvent("readystatechange"),Xm(c)==4){Dl(c.b,rd(c,"Request complete")),c.c=!1;try{var p=py(c);e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var D;if(!(D=_)){var k;if(k=p===0){var q=String(c.l).match($r)[1]||null;if(!q&&u.self&&u.self.location){var J=u.self.location.protocol;q=J.substr(0,J.length-1)}k=!yk.test(q?q.toLowerCase():"")}D=k}if(D)c.dispatchEvent("complete"),c.dispatchEvent("success");else{try{var ce=2<Xm(c)?c.a.statusText:""}catch(Pe){Dl(c.b,"Can not get status: "+Pe.message),ce=""}c.h=ce+" ["+py(c)+"]",tT(c)}}finally{fy(c)}}}}function fy(c,p){if(c.a){nT(c);var _=c.a,D=c.B[0]?f:null;c.a=null,c.B=null,p||c.dispatchEvent("ready");try{_.onreadystatechange=D}catch(k){(c=c.b)&&c.log(oC,"Problem encountered resetting onreadystatechange: "+k.message,void 0)}}}function nT(c){c.a&&c.w&&(c.a.ontimeout=null),c.s&&(u.clearTimeout(c.s),c.s=null)}function Xm(c){return c.a?c.a.readyState:0}function py(c){try{return 2<Xm(c)?c.a.status:-1}catch{return-1}}function wk(c){try{return c.a?c.a.responseText:""}catch(p){return Dl(c.b,"Can not get responseText: "+p.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case lC:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var c=this.b;return c&&c.log(oC,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(p){return Dl(this.b,"Can not get response: "+p.message),null}};function rd(c,p){return p+" ["+c.P+" "+c.l+" "+py(c)+"]"}function Nf(c){var p=bk;this.g=[],this.w=p,this.s=c||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}Nf.prototype.cancel=function(c){if(this.a)this.c instanceof Nf&&this.c.cancel();else{if(this.b){var p=this.b;delete this.b,c?p.cancel(c):(p.l--,0>=p.l&&p.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(c=new t0(this),e0(this),Jm(this,!1,c))}},Nf.prototype.m=function(c,p){this.i=!1,Jm(this,c,p)};function Jm(c,p,_){c.a=!0,c.c=_,c.f=!p,gy(c)}function e0(c){if(c.a){if(!c.u)throw new my(c);c.u=!1}}function iT(c,p){Ay(c,null,p,void 0)}function Ay(c,p,_,D){c.g.push([p,_,D]),c.a&&gy(c)}Nf.prototype.then=function(c,p,_){var D,k,q=new bn(function(J,ce){D=J,k=ce});return Ay(this,D,function(J){J instanceof t0?q.cancel():k(J)}),q.then(c,p,_)},Nf.prototype.$goog_Thenable=!0;function dC(c){return Nc(c.g,function(p){return m(p[1])})}function gy(c){if(c.h&&c.a&&dC(c)){var p=c.h,_=vy[p];_&&(u.clearTimeout(_.a),delete vy[p]),c.h=0}c.b&&(c.b.l--,delete c.b),p=c.c;for(var D=_=!1;c.g.length&&!c.i;){var k=c.g.shift(),q=k[0],J=k[1];if(k=k[2],q=c.f?J:q)try{var ce=q.call(k||c.s,p);ce!==void 0&&(c.f=c.f&&(ce==p||ce instanceof Error),c.c=p=ce),(ue(p)||typeof u.Promise=="function"&&p instanceof u.Promise)&&(D=!0,c.i=!0)}catch(Pe){p=Pe,c.f=!0,dC(c)||(_=!0)}}c.c=p,D&&(ce=L(c.m,c,!0),D=L(c.m,c,!1),p instanceof Nf?(Ay(p,ce,D),p.B=!0):p.then(ce,D)),_&&(p=new rT(p),vy[p.a]=p,c.h=p.a)}function my(){Fe.call(this)}Y(my,Fe),my.prototype.message="Deferred has already fired",my.prototype.name="AlreadyCalledError";function t0(){Fe.call(this)}Y(t0,Fe),t0.prototype.message="Deferred was canceled",t0.prototype.name="CanceledError";function rT(c){this.a=u.setTimeout(L(this.c,this),0),this.b=c}rT.prototype.c=function(){throw delete vy[this.a],this.b};var vy={};function CA(c){var p={},_=p.document||document,D=Gu(c).toString(),k=zp(document,"SCRIPT"),q={Tb:k,Ka:void 0},J=new Nf(q),ce=null,Pe=p.timeout!=null?p.timeout:5e3;return 0<Pe&&(ce=window.setTimeout(function(){n0(k,!0);var Ve=new yy(oT,"Timeout reached for loading script "+D);e0(J),Jm(J,!1,Ve)},Pe),q.Ka=ce),k.onload=k.onreadystatechange=function(){k.readyState&&k.readyState!="loaded"&&k.readyState!="complete"||(n0(k,p.ud||!1,ce),e0(J),Jm(J,!0,null))},k.onerror=function(){n0(k,!0,ce);var Ve=new yy(hC,"Error while loading script "+D);e0(J),Jm(J,!1,Ve)},q=p.attributes||{},gr(q,{type:"text/javascript",charset:"UTF-8"}),b_(k,q),Na(k,c),_y(_).appendChild(k),J}function _y(c){var p;return(p=(c||document).getElementsByTagName("HEAD"))&&p.length!=0?p[0]:c.documentElement}function bk(){if(this&&this.Tb){var c=this.Tb;c&&c.tagName=="SCRIPT"&&n0(c,!0,this.Ka)}}function n0(c,p,_){_!=null&&u.clearTimeout(_),c.onload=f,c.onerror=f,c.onreadystatechange=f,p&&window.setTimeout(function(){c&&c.parentNode&&c.parentNode.removeChild(c)},0)}var hC=0,oT=1;function yy(c,p){var _="Jsloader error (code #"+c+")";p&&(_+=": "+p),Fe.call(this,_),this.code=c}Y(yy,Fe);function i0(c){this.f=c}Y(i0,Qm),i0.prototype.a=function(){return new this.f},i0.prototype.b=function(){return{}};function ac(c,p,_){if(this.c=c,c=p||{},this.u=c.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=c.secureTokenTimeout||sT,this.g=ka(c.secureTokenHeaders||Ck),this.h=c.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=c.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=c.firebaseTimeout||Ek,this.a=ka(c.firebaseHeaders||aT),_&&(this.a["X-Client-Version"]=_,this.g["X-Client-Version"]=_),_=wl()=="Node",_=u.XMLHttpRequest||_&&n.INTERNAL.node&&n.INTERNAL.node.XMLHttpRequest,!_&&!Wa())throw new Z("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Wa()?this.f=new dy(self):so()?this.f=new i0(_):this.f=new cy,this.b=null}var EA,Ml="idToken",sT=new Ka(3e4,6e4),Ck={"Content-Type":"application/x-www-form-urlencoded"},Ek=new Ka(3e4,6e4),aT={"Content-Type":"application/json"};function SA(c,p){p?c.a["X-Firebase-Locale"]=p:delete c.a["X-Firebase-Locale"]}function wy(c,p){p?(c.a["X-Client-Version"]=p,c.g["X-Client-Version"]=p):(delete c.a["X-Client-Version"],delete c.g["X-Client-Version"])}ac.prototype.S=function(){return this.b};function r0(c,p,_,D,k,q,J){bm()||Wa()?c=L(c.w,c):(EA||(EA=new bn(function(ce,Pe){xk(ce,Pe)})),c=L(c.s,c)),c(p,_,D,k,q,J)}ac.prototype.w=function(c,p,_,D,k,q){if(Wa()&&(typeof u.fetch>"u"||typeof u.Headers>"u"||typeof u.Request>"u"))throw new Z("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var J=new Ym(this.f);if(q){J.g=Math.max(0,q);var ce=setTimeout(function(){J.dispatchEvent("timeout")},q)}qu(J,"complete",function(){ce&&clearTimeout(ce);var Pe=null;try{Pe=JSON.parse(wk(this))||null}catch{Pe=null}p&&p(Pe)}),xn(J,"ready",function(){ce&&clearTimeout(ce),wf(this)}),xn(J,"timeout",function(){ce&&clearTimeout(ce),wf(this),p&&p(null)}),JI(J,c,_,D,k)};var Sk=new as(Lc,"https://apis.google.com/js/client.js?onload=%{onload}"),lT="__fcb"+Math.floor(1e6*Math.random()).toString();function xk(c,p){if(((window.gapi||{}).client||{}).request)c();else{u[lT]=function(){((window.gapi||{}).client||{}).request?c():p(Error("CORS_UNSUPPORTED"))};var _=gn(Sk,{onload:lT});iT(CA(_),function(){p(Error("CORS_UNSUPPORTED"))})}}ac.prototype.s=function(c,p,_,D,k){var q=this;EA.then(function(){window.gapi.client.setApiKey(q.c);var J=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:c,method:_,body:D,headers:k,authType:"none",callback:function(ce){window.gapi.auth.setToken(J),p&&p(ce)}})}).o(function(J){p&&p({error:{message:J&&J.message||"CORS_UNSUPPORTED"}})})};function Ik(c,p){return new bn(function(_,D){p.grant_type=="refresh_token"&&p.refresh_token||p.grant_type=="authorization_code"&&p.code?r0(c,c.u+"?key="+encodeURIComponent(c.c),function(k){k?k.error?D(CC(k)):k.access_token&&k.refresh_token?_(k):D(new Z("internal-error")):D(new Z("network-request-failed"))},"POST",xf(p).toString(),c.g,c.m.get()):D(new Z("internal-error"))})}function fC(c,p,_,D,k,q,J){var ce=_l(p+_);er(ce,"key",c.c),J&&er(ce,"cb",G().toString());var Pe=D=="GET";if(Pe)for(var Ve in k)k.hasOwnProperty(Ve)&&er(ce,Ve,k[Ve]);return new bn(function(en,Ki){r0(c,ce.toString(),function(ci){ci?ci.error?Ki(CC(ci,q||{})):en(ci):Ki(new Z("network-request-failed"))},D,Pe?void 0:If(G_(k)),c.a,c.i.get())})}function od(c){if(c=c.email,typeof c!="string"||!Em.test(c))throw new Z("invalid-email")}function pC(c){"email"in c&&od(c)}function AC(c,p){return On(c,ad,{identifier:p,continueUri:Kc()?Tf():"http://localhost"}).then(function(_){return _.signinMethods||[]})}function cT(c){return On(c,Fk,{}).then(function(p){return p.authorizedDomains||[]})}function Hs(c){if(!c[Ml])throw c.mfaPendingCredential?new Z("multi-factor-auth-required",null,ka(c)):new Z("internal-error")}function gC(c){if(c.phoneNumber||c.temporaryProof){if(!c.phoneNumber||!c.temporaryProof)throw new Z("internal-error")}else{if(!c.sessionInfo)throw new Z("missing-verification-id");if(!c.code)throw new Z("missing-verification-code")}}ac.prototype.vb=function(){return On(this,kk,{})},ac.prototype.xb=function(c,p){return On(this,_T,{idToken:c,email:p})},ac.prototype.yb=function(c,p){return On(this,yT,{idToken:c,password:p})};var by={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=ac.prototype,t.zb=function(c,p){var _={idToken:c},D=[];return Kd(by,function(k,q){var J=p[q];J===null?D.push(k):q in p&&(_[q]=J)}),D.length&&(_.deleteAttribute=D),On(this,_T,_)},t.rb=function(c,p){return c={requestType:"PASSWORD_RESET",email:c},gr(c,p),On(this,Ok,c)},t.sb=function(c,p){return c={requestType:"EMAIL_SIGNIN",email:c},gr(c,p),On(this,Sy,c)},t.qb=function(c,p){return c={requestType:"VERIFY_EMAIL",idToken:c},gr(c,p),On(this,Dk,c)},t.Ab=function(c,p,_){return c={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:c,newEmail:p},gr(c,_),On(this,Mk,c)};function Cy(c,p){return On(c,Pk,p)}t.cb=function(c){return On(this,Uk,c)};function Tk(c,p){return On(c,Nk,p).then(function(_){return _.phoneSessionInfo.sessionInfo})}function uT(c){if(!c.phoneVerificationInfo)throw new Z("internal-error");if(!c.phoneVerificationInfo.sessionInfo)throw new Z("missing-verification-id");if(!c.phoneVerificationInfo.code)throw new Z("missing-verification-code")}function dT(c,p){return On(c,yC,p).then(function(_){return _.phoneResponseInfo.sessionInfo})}function hT(c,p,_){return On(c,pT,{idToken:p,deleteProvider:_})}function mC(c){if(!c.requestUri||!c.sessionId&&!c.postBody&&!c.pendingToken)throw new Z("internal-error")}function vC(c,p){return p.oauthIdToken&&p.providerId&&p.providerId.indexOf("oidc.")==0&&!p.pendingToken&&(c.sessionId?p.nonce=c.sessionId:c.postBody&&(c=new Gc(c.postBody),Zu(c,"nonce")&&(p.nonce=c.get("nonce")))),p}function Rf(c){var p=null;if(c.needConfirmation?(c.code="account-exists-with-different-credential",p=cs(c)):c.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(c.code="credential-already-in-use",p=cs(c)):c.errorMessage=="EMAIL_EXISTS"?(c.code="email-already-in-use",p=cs(c)):c.errorMessage&&(p=xy(c.errorMessage)),p)throw p;Hs(c)}function Ey(c,p){return p.returnIdpCredential=!0,On(c,wC,p)}function mr(c,p){return p.returnIdpCredential=!0,On(c,Rk,p)}function sd(c,p){return p.returnIdpCredential=!0,p.autoCreate=!1,On(c,wT,p)}function vh(c){if(!c.oobCode)throw new Z("invalid-action-code")}t.jb=function(c,p){return On(this,vT,{oobCode:c,newPassword:p})},t.Pa=function(c){return On(this,yh,{oobCode:c})},t.fb=function(c){return On(this,_h,{oobCode:c})};var _h={endpoint:"setAccountInfo",A:vh,Y:"email",C:!0},yh={endpoint:"resetPassword",A:vh,G:function(c){var p=c.requestType;if(!p||!c.email&&p!="EMAIL_SIGNIN"&&p!="VERIFY_AND_CHANGE_EMAIL")throw new Z("internal-error")},C:!0},o0={endpoint:"signupNewUser",A:function(c){if(od(c),!c.password)throw new Z("weak-password")},G:Hs,U:!0,C:!0},ad={endpoint:"createAuthUri",C:!0},fT={endpoint:"deleteAccount",M:["idToken"]},pT={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(c){if(A(c.deleteProvider)!="array")throw new Z("internal-error")}},AT={endpoint:"emailLinkSignin",M:["email","oobCode"],A:od,G:Hs,U:!0,C:!0},_C={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:od,G:Hs,U:!0},s0={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:uT,G:Hs,C:!0,La:!0},gT={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:uT,G:Hs,C:!0,La:!0},mT={endpoint:"getAccountInfo"},Sy={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(c){if(c.requestType!="EMAIL_SIGNIN")throw new Z("internal-error");od(c)},Y:"email",C:!0},Dk={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(c){if(c.requestType!="VERIFY_EMAIL")throw new Z("internal-error")},Y:"email",C:!0},Mk={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(c){if(c.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new Z("internal-error")},Y:"email",C:!0},Ok={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(c){if(c.requestType!="PASSWORD_RESET")throw new Z("internal-error");od(c)},Y:"email",C:!0},Fk={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Bk={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(c){if(!c.recaptchaSiteKey)throw new Z("internal-error")}},vT={endpoint:"resetPassword",A:vh,Y:"email",C:!0},Pk={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},_T={endpoint:"setAccountInfo",M:["idToken"],A:pC,U:!0},yT={endpoint:"setAccountInfo",M:["idToken"],A:function(c){if(pC(c),!c.password)throw new Z("weak-password")},G:Hs,U:!0},kk={endpoint:"signupNewUser",G:Hs,U:!0,C:!0},Nk={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(c){if(!c.phoneEnrollmentInfo)throw new Z("internal-error");if(!c.phoneEnrollmentInfo.phoneNumber)throw new Z("missing-phone-number");if(!c.phoneEnrollmentInfo.recaptchaToken)throw new Z("missing-app-credential")},G:function(c){if(!c.phoneSessionInfo||!c.phoneSessionInfo.sessionInfo)throw new Z("internal-error")},C:!0,La:!0},yC={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(c){if(!c.phoneSignInInfo||!c.phoneSignInInfo.recaptchaToken)throw new Z("missing-app-credential")},G:function(c){if(!c.phoneResponseInfo||!c.phoneResponseInfo.sessionInfo)throw new Z("internal-error")},C:!0,La:!0},wC={endpoint:"verifyAssertion",A:mC,Wa:vC,G:Rf,U:!0,C:!0},wT={endpoint:"verifyAssertion",A:mC,Wa:vC,G:function(c){if(c.errorMessage&&c.errorMessage=="USER_NOT_FOUND")throw new Z("user-not-found");if(c.errorMessage)throw xy(c.errorMessage);Hs(c)},U:!0,C:!0},Rk={endpoint:"verifyAssertion",A:function(c){if(mC(c),!c.idToken)throw new Z("internal-error")},Wa:vC,G:Rf,U:!0},Lk={endpoint:"verifyCustomToken",A:function(c){if(!c.token)throw new Z("invalid-custom-token")},G:Hs,U:!0,C:!0},bC={endpoint:"verifyPassword",A:function(c){if(od(c),!c.password)throw new Z("wrong-password")},G:Hs,U:!0,C:!0},Uk={endpoint:"verifyPhoneNumber",A:gC,G:Hs,C:!0},Hk={endpoint:"verifyPhoneNumber",A:function(c){if(!c.idToken)throw new Z("internal-error");gC(c)},G:function(c){if(c.temporaryProof)throw c.code="credential-already-in-use",cs(c);Hs(c)}},Vk={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:gC,G:Hs,C:!0},Qk={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(c){if(!!c[Ml]^!!c.refreshToken)throw new Z("internal-error")},C:!0,La:!0};function On(c,p,_){if(!Kb(_,p.M))return Pi(new Z("internal-error"));var D=!!p.La,k=p.Rb||"POST",q;return Ft(_).then(p.A).then(function(){return p.U&&(_.returnSecureToken=!0),p.C&&c.b&&typeof _.tenantId>"u"&&(_.tenantId=c.b),D?fC(c,c.l,p.endpoint,k,_,p.Eb,p.hb||!1):fC(c,c.h,p.endpoint,k,_,p.Eb,p.hb||!1)}).then(function(J){return q=J,p.Wa?p.Wa(_,q):q}).then(p.G).then(function(){if(!p.Y)return q;if(!(p.Y in q))throw new Z("internal-error");return q[p.Y]})}function xy(c){return CC({error:{errors:[{message:c}],code:400,message:c}})}function CC(c,p){var _=(c.error&&c.error.errors&&c.error.errors[0]||{}).reason||"",D={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(_=D[_]?new Z(D[_]):null)return _;_=c.error&&c.error.message||"",D={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},gr(D,p||{}),p=(p=_.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<p.length?p[1]:void 0;for(var k in D)if(_.indexOf(k)===0)return new Z(D[k],p);return!p&&c&&(p=zc(c)),new Z("internal-error",p)}function EC(c){this.b=c,this.a=null,this.nb=jk(this)}function jk(c){return Ol().then(function(){return new bn(function(p,_){Dn("gapi.iframes.getContext")().open({where:document.body,url:c.b,messageHandlersFilter:Dn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(D){function k(){clearTimeout(q),p()}c.a=D,c.a.restyle({setHideOnLeave:!1});var q=setTimeout(function(){_(Error("Network Error"))},xA.get());D.ping(k).then(k,function(){_(Error("Network Error"))})})})})}function Iy(c,p){return c.nb.then(function(){return new bn(function(_){c.a.send(p.type,p,_,Dn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function bT(c,p){c.nb.then(function(){c.a.register("authEvent",p,Dn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Gk=new as(Lc,"https://apis.google.com/js/api.js?onload=%{onload}"),At=new Ka(3e4,6e4),xA=new Ka(5e3,15e3),Lf=null;function Ol(){return Lf||(Lf=new bn(function(c,p){function _(){uh(),Dn("gapi.load")("gapi.iframes",{callback:c,ontimeout:function(){uh(),p(Error("Network Error"))},timeout:At.get()})}if(Dn("gapi.iframes.Iframe"))c();else if(Dn("gapi.load"))_();else{var D="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[D]=function(){Dn("gapi.load")?_():p(Error("Network Error"))},D=gn(Gk,{onload:D}),Ft(CA(D)).o(function(){p(Error("Network Error"))})}}).o(function(c){throw Lf=null,c}))}function CT(c,p,_){this.i=c,this.g=p,this.h=_,this.f=null,this.a=nc(this.i,"/__/auth/iframe"),er(this.a,"apiKey",this.g),er(this.a,"appName",this.h),this.b=null,this.c=[]}CT.prototype.toString=function(){return this.f?er(this.a,"v",this.f):pa(this.a.a,"v"),this.b?er(this.a,"eid",this.b):pa(this.a.a,"eid"),this.c.length?er(this.a,"fw",this.c.join(",")):pa(this.a.a,"fw"),this.a.toString()};function si(c,p,_,D,k){this.s=c,this.m=p,this.c=_,this.u=D,this.i=this.g=this.l=null,this.a=k,this.h=this.f=null}si.prototype.ub=function(c){return this.h=c,this},si.prototype.toString=function(){var c=nc(this.s,"/__/auth/handler");if(er(c,"apiKey",this.m),er(c,"appName",this.c),er(c,"authType",this.u),this.a.isOAuthProvider){var p=this.a;try{var _=n.app(this.c).auth().ja()}catch{_=null}p.kb=_,er(c,"providerId",this.a.providerId),p=this.a,_=G_(p.Fb);for(var D in _)_[D]=_[D].toString();D=p.Oc,_=ka(_);for(var k=0;k<D.length;k++){var q=D[k];q in _&&delete _[q]}p.lb&&p.kb&&!_[p.lb]&&(_[p.lb]=p.kb),Ar(_)||er(c,"customParameters",zc(_))}if(typeof this.a.Nb=="function"&&(p=this.a.Nb(),p.length&&er(c,"scopes",p.join(","))),this.l?er(c,"redirectUrl",this.l):pa(c.a,"redirectUrl"),this.g?er(c,"eventId",this.g):pa(c.a,"eventId"),this.i?er(c,"v",this.i):pa(c.a,"v"),this.b)for(var J in this.b)this.b.hasOwnProperty(J)&&!Fs(c,J)&&er(c,J,this.b[J]);return this.h?er(c,"tid",this.h):pa(c.a,"tid"),this.f?er(c,"eid",this.f):pa(c.a,"eid"),J=ki(this.c),J.length&&er(c,"fw",J.join(",")),c.toString()};function ki(c){try{return n.app(c).auth().Ea()}catch{return[]}}function a0(c,p,_,D,k){this.u=c,this.f=p,this.b=_,this.c=D||null,this.h=k||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function ET(c){var p=Tf();return cT(c).then(function(_){e:{var D=_l(p),k=D.f;D=D.b;for(var q=0;q<_.length;q++){var J=_[q],ce=D,Pe=k;if(J.indexOf("chrome-extension://")==0?ce=_l(J).b==ce&&Pe=="chrome-extension":Pe!="http"&&Pe!="https"?ce=!1:V_.test(J)?ce=ce==J:(J=J.split(".").join("\\."),ce=new RegExp("^(.+\\."+J+"|"+J+")$","i").test(ce)),ce){_=!0;break e}}_=!1}if(!_)throw new Rs(Tf())})}function l0(c){return c.l||(c.l=sA().then(function(){if(!c.s){var p=c.c,_=c.h,D=ki(c.b),k=new CT(c.u,c.f,c.b);k.f=p,k.b=_,k.c=Fi(D||[]),c.s=k.toString()}c.i=new EC(c.s),Wk(c)})),c.l}t=a0.prototype,t.Lb=function(c,p,_){var D=new Z("popup-closed-by-user"),k=new Z("web-storage-unsupported"),q=this,J=!1;return this.ka().then(function(){Kk(q).then(function(ce){ce||(c&&ic(c),p(k),J=!0)})}).o(function(){}).then(function(){if(!J)return H_(c)}).then(function(){if(!J)return Yu(_).then(function(){p(D)})})},t.Ub=function(){var c=ao();return!Mf(c)&&!xm(c)},t.Qb=function(){return!1},t.Jb=function(c,p,_,D,k,q,J,ce){if(!c)return Pi(new Z("popup-blocked"));if(J&&!Mf())return this.ka().o(function(Ve){ic(c),k(Ve)}),D(),Ft();this.a||(this.a=ET(ST(this)));var Pe=this;return this.a.then(function(){var Ve=Pe.ka().o(function(en){throw ic(c),k(en),en});return D(),Ve}).then(function(){if(ee(_),!J){var Ve=wh(Pe.u,Pe.f,Pe.b,p,_,null,q,Pe.c,void 0,Pe.h,ce);Po(Ve,c)}}).o(function(Ve){throw Ve.code=="auth/network-request-failed"&&(Pe.a=null),Ve})};function ST(c){return c.m||(c.w=c.c?ah(c.c,ki(c.b)):null,c.m=new ac(c.f,me(c.h),c.w)),c.m}t.Kb=function(c,p,_,D){this.a||(this.a=ET(ST(this)));var k=this;return this.a.then(function(){ee(p);var q=wh(k.u,k.f,k.b,c,p,Tf(),_,k.c,void 0,k.h,D);Po(q)}).o(function(q){throw q.code=="auth/network-request-failed"&&(k.a=null),q})},t.ka=function(){var c=this;return l0(this).then(function(){return c.i.nb}).o(function(){throw c.a=null,new Z("network-request-failed")})},t.Xb=function(){return!0};function wh(c,p,_,D,k,q,J,ce,Pe,Ve,en){return c=new si(c,p,_,D,k),c.l=q,c.g=J,c.i=ce,c.b=ka(Pe||null),c.f=Ve,c.ub(en).toString()}function Wk(c){if(!c.i)throw Error("IfcHandler must be initialized!");bT(c.i,function(p){var _={};if(p&&p.authEvent){var D=!1;for(p=Me(p.authEvent),_=0;_<c.g.length;_++)D=c.g[_](p)||D;return _={},_.status=D?"ACK":"ERROR",Ft(_)}return _.status="ERROR",Ft(_)})}function Kk(c){var p={type:"webStorageSupport"};return l0(c).then(function(){return Iy(c.i,p)}).then(function(_){if(_&&_.length&&typeof _[0].webStorageSupport<"u")return _[0].webStorageSupport;throw Error()})}t.Ca=function(c){this.g.push(c)},t.Qa=function(c){yi(this.g,function(p){return p==c})};function SC(c){if(this.a=c||n.INTERNAL.reactNative&&n.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Z("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=SC.prototype,t.get=function(c){return Ft(this.a.getItem(c)).then(function(p){return p&&ch(p)})},t.set=function(c,p){return Ft(this.a.setItem(c,zc(p)))},t.T=function(c){return Ft(this.a.removeItem(c))},t.ba=function(){},t.ha=function(){};function xT(c){this.b=c,this.a={},this.f=L(this.c,this)}var xC=[];function IT(){var c=Wa()?self:null;if(Rt(xC,function(_){_.b==c&&(p=_)}),!p){var p=new xT(c);xC.push(p)}return p}xT.prototype.c=function(c){var p=c.data.eventType,_=c.data.eventId,D=this.a[p];if(D&&0<D.length){c.ports[0].postMessage({status:"ack",eventId:_,eventType:p,response:null});var k=[];Rt(D,function(q){k.push(Ft().then(function(){return q(c.origin,c.data.data)}))}),cm(k).then(function(q){var J=[];Rt(q,function(ce){J.push({fulfilled:ce.Mb,value:ce.value,reason:ce.reason?ce.reason.message:void 0})}),Rt(J,function(ce){for(var Pe in ce)typeof ce[Pe]>"u"&&delete ce[Pe]}),c.ports[0].postMessage({status:"done",eventId:_,eventType:p,response:J})})}};function Ty(c,p,_){Ar(c.a)&&c.b.addEventListener("message",c.f),typeof c.a[p]>"u"&&(c.a[p]=[]),c.a[p].push(_)}function IC(c){this.a=c}IC.prototype.postMessage=function(c,p){this.a.postMessage(c,p)};function TT(c){this.c=c,this.b=!1,this.a=[]}function TC(c,p,_,D){var k,q=_||{},J,ce,Pe,Ve=null;if(c.b)return Pi(Error("connection_unavailable"));var en=D?800:50,Ki=typeof MessageChannel<"u"?new MessageChannel:null;return new bn(function(ci,ds){Ki?(k=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ki.port1.start(),ce=setTimeout(function(){ds(Error("unsupported_event"))},en),J=function(Gf){Gf.data.eventId===k&&(Gf.data.status==="ack"?(clearTimeout(ce),Pe=setTimeout(function(){ds(Error("timeout"))},3e3)):Gf.data.status==="done"?(clearTimeout(Pe),typeof Gf.data.response<"u"?ci(Gf.data.response):ds(Error("unknown_error"))):(clearTimeout(ce),clearTimeout(Pe),ds(Error("invalid_response"))))},Ve={messageChannel:Ki,onMessage:J},c.a.push(Ve),Ki.port1.addEventListener("message",J),c.c.postMessage({eventType:p,eventId:k,data:q},[Ki.port2])):ds(Error("connection_unavailable"))}).then(function(ci){return DC(c,Ve),ci}).o(function(ci){throw DC(c,Ve),ci})}function DC(c,p){if(p){var _=p.messageChannel,D=p.onMessage;_&&(_.port1.removeEventListener("message",D),_.port1.close()),yi(c.a,function(k){return k==p})}}TT.prototype.close=function(){for(;0<this.a.length;)DC(this,this.a[0]);this.b=!0};function DT(){if(!IA())throw new Z("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var c=this;Wa()&&self?(this.l=IT(),Ty(this.l,"keyChanged",function(p,_){return h0(c).then(function(D){return 0<D.length&&Rt(c.a,function(k){k(D)}),{keyProcessed:Fo(D,_.key)}})}),Ty(this.l,"ping",function(){return Ft(["keyChanged"])})):W_().then(function(p){(c.h=p)&&(c.g=new TT(new IC(p)),TC(c.g,"ping",null,!0).then(function(_){_[0].fulfilled&&Fo(_[0].value,"keyChanged")&&(c.s=!0)}).o(function(){}))})}var MC;function Dy(c){return new bn(function(p,_){var D=c.u.deleteDatabase("firebaseLocalStorageDb");D.onsuccess=function(){p()},D.onerror=function(k){_(Error(k.target.error))}})}function $a(c){return new bn(function(p,_){var D=c.u.open("firebaseLocalStorageDb",1);D.onerror=function(k){try{k.preventDefault()}catch{}_(Error(k.target.error))},D.onupgradeneeded=function(k){k=k.target.result;try{k.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(q){_(q)}},D.onsuccess=function(k){k=k.target.result,k.objectStoreNames.contains("firebaseLocalStorage")?p(k):Dy(c).then(function(){return $a(c)}).then(function(q){p(q)}).o(function(q){_(q)})}})}function c0(c){return c.m||(c.m=$a(c)),c.m}function IA(){try{return!!u.indexedDB}catch{return!1}}function u0(c){return c.objectStore("firebaseLocalStorage")}function d0(c,p){return c.transaction(["firebaseLocalStorage"],p?"readwrite":"readonly")}function bh(c){return new bn(function(p,_){c.onsuccess=function(D){D&&D.target?p(D.target.result):p()},c.onerror=function(D){_(D.target.error)}})}t=DT.prototype,t.set=function(c,p){var _=!1,D,k=this;return c0(this).then(function(q){return D=q,q=u0(d0(D,!0)),bh(q.get(c))}).then(function(q){var J=u0(d0(D,!0));return q?(q.value=p,bh(J.put(q))):(k.b++,_=!0,q={},q.fbase_key=c,q.value=p,bh(J.add(q)))}).then(function(){return k.c[c]=p,Uf(k,c)}).ma(function(){_&&k.b--})};function Uf(c,p){return c.g&&c.h&&Of()===c.h?TC(c.g,"keyChanged",{key:p},c.s).then(function(){}).o(function(){}):Ft()}t.get=function(c){return c0(this).then(function(p){return bh(u0(d0(p,!1)).get(c))}).then(function(p){return p&&p.value})},t.T=function(c){var p=!1,_=this;return c0(this).then(function(D){return p=!0,_.b++,bh(u0(d0(D,!0)).delete(c))}).then(function(){return delete _.c[c],Uf(_,c)}).ma(function(){p&&_.b--})};function h0(c){return c0(c).then(function(p){var _=u0(d0(p,!1));return _.getAll?bh(_.getAll()):new bn(function(D,k){var q=[],J=_.openCursor();J.onsuccess=function(ce){(ce=ce.target.result)?(q.push(ce.value),ce.continue()):D(q)},J.onerror=function(ce){k(ce.target.error)}})}).then(function(p){var _={},D=[];if(c.b==0){for(D=0;D<p.length;D++)_[p[D].fbase_key]=p[D].value;D=Wc(c.c,_),c.c=_}return D})}t.ba=function(c){this.a.length==0&&zk(this),this.a.push(c)},t.ha=function(c){yi(this.a,function(p){return p==c}),this.a.length==0&&Hf(this)};function zk(c){function p(){c.f=setTimeout(function(){c.i=h0(c).then(function(_){0<_.length&&Rt(c.a,function(D){D(_)})}).then(function(){p()}).o(function(_){_.message!="STOP_EVENT"&&p()})},800)}Hf(c),p()}function Hf(c){c.i&&c.i.cancel("STOP_EVENT"),c.f&&(clearTimeout(c.f),c.f=null)}function MT(c){var p=this,_=null;this.a=[],this.type="indexedDB",this.c=c,this.b=Ft().then(function(){if(IA()){var D=qc(),k="__sak"+D;return MC||(MC=new DT),_=MC,_.set(k,D).then(function(){return _.get(k)}).then(function(q){if(q!==D)throw Error("indexedDB not supported!");return _.T(k)}).then(function(){return _}).o(function(){return p.c})}return p.c}).then(function(D){return p.type=D.type,D.ba(function(k){Rt(p.a,function(q){q(k)})}),D})}t=MT.prototype,t.get=function(c){return this.b.then(function(p){return p.get(c)})},t.set=function(c,p){return this.b.then(function(_){return _.set(c,p)})},t.T=function(c){return this.b.then(function(p){return p.T(c)})},t.ba=function(c){this.a.push(c)},t.ha=function(c){yi(this.a,function(p){return p==c})};function f0(){this.a={},this.type="inMemory"}t=f0.prototype,t.get=function(c){return Ft(this.a[c])},t.set=function(c,p){return this.a[c]=p,Ft()},t.T=function(c){return delete this.a[c],Ft()},t.ba=function(){},t.ha=function(){};function p0(){if(!FT())throw wl()=="Node"?new Z("internal-error","The LocalStorage compatibility library was not found."):new Z("web-storage-unsupported");this.a=OT()||n.INTERNAL.node.localStorage,this.type="localStorage"}function OT(){try{var c=u.localStorage,p=qc();return c&&(c.setItem(p,"1"),c.removeItem(p)),c}catch{return null}}function FT(){var c=wl()=="Node";if(c=OT()||c&&n.INTERNAL.node&&n.INTERNAL.node.localStorage,!c)return!1;try{return c.setItem("__sak","1"),c.removeItem("__sak"),!0}catch{return!1}}t=p0.prototype,t.get=function(c){var p=this;return Ft().then(function(){var _=p.a.getItem(c);return ch(_)})},t.set=function(c,p){var _=this;return Ft().then(function(){var D=zc(p);D===null?_.T(c):_.a.setItem(c,D)})},t.T=function(c){var p=this;return Ft().then(function(){p.a.removeItem(c)})},t.ba=function(c){u.window&&Ha(u.window,"storage",c)},t.ha=function(c){u.window&&ua(u.window,"storage",c)};function OC(){this.type="nullStorage"}t=OC.prototype,t.get=function(){return Ft(null)},t.set=function(){return Ft()},t.T=function(){return Ft()},t.ba=function(){},t.ha=function(){};function FC(){if(!qk())throw wl()=="Node"?new Z("internal-error","The SessionStorage compatibility library was not found."):new Z("web-storage-unsupported");this.a=BT()||n.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function BT(){try{var c=u.sessionStorage,p=qc();return c&&(c.setItem(p,"1"),c.removeItem(p)),c}catch{return null}}function qk(){var c=wl()=="Node";if(c=BT()||c&&n.INTERNAL.node&&n.INTERNAL.node.sessionStorage,!c)return!1;try{return c.setItem("__sak","1"),c.removeItem("__sak"),!0}catch{return!1}}t=FC.prototype,t.get=function(c){var p=this;return Ft().then(function(){var _=p.a.getItem(c);return ch(_)})},t.set=function(c,p){var _=this;return Ft().then(function(){var D=zc(p);D===null?_.T(c):_.a.setItem(c,D)})},t.T=function(c){var p=this;return Ft().then(function(){p.a.removeItem(c)})},t.ba=function(){},t.ha=function(){};function $k(){var c={};c.Browser=Yk,c.Node=Zk,c.ReactNative=Xk,c.Worker=Jk,this.a=c[wl()]}var BC,Yk={F:p0,$a:FC},Zk={F:p0,$a:FC},Xk={F:SC,$a:OC},Jk={F:p0,$a:OC},TA={od:"local",NONE:"none",qd:"session"};function eN(c){var p=new Z("invalid-persistence-type"),_=new Z("unsupported-persistence-type");e:{for(D in TA)if(TA[D]==c){var D=!0;break e}D=!1}if(!D||typeof c!="string")throw p;switch(wl()){case"ReactNative":if(c==="session")throw _;break;case"Node":if(c!=="none")throw _;break;case"Worker":if(c==="session"||!IA()&&c!=="none")throw _;break;default:if(!Sm()&&c!=="none")throw _}}function v(){var c=!!(!xm(ao())&&Ao()),p=Mf(),_=Sm();this.m=c,this.h=p,this.l=_,this.a={},BC||(BC=new $k),c=BC;try{this.g=!wm()&&Ti()||!u.indexedDB?new c.a.F:new MT(Wa()?new f0:new c.a.F)}catch{this.g=new f0,this.h=!0}try{this.i=new c.a.$a}catch{this.i=new f0}this.u=new f0,this.f=L(this.Vb,this),this.b={}}var w;function E(){return w||(w=new v),w}function C(c,p){switch(p){case"session":return c.i;case"none":return c.u;default:return c.g}}function N(c,p){return"firebase:"+c.name+(p?":"+p:"")}function V(c,p,_){var D=N(p,_),k=C(c,p.F);return c.get(p,_).then(function(q){var J=null;try{J=ch(u.localStorage.getItem(D))}catch{}if(J&&!q)return u.localStorage.removeItem(D),c.set(p,J,_);J&&q&&k.type!="localStorage"&&u.localStorage.removeItem(D)})}t=v.prototype,t.get=function(c,p){return C(this,c.F).get(N(c,p))};function X(c,p,_){return _=N(p,_),p.F=="local"&&(c.b[_]=null),C(c,p.F).T(_)}t.set=function(c,p,_){var D=N(c,_),k=this,q=C(this,c.F);return q.set(D,p).then(function(){return q.get(D)}).then(function(J){c.F=="local"&&(k.b[D]=J)})},t.addListener=function(c,p,_){c=N(c,p),this.l&&(this.b[c]=u.localStorage.getItem(c)),Ar(this.a)&&(C(this,"local").ba(this.f),this.h||(wm()||!Ti())&&u.indexedDB||!this.l||ie(this)),this.a[c]||(this.a[c]=[]),this.a[c].push(_)},t.removeListener=function(c,p,_){c=N(c,p),this.a[c]&&(yi(this.a[c],function(D){return D==_}),this.a[c].length==0&&delete this.a[c]),Ar(this.a)&&(C(this,"local").ha(this.f),ne(this))};function ie(c){ne(c),c.c=setInterval(function(){for(var p in c.a){var _=u.localStorage.getItem(p),D=c.b[p];_!=D&&(c.b[p]=_,_=new Ms({type:"storage",key:p,target:window,oldValue:D,newValue:_,a:!0}),c.Vb(_))}},1e3)}function ne(c){c.c&&(clearInterval(c.c),c.c=null)}t.Vb=function(c){if(c&&c.f){var p=c.a.key;if(p==null)for(var _ in this.a){var D=this.b[_];typeof D>"u"&&(D=null);var k=u.localStorage.getItem(_);k!==D&&(this.b[_]=k,this.ib(_))}else if(p.indexOf("firebase:")==0&&this.a[p]){if(typeof c.a.a<"u"?C(this,"local").ha(this.f):ne(this),this.m){if(_=u.localStorage.getItem(p),D=c.a.newValue,D!==_)D!==null?u.localStorage.setItem(p,D):u.localStorage.removeItem(p);else if(this.b[p]===D&&typeof c.a.a>"u")return}var q=this;_=function(){(typeof c.a.a<"u"||q.b[p]!==u.localStorage.getItem(p))&&(q.b[p]=u.localStorage.getItem(p),q.ib(p))},Sn&&Wi&&Wi==10&&u.localStorage.getItem(p)!==c.a.newValue&&c.a.newValue!==c.a.oldValue?setTimeout(_,10):_()}}else Rt(c,L(this.ib,this))},t.ib=function(c){this.a[c]&&Rt(this.a[c],function(p){p()})};function Ae(c){this.a=c,this.b=E()}var ye={name:"authEvent",F:"local"};function Se(c){return c.b.get(ye,c.a).then(function(p){return Me(p)})}function Be(){this.a=E()}function gt(){this.b=-1}function ze(c,p){this.b=sn,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=c,this.h=p,this.l=u.Int32Array?new Int32Array(64):Array(64),st===void 0&&(u.Int32Array?st=new Int32Array(kn):st=kn),this.reset()}var st;Y(ze,gt);for(var sn=64,It=sn-1,Et=[],jn=0;jn<It;jn++)Et[jn]=0;var fn=gl(128,Et);ze.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Fi(this.h)};function jt(c){for(var p=c.f,_=c.l,D=0,k=0;k<p.length;)_[D++]=p[k]<<24|p[k+1]<<16|p[k+2]<<8|p[k+3],k=4*D;for(p=16;64>p;p++){k=_[p-15]|0,D=_[p-2]|0;var q=(_[p-16]|0)+((k>>>7|k<<25)^(k>>>18|k<<14)^k>>>3)|0,J=(_[p-7]|0)+((D>>>17|D<<15)^(D>>>19|D<<13)^D>>>10)|0;_[p]=q+J|0}D=c.a[0]|0,k=c.a[1]|0;var ce=c.a[2]|0,Pe=c.a[3]|0,Ve=c.a[4]|0,en=c.a[5]|0,Ki=c.a[6]|0;for(q=c.a[7]|0,p=0;64>p;p++){var ci=((D>>>2|D<<30)^(D>>>13|D<<19)^(D>>>22|D<<10))+(D&k^D&ce^k&ce)|0;J=Ve&en^~Ve&Ki,q=q+((Ve>>>6|Ve<<26)^(Ve>>>11|Ve<<21)^(Ve>>>25|Ve<<7))|0,J=J+(st[p]|0)|0,J=q+(J+(_[p]|0)|0)|0,q=Ki,Ki=en,en=Ve,Ve=Pe+J|0,Pe=ce,ce=k,k=D,D=J+ci|0}c.a[0]=c.a[0]+D|0,c.a[1]=c.a[1]+k|0,c.a[2]=c.a[2]+ce|0,c.a[3]=c.a[3]+Pe|0,c.a[4]=c.a[4]+Ve|0,c.a[5]=c.a[5]+en|0,c.a[6]=c.a[6]+Ki|0,c.a[7]=c.a[7]+q|0}function ut(c,p,_){_===void 0&&(_=p.length);var D=0,k=c.c;if(typeof p=="string")for(;D<_;)c.f[k++]=p.charCodeAt(D++),k==c.b&&(jt(c),k=0);else if(g(p))for(;D<_;){var q=p[D++];if(!(typeof q=="number"&&0<=q&&255>=q&&q==(q|0)))throw Error("message must be a byte array");c.f[k++]=q,k==c.b&&(jt(c),k=0)}else throw Error("message must be string or array");c.c=k,c.g+=_}var kn=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Nn(){ze.call(this,8,qt)}Y(Nn,ze);var qt=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Rr(c,p,_,D,k){this.u=c,this.i=p,this.l=_,this.m=D||null,this.s=k||null,this.h=p+":"+_,this.w=new Be,this.g=new Ae(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ro(c){return new Z("invalid-cordova-configuration",c)}t=Rr.prototype,t.ka=function(){return this.Ga?this.Ga:this.Ga=Gb().then(function(){if(typeof Dn("universalLinks.subscribe",u)!="function")throw Ro("cordova-universal-links-plugin-fix is not installed");if(typeof Dn("BuildInfo.packageName",u)>"u")throw Ro("cordova-plugin-buildinfo is not installed");if(typeof Dn("cordova.plugins.browsertab.openUrl",u)!="function")throw Ro("cordova-plugin-browsertab is not installed");if(typeof Dn("cordova.InAppBrowser.open",u)!="function")throw Ro("cordova-plugin-inappbrowser is not installed")},function(){throw new Z("cordova-not-ready")})};function Ya(){for(var c=20,p=[];0<c;)p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),c--;return p.join("")}function bi(c){var p=new Nn;ut(p,c),c=[];var _=8*p.g;56>p.c?ut(p,fn,56-p.c):ut(p,fn,p.b-(p.c-56));for(var D=63;56<=D;D--)p.f[D]=_&255,_/=256;for(jt(p),D=_=0;D<p.i;D++)for(var k=24;0<=k;k-=8)c[_++]=p.a[D]>>k&255;return Jc(c)}t.Lb=function(c,p){return p(new Z("operation-not-supported-in-this-environment")),Ft()},t.Jb=function(){return Pi(new Z("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(c,p,_,D){if(this.c)return Pi(new Z("redirect-operation-pending"));var k=this,q=u.document,J=null,ce=null,Pe=null,Ve=null;return this.c=Ft().then(function(){return ee(p),Vs(k)}).then(function(){return Lo(k,c,p,_,D)}).then(function(){return new bn(function(en,Ki){ce=function(){var ci=Dn("cordova.plugins.browsertab.close",u);return en(),typeof ci=="function"&&ci(),k.a&&typeof k.a.close=="function"&&(k.a.close(),k.a=null),!1},k.Ca(ce),Pe=function(){J||(J=Yu(2e3).then(function(){Ki(new Z("redirect-cancelled-by-user"))}))},Ve=function(){$c()&&Pe()},q.addEventListener("resume",Pe,!1),ao().toLowerCase().match(/android/)||q.addEventListener("visibilitychange",Ve,!1)}).o(function(en){return us(k).then(function(){throw en})})}).ma(function(){Pe&&q.removeEventListener("resume",Pe,!1),Ve&&q.removeEventListener("visibilitychange",Ve,!1),J&&J.cancel(),ce&&k.Qa(ce),k.c=null})};function Lo(c,p,_,D,k){var q=Ya(),J=new fe(p,D,null,q,new Z("no-auth-event"),null,k),ce=Dn("BuildInfo.packageName",u);if(typeof ce!="string")throw new Z("invalid-cordova-configuration");var Pe=Dn("BuildInfo.displayName",u),Ve={};if(ao().toLowerCase().match(/iphone|ipad|ipod/))Ve.ibi=ce;else if(ao().toLowerCase().match(/android/))Ve.apn=ce;else return Pi(new Z("operation-not-supported-in-this-environment"));Pe&&(Ve.appDisplayName=Pe),q=bi(q),Ve.sessionId=q;var en=wh(c.u,c.i,c.l,p,_,null,D,c.m,Ve,c.s,k);return c.ka().then(function(){var Ki=c.h;return c.w.a.set(ye,J.v(),Ki)}).then(function(){var Ki=Dn("cordova.plugins.browsertab.isAvailable",u);if(typeof Ki!="function")throw new Z("invalid-cordova-configuration");var ci=null;Ki(function(ds){if(ds){if(ci=Dn("cordova.plugins.browsertab.openUrl",u),typeof ci!="function")throw new Z("invalid-cordova-configuration");ci(en)}else{if(ci=Dn("cordova.InAppBrowser.open",u),typeof ci!="function")throw new Z("invalid-cordova-configuration");ds=ao(),c.a=ci(en,ds.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||ds.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function ld(c,p){for(var _=0;_<c.b.length;_++)try{c.b[_](p)}catch{}}function Vs(c){return c.f||(c.f=c.ka().then(function(){return new bn(function(p){function _(D){return p(D),c.Qa(_),!1}c.Ca(_),Vf(c)})})),c.f}function us(c){var p=null;return Se(c.g).then(function(_){return p=_,_=c.g,X(_.b,ye,_.a)}).then(function(){return p})}function Vf(c){function p(J){D=!0,k&&k.cancel(),us(c).then(function(ce){var Pe=_;if(ce&&J&&J.url){var Ve=null;Pe=Hm(J.url),Pe.indexOf("/__/auth/callback")!=-1&&(Ve=_l(Pe),Ve=ch(Fs(Ve,"firebaseError")||null),Ve=(Ve=typeof Ve=="object"?_e(Ve):null)?new fe(ce.c,ce.b,null,null,Ve,null,ce.S()):new fe(ce.c,ce.b,Pe,ce.f,null,null,ce.S())),Pe=Ve||_}ld(c,Pe)})}var _=new fe("unknown",null,null,null,new Z("no-auth-event")),D=!1,k=Yu(500).then(function(){return us(c).then(function(){D||ld(c,_)})}),q=u.handleOpenURL;u.handleOpenURL=function(J){if(J.toLowerCase().indexOf(Dn("BuildInfo.packageName",u).toLowerCase()+"://")==0&&p({url:J}),typeof q=="function")try{q(J)}catch(ce){console.error(ce)}},hn||(hn=new Bt),wi(p)}t.Ca=function(c){this.b.push(c),Vs(this).o(function(p){p.code==="auth/invalid-cordova-configuration"&&(p=new fe("unknown",null,null,null,new Z("no-auth-event")),c(p))})},t.Qa=function(c){yi(this.b,function(p){return p==c})};function tu(c){this.a=c,this.b=E()}var nu={name:"pendingRedirect",F:"session"};function Qf(c){return c.b.set(nu,"pending",c.a)}function cd(c){return X(c.b,nu,c.a)}function ud(c){return c.b.get(nu,c.a).then(function(p){return p=="pending"})}function iu(c,p,_){this.i={},this.w=0,this.D=c,this.u=p,this.m=_,this.h=[],this.f=!1,this.l=L(this.s,this),this.b=new PT,this.B=new C7,this.g=new tu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=ru(this.D,this.u,this.m,re)}function ru(c,p,_,D){var k=n.SDK_VERSION||null;return sh()?new Rr(c,p,_,k,D):new a0(c,p,_,k,D)}iu.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=ru(this.D,this.u,this.m),this.i={}};function jf(c){c.f||(c.f=!0,c.a.Ca(c.l));var p=c.a;return c.a.ka().o(function(_){throw c.a==p&&c.reset(),_})}function DA(c){c.a.Ub()&&jf(c).o(function(p){var _=new fe("unknown",null,null,null,new Z("operation-not-supported-in-this-environment"));nN(p)&&c.s(_)}),c.a.Qb()||w7(c.b)}function tN(c,p){Fo(c.h,p)||c.h.push(p),c.f||ud(c.g).then(function(_){_?cd(c.g).then(function(){jf(c).o(function(D){var k=new fe("unknown",null,null,null,new Z("operation-not-supported-in-this-environment"));nN(D)&&c.s(k)})}):DA(c)}).o(function(){DA(c)})}function g7(c,p){yi(c.h,function(_){return _==p})}iu.prototype.s=function(c){if(!c)throw new Z("invalid-auth-event");if(6e5<=G()-this.w&&(this.i={},this.w=0),c&&c.getUid()&&this.i.hasOwnProperty(c.getUid()))return!1;for(var p=!1,_=0;_<this.h.length;_++){var D=this.h[_];if(D.Cb(c.c,c.b)){(p=this.c[c.c])&&(p.h(c,D),c&&(c.f||c.b)&&(this.i[c.getUid()]=!0,this.w=G())),p=!0;break}}return w7(this.b),p};var vde=new Ka(2e3,1e4),_de=new Ka(3e4,6e4);iu.prototype.pa=function(){return this.b.pa()};function m7(c,p,_,D,k,q,J){return c.a.Jb(p,_,D,function(){c.f||(c.f=!0,c.a.Ca(c.l))},function(){c.reset()},k,q,J)}function nN(c){return!!(c&&c.code=="auth/cordova-not-ready")}function v7(c,p,_,D,k){var q;return Qf(c.g).then(function(){return c.a.Kb(p,_,D,k).o(function(J){if(nN(J))throw new Z("operation-not-supported-in-this-environment");return q=J,cd(c.g).then(function(){throw q})}).then(function(){return c.a.Xb()?new bn(function(){}):cd(c.g).then(function(){return c.pa()}).then(function(){}).o(function(){})})})}function _7(c,p,_,D,k){return c.a.Lb(D,function(q){p.la(_,null,q,k)},vde.get())}var iN={};function y7(c,p,_){var D=p+":"+_;return iN[D]||(iN[D]=new iu(c,p,_)),iN[D]}function PT(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}PT.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},PT.prototype.h=function(c,p){if(c){this.reset(),this.g=!0;var _=c.c,D=c.b,k=c.a&&c.a.code=="auth/web-storage-unsupported",q=c.a&&c.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!k&&!q),_!="unknown"||k||q?c.a?(A0(this,!0,null,c.a),Ft()):p.Da(_,D)?yde(this,c,p):Pi(new Z("invalid-auth-event")):(A0(this,!1,null,null),Ft())}else Pi(new Z("invalid-auth-event"))};function w7(c){c.g||(c.g=!0,A0(c,!1,null,null))}function kT(c){c.g&&!c.i&&A0(c,!1,null,null)}function yde(c,p,_){_=_.Da(p.c,p.b);var D=p.g,k=p.f,q=p.i,J=p.S(),ce=!!p.c.match(/Redirect$/);_(D,k,J,q).then(function(Pe){A0(c,ce,Pe,null)}).o(function(Pe){A0(c,ce,null,Pe)})}function wde(c,p){if(c.b=function(){return Pi(p)},c.c.length)for(var _=0;_<c.c.length;_++)c.c[_](p)}function b7(c,p){if(c.b=function(){return Ft(p)},c.f.length)for(var _=0;_<c.f.length;_++)c.f[_](p)}function A0(c,p,_,D){p?D?wde(c,D):b7(c,_):b7(c,{user:null}),c.f=[],c.c=[]}PT.prototype.pa=function(){var c=this;return new bn(function(p,_){c.b?c.b().then(p,_):(c.f.push(p),c.c.push(_),bde(c))})};function bde(c){var p=new Z("timeout");c.a&&c.a.cancel(),c.a=Yu(_de.get()).then(function(){c.b||(c.g=!0,A0(c,!0,null,p))})}function C7(){}C7.prototype.h=function(c,p){if(c){var _=c.c,D=c.b;c.a?(p.la(c.c,null,c.a,c.b),Ft()):p.Da(_,D)?Cde(c,p):Pi(new Z("invalid-auth-event"))}else Pi(new Z("invalid-auth-event"))};function Cde(c,p){var _=c.b,D=c.c;p.Da(D,_)(c.g,c.f,c.S(),c.i).then(function(k){p.la(D,k,null,_)}).o(function(k){p.la(D,null,k,_)})}function E7(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(c){this.Bb=c},enumerable:!1})}function rN(c,p){this.a=p,Ct(this,"verificationId",c)}rN.prototype.confirm=function(c){return c=U(this.verificationId,c),this.a(c)};function oN(c,p,_,D){return new O(c).cb(p,_).then(function(k){return new rN(k,D)})}function Ede(c){var p=ey(c);if(!(p&&p.exp&&p.auth_time&&p.iat))throw new Z("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ko(this,{token:c,expirationTime:dh(1e3*p.exp),authTime:dh(1e3*p.auth_time),issuedAtTime:dh(1e3*p.iat),signInProvider:p.firebase&&p.firebase.sign_in_provider?p.firebase.sign_in_provider:null,signInSecondFactor:p.firebase&&p.firebase.sign_in_second_factor?p.firebase.sign_in_second_factor:null,claims:p})}function sN(c,p,_){var D=p&&p[x7];if(!D)throw new Z("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=c,this.f=ka(p),this.g=_,this.c=new mA(null,D),this.b=[];var k=this;Rt(p[S7]||[],function(q){(q=Om(q))&&k.b.push(q)}),Ct(this,"auth",this.a),Ct(this,"session",this.c),Ct(this,"hints",this.b)}var S7="mfaInfo",x7="mfaPendingCredential";sN.prototype.Pc=function(c){var p=this;return c.ob(this.a.b,this.c).then(function(_){var D=ka(p.f);return delete D[S7],delete D[x7],gr(D,_),p.g(D)})};function aN(c,p,_,D){Z.call(this,"multi-factor-auth-required",D,p),this.b=new sN(c,p,_),Ct(this,"resolver",this.b)}Y(aN,Z);function I7(c,p,_){if(c&&b(c.serverResponse)&&c.code==="auth/multi-factor-auth-required")try{return new aN(p,c.serverResponse,_,c.message)}catch{}return null}function T7(){}T7.prototype.ob=function(c,p,_){return p.type==Ps?Sde(this,c,p,_):xde(this,c,p)};function Sde(c,p,_,D){return _.Fa().then(function(k){return k={idToken:k},typeof D<"u"&&(k.displayName=D),gr(k,{phoneVerificationInfo:y(c.a)}),On(p,s0,k)})}function xde(c,p,_){return _.Fa().then(function(D){return D={mfaPendingCredential:D},gr(D,{phoneVerificationInfo:y(c.a)}),On(p,gT,D)})}function lN(c){Ct(this,"factorId",c.ea),this.a=c}Y(lN,T7);function D7(c){if(lN.call(this,c),this.a.ea!=O.PROVIDER_ID)throw new Z("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}Y(D7,lN);function My(c,p){Nr.call(this,c);for(var _ in p)this[_]=p[_]}Y(My,Nr);function cN(c,p){this.a=c,this.b=[],this.c=L(this.wc,this),Ha(this.a,"userReloaded",this.c);var _=[];p&&p.multiFactor&&p.multiFactor.enrolledFactors&&Rt(p.multiFactor.enrolledFactors,function(D){var k=null,q={};if(D){D.uid&&(q[Bm]=D.uid),D.displayName&&(q[Zc]=D.displayName),D.enrollmentTime&&(q[Fm]=new Date(D.enrollmentTime).toISOString()),D.phoneNumber&&(q[Ff]=D.phoneNumber);try{k=new Bf(q)}catch{}D=k}else D=null;D&&_.push(D)}),NT(this,_)}function Ide(c){var p=[];return Rt(c.mfaInfo||[],function(_){(_=Om(_))&&p.push(_)}),p}t=cN.prototype,t.wc=function(c){NT(this,Ide(c.ed))};function NT(c,p){c.b=p,Ct(c,"enrolledFactors",p)}t.Ob=function(){return this.a.I().then(function(c){return new mA(c,null)})},t.dc=function(c,p){var _=this,D=this.a.a;return this.Ob().then(function(k){return c.ob(D,k,p)}).then(function(k){return Ch(_.a,k),_.a.reload()})},t.$c=function(c){var p=this,_=typeof c=="string"?c:c.uid,D=this.a.a;return this.a.I().then(function(k){return On(D,Qk,{idToken:k,mfaEnrollmentId:_})}).then(function(k){var q=Br(p.b,function(J){return J.uid!=_});return NT(p,q),Ch(p.a,k),p.a.reload().o(function(J){if(J.code!="auth/user-token-expired")throw J})})},t.v=function(){return{multiFactor:{enrolledFactors:Oo(this.b,function(c){return c.v()})}}};function uN(c,p,_){if(this.h=c,this.i=p,this.g=_,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}uN.prototype.start=function(){this.a=this.c,dN(this,!0)};function Tde(c,p){return p?(c.a=c.c,c.g()):(p=c.a,c.a*=2,c.a>c.f&&(c.a=c.f),p)}function dN(c,p){c.stop(),c.b=Yu(Tde(c,p)).then(function(){return aA()}).then(function(){return c.h()}).then(function(){dN(c,!0)}).o(function(_){c.i(_)&&dN(c,!1)})}uN.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function hN(c){this.c=c,this.b=this.a=null}hN.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:fN(this)}};function fN(c){return c.b&&1e3*c.b.c||0}function M7(c,p){var _=p.refreshToken;c.b=pA(p[Ml]||""),c.a=_}function Dde(c,p){c.b=p.b,c.a=p.a}function Mde(c,p){return Ik(c.c,p).then(function(_){return c.b=pA(_.access_token),c.a=_.refresh_token,{accessToken:c.b.toString(),refreshToken:c.a}}).o(function(_){throw _.code=="auth/user-token-expired"&&(c.a=null),_})}hN.prototype.getToken=function(c){return c=!!c,this.b&&!this.a?Pi(new Z("user-token-expired")):c||!this.b||G()>fN(this)-3e4?this.a?Mde(this,{grant_type:"refresh_token",refresh_token:this.a}):Ft(null):Ft({accessToken:this.b.toString(),refreshToken:this.a})};function RT(c,p){this.a=c||null,this.b=p||null,ko(this,{lastSignInTime:dh(p||null),creationTime:dh(c||null)})}function Ode(c){return new RT(c.a,c.b)}RT.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}};function Fde(c,p,_,D,k,q){ko(this,{uid:c,displayName:D||null,photoURL:k||null,email:_||null,phoneNumber:q||null,providerId:p})}function lc(c,p,_){this.N=[],this.l=c.apiKey,this.m=c.appName,this.s=c.authDomain||null,c=n.SDK_VERSION?ah(n.SDK_VERSION):null,this.a=new ac(this.l,me(re),c),this.b=new hN(this.a),vN(this,p[Ml]),M7(this.b,p),Ct(this,"refreshToken",this.b.a),F7(this,_||{}),Ir.call(this),this.P=!1,this.s&&Ju()&&(this.i=y7(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=Bde(this),this.Z=L(this.Ma,this);var D=this;this.oa=null,this.za=function(k){D.va(k.g)},this.aa=null,this.W=[],this.ya=function(k){PC(D,k.c)},this.$=null,this.O=new cN(this,_),Ct(this,"multiFactor",this.O)}Y(lc,Ir),lc.prototype.va=function(c){this.oa=c,SA(this.a,c)},lc.prototype.ja=function(){return this.oa};function pN(c,p){c.aa&&ua(c.aa,"languageCodeChanged",c.za),(c.aa=p)&&Ha(p,"languageCodeChanged",c.za)}function PC(c,p){c.W=p,wy(c.a,n.SDK_VERSION?ah(n.SDK_VERSION,c.W):null)}lc.prototype.Ea=function(){return Fi(this.W)};function AN(c,p){c.$&&ua(c.$,"frameworkChanged",c.ya),(c.$=p)&&Ha(p,"frameworkChanged",c.ya)}lc.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())};function gN(c){try{return n.app(c.m).auth()}catch{throw new Z("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+c.m+"'!")}}function Bde(c){return new uN(function(){return c.I(!0)},function(p){return!!(p&&p.code=="auth/network-request-failed")},function(){var p=fN(c.b)-G()-3e5;return 0<p?p:0})}function O7(c){c.D||c.B.b||(c.B.start(),ua(c,"tokenChanged",c.Z),Ha(c,"tokenChanged",c.Z))}function mN(c){ua(c,"tokenChanged",c.Z),c.B.stop()}function vN(c,p){c.xa=p,Ct(c,"_lat",p)}function Pde(c,p){yi(c.R,function(_){return _==p})}function g0(c){for(var p=[],_=0;_<c.R.length;_++)p.push(c.R[_](c));return cm(p).then(function(){return c})}function kC(c){c.i&&!c.P&&(c.P=!0,tN(c.i,c))}function F7(c,p){ko(c,{uid:p.uid,displayName:p.displayName||null,photoURL:p.photoURL||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,isAnonymous:p.isAnonymous||!1,tenantId:p.tenantId||null,metadata:new RT(p.createdAt,p.lastLoginAt),providerData:[]}),c.a.b=c.tenantId}Ct(lc.prototype,"providerId","firebase");function B7(){}function _N(c){return Ft().then(function(){if(c.D)throw new Z("app-deleted")})}function yN(c){return Oo(c.providerData,function(p){return p.providerId})}function wN(c,p){p&&(P7(c,p.providerId),c.providerData.push(p))}function P7(c,p){yi(c.providerData,function(_){return _.providerId==p})}function MA(c,p,_){(p!="uid"||_)&&c.hasOwnProperty(p)&&Ct(c,p,_)}function LT(c,p){c!=p&&(ko(c,{uid:p.uid,displayName:p.displayName,photoURL:p.photoURL,email:p.email,emailVerified:p.emailVerified,phoneNumber:p.phoneNumber,isAnonymous:p.isAnonymous,tenantId:p.tenantId,providerData:[]}),p.metadata?Ct(c,"metadata",Ode(p.metadata)):Ct(c,"metadata",new RT),Rt(p.providerData,function(_){wN(c,_)}),Dde(c.b,p.b),Ct(c,"refreshToken",c.b.a),NT(c.O,p.O.b))}t=lc.prototype,t.reload=function(){var c=this;return Uo(this,_N(this).then(function(){return bN(c).then(function(){return g0(c)}).then(B7)}))};function bN(c){return c.I().then(function(p){var _=c.isAnonymous;return kde(c,p).then(function(){return _||MA(c,"isAnonymous",!1),p})})}t.mc=function(c){return this.I(c).then(function(p){return new Ede(p)})},t.I=function(c){var p=this;return Uo(this,_N(this).then(function(){return p.b.getToken(c)}).then(function(_){if(!_)throw new Z("internal-error");return _.accessToken!=p.xa&&(vN(p,_.accessToken),p.dispatchEvent(new My("tokenChanged"))),MA(p,"refreshToken",_.refreshToken),_.accessToken}))};function Ch(c,p){p[Ml]&&c.xa!=p[Ml]&&(M7(c.b,p),c.dispatchEvent(new My("tokenChanged")),vN(c,p[Ml]),MA(c,"refreshToken",c.b.a))}function kde(c,p){return On(c.a,mT,{idToken:p}).then(L(c.Ic,c))}t.Ic=function(c){if(c=c.users,!c||!c.length)throw new Z("internal-error");c=c[0],F7(this,{uid:c.localId,displayName:c.displayName,photoURL:c.photoUrl,email:c.email,emailVerified:!!c.emailVerified,phoneNumber:c.phoneNumber,lastLoginAt:c.lastLoginAt,createdAt:c.createdAt,tenantId:c.tenantId});for(var p=Nde(c),_=0;_<p.length;_++)wN(this,p[_]);MA(this,"isAnonymous",!(this.email&&c.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new My("userReloaded",{ed:c}))};function Nde(c){return(c=c.providerUserInfo)&&c.length?Oo(c,function(p){return new Fde(p.rawId,p.providerId,p.email,p.displayName,p.photoUrl,p.phoneNumber)}):[]}t.Jc=function(c){return Im("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(c)},t.pb=function(c){var p=this,_=null;return Uo(this,c.c(this.a,this.uid).then(function(D){return Ch(p,D),_=NC(p,D,"reauthenticate"),p.h=null,p.reload()}).then(function(){return _}),!0)};function UT(c,p){return bN(c).then(function(){if(Fo(yN(c),p))return g0(c).then(function(){throw new Z("provider-already-linked")})})}t.Ac=function(c){return Im("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(c)},t.mb=function(c){var p=this,_=null;return Uo(this,UT(this,c.providerId).then(function(){return p.I()}).then(function(D){return c.b(p.a,D)}).then(function(D){return _=NC(p,D,"link"),k7(p,D)}).then(function(){return _}))},t.Bc=function(c,p){var _=this;return Uo(this,UT(this,"phone").then(function(){return oN(gN(_),c,p,L(_.mb,_))}))},t.Kc=function(c,p){var _=this;return Uo(this,Ft().then(function(){return oN(gN(_),c,p,L(_.pb,_))}),!0)};function NC(c,p,_){var D=Q(p);return p=ty(p),Yc({user:c,credential:D,additionalUserInfo:p,operationType:_})}function k7(c,p){return Ch(c,p),c.reload().then(function(){return c})}t.xb=function(c){var p=this;return Uo(this,this.I().then(function(_){return p.a.xb(_,c)}).then(function(_){return Ch(p,_),p.reload()}))},t.cd=function(c){var p=this;return Uo(this,this.I().then(function(_){return c.b(p.a,_)}).then(function(_){return Ch(p,_),p.reload()}))},t.yb=function(c){var p=this;return Uo(this,this.I().then(function(_){return p.a.yb(_,c)}).then(function(_){return Ch(p,_),p.reload()}))},t.zb=function(c){if(c.displayName===void 0&&c.photoURL===void 0)return _N(this);var p=this;return Uo(this,this.I().then(function(_){return p.a.zb(_,{displayName:c.displayName,photoUrl:c.photoURL})}).then(function(_){return Ch(p,_),MA(p,"displayName",_.displayName||null),MA(p,"photoURL",_.photoUrl||null),Rt(p.providerData,function(D){D.providerId==="password"&&(Ct(D,"displayName",p.displayName),Ct(D,"photoURL",p.photoURL))}),g0(p)}).then(B7))},t.ad=function(c){var p=this;return Uo(this,bN(this).then(function(_){return Fo(yN(p),c)?hT(p.a,_,[c]).then(function(D){var k={};return Rt(D.providerUserInfo||[],function(q){k[q.providerId]=!0}),Rt(yN(p),function(q){k[q]||P7(p,q)}),k[O.PROVIDER_ID]||Ct(p,"phoneNumber",null),g0(p)}):g0(p).then(function(){throw new Z("no-such-provider")})}))},t.delete=function(){var c=this;return Uo(this,this.I().then(function(p){return On(c.a,fT,{idToken:p})}).then(function(){c.dispatchEvent(new My("userDeleted"))})).then(function(){for(var p=0;p<c.N.length;p++)c.N[p].cancel("app-deleted");pN(c,null),AN(c,null),c.N=[],c.D=!0,mN(c),Ct(c,"refreshToken",null),c.i&&g7(c.i,c)})},t.Cb=function(c,p){return!!(c=="linkViaPopup"&&(this.g||null)==p&&this.f||c=="reauthViaPopup"&&(this.g||null)==p&&this.f||c=="linkViaRedirect"&&(this.fa||null)==p||c=="reauthViaRedirect"&&(this.fa||null)==p)},t.la=function(c,p,_,D){c!="linkViaPopup"&&c!="reauthViaPopup"||D!=(this.g||null)||(_&&this.w?this.w(_):p&&!_&&this.f&&this.f(p),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(c,p){return c=="linkViaPopup"&&p==(this.g||null)?L(this.Hb,this):c=="reauthViaPopup"&&p==(this.g||null)?L(this.Ib,this):c=="linkViaRedirect"&&(this.fa||null)==p?L(this.Hb,this):c=="reauthViaRedirect"&&(this.fa||null)==p?L(this.Ib,this):null},t.Cc=function(c){var p=this;return N7(this,"linkViaPopup",c,function(){return UT(p,c.providerId).then(function(){return g0(p)})},!1)},t.Lc=function(c){return N7(this,"reauthViaPopup",c,function(){return Ft()},!0)};function N7(c,p,_,D,k){if(!Ju())return Pi(new Z("operation-not-supported-in-this-environment"));if(c.h&&!k)return Pi(c.h);var q=Um(_.providerId),J=qc(c.uid+":::"),ce=null;(!Mf()||Ao())&&c.s&&_.isOAuthProvider&&(ce=wh(c.s,c.l,c.m,p,_,null,J,n.SDK_VERSION||null,null,null,c.tenantId));var Pe=oA(ce,q&&q.ta,q&&q.sa);return D=D().then(function(){if(L7(c),!k)return c.I().then(function(){})}).then(function(){return m7(c.i,Pe,p,_,J,!!ce,c.tenantId)}).then(function(){return new bn(function(Ve,en){c.la(p,null,new Z("cancelled-popup-request"),c.g||null),c.f=Ve,c.w=en,c.g=J,c.c=_7(c.i,c,p,Pe,J)})}).then(function(Ve){return Pe&&ic(Pe),Ve?Yc(Ve):null}).o(function(Ve){throw Pe&&ic(Pe),Ve}),Uo(c,D,k)}t.Dc=function(c){var p=this;return R7(this,"linkViaRedirect",c,function(){return UT(p,c.providerId)},!1)},t.Mc=function(c){return R7(this,"reauthViaRedirect",c,function(){return Ft()},!0)};function R7(c,p,_,D,k){if(!Ju())return Pi(new Z("operation-not-supported-in-this-environment"));if(c.h&&!k)return Pi(c.h);var q=null,J=qc(c.uid+":::");return D=D().then(function(){if(L7(c),!k)return c.I().then(function(){})}).then(function(){return c.fa=J,g0(c)}).then(function(ce){return c.ga&&(ce=c.ga,ce=ce.b.set(CN,c.v(),ce.a)),ce}).then(function(){return v7(c.i,p,_,J,c.tenantId)}).o(function(ce){if(q=ce,c.ga)return H7(c.ga);throw q}).then(function(){if(q)throw q}),Uo(c,D,k)}function L7(c){if(!c.i||!c.P)throw c.i&&!c.P?new Z("internal-error"):new Z("auth-domain-config-required")}t.Hb=function(c,p,_,D){var k=this;this.c&&(this.c.cancel(),this.c=null);var q=null;return _=this.I().then(function(J){return mr(k.a,{requestUri:c,postBody:D,sessionId:p,idToken:J})}).then(function(J){return q=NC(k,J,"link"),k7(k,J)}).then(function(){return q}),Uo(this,_)},t.Ib=function(c,p,_,D){var k=this;this.c&&(this.c.cancel(),this.c=null);var q=null,J=Ft().then(function(){return gh(sd(k.a,{requestUri:c,sessionId:p,postBody:D,tenantId:_}),k.uid)}).then(function(ce){return q=NC(k,ce,"reauthenticate"),Ch(k,ce),k.h=null,k.reload()}).then(function(){return q});return Uo(this,J,!0)},t.qb=function(c){var p=this,_=null;return Uo(this,this.I().then(function(D){return _=D,typeof c>"u"||Ar(c)?{}:In(new fA(c))}).then(function(D){return p.a.qb(_,D)}).then(function(D){if(p.email!=D)return p.reload()}).then(function(){}))},t.Ab=function(c,p){var _=this,D=null;return Uo(this,this.I().then(function(k){return D=k,typeof p>"u"||Ar(p)?{}:In(new fA(p))}).then(function(k){return _.a.Ab(D,c,k)}).then(function(k){if(_.email!=k)return _.reload()}).then(function(){}))};function Uo(c,p,_){var D=Rde(c,p,_);return c.N.push(D),D.ma(function(){xr(c.N,D)}),D.o(function(k){var q=null;throw k&&k.code==="auth/multi-factor-auth-required"&&(q=I7(k.v(),gN(c),L(c.hc,c))),q||k})}t.hc=function(c){var p=null,_=this;return c=gh(Ft(c),_.uid).then(function(D){return p=NC(_,D,"reauthenticate"),Ch(_,D),_.h=null,_.reload()}).then(function(){return p}),Uo(this,c,!0)};function Rde(c,p,_){return c.h&&!_?(p.cancel(),Pi(c.h)):p.o(function(D){throw!D||D.code!="auth/user-disabled"&&D.code!="auth/user-token-expired"||(c.h||c.dispatchEvent(new My("userInvalidated")),c.h=D),D})}t.toJSON=function(){return this.v()},t.v=function(){var c={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&gr(c,this.metadata.v()),Rt(this.providerData,function(p){c.providerData.push(Wb(p))}),gr(c,this.O.v()),c};function U7(c){if(!c.apiKey)return null;var p={apiKey:c.apiKey,authDomain:c.authDomain,appName:c.appName},_={};if(c.stsTokenManager&&c.stsTokenManager.accessToken)_[Ml]=c.stsTokenManager.accessToken,_.refreshToken=c.stsTokenManager.refreshToken||null;else return null;var D=new lc(p,_,c);return c.providerData&&Rt(c.providerData,function(k){k&&wN(D,Yc(k))}),c.redirectEventId&&(D.fa=c.redirectEventId),D}function Lde(c,p,_,D){var k=new lc(c,p);return _&&(k.ga=_),D&&PC(k,D),k.reload().then(function(){return k})}function Ude(c,p,_,D){var k=c.b,q={};return q[Ml]=k.b&&k.b.toString(),q.refreshToken=k.a,p=new lc(p||{apiKey:c.l,authDomain:c.s,appName:c.m},q),_&&(p.ga=_),D&&PC(p,D),LT(p,c),p}function Hde(c){this.a=c,this.b=E()}var CN={name:"redirectUser",F:"session"};function H7(c){return X(c.b,CN,c.a)}function Vde(c,p){return c.b.get(CN,c.a).then(function(_){return _&&p&&(_.authDomain=p),U7(_||{})})}function EN(c){this.a=c,this.b=E(),this.c=null,this.f=Qde(this),this.b.addListener(Eh("local"),this.a,L(this.g,this))}EN.prototype.g=function(){var c=this,p=Eh("local");Oy(this,function(){return Ft().then(function(){return c.c&&c.c.F!="local"?c.b.get(p,c.a):null}).then(function(_){if(_)return SN(c,"local").then(function(){c.c=p})})})};function SN(c,p){var _=[],D;for(D in TA)TA[D]!==p&&_.push(X(c.b,Eh(TA[D]),c.a));return _.push(X(c.b,xN,c.a)),I_(_)}function Qde(c){var p=Eh("local"),_=Eh("session"),D=Eh("none");return V(c.b,p,c.a).then(function(){return c.b.get(_,c.a)}).then(function(k){return k?_:c.b.get(D,c.a).then(function(q){return q?D:c.b.get(p,c.a).then(function(J){return J?p:c.b.get(xN,c.a).then(function(ce){return ce?Eh(ce):p})})})}).then(function(k){return c.c=k,SN(c,k.F)}).o(function(){c.c||(c.c=p)})}var xN={name:"persistence",F:"session"};function Eh(c){return{name:"authUser",F:c}}EN.prototype.tb=function(c){var p=null,_=this;return eN(c),Oy(this,function(){return c!=_.c.F?_.b.get(_.c,_.a).then(function(D){return p=D,SN(_,c)}).then(function(){if(_.c=Eh(c),p)return _.b.set(_.c,p,_.a)}):Ft()})};function jde(c){return Oy(c,function(){return c.b.set(xN,c.c.F,c.a)})}function V7(c,p){return Oy(c,function(){return c.b.set(c.c,p.v(),c.a)})}function Q7(c){return Oy(c,function(){return X(c.b,c.c,c.a)})}function j7(c,p){return Oy(c,function(){return c.b.get(c.c,c.a).then(function(_){return _&&p&&(_.authDomain=p),U7(_||{})})})}function Oy(c,p){return c.f=c.f.then(p,p),c.f}function dd(c){if(this.l=!1,Ct(this,"settings",new E7),Ct(this,"app",c),Ni(this).options&&Ni(this).options.apiKey)c=n.SDK_VERSION?ah(n.SDK_VERSION):null,this.b=new ac(Ni(this).options&&Ni(this).options.apiKey,me(re),c);else throw new Z("invalid-api-key");this.P=[],this.m=[],this.O=[],this.$b=n.INTERNAL.createSubscribe(L(this.xc,this)),this.W=void 0,this.ac=n.INTERNAL.createSubscribe(L(this.yc,this)),Fy(this,null),this.i=new EN(Ni(this).options.apiKey+":"+Ni(this).name),this.B=new Hde(Ni(this).options.apiKey+":"+Ni(this).name),this.Z=Yr(this,qde(this)),this.h=Yr(this,$de(this)),this.aa=!1,this.oa=L(this.Xc,this),this.Ma=L(this.ca,this),this.xa=L(this.jc,this),this.ya=L(this.uc,this),this.za=L(this.vc,this),this.a=null,Wde(this),this.INTERNAL={},this.INTERNAL.delete=L(this.delete,this),this.INTERNAL.logFramework=L(this.Ec,this),this.s=0,Ir.call(this),Gde(this),this.N=[]}Y(dd,Ir);function G7(c){Nr.call(this,"languageCodeChanged"),this.g=c}Y(G7,Nr);function W7(c){Nr.call(this,"frameworkChanged"),this.c=c}Y(W7,Nr),t=dd.prototype,t.tb=function(c){return c=this.i.tb(c),Yr(this,c)},t.va=function(c){this.$===c||this.l||(this.$=c,SA(this.b,this.$),this.dispatchEvent(new G7(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var c=u.navigator;this.va(c&&(c.languages&&c.languages[0]||c.language||c.userLanguage)||null)},t.Ec=function(c){this.N.push(c),wy(this.b,n.SDK_VERSION?ah(n.SDK_VERSION,this.N):null),this.dispatchEvent(new W7(this.N))},t.Ea=function(){return Fi(this.N)},t.ub=function(c){this.R===c||this.l||(this.R=c,this.b.b=this.R)},t.S=function(){return this.R};function Gde(c){Object.defineProperty(c,"lc",{get:function(){return this.ja()},set:function(p){this.va(p)},enumerable:!1}),c.$=null,Object.defineProperty(c,"ti",{get:function(){return this.S()},set:function(p){this.ub(p)},enumerable:!1}),c.R=null}t.toJSON=function(){return{apiKey:Ni(this).options.apiKey,authDomain:Ni(this).options.authDomain,appName:Ni(this).name,currentUser:_n(this)&&_n(this).v()}};function IN(c){return c.Zb||Pi(new Z("auth-domain-config-required"))}function Wde(c){var p=Ni(c).options.authDomain,_=Ni(c).options.apiKey;p&&Ju()&&(c.Zb=c.Z.then(function(){if(!c.l){if(c.a=y7(p,_,Ni(c).name),tN(c.a,c),_n(c)&&kC(_n(c)),c.D){kC(c.D);var D=c.D;D.va(c.ja()),pN(D,c),D=c.D,PC(D,c.N),AN(D,c),c.D=null}return c.a}}))}t.Cb=function(c,p){switch(c){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==p&&!!this.f;default:return!1}},t.la=function(c,p,_,D){c=="signInViaPopup"&&this.g==D&&(_&&this.w?this.w(_):p&&!_&&this.f&&this.f(p),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(c,p){return c=="signInViaRedirect"||c=="signInViaPopup"&&this.g==p&&this.f?L(this.gc,this):null},t.gc=function(c,p,_,D){var k=this,q={requestUri:c,postBody:D,sessionId:p,tenantId:_};return this.c&&(this.c.cancel(),this.c=null),k.Z.then(function(){return m0(k,Ey(k.b,q))})},t.Vc=function(c){if(!Ju())return Pi(new Z("operation-not-supported-in-this-environment"));var p=this,_=Um(c.providerId),D=qc(),k=null;(!Mf()||Ao())&&Ni(this).options.authDomain&&c.isOAuthProvider&&(k=wh(Ni(this).options.authDomain,Ni(this).options.apiKey,Ni(this).name,"signInViaPopup",c,null,D,n.SDK_VERSION||null,null,null,this.S()));var q=oA(k,_&&_.ta,_&&_.sa);return _=IN(this).then(function(J){return m7(J,q,"signInViaPopup",c,D,!!k,p.S())}).then(function(){return new bn(function(J,ce){p.la("signInViaPopup",null,new Z("cancelled-popup-request"),p.g),p.f=J,p.w=ce,p.g=D,p.c=_7(p.a,p,"signInViaPopup",q,D)})}).then(function(J){return q&&ic(q),J?Yc(J):null}).o(function(J){throw q&&ic(q),J}),Yr(this,_)},t.Wc=function(c){if(!Ju())return Pi(new Z("operation-not-supported-in-this-environment"));var p=this,_=IN(this).then(function(){return jde(p.i)}).then(function(){return v7(p.a,"signInViaRedirect",c,void 0,p.S())});return Yr(this,_)};function K7(c){if(!Ju())return Pi(new Z("operation-not-supported-in-this-environment"));var p=IN(c).then(function(){return c.a.pa()}).then(function(_){return _?Yc(_):null});return Yr(c,p)}t.pa=function(){var c=this;return K7(this).then(function(p){return c.a&&kT(c.a.b),p}).o(function(p){throw c.a&&kT(c.a.b),p})},t.bd=function(c){if(!c)return Pi(new Z("null-user"));if(this.R!=c.tenantId)return Pi(new Z("tenant-id-mismatch"));var p=this,_={};_.apiKey=Ni(this).options.apiKey,_.authDomain=Ni(this).options.authDomain,_.appName=Ni(this).name;var D=Ude(c,_,p.B,p.Ea());return Yr(this,this.h.then(function(){if(Ni(p).options.apiKey!=c.l)return D.reload()}).then(function(){return _n(p)&&c.uid==_n(p).uid?(LT(_n(p),c),p.ca(c)):(Fy(p,D),kC(D),p.ca(D))}).then(function(){RC(p)}))};function Kde(c,p){var _={};return _.apiKey=Ni(c).options.apiKey,_.authDomain=Ni(c).options.authDomain,_.appName=Ni(c).name,c.Z.then(function(){return Lde(_,p,c.B,c.Ea())}).then(function(D){return _n(c)&&D.uid==_n(c).uid?(LT(_n(c),D),c.ca(D)):(Fy(c,D),kC(D),c.ca(D))}).then(function(){RC(c)})}function Fy(c,p){_n(c)&&(Pde(_n(c),c.Ma),ua(_n(c),"tokenChanged",c.xa),ua(_n(c),"userDeleted",c.ya),ua(_n(c),"userInvalidated",c.za),mN(_n(c))),p&&(p.R.push(c.Ma),Ha(p,"tokenChanged",c.xa),Ha(p,"userDeleted",c.ya),Ha(p,"userInvalidated",c.za),0<c.s&&O7(p)),Ct(c,"currentUser",p),p&&(p.va(c.ja()),pN(p,c),PC(p,c.N),AN(p,c))}t.wb=function(){var c=this,p=this.h.then(function(){return c.a&&kT(c.a.b),_n(c)?(Fy(c,null),Q7(c.i).then(function(){RC(c)})):Ft()});return Yr(this,p)};function zde(c){var p=Vde(c.B,Ni(c).options.authDomain).then(function(_){return(c.D=_)&&(_.ga=c.B),H7(c.B)});return Yr(c,p)}function qde(c){var p=Ni(c).options.authDomain,_=zde(c).then(function(){return j7(c.i,p)}).then(function(D){return D?(D.ga=c.B,c.D&&(c.D.fa||null)==(D.fa||null)?D:D.reload().then(function(){return V7(c.i,D).then(function(){return D})}).o(function(k){return k.code=="auth/network-request-failed"?D:Q7(c.i)})):null}).then(function(D){Fy(c,D||null)});return Yr(c,_)}function $de(c){return c.Z.then(function(){return K7(c)}).o(function(){}).then(function(){if(!c.l)return c.oa()}).o(function(){}).then(function(){if(!c.l){c.aa=!0;var p=c.i;p.b.addListener(Eh("local"),p.a,c.oa)}})}t.Xc=function(){var c=this;return j7(this.i,Ni(this).options.authDomain).then(function(p){if(!c.l){var _;if(_=_n(c)&&p){_=_n(c).uid;var D=p.uid;_=_==null||_===""||D===void 0||D===null||D===""?!1:_==D}if(_)return LT(_n(c),p),_n(c).I();(_n(c)||p)&&(Fy(c,p),p&&(kC(p),p.ga=c.B),c.a&&tN(c.a,c),RC(c))}})},t.ca=function(c){return V7(this.i,c)},t.jc=function(){RC(this),this.ca(_n(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()};function m0(c,p){var _=null,D=null;return Yr(c,p.then(function(k){return _=Q(k),D=ty(k),Kde(c,k)},function(k){var q=null;throw k&&k.code==="auth/multi-factor-auth-required"&&(q=I7(k.v(),c,L(c.ic,c))),q||k}).then(function(){return Yc({user:_n(c),credential:_,additionalUserInfo:D,operationType:"signIn"})}))}t.ic=function(c){var p=this;return this.h.then(function(){return m0(p,Ft(c))})},t.xc=function(c){var p=this;this.addAuthTokenListener(function(){c.next(_n(p))})},t.yc=function(c){var p=this;Yde(this,function(){c.next(_n(p))})},t.Gc=function(c,p,_){var D=this;return this.aa&&Promise.resolve().then(function(){typeof c=="function"?c(_n(D)):typeof c.next=="function"&&c.next(_n(D))}),this.$b(c,p,_)},t.Fc=function(c,p,_){var D=this;return this.aa&&Promise.resolve().then(function(){D.W=D.getUid(),typeof c=="function"?c(_n(D)):typeof c.next=="function"&&c.next(_n(D))}),this.ac(c,p,_)},t.kc=function(c){var p=this,_=this.h.then(function(){return _n(p)?_n(p).I(c).then(function(D){return{accessToken:D}}):null});return Yr(this,_)},t.Rc=function(c){var p=this;return this.h.then(function(){return m0(p,On(p.b,Lk,{token:c}))}).then(function(_){var D=_.user;return MA(D,"isAnonymous",!1),p.ca(D),_})},t.Sc=function(c,p){var _=this;return this.h.then(function(){return m0(_,On(_.b,bC,{email:c,password:p}))})},t.cc=function(c,p){var _=this;return this.h.then(function(){return m0(_,On(_.b,o0,{email:c,password:p}))})},t.Ya=function(c){var p=this;return this.h.then(function(){return m0(p,c.ia(p.b))})},t.Qc=function(c){return Im("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(c)},t.vb=function(){var c=this;return this.h.then(function(){var p=_n(c);if(p&&p.isAnonymous){var _=Yc({providerId:null,isNewUser:!1});return Yc({user:p,credential:null,additionalUserInfo:_,operationType:"signIn"})}return m0(c,c.b.vb()).then(function(D){var k=D.user;return MA(k,"isAnonymous",!0),c.ca(k),D})})};function Ni(c){return c.app}function _n(c){return c.currentUser}t.getUid=function(){return _n(this)&&_n(this).uid||null};function HT(c){return _n(c)&&_n(c)._lat||null}function RC(c){if(c.aa){for(var p=0;p<c.m.length;p++)c.m[p]&&c.m[p](HT(c));if(c.W!==c.getUid()&&c.O.length)for(c.W=c.getUid(),p=0;p<c.O.length;p++)c.O[p]&&c.O[p](HT(c))}}t.bc=function(c){this.addAuthTokenListener(c),this.s++,0<this.s&&_n(this)&&O7(_n(this))},t.Nc=function(c){var p=this;Rt(this.m,function(_){_==c&&p.s--}),0>this.s&&(this.s=0),this.s==0&&_n(this)&&mN(_n(this)),this.removeAuthTokenListener(c)},t.addAuthTokenListener=function(c){var p=this;this.m.push(c),Yr(this,this.h.then(function(){p.l||Fo(p.m,c)&&c(HT(p))}))},t.removeAuthTokenListener=function(c){yi(this.m,function(p){return p==c})};function Yde(c,p){c.O.push(p),Yr(c,c.h.then(function(){!c.l&&Fo(c.O,p)&&c.W!==c.getUid()&&(c.W=c.getUid(),p(HT(c)))}))}t.delete=function(){this.l=!0;for(var c=0;c<this.P.length;c++)this.P[c].cancel("app-deleted");return this.P=[],this.i&&(c=this.i,c.b.removeListener(Eh("local"),c.a,this.oa)),this.a&&(g7(this.a,this),kT(this.a.b)),Promise.resolve()};function Yr(c,p){return c.P.push(p),p.ma(function(){xr(c.P,p)}),p}t.fc=function(c){return Yr(this,AC(this.b,c))},t.zc=function(c){return!!Tl(c)},t.sb=function(c,p){var _=this;return Yr(this,Ft().then(function(){var D=new fA(p);if(!D.c)throw new Z("argument-error",Nm+" must be true when sending sign in link to email");return In(D)}).then(function(D){return _.b.sb(c,D)}).then(function(){}))},t.fd=function(c){return this.Pa(c).then(function(p){return p.data.email})},t.jb=function(c,p){return Yr(this,this.b.jb(c,p).then(function(){}))},t.Pa=function(c){return Yr(this,this.b.Pa(c).then(function(p){return new zb(p)}))},t.fb=function(c){return Yr(this,this.b.fb(c).then(function(){}))},t.rb=function(c,p){var _=this;return Yr(this,Ft().then(function(){return typeof p>"u"||Ar(p)?{}:In(new fA(p))}).then(function(D){return _.b.rb(c,D)}).then(function(){}))},t.Uc=function(c,p){return Yr(this,oN(this,c,p,L(this.Ya,this)))},t.Tc=function(c,p){var _=this;return Yr(this,Ft().then(function(){var D=p||Tf(),k=yA(c,D);if(D=Tl(D),!D)throw new Z("argument-error","Invalid email link!");if(D.tenantId!==_.S())throw new Z("tenant-id-mismatch");return _.Ya(k)}))};function LC(){}LC.prototype.render=function(){},LC.prototype.reset=function(){},LC.prototype.getResponse=function(){},LC.prototype.execute=function(){};function By(){this.a={},this.b=1e12}var TN=null;By.prototype.render=function(c,p){return this.a[this.b.toString()]=new VT(c,p),this.b++},By.prototype.reset=function(c){var p=DN(this,c);c=z7(c),p&&c&&(p.delete(),delete this.a[c])},By.prototype.getResponse=function(c){return(c=DN(this,c))?c.getResponse():null},By.prototype.execute=function(c){(c=DN(this,c))&&c.execute()};function DN(c,p){return(p=z7(p))&&c.a[p]||null}function z7(c){return(c=typeof c>"u"?1e12:c)?c.toString():null}function VT(c,p){this.g=!1,this.c=p,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=mf(c);var _=this;this.i=function(){_.execute()},this.h?this.execute():Ha(this.f,"click",this.i)}VT.prototype.getResponse=function(){return MN(this),this.b},VT.prototype.execute=function(){MN(this);var c=this;this.a||(this.a=setTimeout(function(){c.b=go();var p=c.c.callback,_=c.c["expired-callback"];if(p)try{p(c.b)}catch{}c.a=setTimeout(function(){if(c.a=null,c.b=null,_)try{_()}catch{}c.h&&c.execute()},6e4)},500))},VT.prototype.delete=function(){MN(this),this.g=!0,clearTimeout(this.a),this.a=null,ua(this.f,"click",this.i)};function MN(c){if(c.g)throw Error("reCAPTCHA mock was already deleted!")}function ON(){}Ct(ON,"FACTOR_ID","phone");function FN(){}FN.prototype.g=function(){return TN||(TN=new By),Ft(TN)},FN.prototype.c=function(){};var BN=null;function PN(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Zde=new as(Lc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Xde=new Ka(3e4,6e4);PN.prototype.g=function(c){var p=this;return new bn(function(_,D){var k=setTimeout(function(){D(new Z("network-request-failed"))},Xde.get());if(!u.grecaptcha||c!==p.f&&!p.b){u[p.a]=function(){if(u.grecaptcha){p.f=c;var J=u.grecaptcha.render;u.grecaptcha.render=function(ce,Pe){return ce=J(ce,Pe),p.b++,ce},clearTimeout(k),_(u.grecaptcha)}else clearTimeout(k),D(new Z("internal-error"));delete u[p.a]};var q=gn(Zde,{onload:p.a,hl:c||""});Ft(CA(q)).o(function(){clearTimeout(k),D(new Z("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(k),_(u.grecaptcha)})},PN.prototype.c=function(){this.b--};var kN=null;function NN(c,p,_,D,k,q,J){if(Ct(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=p,this.g=null,J?(BN||(BN=new FN),J=BN):(kN||(kN=new PN),J=kN),this.m=J,this.a=_||{theme:"light",type:"image"},this.h=[],this.a[Y7])throw new Z("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Jde]==="invisible",!u.document)throw new Z("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!mf(p)||!this.i&&mf(p).hasChildNodes())throw new Z("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ac(c,q||null,k||null),this.w=D||function(){return null};var ce=this;this.l=[];var Pe=this.a[q7];this.a[q7]=function(en){if(Z7(ce,en),typeof Pe=="function")Pe(en);else if(typeof Pe=="string"){var Ki=Dn(Pe,u);typeof Ki=="function"&&Ki(en)}};var Ve=this.a[$7];this.a[$7]=function(){if(Z7(ce,null),typeof Ve=="function")Ve();else if(typeof Ve=="string"){var en=Dn(Ve,u);typeof en=="function"&&en()}}}var q7="callback",$7="expired-callback",Y7="sitekey",Jde="size";function Z7(c,p){for(var _=0;_<c.l.length;_++)try{c.l[_](p)}catch{}}function ehe(c,p){yi(c.l,function(_){return _==p})}function RN(c,p){return c.h.push(p),p.ma(function(){xr(c.h,p)}),p}t=NN.prototype,t.Ga=function(){var c=this;return this.f?this.f:this.f=RN(this,Ft().then(function(){if(Kc()&&!Wa())return sA();throw new Z("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return c.m.g(c.w())}).then(function(p){return c.g=p,On(c.s,Bk,{})}).then(function(p){c.a[Y7]=p.recaptchaSiteKey}).o(function(p){throw c.f=null,p}))},t.render=function(){QT(this);var c=this;return RN(this,this.Ga().then(function(){if(c.c===null){var p=c.u;if(!c.i){var _=mf(p);p=vf("DIV"),_.appendChild(p)}c.c=c.g.render(p,c.a)}return c.c}))},t.verify=function(){QT(this);var c=this;return RN(this,this.render().then(function(p){return new bn(function(_){var D=c.g.getResponse(p);if(D)_(D);else{var k=function(q){q&&(ehe(c,k),_(q))};c.l.push(k),c.i&&c.g.execute(c.c)}})}))},t.reset=function(){QT(this),this.c!==null&&this.g.reset(this.c)};function QT(c){if(c.D)throw new Z("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){QT(this),this.D=!0,this.m.c();for(var c=0;c<this.h.length;c++)this.h[c].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){c=mf(this.u);for(var p;p=c.firstChild;)c.removeChild(p)}};function LN(c,p,_){var D=!1;try{this.b=_||n.app()}catch{throw new Z("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)_=this.b.options.apiKey;else throw new Z("invalid-api-key");var k=this,q=null;try{q=this.b.auth().Ea()}catch{}try{D=this.b.auth().settings.appVerificationDisabledForTesting}catch{}q=n.SDK_VERSION?ah(n.SDK_VERSION,q):null,NN.call(this,_,c,p,function(){try{var J=k.b.auth().ja()}catch{J=null}return J},q,me(re),D)}Y(LN,NN);function X7(c,p,_,D){e:{_=Array.prototype.slice.call(_);for(var k=0,q=!1,J=0;J<p.length;J++)if(p[J].optional)q=!0;else{if(q)throw new Z("internal-error","Argument validator encountered a required argument after an optional argument.");k++}if(q=p.length,_.length<k||q<_.length)D="Expected "+(k==q?k==1?"1 argument":k+" arguments":k+"-"+q+" arguments")+" but got "+_.length+".";else{for(k=0;k<_.length;k++)if(q=p[k].optional&&_[k]===void 0,!p[k].K(_[k])&&!q){if(p=p[k],0>k||k>=J7.length)throw new Z("internal-error","Argument validator received an unsupported number of arguments.");_=J7[k],D=(D?"":_+" argument ")+(p.name?'"'+p.name+'" ':"")+"must be "+p.J+".";break e}D=null}}if(D)throw new Z("argument-error",c+" failed: "+D)}var J7="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Tt(c,p){return{name:c||"",J:"a valid string",optional:!!p,K:function(_){return typeof _=="string"}}}function UN(c,p){return{name:c||"",J:"a boolean",optional:!!p,K:function(_){return typeof _=="boolean"}}}function Ho(c,p){return{name:c||"",J:"a valid object",optional:!!p,K:b}}function Py(c,p){return{name:c||"",J:"a function",optional:!!p,K:function(_){return typeof _=="function"}}}function Sh(c,p){return{name:c||"",J:"null",optional:!!p,K:function(_){return _===null}}}function the(){return{name:"",J:"an HTML element",optional:!1,K:function(c){return!!(c&&c instanceof Element)}}}function nhe(){return{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(c){return!!(c&&c instanceof dd)}}}function ihe(){return{name:"app",J:"an instance of Firebase App",optional:!0,K:function(c){return!!(c&&c instanceof n.app.App)}}}function OA(c){return{name:c?c+"Credential":"credential",J:c?"a valid "+c+" credential":"a valid credential",optional:!1,K:function(p){if(!p)return!1;var _=!c||p.providerId===c;return!(!p.ia||!_)}}}function e9(){return{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(c){return c?!!c.ob:!1}}}function ky(){return{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(c){return!!(c&&c.providerId&&c.hasOwnProperty&&c.hasOwnProperty("isOAuthProvider"))}}}function HN(c,p){return b(c)&&typeof c.type=="string"&&c.type===p&&typeof c.Fa=="function"}function t9(c){return b(c)&&typeof c.uid=="string"}function jT(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(c){return!(!c||typeof c.type!="string"||typeof c.verify!="function")}}}function lo(c,p,_,D){return{name:_||"",J:c.J+" or "+p.J,optional:!!D,K:function(k){return c.K(k)||p.K(k)}}}function Lr(c,p){for(var _ in p){var D=p[_].name;c[D]=i9(D,c[_],p[_].j)}}function n9(c,p){for(var _ in p){var D=p[_].name;D!==_&&Object.defineProperty(c,D,{get:j(function(k){return this[k]},_),set:j(function(k,q,J,ce){X7(k,[J],[ce],!0),this[q]=ce},D,_,p[_].gb),enumerable:!0})}}function co(c,p,_,D){c[p]=i9(p,_,D)}function i9(c,p,_){function D(){var J=Array.prototype.slice.call(arguments);return X7(k,_,J),p.apply(this,J)}if(!_)return p;var k=rhe(c),q;for(q in p)D[q]=p[q];for(q in p.prototype)D.prototype[q]=p.prototype[q];return D}function rhe(c){return c=c.split("."),c[c.length-1]}Lr(dd.prototype,{fb:{name:"applyActionCode",j:[Tt("code")]},Pa:{name:"checkActionCode",j:[Tt("code")]},jb:{name:"confirmPasswordReset",j:[Tt("code"),Tt("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Tt("email"),Tt("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Tt("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Tt("emailLink")]},Fc:{name:"onAuthStateChanged",j:[lo(Ho(),Py(),"nextOrObserver"),Py("opt_error",!0),Py("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[lo(Ho(),Py(),"nextOrObserver"),Py("opt_error",!0),Py("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Tt("email"),lo(Ho("opt_actionCodeSettings",!0),Sh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Tt("email"),Ho("actionCodeSettings")]},tb:{name:"setPersistence",j:[Tt("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[OA()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[OA()]},Rc:{name:"signInWithCustomToken",j:[Tt("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Tt("email"),Tt("password")]},Tc:{name:"signInWithEmailLink",j:[Tt("email"),Tt("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Tt("phoneNumber"),jT()]},Vc:{name:"signInWithPopup",j:[ky()]},Wc:{name:"signInWithRedirect",j:[ky()]},bd:{name:"updateCurrentUser",j:[lo(function(c){return{name:"user",J:"an instance of Firebase User",optional:!!c,K:function(p){return!!(p&&p instanceof lc)}}}(),Sh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Tt(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Tt("code")]}}),n9(dd.prototype,{lc:{name:"languageCode",gb:lo(Tt(),Sh(),"languageCode")},ti:{name:"tenantId",gb:lo(Tt(),Sh(),"tenantId")}}),dd.Persistence=TA,dd.Persistence.LOCAL="local",dd.Persistence.SESSION="session",dd.Persistence.NONE="none",Lr(lc.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[UN("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[UN("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[OA()]},mb:{name:"linkWithCredential",j:[OA()]},Bc:{name:"linkWithPhoneNumber",j:[Tt("phoneNumber"),jT()]},Cc:{name:"linkWithPopup",j:[ky()]},Dc:{name:"linkWithRedirect",j:[ky()]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[OA()]},pb:{name:"reauthenticateWithCredential",j:[OA()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Tt("phoneNumber"),jT()]},Lc:{name:"reauthenticateWithPopup",j:[ky()]},Mc:{name:"reauthenticateWithRedirect",j:[ky()]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[lo(Ho("opt_actionCodeSettings",!0),Sh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Tt(null,!0)]},ad:{name:"unlink",j:[Tt("provider")]},xb:{name:"updateEmail",j:[Tt("email")]},yb:{name:"updatePassword",j:[Tt("password")]},cd:{name:"updatePhoneNumber",j:[OA("phone")]},zb:{name:"updateProfile",j:[Ho("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Tt("email"),lo(Ho("opt_actionCodeSettings",!0),Sh(null,!0),"opt_actionCodeSettings",!0)]}}),Lr(By.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Lr(LC.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Lr(bn.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),n9(E7.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:UN("appVerificationDisabledForTesting")}}),Lr(rN.prototype,{confirm:{name:"confirm",j:[Tt("verificationCode")]}}),co(Ah,"fromJSON",function(c){c=typeof c=="string"?JSON.parse(c):c;for(var p,_=[tC,nC,Mn,sy],D=0;D<_.length;D++)if(p=_[D](c))return p;return null},[lo(Tt(),Ho(),"json")]),co(Ns,"credential",function(c,p){return new Il(c,p)},[Tt("email"),Tt("password")]),Lr(Il.prototype,{v:{name:"toJSON",j:[Tt(null,!0)]}}),Lr(eu.prototype,{Aa:{name:"addScope",j:[Tt("scope")]},Ia:{name:"setCustomParameters",j:[Ho("customOAuthParameters")]}}),co(eu,"credential",mh,[lo(Tt(),Ho(),"token")]),co(Ns,"credentialWithLink",yA,[Tt("email"),Tt("emailLink")]),Lr(xl.prototype,{Aa:{name:"addScope",j:[Tt("scope")]},Ia:{name:"setCustomParameters",j:[Ho("customOAuthParameters")]}}),co(xl,"credential",ay,[lo(Tt(),Ho(),"token")]),Lr(No.prototype,{Aa:{name:"addScope",j:[Tt("scope")]},Ia:{name:"setCustomParameters",j:[Ho("customOAuthParameters")]}}),co(No,"credential",id,[lo(Tt(),lo(Ho(),Sh()),"idToken"),lo(Tt(),Sh(),"accessToken",!0)]),Lr(ga.prototype,{Ia:{name:"setCustomParameters",j:[Ho("customOAuthParameters")]}}),co(ga,"credential",_A,[lo(Tt(),Ho(),"token"),Tt("secret",!0)]),Lr(ks.prototype,{Aa:{name:"addScope",j:[Tt("scope")]},credential:{name:"credential",j:[lo(Tt(),lo(Ho(),Sh()),"optionsOrIdToken"),lo(Tt(),Sh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Ho("customOAuthParameters")]}}),Lr(rt.prototype,{v:{name:"toJSON",j:[Tt(null,!0)]}}),Lr(nd.prototype,{v:{name:"toJSON",j:[Tt(null,!0)]}}),co(O,"credential",U,[Tt("verificationId"),Tt("verificationCode")]),Lr(O.prototype,{cb:{name:"verifyPhoneNumber",j:[lo(Tt(),function(c,p){return{name:c||"phoneInfoOptions",J:"valid phone info options",optional:!!p,K:function(_){return _?_.session&&_.phoneNumber?HN(_.session,Ps)&&typeof _.phoneNumber=="string":_.session&&_.multiFactorHint?HN(_.session,vA)&&t9(_.multiFactorHint):_.session&&_.multiFactorUid?HN(_.session,vA)&&typeof _.multiFactorUid=="string":_.phoneNumber?typeof _.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),jT()]}}),Lr(qa.prototype,{v:{name:"toJSON",j:[Tt(null,!0)]}}),Lr(Z.prototype,{toJSON:{name:"toJSON",j:[Tt(null,!0)]}}),Lr(Ls.prototype,{toJSON:{name:"toJSON",j:[Tt(null,!0)]}}),Lr(Rs.prototype,{toJSON:{name:"toJSON",j:[Tt(null,!0)]}}),Lr(aN.prototype,{toJSON:{name:"toJSON",j:[Tt(null,!0)]}}),Lr(sN.prototype,{Pc:{name:"resolveSignIn",j:[e9()]}}),Lr(cN.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[e9(),Tt("displayName",!0)]},$c:{name:"unenroll",j:[lo({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:t9},Tt(),"multiFactorInfoIdentifier")]}}),Lr(LN.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),co(km,"parseLink",Bs,[Tt("link")]),co(ON,"assertion",function(c){return new D7(c)},[OA("phone")]),function(){if(typeof n<"u"&&n.INTERNAL&&n.INTERNAL.registerComponent){var c={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cA,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:lA,VERIFY_AND_CHANGE_EMAIL:ed,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:dd,AuthCredential:Ah,Error:Z};co(c,"EmailAuthProvider",Ns,[]),co(c,"FacebookAuthProvider",eu,[]),co(c,"GithubAuthProvider",xl,[]),co(c,"GoogleAuthProvider",No,[]),co(c,"TwitterAuthProvider",ga,[]),co(c,"OAuthProvider",ks,[Tt("providerId")]),co(c,"SAMLAuthProvider",za,[Tt("providerId")]),co(c,"PhoneAuthProvider",O,[nhe()]),co(c,"RecaptchaVerifier",LN,[lo(Tt(),the(),"recaptchaContainer"),Ho("recaptchaParameters",!0),ihe()]),co(c,"ActionCodeURL",km,[]),co(c,"PhoneMultiFactorGenerator",ON,[]),n.INTERNAL.registerComponent({name:"auth",instanceFactory:function(p){return p=p.getProvider("app").getImmediate(),new dd(p)},multipleInstances:!1,serviceProps:c,instantiationMode:"LAZY",type:"PUBLIC"}),n.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(p){return p=p.getProvider("auth").getImmediate(),{getUid:L(p.getUid,p),getToken:L(p.kc,p),addAuthTokenListener:L(p.bc,p),removeAuthTokenListener:L(p.Nc,p)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),n.registerVersion("@firebase/auth","0.14.9"),n.INTERNAL.extendNamespace({User:lc})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})});var NJ={};cc(NJ,{__assign:()=>mH,__asyncDelegator:()=>iOe,__asyncGenerator:()=>nOe,__asyncValues:()=>rOe,__await:()=>NS,__awaiter:()=>YMe,__classPrivateFieldGet:()=>lOe,__classPrivateFieldSet:()=>cOe,__createBinding:()=>XMe,__decorate:()=>zMe,__exportStar:()=>JMe,__extends:()=>WMe,__generator:()=>ZMe,__importDefault:()=>aOe,__importStar:()=>sOe,__makeTemplateObject:()=>oOe,__metadata:()=>$Me,__param:()=>qMe,__read:()=>kJ,__rest:()=>KMe,__spread:()=>eOe,__spreadArrays:()=>tOe,__values:()=>vH});function WMe(n,t){gH(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function KMe(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function zMe(n,t,e,i){var r=arguments.length,o=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(t,e,o):s(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function qMe(n,t){return function(e,i){t(e,i,n)}}function $Me(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function YMe(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(h){s(h)}}function l(d){try{u(i.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function ZMe(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(d){u=[6,d],r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function XMe(n,t,e,i){i===void 0&&(i=e),n[i]=t[e]}function JMe(n,t){for(var e in n)e!=="default"&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function vH(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function kJ(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),r,o=[],s;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return o}function eOe(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(kJ(arguments[t]));return n}function tOe(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function NS(n){return this instanceof NS?(this.v=n,this):new NS(n)}function nOe(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(A){return new Promise(function(g,m){o.push([f,A,g,m])>1||a(f,A)})})}function a(f,A){try{l(i[f](A))}catch(g){h(o[0][3],g)}}function l(f){f.value instanceof NS?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,A){f(A),o.shift(),o.length&&a(o[0][0],o[0][1])}}function iOe(n){var t,e;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,o){t[r]=n[r]?function(s){return(e=!e)?{value:NS(n[r](s)),done:r==="return"}:o?o(s):s}:o}}function rOe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof vH=="function"?vH(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}function oOe(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function sOe(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function aOe(n){return n&&n.__esModule?n:{default:n}}function lOe(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)}function cOe(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e}var gH,mH,RJ=hs(()=>{"use strict";gH=function(n,t){return gH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])},gH(n,t)};mH=function(){return mH=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},mH.apply(this,arguments)}});var Yee=tn((nf,$ee)=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});function uOe(n){return n&&typeof n=="object"&&"default"in n?n.default:n}var dOe=uOe(bu()),Vn=(RJ(),Vo(NJ)),oe=Jh(),lee=(fv(),Vo(gw)),hOe=xd();var fOe=function(){function n(t){this.domStorage_=t,this.prefix_="firebase:"}return n.prototype.set=function(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),oe.stringify(e))},n.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:oe.jsonEval(e)},n.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},n.prototype.prefixedName_=function(t){return this.prefix_+t},n.prototype.toString=function(){return this.domStorage_.toString()},n}();var pOe=function(){function n(){this.cache_={},this.isInMemoryStorage=!0}return n.prototype.set=function(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e},n.prototype.get=function(t){return oe.contains(this.cache_,t)?this.cache_[t]:null},n.prototype.remove=function(t){delete this.cache_[t]},n}();var cee=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){var t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new fOe(t)}}catch{}return new pOe},Av=cee("localStorage"),MH=cee("sessionStorage");var yw=new lee.Logger("@firebase/database"),uee=function(){var n=1;return function(){return n++}}(),dee=function(n){var t=oe.stringToByteArray(n),e=new oe.Sha1;e.update(t);var i=e.digest();return oe.base64.encodeByteArray(i)},GS=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e="",i=0;i<n.length;i++){var r=n[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=GS.apply(null,r):typeof r=="object"?e+=oe.stringify(r):e+=r,e+=" "}return e},gv=null,LJ=!0,RH=function(n,t){oe.assert(!t||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(yw.logLevel=lee.LogLevel.VERBOSE,gv=yw.log.bind(yw),t&&MH.set("logging_enabled",!0)):typeof n=="function"?gv=n:(gv=null,MH.remove("logging_enabled"))},Sa=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(LJ===!0&&(LJ=!1,gv===null&&MH.get("logging_enabled")===!0&&RH(!0)),gv){var e=GS.apply(null,n);gv(e)}},WS=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Sa.apply(void 0,Vn.__spread([n],t))}},OH=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e="FIREBASE INTERNAL ERROR: "+GS.apply(void 0,Vn.__spread(n));yw.error(e)},wp=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e="FIREBASE FATAL ERROR: "+GS.apply(void 0,Vn.__spread(n));throw yw.error(e),new Error(e)},xa=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e="FIREBASE WARNING: "+GS.apply(void 0,Vn.__spread(n));yw.warn(e)},AOe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xa("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},wF=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},gOe=function(n){if(oe.isNodeSdk()||document.readyState==="complete")n();else{var t=!1,e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},vv="[MIN_NAME]",wg="[MAX_NAME]",_v=function(n,t){if(n===t)return 0;if(n===vv||t===wg)return-1;if(t===vv||n===wg)return 1;var e=UJ(n),i=UJ(t);return e!==null?i!==null?e-i===0?n.length-t.length:e-i:-1:i!==null?1:n<t?-1:1},mOe=function(n,t){return n===t?0:n<t?-1:1},RS=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+oe.stringify(t))},LH=function(n){if(typeof n!="object"||n===null)return oe.stringify(n);var t=[];for(var e in n)t.push(e);t.sort();for(var i="{",r=0;r<t.length;r++)r!==0&&(i+=","),i+=oe.stringify(t[r]),i+=":",i+=LH(n[t[r]]);return i+="}",i},hee=function(n,t){var e=n.length;if(e<=t)return[n];for(var i=[],r=0;r<e;r+=t)r+t>e?i.push(n.substring(r,e)):i.push(n.substring(r,r+t));return i};function Jo(n,t){for(var e in n)n.hasOwnProperty(e)&&t(e,n[e])}var fee=function(n){oe.assert(!wF(n),"Invalid JSON number");var t=11,e=52,i=(1<<t-1)-1,r,o,s,a,l;n===0?(o=0,s=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,e-a)-Math.pow(2,e))):(o=0,s=Math.round(n/Math.pow(2,1-i-e))));var u=[];for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(r?1:0),u.reverse();var d=u.join(""),h="";for(l=0;l<64;l+=8){var f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},vOe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_Oe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},yOe=function(n,t){var e="Unknown Error";n==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?e="Client doesn't have permission to access the desired data.":n==="unavailable"&&(e="The service is unavailable");var i=new Error(n+" at "+t.path.toString()+": "+e);return i.code=n.toUpperCase(),i},wOe=new RegExp("^-?(0*)\\d{1,10}$"),UJ=function(n){if(wOe.test(n)){var t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},bw=function(n){try{n()}catch(t){setTimeout(function(){var e=t.stack||"";throw xa("Exception was thrown by user callback.",e),t},Math.floor(0))}},bOe=function(){var n=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return n.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},HS=function(n,t){var e=setTimeout(n,t);return typeof e=="object"&&e.unref&&e.unref(),e};var yt=function(){function n(t,e){if(e===void 0){this.pieces_=t.split("/");for(var i=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(n,"Empty",{get:function(){return new n("")},enumerable:!1,configurable:!0}),n.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},n.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},n.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new n(this.pieces_,t)},n.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},n.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"},n.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},n.prototype.slice=function(t){return t===void 0&&(t=0),this.pieces_.slice(this.pieceNum_+t)},n.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],e=this.pieceNum_;e<this.pieces_.length-1;e++)t.push(this.pieces_[e]);return new n(t,0)},n.prototype.child=function(t){for(var e=[],i=this.pieceNum_;i<this.pieces_.length;i++)e.push(this.pieces_[i]);if(t instanceof n)for(var i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else for(var r=t.split("/"),i=0;i<r.length;i++)r[i].length>0&&e.push(r[i]);return new n(e,0)},n.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},n.relativePath=function(t,e){var i=t.getFront(),r=e.getFront();if(i===null)return e;if(i===r)return n.relativePath(t.popFront(),e.popFront());throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")},n.comparePaths=function(t,e){for(var i=t.slice(),r=e.slice(),o=0;o<i.length&&o<r.length;o++){var s=_v(i[o],r[o]);if(s!==0)return s}return i.length===r.length?0:i.length<r.length?-1:1},n.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,i=t.pieceNum_;e<=this.pieces_.length;e++,i++)if(this.pieces_[e]!==t.pieces_[i])return!1;return!0},n.prototype.contains=function(t){var e=this.pieceNum_,i=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0},n}(),COe=function(){function n(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var i=0;i<this.parts_.length;i++)this.byteLength_+=oe.stringLength(this.parts_[i]);this.checkValid_()}return Object.defineProperty(n,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(n,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),n.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=oe.stringLength(t),this.checkValid_()},n.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=oe.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},n.prototype.checkValid_=function(){if(this.byteLength_>n.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+n.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>n.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+n.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},n.prototype.toErrorString=function(){return this.parts_.length===0?"":"in property '"+this.parts_.join(".")+"'"},n}();var mF="5",pee="v",Aee="s",gee="r",mee="f",vee="firebaseio.com",_ee="ls",EOe="p",yee="websocket",wee="long_polling";var bee=function(){function n(t,e,i,r,o,s){o===void 0&&(o=""),s===void 0&&(s=!1),this.secure=e,this.namespace=i,this.webSocketOnly=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=Av.get("host:"+t)||this.host}return n.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},n.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},n.prototype.isDemoHost=function(){return this.domain==="firebaseio-demo.com"},n.prototype.isCustomHost=function(){return this.domain!=="firebaseio.com"&&this.domain!=="firebaseio-demo.com"},n.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Av.set("host:"+this.host,this.internalHost))},n.prototype.connectionURL=function(t,e){oe.assert(typeof t=="string","typeof type must == string"),oe.assert(typeof e=="object","typeof params must == object");var i;if(t===yee)i=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else if(t===wee)i=(this.secure?"https://":"http://")+this.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return Jo(e,function(o,s){r.push(o+"="+s)}),i+r.join("&")},n.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},n.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},n}();function SOe(n){for(var t="",e=n.split("/"),i=0;i<e.length;i++)if(e[i].length>0){var r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function xOe(n){var t,e,i={};n.charAt(0)==="?"&&(n=n.substring(1));try{for(var r=Vn.__values(n.split("&")),o=r.next();!o.done;o=r.next()){var s=o.value;if(s.length!==0){var a=s.split("=");a.length===2?i[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):xa("Invalid query segment '"+s+"' in query '"+n+"'")}}}catch(l){t={error:l}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return i}var FH=function(n){var t=IOe(n),e=t.namespace;t.domain==="firebase.com"&&wp(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!e||e==="undefined")&&t.domain!=="localhost"&&wp("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||AOe();var i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new bee(t.host,t.secure,e,i,"",e!==t.subdomain),path:new yt(t.pathString)}},IOe=function(n){var t="",e="",i="",r="",o="",s=!0,a="https",l=443;if(typeof n=="string"){var u=n.indexOf("//");u>=0&&(a=n.substring(0,u-1),n=n.substring(u+2));var d=n.indexOf("/");d===-1&&(d=n.length);var h=n.indexOf("?");h===-1&&(h=n.length),t=n.substring(0,Math.min(d,h)),d<h&&(r=SOe(n.substring(d,h)));var f=xOe(n.substring(Math.min(n.length,h)));u=t.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;var A=t.slice(0,u);if(A.toLowerCase()==="localhost")e="localhost";else if(A.split(".").length<=2)e=A;else{var g=t.indexOf(".");i=t.substring(0,g).toLowerCase(),e=t.substring(g+1),o=i}"ns"in f&&(o=f.ns)}return{host:t,port:l,domain:e,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var TOe=/[\[\].#$\/\u0000-\u001F\u007F]/,DOe=/[\[\].#$\u0000-\u001F\u007F]/,_H=10*1024*1024,bF=function(n){return typeof n=="string"&&n.length!==0&&!TOe.test(n)},Cee=function(n){return typeof n=="string"&&n.length!==0&&!DOe.test(n)},MOe=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Cee(n)},QS=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!wF(n)||n&&typeof n=="object"&&oe.contains(n,".sv")},_g=function(n,t,e,i,r){r&&e===void 0||KS(oe.errorPrefix(n,t,r),e,i)},KS=function(n,t,e){var i=e instanceof yt?new COe(e,n):e;if(t===void 0)throw new Error(n+"contains undefined "+i.toErrorString());if(typeof t=="function")throw new Error(n+"contains a function "+i.toErrorString()+" with contents = "+t.toString());if(wF(t))throw new Error(n+"contains "+t.toString()+" "+i.toErrorString());if(typeof t=="string"&&t.length>_H/3&&oe.stringLength(t)>_H)throw new Error(n+"contains a string greater than "+_H+" utf8 bytes "+i.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var r=!1,o=!1;if(Jo(t,function(s,a){if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!bF(s)))throw new Error(n+" contains an invalid key ("+s+") "+i.toErrorString()+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);i.push(s),KS(n,a,i),i.pop()}),r&&o)throw new Error(n+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},OOe=function(n,t){var e,i;for(e=0;e<t.length;e++){i=t[e];for(var r=i.slice(),o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!bF(r[o]))throw new Error(n+"contains an invalid key ("+r[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(yt.comparePaths);var s=null;for(e=0;e<t.length;e++){if(i=t[e],s!==null&&s.contains(i))throw new Error(n+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},Eee=function(n,t,e,i,r){if(!(r&&e===void 0)){var o=oe.errorPrefix(n,t,r);if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");var s=[];Jo(e,function(a,l){var u=new yt(a);if(KS(o,l,i.child(u)),u.getBack()===".priority"&&!QS(l))throw new Error(o+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),OOe(o,s)}},BH=function(n,t,e,i){if(!(i&&e===void 0)){if(wF(e))throw new Error(oe.errorPrefix(n,t,i)+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!QS(e))throw new Error(oe.errorPrefix(n,t,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},yH=function(n,t,e,i){if(!(i&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(oe.errorPrefix(n,t,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},wH=function(n,t,e,i){if(!(i&&e===void 0)&&!bF(e))throw new Error(oe.errorPrefix(n,t,i)+'was an invalid key = "'+e+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},jS=function(n,t,e,i){if(!(i&&e===void 0)&&!Cee(e))throw new Error(oe.errorPrefix(n,t,i)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},FOe=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),jS(n,t,e,i)},Cu=function(n,t){if(t.getFront()===".info")throw new Error(n+" failed = Can't modify data under /.info/")},See=function(n,t,e){var i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bF(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!MOe(i))throw new Error(oe.errorPrefix(n,t,!1)+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},BOe=function(n,t,e,i){if(!(i&&e===void 0)&&typeof e!="boolean")throw new Error(oe.errorPrefix(n,t,i)+"must be a boolean.")};var xee=function(){function n(t,e){this.repo_=t,this.path_=e}return n.prototype.cancel=function(t){oe.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),oe.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new oe.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},n.prototype.remove=function(t){oe.validateArgCount("OnDisconnect.remove",0,1,arguments.length),Cu("OnDisconnect.remove",this.path_),oe.validateCallback("OnDisconnect.remove",1,t,!0);var e=new oe.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},n.prototype.set=function(t,e){oe.validateArgCount("OnDisconnect.set",1,2,arguments.length),Cu("OnDisconnect.set",this.path_),_g("OnDisconnect.set",1,t,this.path_,!1),oe.validateCallback("OnDisconnect.set",2,e,!0);var i=new oe.Deferred;return this.repo_.onDisconnectSet(this.path_,t,i.wrapCallback(e)),i.promise},n.prototype.setWithPriority=function(t,e,i){oe.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),Cu("OnDisconnect.setWithPriority",this.path_),_g("OnDisconnect.setWithPriority",1,t,this.path_,!1),BH("OnDisconnect.setWithPriority",2,e,!1),oe.validateCallback("OnDisconnect.setWithPriority",3,i,!0);var r=new oe.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(i)),r.promise},n.prototype.update=function(t,e){if(oe.validateArgCount("OnDisconnect.update",1,2,arguments.length),Cu("OnDisconnect.update",this.path_),Array.isArray(t)){for(var i={},r=0;r<t.length;++r)i[""+r]=t[r];t=i,xa("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Eee("OnDisconnect.update",1,t,this.path_,!1),oe.validateCallback("OnDisconnect.update",2,e,!0);var o=new oe.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,o.wrapCallback(e)),o.promise},n}();var POe=function(){function n(t,e){this.committed=t,this.snapshot=e}return n.prototype.toJSON=function(){return oe.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},n}();var kOe=function(){var n="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,e=[];return function(i){var r=i===t;t=i;var o,s=new Array(8);for(o=7;o>=0;o--)s[o]=n.charAt(i%64),i=Math.floor(i/64);oe.assert(i===0,"Cannot push at time == 0");var a=s.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)a+=n.charAt(e[o]);return oe.assert(a.length===20,"nextPushId: Length should be 20."),a}}();var Wn=function(){function n(t,e){this.name=t,this.node=e}return n.Wrap=function(t,e){return new n(t,e)},n}();var CF=function(){function n(){}return n.prototype.getCompare=function(){return this.compare.bind(this)},n.prototype.indexedValueChanged=function(t,e){var i=new Wn(vv,t),r=new Wn(vv,e);return this.compare(i,r)!==0},n.prototype.minPost=function(){return Wn.MIN},n}();var fF,Iee=function(n){Vn.__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return fF},set:function(e){fF=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,i){return _v(e.name,i.name)},t.prototype.isDefinedOn=function(e){throw oe.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,i){return!1},t.prototype.minPost=function(){return Wn.MIN},t.prototype.maxPost=function(){return new Wn(wg,fF)},t.prototype.makePost=function(e,i){return oe.assert(typeof e=="string","KeyIndex indexValue must always be a string."),new Wn(e,fF)},t.prototype.toString=function(){return".key"},t}(CF),yg=new Iee;var PH;function NOe(n){PH=n}var Tee=function(n){return typeof n=="number"?"number:"+fee(n):"string:"+n},Dee=function(n){if(n.isLeafNode()){var t=n.val();oe.assert(typeof t=="string"||typeof t=="number"||typeof t=="object"&&oe.contains(t,".sv"),"Priority must be a string or number.")}else oe.assert(n===PH||n.isEmpty(),"priority of unexpected type.");oe.assert(n===PH||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var HJ,ww=function(){function n(t,e){e===void 0&&(e=n.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=e,this.lazyHash_=null,oe.assert(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Dee(this.priorityNode_)}return Object.defineProperty(n,"__childrenNodeConstructor",{get:function(){return HJ},set:function(t){HJ=t},enumerable:!1,configurable:!0}),n.prototype.isLeafNode=function(){return!0},n.prototype.getPriority=function(){return this.priorityNode_},n.prototype.updatePriority=function(t){return new n(this.value_,t)},n.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE},n.prototype.getChild=function(t){return t.isEmpty()?this:t.getFront()===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE},n.prototype.hasChild=function(){return!1},n.prototype.getPredecessorChildName=function(t,e){return null},n.prototype.updateImmediateChild=function(t,e){return t===".priority"?this.updatePriority(e):e.isEmpty()&&t!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)},n.prototype.updateChild=function(t,e){var i=t.getFront();return i===null?e:e.isEmpty()&&i!==".priority"?this:(oe.assert(i!==".priority"||t.getLength()===1,".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),e)))},n.prototype.isEmpty=function(){return!1},n.prototype.numChildren=function(){return 0},n.prototype.forEachChild=function(t,e){return!1},n.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},n.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Tee(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",e==="number"?t+=fee(this.value_):t+=this.value_,this.lazyHash_=dee(t)}return this.lazyHash_},n.prototype.getValue=function(){return this.value_},n.prototype.compareTo=function(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(oe.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},n.prototype.compareToLeafNode_=function(t){var e=typeof t.value_,i=typeof this.value_,r=n.VALUE_TYPE_ORDER.indexOf(e),o=n.VALUE_TYPE_ORDER.indexOf(i);return oe.assert(r>=0,"Unknown leaf type: "+e),oe.assert(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-r},n.prototype.withIndex=function(){return this},n.prototype.isIndexed=function(){return!0},n.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}else return!1},n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n}();var Mee,Oee;function ROe(n){Mee=n}function LOe(n){Oee=n}var UOe=function(n){Vn.__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.compare=function(e,i){var r=e.node.getPriority(),o=i.node.getPriority(),s=r.compareTo(o);return s===0?_v(e.name,i.name):s},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,i){return!e.getPriority().equals(i.getPriority())},t.prototype.minPost=function(){return Wn.MIN},t.prototype.maxPost=function(){return new Wn(wg,new ww("[PRIORITY-POST]",Oee))},t.prototype.makePost=function(e,i){var r=Mee(e);return new Wn(i,new ww("[PRIORITY-POST]",r))},t.prototype.toString=function(){return".priority"},t}(CF),Gi=new UOe;var pF=function(){function n(t,e,i,r,o){o===void 0&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var s=1;!t.isEmpty();)if(t=t,s=e?i(t.key,e):1,r&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return n.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},n.prototype.hasNext=function(){return this.nodeStack_.length>0},n.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},n}(),Dd=function(){function n(t,e,i,r,o){this.key=t,this.value=e,this.color=i??n.RED,this.left=r??bp.EMPTY_NODE,this.right=o??bp.EMPTY_NODE}return n.prototype.copy=function(t,e,i,r,o){return new n(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)},n.prototype.count=function(){return this.left.count()+1+this.right.count()},n.prototype.isEmpty=function(){return!1},n.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},n.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},n.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},n.prototype.minKey=function(){return this.min_().key},n.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},n.prototype.insert=function(t,e,i){var r=this,o=i(t,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r=r.copy(null,e,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp_()},n.prototype.removeMin_=function(){if(this.left.isEmpty())return bp.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},n.prototype.remove=function(t,e){var i,r;if(i=this,e(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),e(t,i.key)===0){if(i.right.isEmpty())return bp.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp_()},n.prototype.isRed_=function(){return this.color},n.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},n.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},n.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},n.prototype.rotateLeft_=function(){var t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},n.prototype.rotateRight_=function(){var t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},n.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},n.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},n.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},n.RED=!0,n.BLACK=!1,n}(),HOe=function(){function n(){}return n.prototype.copy=function(t,e,i,r,o){return this},n.prototype.insert=function(t,e,i){return new Dd(t,e,null)},n.prototype.remove=function(t,e){return this},n.prototype.count=function(){return 0},n.prototype.isEmpty=function(){return!0},n.prototype.inorderTraversal=function(t){return!1},n.prototype.reverseTraversal=function(t){return!1},n.prototype.minKey=function(){return null},n.prototype.maxKey=function(){return null},n.prototype.check_=function(){return 0},n.prototype.isRed_=function(){return!1},n}(),bp=function(){function n(t,e){e===void 0&&(e=n.EMPTY_NODE),this.comparator_=t,this.root_=e}return n.prototype.insert=function(t,e){return new n(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Dd.BLACK,null,null))},n.prototype.remove=function(t){return new n(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Dd.BLACK,null,null))},n.prototype.get=function(t){for(var e,i=this.root_;!i.isEmpty();){if(e=this.comparator_(t,i.key),e===0)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null},n.prototype.getPredecessorKey=function(t){for(var e,i=this.root_,r=null;!i.isEmpty();)if(e=this.comparator_(t,i.key),e===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else e<0?i=i.left:e>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},n.prototype.isEmpty=function(){return this.root_.isEmpty()},n.prototype.count=function(){return this.root_.count()},n.prototype.minKey=function(){return this.root_.minKey()},n.prototype.maxKey=function(){return this.root_.maxKey()},n.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},n.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},n.prototype.getIterator=function(t){return new pF(this.root_,null,this.comparator_,!1,t)},n.prototype.getIteratorFrom=function(t,e){return new pF(this.root_,t,this.comparator_,!1,e)},n.prototype.getReverseIteratorFrom=function(t,e){return new pF(this.root_,t,this.comparator_,!0,e)},n.prototype.getReverseIterator=function(t){return new pF(this.root_,null,this.comparator_,!0,t)},n.EMPTY_NODE=new HOe,n}();var VOe=Math.log(2),QOe=function(){function n(t){var e=function(o){return parseInt(Math.log(o)/VOe,10)},i=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=e(t+1),this.current_=this.count-1;var r=i(this.count);this.bits_=t+1&r}return n.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},n}(),vF=function(n,t,e,i){n.sort(t);var r=function(l,u){var d=u-l,h,f;if(d===0)return null;if(d===1)return h=n[l],f=e?e(h):h,new Dd(f,h.node,Dd.BLACK,null,null);var A=parseInt(d/2,10)+l,g=r(l,A),m=r(A+1,u);return h=n[A],f=e?e(h):h,new Dd(f,h.node,Dd.BLACK,g,m)},o=function(l){for(var u=null,d=null,h=n.length,f=function(S,F){var R=h-S,B=h;h-=S;var P=r(R+1,B),L=n[R],j=e?e(L):L;A(new Dd(j,L.node,F,null,P))},A=function(S){u?(u.left=S,u=S):(d=S,u=S)},g=0;g<l.count;++g){var m=l.nextBitIsOne(),b=Math.pow(2,l.count-(g+1));m?f(b,Dd.BLACK):(f(b,Dd.BLACK),f(b,Dd.RED))}return d},s=new QOe(n.length),a=o(s);return new bp(i||t,a)};var bH,_w={},_F=function(){function n(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(n,"Default",{get:function(){return oe.assert(_w&&Gi,"ChildrenNode.ts has not been loaded"),bH=bH||new n({".priority":_w},{".priority":Gi}),bH},enumerable:!1,configurable:!0}),n.prototype.get=function(t){var e=oe.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof bp?e:null},n.prototype.hasIndex=function(t){return oe.contains(this.indexSet_,t.toString())},n.prototype.addIndex=function(t,e){oe.assert(t!==yg,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i=[],r=!1,o=e.getIterator(Wn.Wrap),s=o.getNext();s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();var a;r?a=vF(i,t.getCompare()):a=_w;var l=t.toString(),u=Vn.__assign({},this.indexSet_);u[l]=t;var d=Vn.__assign({},this.indexes_);return d[l]=a,new n(d,u)},n.prototype.addToIndexes=function(t,e){var i=this,r=oe.map(this.indexes_,function(o,s){var a=oe.safeGet(i.indexSet_,s);if(oe.assert(a,"Missing index implementation for "+s),o===_w)if(a.isDefinedOn(t.node)){for(var l=[],u=e.getIterator(Wn.Wrap),d=u.getNext();d;)d.name!==t.name&&l.push(d),d=u.getNext();return l.push(t),vF(l,a.getCompare())}else return _w;else{var h=e.get(t.name),f=o;return h&&(f=f.remove(new Wn(t.name,h))),f.insert(t,t.node)}});return new n(r,this.indexSet_)},n.prototype.removeFromIndexes=function(t,e){var i=oe.map(this.indexes_,function(r){if(r===_w)return r;var o=e.get(t.name);return o?r.remove(new Wn(t.name,o)):r});return new n(i,this.indexSet_)},n}();function jOe(n,t){return _v(n.name,t.name)}function UH(n,t){return _v(n,t)}var LS,un=function(){function n(t,e,i){this.children_=t,this.priorityNode_=e,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Dee(this.priorityNode_),this.children_.isEmpty()&&oe.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(n,"EMPTY_NODE",{get:function(){return LS||(LS=new n(new bp(UH),null,_F.Default))},enumerable:!1,configurable:!0}),n.prototype.isLeafNode=function(){return!1},n.prototype.getPriority=function(){return this.priorityNode_||LS},n.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)},n.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var e=this.children_.get(t);return e===null?LS:e},n.prototype.getChild=function(t){var e=t.getFront();return e===null?this:this.getImmediateChild(e).getChild(t.popFront())},n.prototype.hasChild=function(t){return this.children_.get(t)!==null},n.prototype.updateImmediateChild=function(t,e){if(oe.assert(e,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(e);var i=new Wn(t,e),r=void 0,o=void 0;e.isEmpty()?(r=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,e),o=this.indexMap_.addToIndexes(i,this.children_));var s=r.isEmpty()?LS:this.priorityNode_;return new n(r,s,o)},n.prototype.updateChild=function(t,e){var i=t.getFront();if(i===null)return e;oe.assert(t.getFront()!==".priority"||t.getLength()===1,".priority must be the last token in a path");var r=this.getImmediateChild(i).updateChild(t.popFront(),e);return this.updateImmediateChild(i,r)},n.prototype.isEmpty=function(){return this.children_.isEmpty()},n.prototype.numChildren=function(){return this.children_.count()},n.prototype.val=function(t){if(this.isEmpty())return null;var e={},i=0,r=0,o=!0;if(this.forEachChild(Gi,function(l,u){e[l]=u.val(t),i++,o&&n.INTEGER_REGEXP_.test(l)?r=Math.max(r,Number(l)):o=!1}),!t&&o&&r<2*i){var s=[];for(var a in e)s[a]=e[a];return s}else return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e},n.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+Tee(this.getPriority().val())+":"),this.forEachChild(Gi,function(e,i){var r=i.hash();r!==""&&(t+=":"+e+":"+r)}),this.lazyHash_=t===""?"":dee(t)}return this.lazyHash_},n.prototype.getPredecessorChildName=function(t,e,i){var r=this.resolveIndex_(i);if(r){var o=r.getPredecessorKey(new Wn(t,e));return o?o.name:null}else return this.children_.getPredecessorKey(t)},n.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var i=e.minKey();return i&&i.name}else return this.children_.minKey()},n.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Wn(e,this.children_.get(e)):null},n.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var i=e.maxKey();return i&&i.name}else return this.children_.maxKey()},n.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Wn(e,this.children_.get(e)):null},n.prototype.forEachChild=function(t,e){var i=this.resolveIndex_(t);return i?i.inorderTraversal(function(r){return e(r.name,r.node)}):this.children_.inorderTraversal(e)},n.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},n.prototype.getIteratorFrom=function(t,e){var i=this.resolveIndex_(e);if(i)return i.getIteratorFrom(t,function(s){return s});for(var r=this.children_.getIteratorFrom(t.name,Wn.Wrap),o=r.peek();o!=null&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r},n.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},n.prototype.getReverseIteratorFrom=function(t,e){var i=this.resolveIndex_(e);if(i)return i.getReverseIteratorFrom(t,function(s){return s});for(var r=this.children_.getReverseIteratorFrom(t.name,Wn.Wrap),o=r.peek();o!=null&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r},n.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===zS?-1:0},n.prototype.withIndex=function(t){if(t===yg||this.indexMap_.hasIndex(t))return this;var e=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,e)},n.prototype.isIndexed=function(t){return t===yg||this.indexMap_.hasIndex(t)},n.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority()))if(this.children_.count()===e.children_.count()){for(var i=this.getIterator(Gi),r=e.getIterator(Gi),o=i.getNext(),s=r.getNext();o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=i.getNext(),s=r.getNext()}return o===null&&s===null}else return!1;else return!1},n.prototype.resolveIndex_=function(t){return t===yg?null:this.indexMap_.get(t.toString())},n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n}(),GOe=function(n){Vn.__extends(t,n);function t(){return n.call(this,new bp(UH),un.EMPTY_NODE,_F.Default)||this}return t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return un.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(un),zS=new GOe;Object.defineProperties(Wn,{MIN:{value:new Wn(vv,un.EMPTY_NODE)},MAX:{value:new Wn(wg,zS)}});Iee.__EMPTY_NODE=un.EMPTY_NODE;ww.__childrenNodeConstructor=un;NOe(zS);LOe(zS);var WOe=!0;function eo(n,t){if(t===void 0&&(t=null),n===null)return un.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),oe.assert(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){var e=n;return new ww(e,eo(t))}if(!(n instanceof Array)&&WOe){var i=[],r=!1,o=n;if(Jo(o,function(u,d){if(u.substring(0,1)!=="."){var h=eo(d);h.isEmpty()||(r=r||!h.getPriority().isEmpty(),i.push(new Wn(u,h)))}}),i.length===0)return un.EMPTY_NODE;var s=vF(i,jOe,function(u){return u.name},UH);if(r){var a=vF(i,Gi.getCompare());return new un(s,eo(t),new _F({".priority":a},{".priority":Gi}))}else return new un(s,eo(t),_F.Default)}else{var l=un.EMPTY_NODE;return Jo(n,function(u,d){if(oe.contains(n,u)&&u.substring(0,1)!=="."){var h=eo(d);(h.isLeafNode()||!h.isEmpty())&&(l=l.updateImmediateChild(u,h))}}),l.updatePriority(eo(t))}}ROe(eo);var KOe=function(n){Vn.__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.compare=function(e,i){var r=e.node.compareTo(i.node);return r===0?_v(e.name,i.name):r},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,i){return!e.equals(i)},t.prototype.minPost=function(){return Wn.MIN},t.prototype.maxPost=function(){return Wn.MAX},t.prototype.makePost=function(e,i){var r=eo(e);return new Wn(i,r)},t.prototype.toString=function(){return".value"},t}(CF),kH=new KOe;var NH=function(n){Vn.__extends(t,n);function t(e){var i=n.call(this)||this;return i.indexPath_=e,oe.assert(!e.isEmpty()&&e.getFront()!==".priority","Can't create PathIndex with empty path or .priority key"),i}return t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,i){var r=this.extractChild(e.node),o=this.extractChild(i.node),s=r.compareTo(o);return s===0?_v(e.name,i.name):s},t.prototype.makePost=function(e,i){var r=eo(e),o=un.EMPTY_NODE.updateChild(this.indexPath_,r);return new Wn(i,o)},t.prototype.maxPost=function(){var e=un.EMPTY_NODE.updateChild(this.indexPath_,zS);return new Wn(wg,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(CF);var yv=function(){function n(t,e,i){this.node_=t,this.ref_=e,this.index_=i}return n.prototype.val=function(){return oe.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},n.prototype.exportVal=function(){return oe.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},n.prototype.toJSON=function(){return oe.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},n.prototype.exists=function(){return oe.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},n.prototype.child=function(t){oe.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),jS("DataSnapshot.child",1,t,!1);var e=new yt(t),i=this.ref_.child(e);return new n(this.node_.getChild(e),i,Gi)},n.prototype.hasChild=function(t){oe.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),jS("DataSnapshot.hasChild",1,t,!1);var e=new yt(t);return!this.node_.getChild(e).isEmpty()},n.prototype.getPriority=function(){return oe.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},n.prototype.forEach=function(t){var e=this;if(oe.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),oe.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var i=this.node_;return!!i.forEachChild(this.index_,function(r,o){return t(new n(o,e.ref_.child(r),Gi))})},n.prototype.hasChildren=function(){return oe.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),this.node_.isLeafNode()?!1:!this.node_.isEmpty()},Object.defineProperty(n.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),n.prototype.numChildren=function(){return oe.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},n.prototype.getRef=function(){return oe.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(n.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),n}();var Fee=function(){function n(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}return n.prototype.getPath=function(){var t=this.snapshot.getRef();return this.eventType==="value"?t.path:t.getParent().path},n.prototype.getEventType=function(){return this.eventType},n.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},n.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+oe.stringify(this.snapshot.exportVal())},n}(),Bee=function(){function n(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}return n.prototype.getPath=function(){return this.path},n.prototype.getEventType=function(){return"cancel"},n.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},n.prototype.toString=function(){return this.path.toString()+":cancel"},n}();var VJ=function(){function n(t,e,i){this.callback_=t,this.cancelCallback_=e,this.context_=i}return n.prototype.respondsTo=function(t){return t==="value"},n.prototype.createEvent=function(t,e){var i=e.getQueryParams().getIndex();return new Fee("value",this,new yv(t.snapshotNode,e.getRef(),i))},n.prototype.getEventRunner=function(t){var e=this.context_;if(t.getEventType()==="cancel"){oe.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var i=this.cancelCallback_;return function(){i.call(e,t.error)}}else{var r=this.callback_;return function(){r.call(e,t.snapshot)}}},n.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Bee(this,t,e):null},n.prototype.matches=function(t){return t instanceof n?!t.callback_||!this.callback_?!0:t.callback_===this.callback_&&t.context_===this.context_:!1},n.prototype.hasAnyCallback=function(){return this.callback_!==null},n}(),QJ=function(){function n(t,e,i){this.callbacks_=t,this.cancelCallback_=e,this.context_=i}return n.prototype.respondsTo=function(t){var e=t==="children_added"?"child_added":t;return e=e==="children_removed"?"child_removed":e,oe.contains(this.callbacks_,e)},n.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Bee(this,t,e):null},n.prototype.createEvent=function(t,e){oe.assert(t.childName!=null,"Child events should have a childName.");var i=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Fee(t.type,this,new yv(t.snapshotNode,i,r),t.prevName)},n.prototype.getEventRunner=function(t){var e=this.context_;if(t.getEventType()==="cancel"){oe.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var i=this.cancelCallback_;return function(){i.call(e,t.error)}}else{var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}}},n.prototype.matches=function(t){var e=this;if(t instanceof n){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var i=Object.keys(t.callbacks_),r=Object.keys(this.callbacks_),o=i.length,s=r.length;if(o===s)if(o===1){var a=i[0],l=r[0];return l===a&&(!t.callbacks_[a]||!this.callbacks_[l]||t.callbacks_[a]===this.callbacks_[l])}else return r.every(function(u){return t.callbacks_[u]===e.callbacks_[u]})}}return!1},n.prototype.hasAnyCallback=function(){return this.callbacks_!==null},n}();var CH,EF=function(){function n(t,e,i,r){this.repo=t,this.path=e,this.queryParams_=i,this.orderByCalled_=r}return Object.defineProperty(n,"__referenceConstructor",{get:function(){return oe.assert(CH,"Reference.ts has not been loaded"),CH},set:function(t){CH=t},enumerable:!1,configurable:!0}),n.validateQueryEndpoints_=function(t){var e=null,i=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(i=t.getIndexEndValue()),t.getIndex()===yg){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){var s=t.getIndexStartName();if(s!==vv)throw new Error(r);if(typeof e!="string")throw new Error(o)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!==wg)throw new Error(r);if(typeof i!="string")throw new Error(o)}}else if(t.getIndex()===Gi){if(e!=null&&!QS(e)||i!=null&&!QS(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(oe.assert(t.getIndex()instanceof NH||t.getIndex()===kH,"unknown index type."),e!=null&&typeof e=="object"||i!=null&&typeof i=="object")throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},n.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},n.prototype.validateNoPreviousOrderByCall_=function(t){if(this.orderByCalled_===!0)throw new Error(t+": You can't combine multiple orderBy calls.")},n.prototype.getQueryParams=function(){return this.queryParams_},n.prototype.getRef=function(){return oe.validateArgCount("Query.ref",0,0,arguments.length),new n.__referenceConstructor(this.repo,this.path)},n.prototype.on=function(t,e,i,r){oe.validateArgCount("Query.on",2,4,arguments.length),yH("Query.on",1,t,!1),oe.validateCallback("Query.on",2,e,!1);var o=n.getCancelAndContextArgs_("Query.on",i,r);if(t==="value")this.onValueEvent(e,o.cancel,o.context);else{var s={};s[t]=e,this.onChildEvent(s,o.cancel,o.context)}return e},n.prototype.onValueEvent=function(t,e,i){var r=new VJ(t,e||null,i||null);this.repo.addEventCallbackForQuery(this,r)},n.prototype.onChildEvent=function(t,e,i){var r=new QJ(t,e,i);this.repo.addEventCallbackForQuery(this,r)},n.prototype.off=function(t,e,i){oe.validateArgCount("Query.off",0,3,arguments.length),yH("Query.off",1,t,!0),oe.validateCallback("Query.off",2,e,!0),oe.validateContextObject("Query.off",3,i,!0);var r=null,o=null;if(t==="value"){var s=e||null;r=new VJ(s,null,i||null)}else t&&(e&&(o={},o[t]=e),r=new QJ(o,null,i||null));this.repo.removeEventCallbackForQuery(this,r)},n.prototype.once=function(t,e,i,r){var o=this;oe.validateArgCount("Query.once",1,4,arguments.length),yH("Query.once",1,t,!1),oe.validateCallback("Query.once",2,e,!0);var s=n.getCancelAndContextArgs_("Query.once",i,r),a=!0,l=new oe.Deferred;l.promise.catch(function(){});var u=function(d){a&&(a=!1,o.off(t,u),e&&e.bind(s.context)(d),l.resolve(d))};return this.on(t,u,function(d){o.off(t,u),s.cancel&&s.cancel.bind(s.context)(d),l.reject(d)}),l.promise},n.prototype.limitToFirst=function(t){if(oe.validateArgCount("Query.limitToFirst",1,1,arguments.length),typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new n(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},n.prototype.limitToLast=function(t){if(oe.validateArgCount("Query.limitToLast",1,1,arguments.length),typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new n(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},n.prototype.orderByChild=function(t){if(oe.validateArgCount("Query.orderByChild",1,1,arguments.length),t==="$key")throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if(t==="$priority")throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if(t==="$value")throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');jS("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var e=new yt(t);if(e.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new NH(e),r=this.queryParams_.orderBy(i);return n.validateQueryEndpoints_(r),new n(this.repo,this.path,r,!0)},n.prototype.orderByKey=function(){oe.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(yg);return n.validateQueryEndpoints_(t),new n(this.repo,this.path,t,!0)},n.prototype.orderByPriority=function(){oe.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Gi);return n.validateQueryEndpoints_(t),new n(this.repo,this.path,t,!0)},n.prototype.orderByValue=function(){oe.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(kH);return n.validateQueryEndpoints_(t),new n(this.repo,this.path,t,!0)},n.prototype.startAt=function(t,e){t===void 0&&(t=null),oe.validateArgCount("Query.startAt",0,2,arguments.length),_g("Query.startAt",1,t,this.path,!0),wH("Query.startAt",2,e,!0);var i=this.queryParams_.startAt(t,e);if(n.validateLimit_(i),n.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return t===void 0&&(t=null,e=null),new n(this.repo,this.path,i,this.orderByCalled_)},n.prototype.endAt=function(t,e){t===void 0&&(t=null),oe.validateArgCount("Query.endAt",0,2,arguments.length),_g("Query.endAt",1,t,this.path,!0),wH("Query.endAt",2,e,!0);var i=this.queryParams_.endAt(t,e);if(n.validateLimit_(i),n.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new n(this.repo,this.path,i,this.orderByCalled_)},n.prototype.equalTo=function(t,e){if(oe.validateArgCount("Query.equalTo",1,2,arguments.length),_g("Query.equalTo",1,t,this.path,!1),wH("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},n.prototype.toString=function(){return oe.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},n.prototype.toJSON=function(){return oe.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},n.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},n.prototype.queryIdentifier=function(){var t=this.queryObject(),e=LH(t);return e==="{}"?"default":e},n.prototype.isEqual=function(t){if(oe.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof n)){var e="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(e)}var i=this.repo===t.repo,r=this.path.equals(t.path),o=this.queryIdentifier()===t.queryIdentifier();return i&&r&&o},n.getCancelAndContextArgs_=function(t,e,i){var r={cancel:null,context:null};if(e&&i)r.cancel=e,oe.validateCallback(t,3,r.cancel,!0),r.context=i,oe.validateContextObject(t,4,r.context,!0);else if(e)if(typeof e=="object"&&e!==null)r.context=e;else if(typeof e=="function")r.cancel=e;else throw new Error(oe.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");return r},Object.defineProperty(n.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),n}();var zOe=function(){function n(t){this.node_=t}return n.prototype.getImmediateChild=function(t){var e=this.node_.getImmediateChild(t);return new n(e)},n.prototype.node=function(){return this.node_},n}(),qOe=function(){function n(t,e){this.syncTree_=t,this.path_=e}return n.prototype.getImmediateChild=function(t){var e=this.path_.child(t);return new n(this.syncTree_,e)},n.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},n}(),$Oe=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},jJ=function(n,t,e){if(!n||typeof n!="object")return n;if(oe.assert(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return YOe(n[".sv"],t,e);if(typeof n[".sv"]=="object")return ZOe(n[".sv"],t);oe.assert(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},YOe=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:oe.assert(!1,"Unexpected server value: "+n)}},ZOe=function(n,t,e){n.hasOwnProperty("increment")||oe.assert(!1,"Unexpected server value: "+JSON.stringify(n,null,2));var i=n.increment;typeof i!="number"&&oe.assert(!1,"Unexpected increment value: "+i);var r=t.node();if(oe.assert(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;var o=r,s=o.getValue();return typeof s!="number"?i:s+i},GJ=function(n,t,e,i){return VH(t,new qOe(e,n),i)},HH=function(n,t,e){return VH(n,new zOe(t),e)};function VH(n,t,e){var i=n.getPriority().val(),r=jJ(i,t.getImmediateChild(".priority"),e),o;if(n.isLeafNode()){var s=n,a=jJ(s.getValue(),t,e);return a!==s.getValue()||r!==s.getPriority().val()?new ww(a,eo(r)):n}else{var l=n;return o=l,r!==l.getPriority().val()&&(o=o.updatePriority(new ww(r))),l.forEachChild(Gi,function(u,d){var h=VH(d,t.getImmediateChild(u),e);h!==d&&(o=o.updateImmediateChild(u,h))}),o}}var EH=function(){function n(){this.value=null,this.children=new Map}return n.prototype.find=function(t){if(this.value!=null)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();if(t=t.popFront(),this.children.has(e)){var i=this.children.get(e);return i.find(t)}else return null}else return null},n.prototype.remember=function(t,e){if(t.isEmpty())this.value=e,this.children.clear();else if(this.value!==null)this.value=this.value.updateChild(t,e);else{var i=t.getFront();this.children.has(i)||this.children.set(i,new n);var r=this.children.get(i);t=t.popFront(),r.remember(t,e)}},n.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(this.value!==null){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var i=this;return e.forEachChild(Gi,function(s,a){i.remember(new yt(s),a)}),this.forget(t)}else if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r)){var o=this.children.get(r).forget(t);o&&this.children.delete(r)}return this.children.size===0}else return!0},n.prototype.forEachTree=function(t,e){this.value!==null?e(t,this.value):this.forEachChild(function(i,r){var o=new yt(t.toString()+"/"+i);r.forEachTree(o,e)})},n.prototype.forEachChild=function(t){this.children.forEach(function(e,i){t(i,e)})},n}();var ef=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(ef||{}),yp=function(){function n(t,e,i,r){this.fromUser=t,this.fromServer=e,this.queryId=i,this.tagged=r,oe.assert(!r||e,"Tagged queries must be from server.")}return n.User=new n(!0,!1,null,!1),n.Server=new n(!1,!0,null,!1),n.forServerTaggedQuery=function(t){return new n(!1,!0,t,!0)},n}();var XOe=function(){function n(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=ef.ACK_USER_WRITE,this.source=yp.User}return n.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(this.affectedTree.value!=null)return oe.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var e=this.affectedTree.subtree(new yt(t));return new n(yt.Empty,e,this.revert)}else return oe.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new n(this.path.popFront(),this.affectedTree,this.revert)},n}();var SH,JOe=function(){return SH||(SH=new bp(mOe)),SH},Ec=function(){function n(t,e){e===void 0&&(e=JOe()),this.value=t,this.children=e}return n.fromObject=function(t){var e=n.Empty;return Jo(t,function(i,r){e=e.set(new yt(i),r)}),e},n.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},n.prototype.findRootMostMatchingPathAndValue=function(t,e){if(this.value!=null&&e(this.value))return{path:yt.Empty,value:this.value};if(t.isEmpty())return null;var i=t.getFront(),r=this.children.get(i);if(r!==null){var o=r.findRootMostMatchingPathAndValue(t.popFront(),e);if(o!=null){var s=new yt(i).child(o.path);return{path:s,value:o.value}}else return null}else return null},n.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},n.prototype.subtree=function(t){if(t.isEmpty())return this;var e=t.getFront(),i=this.children.get(e);return i!==null?i.subtree(t.popFront()):n.Empty},n.prototype.set=function(t,e){if(t.isEmpty())return new n(e,this.children);var i=t.getFront(),r=this.children.get(i)||n.Empty,o=r.set(t.popFront(),e),s=this.children.insert(i,o);return new n(this.value,s)},n.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?n.Empty:new n(null,this.children);var e=t.getFront(),i=this.children.get(e);if(i){var r=i.remove(t.popFront()),o=void 0;return r.isEmpty()?o=this.children.remove(e):o=this.children.insert(e,r),this.value===null&&o.isEmpty()?n.Empty:new n(this.value,o)}else return this},n.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),i=this.children.get(e);return i?i.get(t.popFront()):null},n.prototype.setTree=function(t,e){if(t.isEmpty())return e;var i=t.getFront(),r=this.children.get(i)||n.Empty,o=r.setTree(t.popFront(),e),s=void 0;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new n(this.value,s)},n.prototype.fold=function(t){return this.fold_(yt.Empty,t)},n.prototype.fold_=function(t,e){var i={};return this.children.inorderTraversal(function(r,o){i[r]=o.fold_(t.child(r),e)}),e(t,this.value,i)},n.prototype.findOnPath=function(t,e){return this.findOnPath_(t,yt.Empty,e)},n.prototype.findOnPath_=function(t,e,i){var r=this.value?i(e,this.value):!1;if(r)return r;if(t.isEmpty())return null;var o=t.getFront(),s=this.children.get(o);return s?s.findOnPath_(t.popFront(),e.child(o),i):null},n.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,yt.Empty,e)},n.prototype.foreachOnPath_=function(t,e,i){if(t.isEmpty())return this;this.value&&i(e,this.value);var r=t.getFront(),o=this.children.get(r);return o?o.foreachOnPath_(t.popFront(),e.child(r),i):n.Empty},n.prototype.foreach=function(t){this.foreach_(yt.Empty,t)},n.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(i,r){r.foreach_(t.child(i),e)}),this.value&&e(t,this.value)},n.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,i){i.value&&t(e,i.value)})},n.Empty=new n(null),n}();var WJ=function(){function n(t,e){this.source=t,this.path=e,this.type=ef.LISTEN_COMPLETE}return n.prototype.operationForChild=function(t){return this.path.isEmpty()?new n(this.source,yt.Empty):new n(this.source,this.path.popFront())},n}();var gF=function(){function n(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=ef.OVERWRITE}return n.prototype.operationForChild=function(t){return this.path.isEmpty()?new n(this.source,yt.Empty,this.snap.getImmediateChild(t)):new n(this.source,this.path.popFront(),this.snap)},n}();var xH=function(){function n(t,e,i){this.source=t,this.path=e,this.children=i,this.type=ef.MERGE}return n.prototype.operationForChild=function(t){if(this.path.isEmpty()){var e=this.children.subtree(new yt(t));return e.isEmpty()?null:e.value?new gF(this.source,yt.Empty,e.value):new n(this.source,yt.Empty,e)}else return oe.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new n(this.source,this.path.popFront(),this.children)},n.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},n}();var Cp=function(){function n(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}return n.prototype.isFullyInitialized=function(){return this.fullyInitialized_},n.prototype.isFiltered=function(){return this.filtered_},n.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},n.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},n.prototype.getNode=function(){return this.node_},n}();var Pee=function(){function n(t,e){this.eventCache_=t,this.serverCache_=e}return n.prototype.updateEventSnap=function(t,e,i){return new n(new Cp(t,e,i),this.serverCache_)},n.prototype.updateServerSnap=function(t,e,i){return new n(this.eventCache_,new Cp(t,e,i))},n.prototype.getEventCache=function(){return this.eventCache_},n.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},n.prototype.getServerCache=function(){return this.serverCache_},n.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},n.Empty=new n(new Cp(un.EMPTY_NODE,!1,!1),new Cp(un.EMPTY_NODE,!1,!1)),n}();var Bn=function(){function n(t,e,i,r,o){this.type=t,this.snapshotNode=e,this.childName=i,this.oldSnap=r,this.prevName=o}return n.valueChange=function(t){return new n(n.VALUE,t)},n.childAddedChange=function(t,e){return new n(n.CHILD_ADDED,e,t)},n.childRemovedChange=function(t,e){return new n(n.CHILD_REMOVED,e,t)},n.childChangedChange=function(t,e,i){return new n(n.CHILD_CHANGED,e,t,i)},n.childMovedChange=function(t,e){return new n(n.CHILD_MOVED,e,t)},n.CHILD_ADDED="child_added",n.CHILD_REMOVED="child_removed",n.CHILD_CHANGED="child_changed",n.CHILD_MOVED="child_moved",n.VALUE="value",n}();var QH=function(){function n(t){this.index_=t}return n.prototype.updateChild=function(t,e,i,r,o,s){oe.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(e)?s.trackChildChange(Bn.childRemovedChange(e,a)):oe.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Bn.childAddedChange(e,i)):s.trackChildChange(Bn.childChangedChange(e,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)},n.prototype.updateFullNode=function(t,e,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Gi,function(r,o){e.hasChild(r)||i.trackChildChange(Bn.childRemovedChange(r,o))}),e.isLeafNode()||e.forEachChild(Gi,function(r,o){if(t.hasChild(r)){var s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(Bn.childChangedChange(r,o,s))}else i.trackChildChange(Bn.childAddedChange(r,o))})),e.withIndex(this.index_)},n.prototype.updatePriority=function(t,e){return t.isEmpty()?un.EMPTY_NODE:t.updatePriority(e)},n.prototype.filtersNodes=function(){return!1},n.prototype.getIndexedFilter=function(){return this},n.prototype.getIndex=function(){return this.index_},n}();var eFe=function(){function n(){this.changeMap=new Map}return n.prototype.trackChildChange=function(t){var e=t.type,i=t.childName;oe.assert(e===Bn.CHILD_ADDED||e===Bn.CHILD_CHANGED||e===Bn.CHILD_REMOVED,"Only child changes supported for tracking"),oe.assert(i!==".priority","Only non-priority child changes can be tracked.");var r=this.changeMap.get(i);if(r){var o=r.type;if(e===Bn.CHILD_ADDED&&o===Bn.CHILD_REMOVED)this.changeMap.set(i,Bn.childChangedChange(i,t.snapshotNode,r.snapshotNode));else if(e===Bn.CHILD_REMOVED&&o===Bn.CHILD_ADDED)this.changeMap.delete(i);else if(e===Bn.CHILD_REMOVED&&o===Bn.CHILD_CHANGED)this.changeMap.set(i,Bn.childRemovedChange(i,r.oldSnap));else if(e===Bn.CHILD_CHANGED&&o===Bn.CHILD_ADDED)this.changeMap.set(i,Bn.childAddedChange(i,t.snapshotNode));else if(e===Bn.CHILD_CHANGED&&o===Bn.CHILD_CHANGED)this.changeMap.set(i,Bn.childChangedChange(i,t.snapshotNode,r.oldSnap));else throw oe.assertionError("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)},n.prototype.getChanges=function(){return Array.from(this.changeMap.values())},n}();var tFe=function(){function n(){}return n.prototype.getCompleteChild=function(t){return null},n.prototype.getChildAfterChild=function(t,e,i){return null},n}(),KJ=new tFe,IH=function(){function n(t,e,i){i===void 0&&(i=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}return n.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var i=this.optCompleteServerCache_!=null?new Cp(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,i)},n.prototype.getChildAfterChild=function(t,e,i){var r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),o=this.writes_.calcIndexedSlice(r,e,1,i,t);return o.length===0?null:o[0]},n}();var nFe=function(){function n(t,e){this.viewCache=t,this.changes=e}return n}(),iFe=function(){function n(t){this.filter_=t}return n.prototype.assertIndexed=function(t){oe.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),oe.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},n.prototype.applyOperation=function(t,e,i,r){var o=new eFe,s,a;if(e.type===ef.OVERWRITE){var l=e;l.source.fromUser?s=this.applyUserOverwrite_(t,l.path,l.snap,i,r,o):(oe.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.getServerCache().isFiltered()&&!l.path.isEmpty(),s=this.applyServerOverwrite_(t,l.path,l.snap,i,r,a,o))}else if(e.type===ef.MERGE){var u=e;u.source.fromUser?s=this.applyUserMerge_(t,u.path,u.children,i,r,o):(oe.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.getServerCache().isFiltered(),s=this.applyServerMerge_(t,u.path,u.children,i,r,a,o))}else if(e.type===ef.ACK_USER_WRITE){var d=e;d.revert?s=this.revertUserWrite_(t,d.path,i,r,o):s=this.ackUserWrite_(t,d.path,d.affectedTree,i,r,o)}else if(e.type===ef.LISTEN_COMPLETE)s=this.listenComplete_(t,e.path,i,o);else throw oe.assertionError("Unknown operation type: "+e.type);var h=o.getChanges();return n.maybeAddValueEvent_(t,s,h),new nFe(s,h)},n.maybeAddValueEvent_=function(t,e,i){var r=e.getEventCache();if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=t.getCompleteEventSnap();(i.length>0||!t.getEventCache().isFullyInitialized()||o&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&i.push(Bn.valueChange(e.getCompleteEventSnap()))}},n.prototype.generateEventCacheAfterServerEvent_=function(t,e,i,r,o){var s=t.getEventCache();if(i.shadowingWrite(e)!=null)return t;var a=void 0,l=void 0;if(e.isEmpty())if(oe.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),d=u instanceof un?u:un.EMPTY_NODE,h=i.calcCompleteEventChildren(d);a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,o)}else{var f=i.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),f,o)}else{var A=e.getFront();if(A===".priority"){oe.assert(e.getLength()===1,"Can't have a priority with additional path components");var g=s.getNode();l=t.getServerCache().getNode();var m=i.calcEventCacheAfterServerOverwrite(e,g,l);m!=null?a=this.filter_.updatePriority(g,m):a=s.getNode()}else{var b=e.popFront(),S=void 0;if(s.isCompleteForChild(A)){l=t.getServerCache().getNode();var F=i.calcEventCacheAfterServerOverwrite(e,s.getNode(),l);F!=null?S=s.getNode().getImmediateChild(A).updateChild(b,F):S=s.getNode().getImmediateChild(A)}else S=i.calcCompleteChild(A,t.getServerCache());S!=null?a=this.filter_.updateChild(s.getNode(),A,S,b,r,o):a=s.getNode()}}return t.updateEventSnap(a,s.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},n.prototype.applyServerOverwrite_=function(t,e,i,r,o,s,a){var l=t.getServerCache(),u,d=s?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())u=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(e,i);u=d.updateFullNode(l.getNode(),h,null)}else{var f=e.getFront();if(!l.isCompleteForPath(e)&&e.getLength()>1)return t;var A=e.popFront(),g=l.getNode().getImmediateChild(f),m=g.updateChild(A,i);f===".priority"?u=d.updatePriority(l.getNode(),m):u=d.updateChild(l.getNode(),f,m,A,KJ,null)}var b=t.updateServerSnap(u,l.isFullyInitialized()||e.isEmpty(),d.filtersNodes()),S=new IH(r,b,o);return this.generateEventCacheAfterServerEvent_(b,e,r,S,a)},n.prototype.applyUserOverwrite_=function(t,e,i,r,o,s){var a=t.getEventCache(),l,u,d=new IH(r,t,o);if(e.isEmpty())u=this.filter_.updateFullNode(t.getEventCache().getNode(),i,s),l=t.updateEventSnap(u,!0,this.filter_.filtersNodes());else{var h=e.getFront();if(h===".priority")u=this.filter_.updatePriority(t.getEventCache().getNode(),i),l=t.updateEventSnap(u,a.isFullyInitialized(),a.isFiltered());else{var f=e.popFront(),A=a.getNode().getImmediateChild(h),g=void 0;if(f.isEmpty())g=i;else{var m=d.getCompleteChild(h);m!=null?f.getBack()===".priority"&&m.getChild(f.parent()).isEmpty()?g=m:g=m.updateChild(f,i):g=un.EMPTY_NODE}if(A.equals(g))l=t;else{var b=this.filter_.updateChild(a.getNode(),h,g,f,d,s);l=t.updateEventSnap(b,a.isFullyInitialized(),this.filter_.filtersNodes())}}}return l},n.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},n.prototype.applyUserMerge_=function(t,e,i,r,o,s){var a=this,l=t;return i.foreach(function(u,d){var h=e.child(u);n.cacheHasChild_(t,h.getFront())&&(l=a.applyUserOverwrite_(l,h,d,r,o,s))}),i.foreach(function(u,d){var h=e.child(u);n.cacheHasChild_(t,h.getFront())||(l=a.applyUserOverwrite_(l,h,d,r,o,s))}),l},n.prototype.applyMerge_=function(t,e){return e.foreach(function(i,r){t=t.updateChild(i,r)}),t},n.prototype.applyServerMerge_=function(t,e,i,r,o,s,a){var l=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u=t,d;e.isEmpty()?d=i:d=Ec.Empty.setTree(e,i);var h=t.getServerCache().getNode();return d.children.inorderTraversal(function(f,A){if(h.hasChild(f)){var g=t.getServerCache().getNode().getImmediateChild(f),m=l.applyMerge_(g,A);u=l.applyServerOverwrite_(u,new yt(f),m,r,o,s,a)}}),d.children.inorderTraversal(function(f,A){var g=!t.getServerCache().isCompleteForChild(f)&&A.value==null;if(!h.hasChild(f)&&!g){var m=t.getServerCache().getNode().getImmediateChild(f),b=l.applyMerge_(m,A);u=l.applyServerOverwrite_(u,new yt(f),b,r,o,s,a)}}),u},n.prototype.ackUserWrite_=function(t,e,i,r,o,s){if(r.shadowingWrite(e)!=null)return t;var a=t.getServerCache().isFiltered(),l=t.getServerCache();if(i.value!=null){if(e.isEmpty()&&l.isFullyInitialized()||l.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,l.getNode().getChild(e),r,o,a,s);if(e.isEmpty()){var u=Ec.Empty;return l.getNode().forEachChild(yg,function(h,f){u=u.set(new yt(h),f)}),this.applyServerMerge_(t,e,u,r,o,a,s)}else return t}else{var d=Ec.Empty;return i.foreach(function(h,f){var A=e.child(h);l.isCompleteForPath(A)&&(d=d.set(h,l.getNode().getChild(A)))}),this.applyServerMerge_(t,e,d,r,o,a,s)}},n.prototype.listenComplete_=function(t,e,i,r){var o=t.getServerCache(),s=t.updateServerSnap(o.getNode(),o.isFullyInitialized()||e.isEmpty(),o.isFiltered());return this.generateEventCacheAfterServerEvent_(s,e,i,KJ,r)},n.prototype.revertUserWrite_=function(t,e,i,r,o){var s;if(i.shadowingWrite(e)!=null)return t;var a=new IH(i,t,r),l=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||e.getFront()===".priority"){var d=void 0;if(t.getServerCache().isFullyInitialized())d=i.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();oe.assert(h instanceof un,"serverChildren would be complete if leaf node"),d=i.calcCompleteEventChildren(h)}d=d,u=this.filter_.updateFullNode(l,d,o)}else{var f=e.getFront(),A=i.calcCompleteChild(f,t.getServerCache());A==null&&t.getServerCache().isCompleteForChild(f)&&(A=l.getImmediateChild(f)),A!=null?u=this.filter_.updateChild(l,f,A,e.popFront(),a,o):t.getEventCache().getNode().hasChild(f)?u=this.filter_.updateChild(l,f,un.EMPTY_NODE,e.popFront(),a,o):u=l,u.isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=i.calcCompleteEventCache(t.getCompleteServerSnap()),s.isLeafNode()&&(u=this.filter_.updateFullNode(u,s,o)))}return s=t.getServerCache().isFullyInitialized()||i.shadowingWrite(yt.Empty)!=null,t.updateEventSnap(u,s,this.filter_.filtersNodes())},n}();var rFe=function(){function n(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return n.prototype.generateEventsForChanges=function(t,e,i){var r=this,o=[],s=[];return t.forEach(function(a){a.type===Bn.CHILD_CHANGED&&r.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(Bn.childMovedChange(a.childName,a.snapshotNode))}),this.generateEventsForType_(o,Bn.CHILD_REMOVED,t,i,e),this.generateEventsForType_(o,Bn.CHILD_ADDED,t,i,e),this.generateEventsForType_(o,Bn.CHILD_MOVED,s,i,e),this.generateEventsForType_(o,Bn.CHILD_CHANGED,t,i,e),this.generateEventsForType_(o,Bn.VALUE,t,i,e),o},n.prototype.generateEventsForType_=function(t,e,i,r,o){var s=this,a=i.filter(function(l){return l.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(l){var u=s.materializeSingleChange_(l,o);r.forEach(function(d){d.respondsTo(l.type)&&t.push(d.createEvent(u,s.query_))})})},n.prototype.materializeSingleChange_=function(t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},n.prototype.compareChanges_=function(t,e){if(t.childName==null||e.childName==null)throw oe.assertionError("Should only compare child_ events.");var i=new Wn(t.childName,t.snapshotNode),r=new Wn(e.childName,e.snapshotNode);return this.index_.compare(i,r)},n}();var oFe=function(){function n(t,e){this.query_=t,this.eventRegistrations_=[];var i=this.query_.getQueryParams(),r=new QH(i.getIndex()),o=i.getNodeFilter();this.processor_=new iFe(o);var s=e.getServerCache(),a=e.getEventCache(),l=r.updateFullNode(un.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(un.EMPTY_NODE,a.getNode(),null),d=new Cp(l,s.isFullyInitialized(),r.filtersNodes()),h=new Cp(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=new Pee(h,d),this.eventGenerator_=new rFe(this.query_)}return n.prototype.getQuery=function(){return this.query_},n.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},n.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},n.prototype.isEmpty=function(){return this.eventRegistrations_.length===0},n.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},n.prototype.removeEventRegistration=function(t,e){var i=[];if(e){oe.assert(t==null,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(l){e=e;var u=l.createCancelEvent(e,r);u&&i.push(u)})}if(t){for(var o=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(!a.matches(t))o.push(a);else if(t.hasAnyCallback()){o=o.concat(this.eventRegistrations_.slice(s+1));break}}this.eventRegistrations_=o}else this.eventRegistrations_=[];return i},n.prototype.applyOperation=function(t,e,i){t.type===ef.MERGE&&t.source.queryId!==null&&(oe.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),oe.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,o=this.processor_.applyOperation(r,t,e,i);return this.processor_.assertIndexed(o.viewCache),oe.assert(o.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},n.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),i=[];if(!e.getNode().isLeafNode()){var r=e.getNode();r.forEachChild(Gi,function(o,s){i.push(Bn.childAddedChange(o,s))})}return e.isFullyInitialized()&&i.push(Bn.valueChange(e.getNode())),this.generateEventsForChanges_(i,e.getNode(),t)},n.prototype.generateEventsForChanges_=function(t,e,i){var r=i?[i]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},n}();var AF,kee=function(){function n(){this.views=new Map}return Object.defineProperty(n,"__referenceConstructor",{get:function(){return oe.assert(AF,"Reference.ts has not been loaded"),AF},set:function(t){oe.assert(!AF,"__referenceConstructor has already been defined"),AF=t},enumerable:!1,configurable:!0}),n.prototype.isEmpty=function(){return this.views.size===0},n.prototype.applyOperation=function(t,e,i){var r,o,s=t.source.queryId;if(s!==null){var a=this.views.get(s);return oe.assert(a!=null,"SyncTree gave us an op for an invalid query."),a.applyOperation(t,e,i)}else{var l=[];try{for(var u=Vn.__values(this.views.values()),d=u.next();!d.done;d=u.next()){var a=d.value;l=l.concat(a.applyOperation(t,e,i))}}catch(h){r={error:h}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return l}},n.prototype.addEventRegistration=function(t,e,i,r,o){var s=t.queryIdentifier(),a=this.views.get(s);if(!a){var l=i.calcCompleteEventCache(o?r:null),u=!1;l?u=!0:r instanceof un?(l=i.calcCompleteEventChildren(r),u=!1):(l=un.EMPTY_NODE,u=!1);var d=new Pee(new Cp(l,u,!1),new Cp(r,o,!1));a=new oFe(t,d),this.views.set(s,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},n.prototype.removeEventRegistration=function(t,e,i){var r,o,s=t.queryIdentifier(),a=[],l=[],u=this.hasCompleteView();if(s==="default")try{for(var d=Vn.__values(this.views.entries()),h=d.next();!h.done;h=d.next()){var f=Vn.__read(h.value,2),A=f[0],g=f[1];l=l.concat(g.removeEventRegistration(e,i)),g.isEmpty()&&(this.views.delete(A),g.getQuery().getQueryParams().loadsAllData()||a.push(g.getQuery()))}}catch(m){r={error:m}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}else{var g=this.views.get(s);g&&(l=l.concat(g.removeEventRegistration(e,i)),g.isEmpty()&&(this.views.delete(s),g.getQuery().getQueryParams().loadsAllData()||a.push(g.getQuery())))}return u&&!this.hasCompleteView()&&a.push(new n.__referenceConstructor(t.repo,t.path)),{removed:a,events:l}},n.prototype.getQueryViews=function(){var t,e,i=[];try{for(var r=Vn.__values(this.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;s.getQuery().getQueryParams().loadsAllData()||i.push(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return i},n.prototype.getCompleteServerCache=function(t){var e,i,r=null;try{for(var o=Vn.__values(this.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;r=r||a.getCompleteServerCache(t)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}return r},n.prototype.viewForQuery=function(t){var e=t.getQueryParams();if(e.loadsAllData())return this.getCompleteView();var i=t.queryIdentifier();return this.views.get(i)},n.prototype.viewExistsForQuery=function(t){return this.viewForQuery(t)!=null},n.prototype.hasCompleteView=function(){return this.getCompleteView()!=null},n.prototype.getCompleteView=function(){var t,e;try{for(var i=Vn.__values(this.views.values()),r=i.next();!r.done;r=i.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return null},n}();var zJ=function(){function n(t){this.writeTree_=t}return n.prototype.addWrite=function(t,e){if(t.isEmpty())return new n(new Ec(e));var i=this.writeTree_.findRootMostValueAndPath(t);if(i!=null){var r=i.path,o=i.value,s=yt.relativePath(r,t);return o=o.updateChild(s,e),new n(this.writeTree_.set(r,o))}else{var a=new Ec(e),l=this.writeTree_.setTree(t,a);return new n(l)}},n.prototype.addWrites=function(t,e){var i=this;return Jo(e,function(r,o){i=i.addWrite(t.child(r),o)}),i},n.prototype.removeWrite=function(t){if(t.isEmpty())return n.Empty;var e=this.writeTree_.setTree(t,Ec.Empty);return new n(e)},n.prototype.hasCompleteWrite=function(t){return this.getCompleteNode(t)!=null},n.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return e!=null?this.writeTree_.get(e.path).getChild(yt.relativePath(e.path,t)):null},n.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(Gi,function(i,r){t.push(new Wn(i,r))}):this.writeTree_.children.inorderTraversal(function(i,r){r.value!=null&&t.push(new Wn(i,r.value))}),t},n.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var e=this.getCompleteNode(t);return e!=null?new n(new Ec(e)):new n(this.writeTree_.subtree(t))},n.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},n.prototype.apply=function(t){return Nee(yt.Empty,this.writeTree_,t)},n.Empty=new n(new Ec(null)),n}();function Nee(n,t,e){if(t.value!=null)return e.updateChild(n,t.value);var i=null;return t.children.inorderTraversal(function(r,o){r===".priority"?(oe.assert(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):e=Nee(n.child(r),o,e)}),!e.getChild(n).isEmpty()&&i!==null&&(e=e.updateChild(n.child(".priority"),i)),e}var sFe=function(){function n(){this.visibleWrites_=zJ.Empty,this.allWrites_=[],this.lastWriteId_=-1}return n.prototype.childWrites=function(t){return new aFe(t,this)},n.prototype.addOverwrite=function(t,e,i,r){oe.assert(i>this.lastWriteId_,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:i,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=i},n.prototype.addMerge=function(t,e,i){oe.assert(i>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:i,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=i},n.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var i=this.allWrites_[e];if(i.writeId===t)return i}return null},n.prototype.removeWrite=function(t){var e=this,i=this.allWrites_.findIndex(function(d){return d.writeId===t});oe.assert(i>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[i];this.allWrites_.splice(i,1);for(var o=r.visible,s=!1,a=this.allWrites_.length-1;o&&a>=0;){var l=this.allWrites_[a];l.visible&&(a>=i&&this.recordContainsPath_(l,r.path)?o=!1:r.path.contains(l.path)&&(s=!0)),a--}if(o){if(s)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var u=r.children;Jo(u,function(d){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(d))})}return!0}else return!1},n.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},n.prototype.calcCompleteEventCache=function(t,e,i,r){if(!i&&!r){var o=this.visibleWrites_.getCompleteNode(t);if(o!=null)return o;var s=this.visibleWrites_.childCompoundWrite(t);if(s.isEmpty())return e;if(e==null&&!s.hasCompleteWrite(yt.Empty))return null;var a=e||un.EMPTY_NODE;return s.apply(a)}else{var l=this.visibleWrites_.childCompoundWrite(t);if(!r&&l.isEmpty())return e;if(!r&&e==null&&!l.hasCompleteWrite(yt.Empty))return null;var u=function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(f.path.contains(t)||t.contains(f.path))},d=n.layerTree_(this.allWrites_,u,t),a=e||un.EMPTY_NODE;return d.apply(a)}},n.prototype.calcCompleteEventChildren=function(t,e){var i=un.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Gi,function(a,l){i=i.updateImmediateChild(a,l)}),i;if(e){var o=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Gi,function(a,l){var u=o.childCompoundWrite(new yt(a)).apply(l);i=i.updateImmediateChild(a,u)}),o.getCompleteChildren().forEach(function(a){i=i.updateImmediateChild(a.name,a.node)}),i}else{var s=this.visibleWrites_.childCompoundWrite(t);return s.getCompleteChildren().forEach(function(a){i=i.updateImmediateChild(a.name,a.node)}),i}},n.prototype.calcEventCacheAfterServerOverwrite=function(t,e,i,r){oe.assert(i||r,"Either existingEventSnap or existingServerSnap must exist");var o=t.child(e);if(this.visibleWrites_.hasCompleteWrite(o))return null;var s=this.visibleWrites_.childCompoundWrite(o);return s.isEmpty()?r.getChild(e):s.apply(r.getChild(e))},n.prototype.calcCompleteChild=function(t,e,i){var r=t.child(e),o=this.visibleWrites_.getCompleteNode(r);if(o!=null)return o;if(i.isCompleteForChild(e)){var s=this.visibleWrites_.childCompoundWrite(r);return s.apply(i.getNode().getImmediateChild(e))}else return null},n.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},n.prototype.calcIndexedSlice=function(t,e,i,r,o,s){var a,l=this.visibleWrites_.childCompoundWrite(t),u=l.getCompleteNode(yt.Empty);if(u!=null)a=u;else if(e!=null)a=l.apply(e);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){for(var d=[],h=s.getCompare(),f=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),A=f.getNext();A&&d.length<r;)h(A,i)!==0&&d.push(A),A=f.getNext();return d}else return[]},n.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var i in t.children)if(t.children.hasOwnProperty(i)&&t.path.child(i).contains(e))return!0;return!1},n.prototype.resetTree_=function(){this.visibleWrites_=n.layerTree_(this.allWrites_,n.DefaultFilter_,yt.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},n.DefaultFilter_=function(t){return t.visible},n.layerTree_=function(t,e,i){for(var r=zJ.Empty,o=0;o<t.length;++o){var s=t[o];if(e(s)){var a=s.path,l=void 0;if(s.snap)i.contains(a)?(l=yt.relativePath(i,a),r=r.addWrite(l,s.snap)):a.contains(i)&&(l=yt.relativePath(a,i),r=r.addWrite(yt.Empty,s.snap.getChild(l)));else if(s.children){if(i.contains(a))l=yt.relativePath(i,a),r=r.addWrites(l,s.children);else if(a.contains(i))if(l=yt.relativePath(a,i),l.isEmpty())r=r.addWrites(yt.Empty,s.children);else{var u=oe.safeGet(s.children,l.getFront());if(u){var d=u.getChild(l.popFront());r=r.addWrite(yt.Empty,d)}}}else throw oe.assertionError("WriteRecord should have .snap or .children")}}return r},n}(),aFe=function(){function n(t,e){this.treePath_=t,this.writeTree_=e}return n.prototype.calcCompleteEventCache=function(t,e,i){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,i)},n.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},n.prototype.calcEventCacheAfterServerOverwrite=function(t,e,i){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,i)},n.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},n.prototype.calcIndexedSlice=function(t,e,i,r,o){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,i,r,o)},n.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},n.prototype.child=function(t){return new n(this.treePath_.child(t),this.writeTree_)},n}();var qJ=function(){function n(t){this.listenProvider_=t,this.syncPointTree_=Ec.Empty,this.pendingWriteTree_=new sFe,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return n.prototype.applyUserOverwrite=function(t,e,i,r){return this.pendingWriteTree_.addOverwrite(t,e,i,r),r?this.applyOperationToSyncPoints_(new gF(yp.User,t,e)):[]},n.prototype.applyUserMerge=function(t,e,i){this.pendingWriteTree_.addMerge(t,e,i);var r=Ec.fromObject(e);return this.applyOperationToSyncPoints_(new xH(yp.User,t,r))},n.prototype.ackUserWrite=function(t,e){e===void 0&&(e=!1);var i=this.pendingWriteTree_.getWrite(t),r=this.pendingWriteTree_.removeWrite(t);if(r){var o=Ec.Empty;return i.snap!=null?o=o.set(yt.Empty,!0):Jo(i.children,function(s,a){o=o.set(new yt(s),a)}),this.applyOperationToSyncPoints_(new XOe(i.path,o,e))}else return[]},n.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new gF(yp.Server,t,e))},n.prototype.applyServerMerge=function(t,e){var i=Ec.fromObject(e);return this.applyOperationToSyncPoints_(new xH(yp.Server,t,i))},n.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new WJ(yp.Server,t))},n.prototype.applyTaggedQueryOverwrite=function(t,e,i){var r=this.queryKeyForTag_(i);if(r!=null){var o=n.parseQueryKey_(r),s=o.path,a=o.queryId,l=yt.relativePath(s,t),u=new gF(yp.forServerTaggedQuery(a),l,e);return this.applyTaggedOperation_(s,u)}else return[]},n.prototype.applyTaggedQueryMerge=function(t,e,i){var r=this.queryKeyForTag_(i);if(r){var o=n.parseQueryKey_(r),s=o.path,a=o.queryId,l=yt.relativePath(s,t),u=Ec.fromObject(e),d=new xH(yp.forServerTaggedQuery(a),l,u);return this.applyTaggedOperation_(s,d)}else return[]},n.prototype.applyTaggedListenComplete=function(t,e){var i=this.queryKeyForTag_(e);if(i){var r=n.parseQueryKey_(i),o=r.path,s=r.queryId,a=yt.relativePath(o,t),l=new WJ(yp.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,l)}else return[]},n.prototype.addEventRegistration=function(t,e){var i=t.path,r=null,o=!1;this.syncPointTree_.foreachOnPath(i,function(m,b){var S=yt.relativePath(m,i);r=r||b.getCompleteServerCache(S),o=o||b.hasCompleteView()});var s=this.syncPointTree_.get(i);s?(o=o||s.hasCompleteView(),r=r||s.getCompleteServerCache(yt.Empty)):(s=new kee,this.syncPointTree_=this.syncPointTree_.set(i,s));var a;if(r!=null)a=!0;else{a=!1,r=un.EMPTY_NODE;var l=this.syncPointTree_.subtree(i);l.foreachChild(function(m,b){var S=b.getCompleteServerCache(yt.Empty);S&&(r=r.updateImmediateChild(m,S))})}var u=s.viewExistsForQuery(t);if(!u&&!t.getQueryParams().loadsAllData()){var d=n.makeQueryKey_(t);oe.assert(!this.queryToTagMap.has(d),"View does not exist, but we have a tag");var h=n.getNextQueryTag_();this.queryToTagMap.set(d,h),this.tagToQueryMap.set(h,d)}var f=this.pendingWriteTree_.childWrites(i),A=s.addEventRegistration(t,e,f,r,a);if(!u&&!o){var g=s.viewForQuery(t);A=A.concat(this.setupListener_(t,g))}return A},n.prototype.removeEventRegistration=function(t,e,i){var r=this,o=t.path,s=this.syncPointTree_.get(o),a=[];if(s&&(t.queryIdentifier()==="default"||s.viewExistsForQuery(t))){var l=s.removeEventRegistration(t,e,i);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=l.removed;a=l.events;var d=u.findIndex(function(R){return R.getQueryParams().loadsAllData()})!==-1,h=this.syncPointTree_.findOnPath(o,function(R,B){return B.hasCompleteView()});if(d&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var A=this.collectDistinctViewsForSubTree_(f),g=0;g<A.length;++g){var m=A[g],b=m.getQuery(),S=this.createListenerForView_(m);this.listenProvider_.startListening(n.queryForListening_(b),this.tagForQuery_(b),S.hashFn,S.onComplete)}}if(!h&&u.length>0&&!i)if(d){var F=null;this.listenProvider_.stopListening(n.queryForListening_(t),F)}else u.forEach(function(R){var B=r.queryToTagMap.get(n.makeQueryKey_(R));r.listenProvider_.stopListening(n.queryForListening_(R),B)});this.removeTags_(u)}return a},n.prototype.calcCompleteEventCache=function(t,e){var i=!0,r=this.pendingWriteTree_,o=this.syncPointTree_.findOnPath(t,function(s,a){var l=yt.relativePath(s,t),u=a.getCompleteServerCache(l);if(u)return u});return r.calcCompleteEventCache(t,o,e,i)},n.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(e,i,r){if(i&&i.hasCompleteView()){var o=i.getCompleteView();return[o]}else{var s=[];return i&&(s=i.getQueryViews()),Jo(r,function(a,l){s=s.concat(l)}),s}})},n.prototype.removeTags_=function(t){for(var e=0;e<t.length;++e){var i=t[e];if(!i.getQueryParams().loadsAllData()){var r=n.makeQueryKey_(i),o=this.queryToTagMap.get(r);this.queryToTagMap.delete(r),this.tagToQueryMap.delete(o)}}},n.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},n.prototype.setupListener_=function(t,e){var i=t.path,r=this.tagForQuery_(t),o=this.createListenerForView_(e),s=this.listenProvider_.startListening(n.queryForListening_(t),r,o.hashFn,o.onComplete),a=this.syncPointTree_.subtree(i);if(r)oe.assert(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=a.fold(function(h,f,A){if(!h.isEmpty()&&f&&f.hasCompleteView())return[f.getCompleteView().getQuery()];var g=[];return f&&(g=g.concat(f.getQueryViews().map(function(m){return m.getQuery()}))),Jo(A,function(m,b){g=g.concat(b)}),g}),u=0;u<l.length;++u){var d=l[u];this.listenProvider_.stopListening(n.queryForListening_(d),this.tagForQuery_(d))}return s},n.prototype.createListenerForView_=function(t){var e=this,i=t.getQuery(),r=this.tagForQuery_(i);return{hashFn:function(){var o=t.getServerCache()||un.EMPTY_NODE;return o.hash()},onComplete:function(o){if(o==="ok")return r?e.applyTaggedListenComplete(i.path,r):e.applyListenComplete(i.path);var s=yOe(o,i);return e.removeEventRegistration(i,null,s)}}},n.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},n.parseQueryKey_=function(t){var e=t.indexOf("$");return oe.assert(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new yt(t.substr(0,e))}},n.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},n.prototype.tagForQuery_=function(t){var e=n.makeQueryKey_(t);return this.queryToTagMap.get(e)},n.getNextQueryTag_=function(){return n.nextQueryTag_++},n.prototype.applyTaggedOperation_=function(t,e){var i=this.syncPointTree_.get(t);oe.assert(i,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return i.applyOperation(e,r,null)},n.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(yt.Empty))},n.prototype.applyOperationHelper_=function(t,e,i,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,i,r);var o=e.get(yt.Empty);i==null&&o!=null&&(i=o.getCompleteServerCache(yt.Empty));var s=[],a=t.path.getFront(),l=t.operationForChild(a),u=e.children.get(a);if(u&&l){var d=i?i.getImmediateChild(a):null,h=r.child(a);s=s.concat(this.applyOperationHelper_(l,u,d,h))}return o&&(s=s.concat(o.applyOperation(t,r,i))),s},n.prototype.applyOperationDescendantsHelper_=function(t,e,i,r){var o=this,s=e.get(yt.Empty);i==null&&s!=null&&(i=s.getCompleteServerCache(yt.Empty));var a=[];return e.children.inorderTraversal(function(l,u){var d=i?i.getImmediateChild(l):null,h=r.child(l),f=t.operationForChild(l);f&&(a=a.concat(o.applyOperationDescendantsHelper_(f,u,d,h)))}),s&&(a=a.concat(s.applyOperation(t,r,i))),a},n.nextQueryTag_=1,n}();var lFe=function(){function n(){this.rootNode_=un.EMPTY_NODE}return n.prototype.getNode=function(t){return this.rootNode_.getChild(t)},n.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},n}();var cFe=function(){function n(){this.counters_={}}return n.prototype.incrementCounter=function(t,e){e===void 0&&(e=1),oe.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},n.prototype.get=function(){return oe.deepCopy(this.counters_)},n}();var yF=function(){function n(){}return n.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new cFe),this.collections_[e]},n.getOrCreateReporter=function(t,e){var i=t.toString();return this.reporters_[i]||(this.reporters_[i]=e()),this.reporters_[i]},n.collections_={},n.reporters_={},n}();var Ree=function(){function n(t){this.collection_=t,this.last_=null}return n.prototype.get=function(){var t=this.collection_.get(),e=Vn.__assign({},t);return this.last_&&Jo(this.last_,function(i,r){e[i]=e[i]-r}),this.last_=t,e},n}();var $J=10*1e3,uFe=30*1e3,dFe=5*60*1e3,hFe=function(){function n(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ree(t);var i=$J+(uFe-$J)*Math.random();HS(this.reportStats_.bind(this),Math.floor(i))}return n.prototype.includeStat=function(t){this.statsToReport_[t]=!0},n.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),i={},r=!1;Jo(e,function(o,s){s>0&&oe.contains(t.statsToReport_,o)&&(i[o]=s,r=!0)}),r&&this.server_.reportStats(i),HS(this.reportStats_.bind(this),Math.floor(Math.random()*2*dFe))},n}();var fFe=function(){function n(){this.eventLists_=[],this.recursionDepth_=0}return n.prototype.queueEvents=function(t){for(var e=null,i=0;i<t.length;i++){var r=t[i],o=r.getPath();e!==null&&!o.equals(e.getPath())&&(this.eventLists_.push(e),e=null),e===null&&(e=new pFe(o)),e.add(r)}e&&this.eventLists_.push(e)},n.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(i){return i.equals(t)})},n.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(i){return i.contains(t)||t.contains(i)})},n.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,i=0;i<this.eventLists_.length;i++){var r=this.eventLists_[i];if(r){var o=r.getPath();t(o)?(this.eventLists_[i].raise(),this.eventLists_[i]=null):e=!1}}e&&(this.eventLists_=[]),this.recursionDepth_--},n}(),pFe=function(){function n(t){this.path_=t,this.events_=[]}return n.prototype.add=function(t){this.events_.push(t)},n.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(e!==null){this.events_[t]=null;var i=e.getEventRunner();gv&&Sa("event: "+e.toString()),bw(i)}}},n.prototype.getPath=function(){return this.path_},n}();var Lee=function(){function n(t){this.allowedEvents_=t,this.listeners_={},oe.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return n.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(Array.isArray(this.listeners_[t]))for(var r=Vn.__spread(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},n.prototype.on=function(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});var r=this.getInitialEvent(t);r&&e.apply(i,r)},n.prototype.off=function(t,e,i){this.validateEventType_(t);for(var r=this.listeners_[t]||[],o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context)){r.splice(o,1);return}},n.prototype.validateEventType_=function(t){oe.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},n}();var AFe=function(n){Vn.__extends(t,n);function t(){var e=n.call(this,["visible"])||this,i,r;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",i="webkitHidden")),e.visible_=!0,r&&document.addEventListener(r,function(){var o=!document[i];o!==e.visible_&&(e.visible_=o,e.trigger("visible",o))},!1),e}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return oe.assert(e==="visible","Unknown event type: "+e),[this.visible_]},t}(Lee);var YJ=function(n){Vn.__extends(t,n);function t(){var e=n.call(this,["online"])||this;return e.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!oe.isMobileCordova()&&(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return oe.assert(e==="online","Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Lee);var gFe=function(){function n(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return n.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},n.prototype.handleResponse=function(t,e){var i=this;this.pendingResponses[t]=e;for(var r=function(){var a=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var l=function(d){a[d]&&bw(function(){i.onMessage_(a[d])})},u=0;u<a.length;++u)l(u);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var s=r();if(s==="break")break}},n}();var ZJ="start",mFe="close",vFe="pLPCommand",_Fe="pRTLPCB",Uee="id",Hee="pw",Vee="ser",yFe="cb",wFe="seg",bFe="ts",CFe="d",EFe="dframe",Qee=1870,jee=30,SFe=Qee-jee,xFe=25e3,IFe=3e4,jH=function(){function n(t,e,i,r,o){this.connId=t,this.repoInfo=e,this.applicationId=i,this.transportSessionId=r,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=WS(t),this.stats_=yF.getCollection(e),this.urlFn=function(s){return e.connectionURL(wee,s)}}return n.prototype.open=function(t,e){var i=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new gFe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){i.log_("Timed out trying to connect."),i.onClosed_(),i.connectTimeoutTimer_=null},Math.floor(IFe)),gOe(function(){if(!i.isClosed_){i.scriptTagHolder=new TFe(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=Vn.__read(s,5),u=l[0],d=l[1],h=l[2],f=l[3],A=l[4];if(i.incrementIncomingBytes_(s),!!i.scriptTagHolder)if(i.connectTimeoutTimer_&&(clearTimeout(i.connectTimeoutTimer_),i.connectTimeoutTimer_=null),i.everConnected_=!0,u===ZJ)i.id=d,i.password=h;else if(u===mFe)d?(i.scriptTagHolder.sendNewPolls=!1,i.myPacketOrderer.closeAfter(d,function(){i.onClosed_()})):i.onClosed_();else throw new Error("Unrecognized command received: "+u)},function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=Vn.__read(s,2),u=l[0],d=l[1];i.incrementIncomingBytes_(s),i.myPacketOrderer.handleResponse(u,d)},function(){i.onClosed_()},i.urlFn);var r={};r[ZJ]="t",r[Vee]=Math.floor(Math.random()*1e8),i.scriptTagHolder.uniqueCallbackIdentifier&&(r[yFe]=i.scriptTagHolder.uniqueCallbackIdentifier),r[pee]=mF,i.transportSessionId&&(r[Aee]=i.transportSessionId),i.lastSessionId&&(r[_ee]=i.lastSessionId),i.applicationId&&(r[EOe]=i.applicationId),typeof location<"u"&&location.href&&location.href.indexOf(vee)!==-1&&(r[gee]=mee);var o=i.urlFn(r);i.log_("Connecting via long-poll to "+o),i.scriptTagHolder.addTag(o,function(){})}})},n.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},n.forceAllow=function(){n.forceAllow_=!0},n.forceDisallow=function(){n.forceDisallow_=!0},n.isAvailable=function(){return oe.isNodeSdk()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vOe()&&!_Oe()},n.prototype.markConnectionHealthy=function(){},n.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},n.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},n.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},n.prototype.send=function(t){var e=oe.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var i=oe.base64Encode(e),r=hee(i,SFe),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},n.prototype.addDisconnectPingFrame=function(t,e){if(!oe.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var i={};i[EFe]="t",i[Uee]=t,i[Hee]=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},n.prototype.incrementIncomingBytes_=function(t){var e=oe.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},n}(),TFe=function(){function n(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,oe.isNodeSdk())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=uee(),window[vFe+this.uniqueCallbackIdentifier]=t,window[_Fe+this.uniqueCallbackIdentifier]=e,this.myIFrame=n.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var s=document.domain;o='<script>document.domain="'+s+'";<\/script>'}var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){Sa("frame writing exception"),l.stack&&Sa(l.stack),Sa(l)}}}return n.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var e=t.contentWindow.document;e||Sa("No IE domain setting required")}catch{var i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},n.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},n.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},n.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[Uee]=this.myID,t[Hee]=this.myPW,t[Vee]=this.currentSerial;for(var e=this.urlFn(t),i="",r=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+jee+i.length<=Qee){var s=this.pendingSegs.shift();i=i+"&"+wFe+r+"="+s.seg+"&"+bFe+r+"="+s.ts+"&"+CFe+r+"="+s.d,r++}else break}return e=e+i,this.addLongPollTag_(e,this.currentSerial),!0}else return!1},n.prototype.enqueueSegment=function(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()},n.prototype.addLongPollTag_=function(t,e){var i=this;this.outstandingRequests.add(e);var r=function(){i.outstandingRequests.delete(e),i.newRequest_()},o=setTimeout(r,Math.floor(xFe)),s=function(){clearTimeout(o),r()};this.addTag(t,s)},n.prototype.addTag=function(t,e){var i=this;oe.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!i.sendNewPolls)return;var r=i.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){Sa("Long-poll script failed to load: "+t),i.sendNewPolls=!1,i.close()},i.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))},n}();var GH="";function DFe(n){GH=n}var MFe=16384,OFe=45e3,VS=null;typeof MozWebSocket<"u"?VS=MozWebSocket:typeof WebSocket<"u"&&(VS=WebSocket);var pv=function(){function n(t,e,i,r,o){this.connId=t,this.applicationId=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=WS(this.connId),this.stats_=yF.getCollection(e),this.connURL=n.connectionURL_(e,r,o)}return n.connectionURL_=function(t,e,i){var r={};return r[pee]=mF,!oe.isNodeSdk()&&typeof location<"u"&&location.href&&location.href.indexOf(vee)!==-1&&(r[gee]=mee),e&&(r[Aee]=e),i&&(r[_ee]=i),t.connectionURL(yee,r)},n.prototype.open=function(t,e){var i=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Av.set("previous_websocket_failure",!0);try{if(oe.isNodeSdk()){var r=oe.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/"+mF+"/"+GH+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(o.proxy={origin:a}),this.mySock=new VS(this.connURL,[],o)}else{var o={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new VS(this.connURL,[],o)}}catch(u){this.log_("Error instantiating WebSocket.");var l=u.message||u.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=function(){i.log_("Websocket connected."),i.everConnected_=!0},this.mySock.onclose=function(){i.log_("Websocket connection was disconnected."),i.mySock=null,i.onClosed_()},this.mySock.onmessage=function(u){i.handleIncomingFrame(u)},this.mySock.onerror=function(u){i.log_("WebSocket error.  Closing connection.");var d=u.message||u.data;d&&i.log_(d),i.onClosed_()}},n.prototype.start=function(){},n.forceDisallow=function(){n.forceDisallow_=!0},n.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var e=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(e);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&VS!==null&&!n.forceDisallow_},n.previouslyFailed=function(){return Av.isInMemoryStorage||Av.get("previous_websocket_failure")===!0},n.prototype.markConnectionHealthy=function(){Av.remove("previous_websocket_failure")},n.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var i=oe.jsonEval(e);this.onMessage(i)}},n.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},n.prototype.extractFrameCount_=function(t){if(oe.assert(this.frames===null,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},n.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(e);else{var i=this.extractFrameCount_(e);i!==null&&this.appendFrame_(i)}}},n.prototype.send=function(t){this.resetKeepAlive();var e=oe.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var i=hee(e,MFe);i.length>1&&this.sendString_(String(i.length));for(var r=0;r<i.length;r++)this.sendString_(i[r])},n.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},n.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},n.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},n.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(OFe))},n.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n}();var FFe=function(){function n(t){this.initTransports_(t)}return Object.defineProperty(n,"ALL_TRANSPORTS",{get:function(){return[jH,pv]},enumerable:!1,configurable:!0}),n.prototype.initTransports_=function(t){var e,i,r=pv&&pv.isAvailable(),o=r&&!pv.previouslyFailed();if(t.webSocketOnly&&(r||xa("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[pv];else{var s=this.transports_=[];try{for(var a=Vn.__values(n.ALL_TRANSPORTS),l=a.next();!l.done;l=a.next()){var u=l.value;u&&u.isAvailable()&&s.push(u)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}}},n.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},n.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},n}();var BFe=6e4,PFe=5e3,kFe=10*1024,NFe=100*1024,TH="t",XJ="d",RFe="s",JJ="r",LFe="e",eee="o",tee="a",nee="n",iee="p",UFe="h",Gee=function(){function n(t,e,i,r,o,s,a,l){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.onMessage_=r,this.onReady_=o,this.onDisconnect_=s,this.onKill_=a,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=WS("c:"+this.id+":"),this.transportManager_=new FFe(e),this.log_("Connection created"),this.start_()}return n.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(i,r)},Math.floor(0));var o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=HS(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>NFe?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>kFe?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(o)))},n.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},n.prototype.disconnReceiver_=function(t){var e=this;return function(i){t===e.conn_?e.onConnectionLost_(i):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},n.prototype.connReceiver_=function(t){var e=this;return function(i){e.state_!==2&&(t===e.rx_?e.onPrimaryMessageReceived_(i):t===e.secondaryConn_?e.onSecondaryMessageReceived_(i):e.log_("message on old connection"))}},n.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},n.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},n.prototype.onSecondaryControl_=function(t){if(TH in t){var e=t[TH];e===tee?this.upgradeIfSecondaryHealthy_():e===JJ?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===eee&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},n.prototype.onSecondaryMessageReceived_=function(t){var e=RS("t",t),i=RS("d",t);if(e==="c")this.onSecondaryControl_(i);else if(e==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+e)},n.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:iee,d:{}}}))},n.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:tee,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nee,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},n.prototype.onPrimaryMessageReceived_=function(t){var e=RS("t",t),i=RS("d",t);e==="c"?this.onControl_(i):e==="d"&&this.onDataMessage_(i)},n.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},n.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},n.prototype.onControl_=function(t){var e=RS(TH,t);if(XJ in t){var i=t[XJ];if(e===UFe)this.onHandshake_(i);else if(e===nee){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===RFe?this.onConnectionShutdown_(i):e===JJ?this.onReset_(i):e===LFe?OH("Server Error: "+i):e===eee?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):OH("Unknown control packet command: "+e)}},n.prototype.onHandshake_=function(t){var e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),mF!==i&&xa("Protocol version mismatch detected"),this.tryStartUpgrade_())},n.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},n.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),HS(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(BFe))},n.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),this.state_===1?this.close():(this.closeConnections_(),this.start_())},n.prototype.onConnectionEstablished_=function(t,e){var i=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):HS(function(){i.sendPingOnPrimaryIfNecessary_()},Math.floor(PFe))},n.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:iee,d:{}}}))},n.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},n.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Av.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},n.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},n.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},n.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},n.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},n}();var Wee=function(){function n(){}return n.prototype.put=function(t,e,i,r){},n.prototype.merge=function(t,e,i,r){},n.prototype.refreshAuthToken=function(t){},n.prototype.onDisconnectPut=function(t,e,i){},n.prototype.onDisconnectMerge=function(t,e,i){},n.prototype.onDisconnectCancel=function(t,e){},n.prototype.reportStats=function(t){},n}();var US=1e3,HFe=60*5*1e3,ree=30*1e3,VFe=1.3,QFe=3e4,jFe="server_kill",GFe=3,mv=function(n){Vn.__extends(t,n);function t(e,i,r,o,s,a,l){var u=n.call(this)||this;if(u.repoInfo_=e,u.applicationId_=i,u.onDataUpdate_=r,u.onConnectStatus_=o,u.onServerInfoUpdate_=s,u.authTokenProvider_=a,u.authOverride_=l,u.id=t.nextPersistentConnectionId_++,u.log_=WS("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=US,u.maxReconnectDelay_=HFe,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,l&&!oe.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),AFe.getInstance().on("visible",u.onVisible_,u),e.host.indexOf("fblocal")===-1&&YJ.getInstance().on("online",u.onOnline_,u),u}return t.prototype.sendRequest=function(e,i,r){var o=++this.requestNumber_,s={r:o,a:e,b:i};this.log_(oe.stringify(s)),oe.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)},t.prototype.listen=function(e,i,r,o){var s=e.queryIdentifier(),a=e.path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),oe.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),oe.assert(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");var l={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)},t.prototype.sendListen_=function(e){var i=this,r=e.query,o=r.path.toString(),s=r.queryIdentifier();this.log_("Listen on "+o+" for "+s);var a={p:o},l="q";e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest(l,a,function(u){var d=u.d,h=u.s;t.warnOnListenWarnings_(d,r);var f=i.listens.get(o)&&i.listens.get(o).get(s);f===e&&(i.log_("listen response",u),h!=="ok"&&i.removeListen_(o,s),e.onComplete&&e.onComplete(h,d))})},t.warnOnListenWarnings_=function(e,i){if(e&&typeof e=="object"&&oe.contains(e,"w")){var r=oe.safeGet(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){var o='".indexOn": "'+i.getQueryParams().getIndex().toString()+'"',s=i.path.toString();xa("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(s+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var i=e&&e.length===40;(i||oe.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ree)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var i=this.authToken_,r=oe.isValidFormat(i)?"auth":"gauth",o={cred:i};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,function(s){var a=s.s,l=s.d||"error";e.authToken_===i&&(a==="ok"?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(a,l))})}},t.prototype.unlisten=function(e,i){var r=e.path.toString(),o=e.queryIdentifier();this.log_("Unlisten called for "+r+" "+o),oe.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var s=this.removeListen_(r,o);s&&this.connected_&&this.sendUnlisten_(r,o,e.queryObject(),i)},t.prototype.sendUnlisten_=function(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);var s={p:e},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)},t.prototype.onDisconnectPut=function(e,i,r){this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})},t.prototype.onDisconnectMerge=function(e,i,r){this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})},t.prototype.onDisconnectCancel=function(e,i){this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})},t.prototype.sendOnDisconnect_=function(e,i,r,o){var s={p:i,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,function(a){o&&setTimeout(function(){o(a.s,a.d)},Math.floor(0))})},t.prototype.put=function(e,i,r,o){this.putInternal("p",e,i,r,o)},t.prototype.merge=function(e,i,r,o){this.putInternal("m",e,i,r,o)},t.prototype.putInternal=function(e,i,r,o,s){var a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:o}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)},t.prototype.sendPut_=function(e){var i=this,r=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,o,function(a){i.log_(r+" response",a),delete i.outstandingPuts_[e],i.outstandingPutCount_--,i.outstandingPutCount_===0&&(i.outstandingPuts_=[]),s&&s(a.s,a.d)})},t.prototype.reportStats=function(e){var i=this;if(this.connected_){var r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,function(o){var s=o.s;if(s!=="ok"){var a=o.d;i.log_("reportStats","Error sending stats: "+a)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+oe.stringify(e));var i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):OH("Unrecognized action received from server: "+oe.stringify(e)+`
Are you using the latest client?`)},t.prototype.onReady_=function(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var i=this;oe.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){i.establishConnectionTimer_=null,i.establishConnection_()},Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=US,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=US,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var e=new Date().getTime()-this.lastConnectionEstablishedTime_;e>QFe&&(this.reconnectDelay_=US),this.lastConnectionEstablishedTime_=null}var i=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-i);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*VFe)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this,a=this.lastSessionId,l=!1,u=null,d=function(){u?u.close():(l=!0,r())},h=function(A){oe.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(A)};this.realtime_={close:d,sendRequest:h};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then(function(A){l?Sa("getToken() completed but was canceled"):(Sa("getToken() completed. Creating connection."),s.authToken_=A&&A.accessToken,u=new Gee(o,s.repoInfo_,s.applicationId_,e,i,r,function(g){xa(g+" ("+s.repoInfo_.toString()+")"),s.interrupt(jFe)},a))}).then(null,function(A){s.log_("Failed to get token: "+A),l||(oe.CONSTANTS.NODE_ADMIN&&xa(A),d())})}},t.prototype.interrupt=function(e){Sa("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){Sa("Resuming connection for reason: "+e),delete this.interruptReasons_[e],oe.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=US,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,i){var r;i?r=i.map(function(s){return LH(s)}).join("$"):r="default";var o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")},t.prototype.removeListen_=function(e,i){var r=new yt(e).toString(),o;if(this.listens.has(r)){var s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o},t.prototype.onAuthRevoked_=function(e,i){Sa("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=GFe&&(this.reconnectDelay_=ree,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var e,i,r,o;this.tryAuth();try{for(var s=Vn.__values(this.listens.values()),a=s.next();!a.done;a=s.next()){var l=a.value;try{for(var u=(r=void 0,Vn.__values(l.values())),d=u.next();!d.done;d=u.next()){var h=d.value;this.sendListen_(h)}}catch(g){r={error:g}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}}catch(g){e={error:g}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var A=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(A.action,A.pathString,A.data,A.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},i="js";oe.CONSTANTS.NODE_ADMIN?i="admin_node":oe.CONSTANTS.NODE_CLIENT&&(i="node"),e["sdk."+i+"."+GH.replace(/\./g,"-")]=1,oe.isMobileCordova()?e["framework.cordova"]=1:oe.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=YJ.getInstance().currentlyOnline();return oe.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Wee);var WFe=function(n){Vn.__extends(t,n);function t(e,i,r){var o=n.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=i,o.authTokenProvider_=r,o.log_=WS("p:rest:"),o.listens_={},o}return t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,i){return i!==void 0?"tag$"+i:(oe.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,i,r,o){var s=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var l=t.getListenId_(e,r),u={};this.listens_[l]=u;var d=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",d,function(h,f){var A=f;if(h===404&&(A=null,h=null),h===null&&s.onDataUpdate_(a,A,!1,r),oe.safeGet(s.listens_,l)===u){var g;h?h===401?g="permission_denied":g="rest_error:"+h:g="ok",o(g,null)}})},t.prototype.unlisten=function(e,i){var r=t.getListenId_(e,i);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,i,r){var o=this;i===void 0&&(i={}),i.format="export",this.authTokenProvider_.getToken(!1).then(function(s){var a=s&&s.accessToken;a&&(i.auth=a);var l=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+e+"?ns="+o.repoInfo_.namespace+oe.querystring(i);o.log_("Sending REST request for "+l);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(r&&u.readyState===4){o.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);var d=null;if(u.status>=200&&u.status<300){try{d=oe.jsonEval(u.responseText)}catch{xa("Failed to parse JSON response for "+l+": "+u.responseText)}r(null,d)}else u.status!==401&&u.status!==404&&xa("Got unsuccessful REST response for "+l+" Status: "+u.status),r(u.status);r=null}},u.open("GET",l,!0),u.send()})},t}(Wee);var oee="repo_interrupt",_s=function(){function n(t,e,i,r){var o=this;if(this.repoInfo_=t,this.app=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fFe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new EH,this.persistentConnection_=null,this.stats_=yF.getCollection(t),e||bOe())this.server_=new WFe(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=i.options.databaseAuthVariableOverride;if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{oe.stringify(s)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}this.persistentConnection_=new mv(this.repoInfo_,i.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,s),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(a){o.server_.refreshAuthToken(a)}),this.statsReporter_=yF.getOrCreateReporter(t,function(){return new hFe(o.stats_,o.server_)}),this.transactionsInit_(),this.infoData_=new lFe,this.infoSyncTree_=new qJ({startListening:function(a,l,u,d){var h=[],f=o.infoData_.getNode(a.path);return f.isEmpty()||(h=o.infoSyncTree_.applyServerOverwrite(a.path,f),setTimeout(function(){d("ok")},0)),h},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new qJ({startListening:function(a,l,u,d){return o.server_.listen(a,u,l,function(h,f){var A=d(h,f);o.eventQueue_.raiseEventsForChangedPath(a.path,A)}),[]},stopListening:function(a,l){o.server_.unlisten(a,l)}})}return n.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},n.prototype.name=function(){return this.repoInfo_.namespace},n.prototype.serverTime=function(){var t=this.infoData_.getNode(new yt(".info/serverTimeOffset")),e=t.val()||0;return new Date().getTime()+e},n.prototype.generateServerValues=function(){return $Oe({timestamp:this.serverTime()})},n.prototype.onDataUpdate_=function(t,e,i,r){this.dataUpdateCount++;var o=new yt(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(r)if(i){var a=oe.map(e,function(f){return eo(f)});s=this.serverSyncTree_.applyTaggedQueryMerge(o,a,r)}else{var l=eo(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(o,l,r)}else if(i){var u=oe.map(e,function(f){return eo(f)});s=this.serverSyncTree_.applyServerMerge(o,u)}else{var d=eo(e);s=this.serverSyncTree_.applyServerOverwrite(o,d)}var h=o;s.length>0&&(h=this.rerunTransactions_(o)),this.eventQueue_.raiseEventsForChangedPath(h,s)},n.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},n.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),t===!1&&this.runOnDisconnectEvents_()},n.prototype.onServerInfoUpdate_=function(t){var e=this;Jo(t,function(i,r){e.updateInfo_(i,r)})},n.prototype.updateInfo_=function(t,e){var i=new yt("/.info/"+t),r=eo(e);this.infoData_.updateSnapshot(i,r);var o=this.infoSyncTree_.applyServerOverwrite(i,r);this.eventQueue_.raiseEventsForChangedPath(i,o)},n.prototype.getNextWriteId_=function(){return this.nextWriteId_++},n.prototype.setWithPriority=function(t,e,i,r){var o=this;this.log_("set",{path:t.toString(),value:e,priority:i});var s=this.generateServerValues(),a=eo(e,i),l=this.serverSyncTree_.calcCompleteEventCache(t),u=HH(a,l,s),d=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserOverwrite(t,u,d,!0);this.eventQueue_.queueEvents(h),this.server_.put(t.toString(),a.val(!0),function(A,g){var m=A==="ok";m||xa("set at "+t+" failed: "+A);var b=o.serverSyncTree_.ackUserWrite(d,!m);o.eventQueue_.raiseEventsForChangedPath(t,b),o.callOnCompleteCallback(r,A,g)});var f=this.abortTransactions_(t);this.rerunTransactions_(f),this.eventQueue_.raiseEventsForChangedPath(f,[])},n.prototype.update=function(t,e,i){var r=this;this.log_("update",{path:t.toString(),value:e});var o=!0,s=this.generateServerValues(),a={};if(Jo(e,function(d,h){o=!1,a[d]=GJ(t.child(d),eo(h),r.serverSyncTree_,s)}),o)Sa("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(i,"ok");else{var l=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,l);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,function(d,h){var f=d==="ok";f||xa("update at "+t+" failed: "+d);var A=r.serverSyncTree_.ackUserWrite(l,!f),g=A.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(g,A),r.callOnCompleteCallback(i,d,h)}),Jo(e,function(d){var h=r.abortTransactions_(t.child(d));r.rerunTransactions_(h)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},n.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),i=new EH;this.onDisconnect_.forEachTree(yt.Empty,function(o,s){var a=GJ(o,s,t.serverSyncTree_,e);i.remember(o,a)});var r=[];i.forEachTree(yt.Empty,function(o,s){r=r.concat(t.serverSyncTree_.applyServerOverwrite(o,s));var a=t.abortTransactions_(o);t.rerunTransactions_(a)}),this.onDisconnect_=new EH,this.eventQueue_.raiseEventsForChangedPath(yt.Empty,r)},n.prototype.onDisconnectCancel=function(t,e){var i=this;this.server_.onDisconnectCancel(t.toString(),function(r,o){r==="ok"&&i.onDisconnect_.forget(t),i.callOnCompleteCallback(e,r,o)})},n.prototype.onDisconnectSet=function(t,e,i){var r=this,o=eo(e);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(s,a){s==="ok"&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(i,s,a)})},n.prototype.onDisconnectSetWithPriority=function(t,e,i,r){var o=this,s=eo(e,i);this.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&o.onDisconnect_.remember(t,s),o.callOnCompleteCallback(r,a,l)})},n.prototype.onDisconnectUpdate=function(t,e,i){var r=this;if(oe.isEmpty(e)){Sa("onDisconnect().update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(i,"ok");return}this.server_.onDisconnectMerge(t.toString(),e,function(o,s){o==="ok"&&Jo(e,function(a,l){var u=eo(l);r.onDisconnect_.remember(t.child(a),u)}),r.callOnCompleteCallback(i,o,s)})},n.prototype.addEventCallbackForQuery=function(t,e){var i;t.path.getFront()===".info"?i=this.infoSyncTree_.addEventRegistration(t,e):i=this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,i)},n.prototype.removeEventCallbackForQuery=function(t,e){var i;t.path.getFront()===".info"?i=this.infoSyncTree_.removeEventRegistration(t,e):i=this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,i)},n.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(oee)},n.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(oee)},n.prototype.stats=function(t){if(t===void 0&&(t=!1),!(typeof console>"u")){var e;t?(this.statsListener_||(this.statsListener_=new Ree(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var i=Object.keys(e).reduce(function(r,o){return Math.max(o.length,r)},0);Jo(e,function(r,o){for(var s=r,a=r.length;a<i+2;a++)s+=" ";console.log(s+o)})}},n.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},n.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i="";this.persistentConnection_&&(i=this.persistentConnection_.id+":"),Sa.apply(void 0,Vn.__spread([i],t))},n.prototype.callOnCompleteCallback=function(t,e,i){t&&bw(function(){if(e==="ok")t(null);else{var r=(e||"error").toUpperCase(),o=r;i&&(o+=": "+i);var s=new Error(o);s.code=r,t(s)}})},Object.defineProperty(n.prototype,"database",{get:function(){return this.__database||(this.__database=new SF(this))},enumerable:!1,configurable:!0}),n}();var Kee=function(){function n(t){this.indexedFilter_=new QH(t.getIndex()),this.index_=t.getIndex(),this.startPost_=n.getStartPost_(t),this.endPost_=n.getEndPost_(t)}return n.prototype.getStartPost=function(){return this.startPost_},n.prototype.getEndPost=function(){return this.endPost_},n.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},n.prototype.updateChild=function(t,e,i,r,o,s){return this.matches(new Wn(e,i))||(i=un.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,s)},n.prototype.updateFullNode=function(t,e,i){e.isLeafNode()&&(e=un.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(un.EMPTY_NODE);var o=this;return e.forEachChild(Gi,function(s,a){o.matches(new Wn(s,a))||(r=r.updateImmediateChild(s,un.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)},n.prototype.updatePriority=function(t,e){return t},n.prototype.filtersNodes=function(){return!0},n.prototype.getIndexedFilter=function(){return this.indexedFilter_},n.prototype.getIndex=function(){return this.index_},n.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()},n.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()},n}();var KFe=function(){function n(t){this.rangedFilter_=new Kee(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return n.prototype.updateChild=function(t,e,i,r,o,s){return this.rangedFilter_.matches(new Wn(e,i))||(i=un.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,s):this.fullLimitUpdateChild_(t,e,i,o,s)},n.prototype.updateFullNode=function(t,e,i){var r;if(e.isLeafNode()||e.isEmpty())r=un.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){r=un.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var s=0;o.hasNext()&&s<this.limit_;){var a=o.getNext(),l=void 0;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:l=this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,l)r=r.updateImmediateChild(a.name,a.node),s++;else break}}else{r=e.withIndex(this.index_),r=r.updatePriority(un.EMPTY_NODE);var u=void 0,d=void 0,h=void 0,o=void 0;if(this.reverse_){o=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();h=function(b,S){return f(S,b)}}else o=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();for(var s=0,A=!1;o.hasNext();){var a=o.getNext();!A&&h(u,a)<=0&&(A=!0);var l=A&&s<this.limit_&&h(a,d)<=0;l?s++:r=r.updateImmediateChild(a.name,un.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)},n.prototype.updatePriority=function(t,e){return t},n.prototype.filtersNodes=function(){return!0},n.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},n.prototype.getIndex=function(){return this.index_},n.prototype.fullLimitUpdateChild_=function(t,e,i,r,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(F,R){return a(R,F)}}else s=this.index_.getCompare();var l=t;oe.assert(l.numChildren()===this.limit_,"");var u=new Wn(e,i),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(e)){for(var f=l.getImmediateChild(e),A=r.getChildAfterChild(this.index_,d,this.reverse_);A!=null&&(A.name===e||l.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);var g=A==null?1:s(A,u),m=h&&!i.isEmpty()&&g>=0;if(m)return o?.trackChildChange(Bn.childChangedChange(e,i,f)),l.updateImmediateChild(e,i);o?.trackChildChange(Bn.childRemovedChange(e,f));var b=l.updateImmediateChild(e,un.EMPTY_NODE),S=A!=null&&this.rangedFilter_.matches(A);return S?(o?.trackChildChange(Bn.childAddedChange(A.name,A.node)),b.updateImmediateChild(A.name,A.node)):b}else return i.isEmpty()?t:h&&s(d,u)>=0?(o!=null&&(o.trackChildChange(Bn.childRemovedChange(d.name,d.node)),o.trackChildChange(Bn.childAddedChange(e,i))),l.updateImmediateChild(e,i).updateImmediateChild(d.name,un.EMPTY_NODE)):t},n}();var zFe=function(){function n(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gi}return n.prototype.hasStart=function(){return this.startSet_},n.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_===n.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},n.prototype.getIndexStartValue=function(){return oe.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},n.prototype.getIndexStartName=function(){return oe.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vv},n.prototype.hasEnd=function(){return this.endSet_},n.prototype.getIndexEndValue=function(){return oe.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},n.prototype.getIndexEndName=function(){return oe.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wg},n.prototype.hasLimit=function(){return this.limitSet_},n.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},n.prototype.getLimit=function(){return oe.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},n.prototype.getIndex=function(){return this.index_},n.prototype.copy_=function(){var t=new n;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},n.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},n.prototype.limitToFirst=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=n.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,e},n.prototype.limitToLast=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=n.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,e},n.prototype.startAt=function(t,e){var i=this.copy_();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,e!=null?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i},n.prototype.endAt=function(t,e){var i=this.copy_();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,e!==void 0?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i},n.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},n.prototype.getQueryObject=function(){var t=n.WIRE_PROTOCOL_CONSTANTS_,e={};if(this.startSet_&&(e[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(e[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(e[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(e[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){e[t.LIMIT]=this.limit_;var i=this.viewFrom_;i===""&&(this.isViewFromLeft()?i=t.VIEW_FROM_LEFT:i=t.VIEW_FROM_RIGHT),e[t.VIEW_FROM]=i}return this.index_!==Gi&&(e[t.INDEX]=this.index_.toString()),e},n.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},n.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Gi},n.prototype.getNodeFilter=function(){return this.loadsAllData()?new QH(this.getIndex()):this.hasLimit()?new KFe(this):new Kee(this)},n.prototype.toRestQueryStringParameters=function(){var t=n.REST_QUERY_CONSTANTS_,e={};if(this.isDefault())return e;var i;return this.index_===Gi?i=t.PRIORITY_INDEX:this.index_===kH?i=t.VALUE_INDEX:this.index_===yg?i=t.KEY_INDEX:(oe.assert(this.index_ instanceof NH,"Unrecognized index type!"),i=this.index_.toString()),e[t.ORDER_BY]=oe.stringify(i),this.startSet_&&(e[t.START_AT]=oe.stringify(this.indexStartValue_),this.startNameSet_&&(e[t.START_AT]+=","+oe.stringify(this.indexStartName_))),this.endSet_&&(e[t.END_AT]=oe.stringify(this.indexEndValue_),this.endNameSet_&&(e[t.END_AT]+=","+oe.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?e[t.LIMIT_TO_FIRST]=this.limit_:e[t.LIMIT_TO_LAST]=this.limit_),e},n.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},n.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},n.DEFAULT=new n,n}();var tf=function(n){Vn.__extends(t,n);function t(e,i){var r=this;if(!(e instanceof _s))throw new Error("new Reference() no longer supported - use app.database().");return r=n.call(this,e,i,zFe.DEFAULT,!1)||this,r}return t.prototype.getKey=function(){return oe.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return oe.validateArgCount("Reference.child",1,1,arguments.length),typeof e=="number"?e=String(e):e instanceof yt||(this.path.getFront()===null?FOe("Reference.child",1,e,!1):jS("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){oe.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return e===null?null:new t(this.repo,e)},t.prototype.getRoot=function(){oe.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;e.getParent()!==null;)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,i){oe.validateArgCount("Reference.set",1,2,arguments.length),Cu("Reference.set",this.path),_g("Reference.set",1,e,this.path,!1),oe.validateCallback("Reference.set",2,i,!0);var r=new oe.Deferred;return this.repo.setWithPriority(this.path,e,null,r.wrapCallback(i)),r.promise},t.prototype.update=function(e,i){if(oe.validateArgCount("Reference.update",1,2,arguments.length),Cu("Reference.update",this.path),Array.isArray(e)){for(var r={},o=0;o<e.length;++o)r[""+o]=e[o];e=r,xa("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Eee("Reference.update",1,e,this.path,!1),oe.validateCallback("Reference.update",2,i,!0);var s=new oe.Deferred;return this.repo.update(this.path,e,s.wrapCallback(i)),s.promise},t.prototype.setWithPriority=function(e,i,r){if(oe.validateArgCount("Reference.setWithPriority",2,3,arguments.length),Cu("Reference.setWithPriority",this.path),_g("Reference.setWithPriority",1,e,this.path,!1),BH("Reference.setWithPriority",2,i,!1),oe.validateCallback("Reference.setWithPriority",3,r,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var o=new oe.Deferred;return this.repo.setWithPriority(this.path,e,i,o.wrapCallback(r)),o.promise},t.prototype.remove=function(e){return oe.validateArgCount("Reference.remove",0,1,arguments.length),Cu("Reference.remove",this.path),oe.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,i,r){if(oe.validateArgCount("Reference.transaction",1,3,arguments.length),Cu("Reference.transaction",this.path),oe.validateCallback("Reference.transaction",1,e,!1),oe.validateCallback("Reference.transaction",2,i,!0),BOe("Reference.transaction",3,r,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";r===void 0&&(r=!0);var o=new oe.Deferred;typeof i=="function"&&o.promise.catch(function(){});var s=function(a,l,u){a?o.reject(a):o.resolve(new POe(l,u)),typeof i=="function"&&i(a,l,u)};return this.repo.startTransaction(this.path,e,s,r),o.promise},t.prototype.setPriority=function(e,i){oe.validateArgCount("Reference.setPriority",1,2,arguments.length),Cu("Reference.setPriority",this.path),BH("Reference.setPriority",1,e,!1),oe.validateCallback("Reference.setPriority",2,i,!0);var r=new oe.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,r.wrapCallback(i)),r.promise},t.prototype.push=function(e,i){oe.validateArgCount("Reference.push",0,2,arguments.length),Cu("Reference.push",this.path),_g("Reference.push",1,e,this.path,!0),oe.validateCallback("Reference.push",2,i,!0);var r=this.repo.serverTime(),o=kOe(r),s=this.child(o),a=this.child(o),l;return e!=null?l=s.set(e,i).then(function(){return a}):l=Promise.resolve(a),s.then=l.then.bind(l),s.catch=l.then.bind(l,void 0),typeof i=="function"&&l.catch(function(){}),s},t.prototype.onDisconnect=function(){return Cu("Reference.onDisconnect",this.path),new xee(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(EF);EF.__referenceConstructor=tf;kee.__referenceConstructor=tf;var see=function(){function n(){this.children={},this.childCount=0,this.value=null}return n}(),qFe=function(){function n(t,e,i){t===void 0&&(t=""),e===void 0&&(e=null),i===void 0&&(i=new see),this.name_=t,this.parent_=e,this.node_=i}return n.prototype.subTree=function(t){for(var e=t instanceof yt?t:new yt(t),i=this,r=e.getFront();r!==null;){var o=oe.safeGet(i.node_.children,r)||new see;i=new n(r,i,o),e=e.popFront(),r=e.getFront()}return i},n.prototype.getValue=function(){return this.node_.value},n.prototype.setValue=function(t){oe.assert(typeof t<"u","Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},n.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},n.prototype.hasChildren=function(){return this.node_.childCount>0},n.prototype.isEmpty=function(){return this.getValue()===null&&!this.hasChildren()},n.prototype.forEachChild=function(t){var e=this;Jo(this.node_.children,function(i,r){t(new n(i,e,r))})},n.prototype.forEachDescendant=function(t,e,i){e&&!i&&t(this),this.forEachChild(function(r){r.forEachDescendant(t,!0,i)}),e&&i&&t(this)},n.prototype.forEachAncestor=function(t,e){for(var i=e?this:this.parent();i!==null;){if(t(i))return!0;i=i.parent()}return!1},n.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){e.getValue()!==null?t(e):e.forEachImmediateDescendantWithValue(t)})},n.prototype.path=function(){return new yt(this.parent_===null?this.name_:this.parent_.path()+"/"+this.name_)},n.prototype.name=function(){return this.name_},n.prototype.parent=function(){return this.parent_},n.prototype.updateParents_=function(){this.parent_!==null&&this.parent_.updateChild_(this.name_,this)},n.prototype.updateChild_=function(t,e){var i=e.isEmpty(),r=oe.contains(this.node_.children,t);i&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):!i&&!r&&(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},n}();var Xo=function(n){return n[n.RUN=0]="RUN",n[n.SENT=1]="SENT",n[n.COMPLETED=2]="COMPLETED",n[n.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",n[n.NEEDS_ABORT=4]="NEEDS_ABORT",n}(Xo||{});_s.MAX_TRANSACTION_RETRIES_=25;_s.prototype.transactionsInit_=function(){this.transactionQueueTree_=new qFe};_s.prototype.startTransaction=function(n,t,e,i){this.log_("transaction on "+n);var r=function(){},o=new tf(this,n);o.on("value",r);var s=function(){o.off("value",r)},a={path:n,update:t,onComplete:e,status:null,order:uee(),applyLocally:i,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=this.getLatestState_(n);a.currentInputSnapshot=l;var u=a.update(l.val());if(u===void 0){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var d=new yv(a.currentInputSnapshot,new tf(this,a.path),Gi);a.onComplete(null,!1,d)}}else{KS("transaction failed: Data returned ",u,a.path),a.status=Xo.RUN;var h=this.transactionQueueTree_.subTree(n),f=h.getValue()||[];f.push(a),h.setValue(f);var A=void 0;if(typeof u=="object"&&u!==null&&oe.contains(u,".priority"))A=oe.safeGet(u,".priority"),oe.assert(QS(A),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var g=this.serverSyncTree_.calcCompleteEventCache(n)||un.EMPTY_NODE;A=g.getPriority().val()}A=A;var m=this.generateServerValues(),b=eo(u,A),S=HH(b,l,m);a.currentOutputSnapshotRaw=b,a.currentOutputSnapshotResolved=S,a.currentWriteId=this.getNextWriteId_();var F=this.serverSyncTree_.applyUserOverwrite(n,S,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(n,F),this.sendReadyTransactions_()}};_s.prototype.getLatestState_=function(n,t){return this.serverSyncTree_.calcCompleteEventCache(n,t)||un.EMPTY_NODE};_s.prototype.sendReadyTransactions_=function(n){var t=this;if(n===void 0&&(n=this.transactionQueueTree_),n||this.pruneCompletedTransactionsBelowNode_(n),n.getValue()!==null){var e=this.buildTransactionQueue_(n);oe.assert(e.length>0,"Sending zero length transaction queue");var i=e.every(function(r){return r.status===Xo.RUN});i&&this.sendTransactionQueue_(n.path(),e)}else n.hasChildren()&&n.forEachChild(function(r){t.sendReadyTransactions_(r)})};_s.prototype.sendTransactionQueue_=function(n,t){for(var e=this,i=t.map(function(f){return f.currentWriteId}),r=this.getLatestState_(n,i),o=r,s=r.hash(),a=0;a<t.length;a++){var l=t[a];oe.assert(l.status===Xo.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=Xo.SENT,l.retryCount++;var u=yt.relativePath(n,l.path);o=o.updateChild(u,l.currentOutputSnapshotRaw)}var d=o.val(!0),h=n;this.server_.put(h.toString(),d,function(f){e.log_("transaction put response",{path:h.toString(),status:f});var A=[];if(f==="ok"){for(var g=[],m=0;m<t.length;m++){if(t[m].status=Xo.COMPLETED,A=A.concat(e.serverSyncTree_.ackUserWrite(t[m].currentWriteId)),t[m].onComplete){var b=t[m].currentOutputSnapshotResolved,S=new tf(e,t[m].path),F=new yv(b,S,Gi);g.push(t[m].onComplete.bind(null,null,!0,F))}t[m].unwatcher()}e.pruneCompletedTransactionsBelowNode_(e.transactionQueueTree_.subTree(n)),e.sendReadyTransactions_(),e.eventQueue_.raiseEventsForChangedPath(n,A);for(var m=0;m<g.length;m++)bw(g[m])}else{if(f==="datastale")for(var m=0;m<t.length;m++)t[m].status===Xo.SENT_NEEDS_ABORT?t[m].status=Xo.NEEDS_ABORT:t[m].status=Xo.RUN;else{xa("transaction at "+h.toString()+" failed: "+f);for(var m=0;m<t.length;m++)t[m].status=Xo.NEEDS_ABORT,t[m].abortReason=f}e.rerunTransactions_(n)}},s)};_s.prototype.rerunTransactions_=function(n){var t=this.getAncestorTransactionNode_(n),e=t.path(),i=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(i,e),e};_s.prototype.rerunTransactionQueue_=function(n,t){if(n.length!==0){for(var e=[],i=[],r=n.filter(function(P){return P.status===Xo.RUN}),o=r.map(function(P){return P.currentWriteId}),s=0;s<n.length;s++){var a=n[s],l=yt.relativePath(t,a.path),u=!1,d=void 0;if(oe.assert(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===Xo.NEEDS_ABORT)u=!0,d=a.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===Xo.RUN)if(a.retryCount>=_s.MAX_TRANSACTION_RETRIES_)u=!0,d="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,o);a.currentInputSnapshot=h;var f=n[s].update(h.val());if(f!==void 0){KS("transaction failed: Data returned ",f,a.path);var A=eo(f),g=typeof f=="object"&&f!=null&&oe.contains(f,".priority");g||(A=A.updatePriority(h.getPriority()));var m=a.currentWriteId,b=this.generateServerValues(),S=HH(A,h,b);a.currentOutputSnapshotRaw=A,a.currentOutputSnapshotResolved=S,a.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(m),1),i=i.concat(this.serverSyncTree_.applyUserOverwrite(a.path,S,a.currentWriteId,a.applyLocally)),i=i.concat(this.serverSyncTree_.ackUserWrite(m,!0))}else u=!0,d="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,i),i=[],u&&(n[s].status=Xo.COMPLETED,function(P){setTimeout(P,Math.floor(0))}(n[s].unwatcher),n[s].onComplete))if(d==="nodata"){var F=new tf(this,n[s].path),R=n[s].currentInputSnapshot,B=new yv(R,F,Gi);e.push(n[s].onComplete.bind(null,null,!1,B))}else e.push(n[s].onComplete.bind(null,new Error(d),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var s=0;s<e.length;s++)bw(e[s]);this.sendReadyTransactions_()}};_s.prototype.getAncestorTransactionNode_=function(n){var t,e=this.transactionQueueTree_;for(t=n.getFront();t!==null&&e.getValue()===null;)e=e.subTree(t),n=n.popFront(),t=n.getFront();return e};_s.prototype.buildTransactionQueue_=function(n){var t=[];return this.aggregateTransactionQueuesForNode_(n,t),t.sort(function(e,i){return e.order-i.order}),t};_s.prototype.aggregateTransactionQueuesForNode_=function(n,t){var e=this,i=n.getValue();if(i!==null)for(var r=0;r<i.length;r++)t.push(i[r]);n.forEachChild(function(o){e.aggregateTransactionQueuesForNode_(o,t)})};_s.prototype.pruneCompletedTransactionsBelowNode_=function(n){var t=this,e=n.getValue();if(e){for(var i=0,r=0;r<e.length;r++)e[r].status!==Xo.COMPLETED&&(e[i]=e[r],i++);e.length=i,n.setValue(e.length>0?e:null)}n.forEachChild(function(o){t.pruneCompletedTransactionsBelowNode_(o)})};_s.prototype.abortTransactions_=function(n){var t=this,e=this.getAncestorTransactionNode_(n).path(),i=this.transactionQueueTree_.subTree(n);return i.forEachAncestor(function(r){t.abortTransactionsOnNode_(r)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(r){t.abortTransactionsOnNode_(r)}),e};_s.prototype.abortTransactionsOnNode_=function(n){var t=n.getValue();if(t!==null){for(var e=[],i=[],r=-1,o=0;o<t.length;o++)if(t[o].status!==Xo.SENT_NEEDS_ABORT){if(t[o].status===Xo.SENT)oe.assert(r===o-1,"All SENT items should be at beginning of queue."),r=o,t[o].status=Xo.SENT_NEEDS_ABORT,t[o].abortReason="set";else if(oe.assert(t[o].status===Xo.RUN,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(t[o].currentWriteId,!0)),t[o].onComplete){var s=null;e.push(t[o].onComplete.bind(null,new Error("set"),!1,s))}}r===-1?n.setValue(null):t.length=r+1,this.eventQueue_.raiseEventsForChangedPath(n.path(),i);for(var o=0;o<e.length;o++)bw(e[o])}};var $Fe=function(){function n(t,e){var i=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(r){return i.auth_=r})}return n.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(e){return e&&e.code==="auth/token-not-initialized"?(Sa("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}):Promise.resolve(null)},n.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},n.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},n.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xa(t)},n}(),YFe=function(){function n(){}return n.prototype.getToken=function(t){return Promise.resolve({accessToken:n.EMULATOR_AUTH_TOKEN})},n.prototype.addTokenChangeListener=function(t){t(n.EMULATOR_AUTH_TOKEN)},n.prototype.removeTokenChangeListener=function(t){},n.prototype.notifyForInvalidToken=function(){},n.EMULATOR_AUTH_TOKEN="owner",n}();var aee="databaseURL",ZFe="FIREBASE_DATABASE_EMULATOR_HOST",DH,WH=function(){function n(){this.repos_={},this.useRestClient_=!1}return n.getInstance=function(){return DH||(DH=new n),DH},n.prototype.interrupt=function(){var t,e,i,r;try{for(var o=Vn.__values(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var l=(i=void 0,Vn.__values(Object.keys(this.repos_[a]))),u=l.next();!u.done;u=l.next()){var d=u.value;this.repos_[a][d].interrupt()}}catch(h){i={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},n.prototype.resume=function(){var t,e,i,r;try{for(var o=Vn.__values(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var l=(i=void 0,Vn.__values(Object.keys(this.repos_[a]))),u=l.next();!u.done;u=l.next()){var d=u.value;this.repos_[a][d].resume()}}catch(h){i={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},n.prototype.databaseFromApp=function(t,e,i){var r=i||t.options[aee];r===void 0&&wp("Can't determine Firebase Database URL.  Be sure to include "+aee+" option when calling firebase.initializeApp().");var o=FH(r),s=o.repoInfo,a,l=void 0;typeof process<"u"&&(l=process.env[ZFe]),l?(a=!0,r="http://"+l+"?ns="+s.namespace,o=FH(r),s=o.repoInfo):a=!o.repoInfo.secure;var u=oe.CONSTANTS.NODE_ADMIN&&a?new YFe:new $Fe(t,e);See("Invalid Firebase Database URL",1,o),o.path.isEmpty()||wp("Database URL must point to the root of a Firebase Database (not including a child path).");var d=this.createRepo(s,t,u);return d.database},n.prototype.deleteRepo=function(t){var e=oe.safeGet(this.repos_,t.app.name);(!e||oe.safeGet(e,t.repoInfo_.toURLString())!==t)&&wp("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},n.prototype.createRepo=function(t,e,i){var r=oe.safeGet(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var o=oe.safeGet(r,t.toURLString());return o&&wp("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new _s(t,this.useRestClient_,e,i),r[t.toURLString()]=o,o},n.prototype.forceRestClient=function(t){this.useRestClient_=t},n}();var SF=function(){function n(t){this.repo_=t,t instanceof _s||wp("Don't call new Database() directly - please use firebase.database()."),this.root_=new tf(t,yt.Empty),this.INTERNAL=new XFe(this)}return Object.defineProperty(n.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),n.prototype.ref=function(t){return this.checkDeleted_("ref"),oe.validateArgCount("database.ref",0,1,arguments.length),t instanceof tf?this.refFromURL(t.toString()):t!==void 0?this.root_.child(t):this.root_},n.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),oe.validateArgCount(e,1,1,arguments.length);var i=FH(t);See(e,1,i);var r=i.repoInfo;return r.host!==this.repo_.repoInfo_.host&&wp(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(i.path.toString())},n.prototype.checkDeleted_=function(t){this.repo_===null&&wp("Cannot call "+t+" on a deleted database.")},n.prototype.goOffline=function(){oe.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},n.prototype.goOnline=function(){oe.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},n.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},n}(),XFe=function(){function n(t){this.database=t}return n.prototype.delete=function(){return Vn.__awaiter(this,void 0,void 0,function(){return Vn.__generator(this,function(t){return this.database.checkDeleted_("delete"),WH.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},n}();var JFe=function(){pv.forceDisallow(),jH.forceAllow()},eBe=function(){jH.forceDisallow()},tBe=function(){return pv.isAvailable()},nBe=function(n,t){n.repo.persistentConnection_.securityDebugCallback_=t},iBe=function(n,t){n.repo.stats(t)},rBe=function(n,t){n.repo.statsIncrementCounter(t)},oBe=function(n){return n.repo.dataUpdateCount},sBe=function(n,t){return n.repo.interceptServerData_(t)},aBe=Object.freeze({__proto__:null,forceLongPolling:JFe,forceWebSockets:eBe,isWebSocketsAvailable:tBe,setSecurityDebugCallback:nBe,stats:iBe,statsIncrementCounter:rBe,dataUpdateCount:oBe,interceptServerData:sBe});var lBe=mv;mv.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};mv.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};var cBe=Gee,uBe=function(n){var t=mv.prototype.put;return mv.prototype.put=function(e,i,r,o){o!==void 0&&(o=n()),t.call(this,e,i,r,o)},function(){mv.prototype.put=t}},dBe=bee,hBe=function(n){return n.queryIdentifier()},fBe=function(n){WH.getInstance().forceRestClient(n)},pBe=Object.freeze({__proto__:null,DataConnection:lBe,RealTimeConnection:cBe,hijackHash:uBe,ConnectionTarget:dBe,queryIdentifier:hBe,forceRestClient:fBe}),ABe="@firebase/database",gBe="0.6.8";var zee=SF.ServerValue;function qee(n){DFe(n.SDK_VERSION);var t=n.INTERNAL.registerComponent(new hOe.Component("database",function(e,i){var r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal");return WH.getInstance().databaseFromApp(r,o,i)},"PUBLIC").setServiceProps({Reference:tf,Query:EF,Database:SF,DataSnapshot:yv,enableLogging:RH,INTERNAL:aBe,ServerValue:zee,TEST_ACCESS:pBe}).setMultipleInstances(!0));n.registerVersion(ABe,gBe),oe.isNodeSdk()&&($ee.exports=t)}qee(dOe);nf.DataSnapshot=yv;nf.Database=SF;nf.OnDisconnect=xee;nf.Query=EF;nf.Reference=tf;nf.ServerValue=zee;nf.enableLogging=RH;nf.registerDatabase=qee});var Xee={};cc(Xee,{__assign:()=>zH,__asyncDelegator:()=>DBe,__asyncGenerator:()=>TBe,__asyncValues:()=>MBe,__await:()=>qS,__awaiter:()=>bBe,__classPrivateFieldGet:()=>PBe,__classPrivateFieldSet:()=>kBe,__createBinding:()=>EBe,__decorate:()=>_Be,__exportStar:()=>SBe,__extends:()=>mBe,__generator:()=>CBe,__importDefault:()=>BBe,__importStar:()=>FBe,__makeTemplateObject:()=>OBe,__metadata:()=>wBe,__param:()=>yBe,__read:()=>Zee,__rest:()=>vBe,__spread:()=>xBe,__spreadArrays:()=>IBe,__values:()=>qH});function mBe(n,t){KH(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function vBe(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function _Be(n,t,e,i){var r=arguments.length,o=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(t,e,o):s(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function yBe(n,t){return function(e,i){t(e,i,n)}}function wBe(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function bBe(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(h){s(h)}}function l(d){try{u(i.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function CBe(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(d){u=[6,d],r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function EBe(n,t,e,i){i===void 0&&(i=e),n[i]=t[e]}function SBe(n,t){for(var e in n)e!=="default"&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function qH(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zee(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),r,o=[],s;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return o}function xBe(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Zee(arguments[t]));return n}function IBe(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function qS(n){return this instanceof qS?(this.v=n,this):new qS(n)}function TBe(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(A){return new Promise(function(g,m){o.push([f,A,g,m])>1||a(f,A)})})}function a(f,A){try{l(i[f](A))}catch(g){h(o[0][3],g)}}function l(f){f.value instanceof qS?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,A){f(A),o.shift(),o.length&&a(o[0][0],o[0][1])}}function DBe(n){var t,e;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,o){t[r]=n[r]?function(s){return(e=!e)?{value:qS(n[r](s)),done:r==="return"}:o?o(s):s}:o}}function MBe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof qH=="function"?qH(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}function OBe(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function FBe(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function BBe(n){return n&&n.__esModule?n:{default:n}}function PBe(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)}function kBe(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e}var KH,zH,Jee=hs(()=>{"use strict";KH=function(n,t){return KH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])},KH(n,t)};zH=function(){return zH=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},zH.apply(this,arguments)}});var Ane={};cc(Ane,{ErrorCode:()=>OPe,EventType:()=>FPe,WebChannel:()=>BPe,XhrIo:()=>PPe,createWebChannelTransport:()=>MPe,default:()=>kPe});function dte(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function FF(){}function VF(n){var t=typeof n;if(t=="object")if(n){if(n instanceof Array)return"array";if(n instanceof Object)return t;var e=Object.prototype.toString.call(n);if(e=="[object Window]")return"object";if(e=="[object Array]"||typeof n.length=="number"&&typeof n.splice<"u"&&typeof n.propertyIsEnumerable<"u"&&!n.propertyIsEnumerable("splice"))return"array";if(e=="[object Function]"||typeof n.call<"u"&&typeof n.propertyIsEnumerable<"u"&&!n.propertyIsEnumerable("call"))return"function"}else return"null";else if(t=="function"&&typeof n.call>"u")return"object";return t}function i6(n){var t=VF(n);return t=="array"||t=="object"&&typeof n.length=="number"}function nx(n){var t=typeof n;return t=="object"&&n!=null||t=="function"}function RBe(n){return Object.prototype.hasOwnProperty.call(n,$H)&&n[$H]||(n[$H]=++LBe)}function UBe(n,t,e){return n.call.apply(n.bind,arguments)}function HBe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ea(n,t,e){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ea=UBe:ea=HBe,ea.apply(null,arguments)}function xF(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ta(n,t){function e(){}e.prototype=t.prototype,n.M=t.prototype,n.prototype=new e,n.prototype.constructor=n}function xp(){this.j=this.j,this.i=this.i}function QBe(n){e:{for(var t=IPe,e=n.length,i=typeof n=="string"?n.split(""):n,r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:typeof n=="string"?n.charAt(t):n[t]}function ete(n){return Array.prototype.concat.apply([],arguments)}function A6(n){var t=n.length;if(0<t){for(var e=Array(t),i=0;i<t;i++)e[i]=n[i];return e}return[]}function BF(n){return/^[\s\xa0]*$/.test(n)}function sl(n,t){return n.indexOf(t)!=-1}function YH(n,t){return n<t?-1:n>t?1:0}function g6(n,t,e){for(var i in n)t.call(e,n[i],i,n)}function pte(n){var t={};for(var e in n)t[e]=n[e];return t}function Ate(n,t){for(var e,i,r=1;r<arguments.length;r++){i=arguments[r];for(e in i)n[e]=i[e];for(var o=0;o<nte.length;o++)e=nte[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function m6(n){return m6[" "](n),n}function jBe(n,t){var e=KBe;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}function vte(){var n=vn.document;return n?n.documentMode:void 0}function _te(n){return jBe(n,function(){for(var t=0,e=tte(String(PF)).split("."),i=tte(String(n)).split("."),r=Math.max(e.length,i.length),o=0;t==0&&o<r;o++){var s=e[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;t=YH(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||YH(s[2].length==0,a[2].length==0)||YH(s[2],a[2]),s=s[3],a=a[3]}while(t==0)}return 0<=t})}function Ia(n,t){this.type=n,this.a=this.target=t,this.defaultPrevented=!1}function XS(n,t){if(Ia.call(this,n?n.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.a=t,t=n.relatedTarget){if(mte){e:{try{m6(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else e=="mouseover"?t=n.fromElement:e=="mouseout"&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:$Be[n.pointerType]||"",this.c=n,n.defaultPrevented&&this.b()}}function ZBe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.aa=r,this.key=++YBe,this.V=this.X=!1}function QF(n){n.V=!0,n.listener=null,n.proxy=null,n.src=null,n.aa=null}function jF(n){this.src=n,this.a={},this.b=0}function s6(n,t){var e=t.type;if(e in n.a){var i=n.a[e],r=hte(i,t),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(QF(t),n.a[e].length==0&&(delete n.a[e],n.b--))}}function a6(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.V&&o.listener==t&&o.capture==!!e&&o.aa==i)return r}return-1}function y6(n,t,e,i,r){if(i&&i.once)return bte(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)y6(n,t[o],e,i,r);return null}return e=C6(e),n&&n[ix]?n.ra(t,e,nx(i)?!!i.capture:!!i,r):wte(n,t,e,!1,i,r)}function wte(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var s=nx(r)?!!r.capture:!!r;if(s&&!v6)return null;var a=b6(n);if(a||(n[_6]=a=new jF(n)),e=a.add(t,e,i,s,o),e.proxy)return e;if(i=XBe(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)qBe||(r=s),r===void 0&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Ete(t.toString()),i);else if(n.addListener&&n.removeListener)n.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return e}function XBe(){var n=JBe,t=v6?function(e){return n.call(t.src,t.listener,e)}:function(e){if(e=n.call(t.src,t.listener,e),!e)return e};return t}function bte(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)bte(n,t[o],e,i,r);return null}return e=C6(e),n&&n[ix]?n.sa(t,e,nx(i)?!!i.capture:!!i,r):wte(n,t,e,!0,i,r)}function Cte(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)Cte(n,t[o],e,i,r);else i=nx(i)?!!i.capture:!!i,e=C6(e),n&&n[ix]?(n=n.c,t=String(t).toString(),t in n.a&&(o=n.a[t],e=a6(o,e,i,r),-1<e&&(QF(o[e]),Array.prototype.splice.call(o,e,1),o.length==0&&(delete n.a[t],n.b--)))):n&&(n=b6(n))&&(t=n.a[t.toString()],n=-1,t&&(n=a6(t,e,i,r)),(e=-1<n?t[n]:null)&&w6(e))}function w6(n){if(typeof n!="number"&&n&&!n.V){var t=n.src;if(t&&t[ix])s6(t.c,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Ete(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=b6(t))?(s6(e,n),e.b==0&&(e.src=null,t[_6]=null)):QF(n)}}}function Ete(n){return n in e6?e6[n]:e6[n]="on"+n}function ite(n,t){var e=n.listener,i=n.aa||n.src;return n.X&&w6(n),e.call(i,t)}function JBe(n,t){if(n.V)return!0;if(!v6){if(!t)e:{t=["window","event"];for(var e=vn,i=0;i<t.length;i++)if(e=e[t[i]],e==null){t=null;break e}t=e}return t=new XS(t,this),ite(n,t)}return ite(n,new XS(t,this))}function b6(n){return n=n[_6],n instanceof jF?n:null}function C6(n){return VF(n)=="function"?n:(n[t6]||(n[t6]=function(t){return n.handleEvent(t)}),n[t6])}function xc(){xp.call(this),this.c=new jF(this),this.J=this,this.A=null}function MF(n,t,e,i){if(t=n.c.a[String(t)],!t)return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.V&&s.capture==e){var a=s.listener,l=s.aa||s.src;s.X&&s6(n.c,s),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}function xte(){this.b=this.a=null}function ePe(){var n=Dte,t=null;return n.a&&(t=n.a,n.a=n.a.next,n.a||(n.b=null),t.next=null),t}function E6(){this.next=this.b=this.a=null}function tPe(n){vn.setTimeout(function(){throw n},0)}function Tte(n,t){l6||nPe(),c6||(l6(),c6=!0),Dte.add(n,t)}function nPe(){var n=vn.Promise.resolve(void 0);l6=function(){n.then(iPe)}}function iPe(){for(var n;n=ePe();){try{n.a.call(n.b)}catch(e){tPe(e)}var t=Ite;t.g(n),t.b<t.f&&(t.b++,n.next=t.a,t.a=n)}c6=!1}function GF(n,t){xc.call(this),this.b=n||1,this.a=t||vn,this.f=ea(this.Ua,this),this.g=Sp()}function S6(n){n.Z=!1,n.L&&(n.a.clearTimeout(n.L),n.L=null)}function x6(n,t,e){if(VF(n)=="function")e&&(n=ea(n,e));else if(n&&typeof n.handleEvent=="function")n=ea(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:vn.setTimeout(n,t||0)}function WF(n,t,e){xp.call(this),this.f=e!=null?ea(n,e):n,this.c=t,this.b=ea(this.Pa,this),this.a=[]}function Mte(n){n.T=x6(n.b,n.c),n.f.apply(null,n.a)}function JS(n){xp.call(this),this.b=n,this.a={}}function Ote(n,t,e,i){Array.isArray(e)||(e&&(rte[0]=e.toString()),e=rte);for(var r=0;r<e.length;r++){var o=y6(t,e[r],i||n.handleEvent,!1,n.b||n);if(!o)break;n.a[o.key]=o}}function Fte(n){g6(n.a,function(t,e){this.a.hasOwnProperty(e)&&w6(t)},n),n.a={}}function rPe(){}function I6(){return ote=ote||new xc}function Bte(n){Ia.call(this,"serverreachability",n)}function ex(n){var t=I6();t.dispatchEvent(new Bte(t,n))}function Pte(n){Ia.call(this,"statevent",n)}function Sc(n){var t=I6();t.dispatchEvent(new Pte(t,n))}function kte(n){Ia.call(this,"timingevent",n)}function KF(n,t){if(VF(n)!="function")throw Error("Fn must not be null and must be a function");return vn.setTimeout(function(){n()},t)}function Rte(){}function ste(n){var t;return(t=n.a)||(t=n.a={}),t}function Lte(){}function T6(){Ia.call(this,"d")}function D6(){Ia.call(this,"c")}function Hte(){}function ox(n,t,e){this.g=n,this.W=t,this.U=e||1,this.G=new JS(this),this.N=oPe,n=r6?125:void 0,this.O=new GF(n),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}function d6(n,t,e){n.B=1,n.f=$F(Ep(t)),n.j=e,n.F=!0,Qte(n,null)}function Qte(n,t){n.s=Sp(),sx(n),n.A=Ep(n.f);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),qte(e.b,"t",i),n.w=0,n.a=dne(n.g,n.g.w?t:null),0<n.J&&(n.D=new WF(ea(n.ya,n,n.a),n.J)),Ote(n.G,n.a,"readystatechange",n.Sa),t=n.m?pte(n.m):{},n.j?(n.v||(n.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.a.$(n.A,n.v,n.j,t)):(n.v="GET",n.a.$(n.A,n.v,null,t)),ex(1)}function jte(n,t,e){for(var i=!0;!n.l&&n.w<e.length;){var r=sPe(n,e);if(r==u6){t==4&&(n.c=4,Sc(14),i=!1);break}else if(r==Vte){n.c=4,Sc(15),i=!1;break}else h6(n,r)}t==4&&e.length==0&&(n.c=1,Sc(16),i=!1),n.b=n.b&&i,i||(Cw(n),kF(n))}function sPe(n,t){var e=n.w,i=t.indexOf(`
`,e);return i==-1?u6:(e=Number(t.substring(e,i)),isNaN(e)?Vte:(i+=1,i+e>t.length?u6:(t=t.substr(i,e),n.w=i+e,t)))}function sx(n){n.P=Sp()+n.N,Gte(n,n.N)}function Gte(n,t){if(n.h!=null)throw Error("WatchDog timer not null");n.h=KF(ea(n.Qa,n),t)}function qF(n){n.h&&(vn.clearTimeout(n.h),n.h=null)}function kF(n){n.g.u==0||n.l||ane(n.g,n)}function Cw(n){qF(n);var t=n.D;t&&typeof t.da=="function"&&t.da(),n.D=null,S6(n.O),Fte(n.G),n.a&&(t=n.a,n.a=null,t.abort(),t.da())}function h6(n,t){try{var e=n.g;if(e.u!=0&&(e.a==n||f6(e.b,n))){if(e.A=n.H,!n.o&&f6(e.b,n)&&e.u==3){try{var i=e.ja.a.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!e.i){if(e.a)if(e.a.s+3e3<n.s)UF(e),e.a.cancel(),e.a=null;else break e;N6(e),Sc(18)}}else e.ia=r[1],0<e.ia-e.G&&37500>r[2]&&e.U&&e.m==0&&!e.l&&(e.l=KF(ea(e.Na,e),6e3));if(1>=Zte(e.b)&&e.O){try{e.O()}catch{}e.O=void 0}}else wv(e,11)}else if((n.o||e.a==n)&&UF(e),!BF(t))for(t=i=e.ja.a.parse(t),i=0;i<t.length;i++)if(r=t[i],e.G=r[0],r=r[1],e.u==2)if(r[0]=="c"){e.B=r[1],e.R=r[2];var o=r[3];o!=null&&(e.oa=o);var s=r[5];s!=null&&typeof s=="number"&&0<s&&(e.D=1.5*s);var a=e,l=n.a;if(l){var u=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var d=a.b;!d.a&&(sl(u,"spdy")||sl(u,"quic")||sl(u,"h2"))&&(d.f=d.g,d.a=new Set,d.b&&(F6(d,d.b),d.b=null))}if(a.s){var h=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.ha=h,Wr(a.v,a.s,h))}}e.u=3,e.c&&e.c.na(),a=e;var f=n;if(a.ea=une(a,a.w?a.R:null,a.P),f.o){Xte(a.b,f);var A=f,g=a.D;g&&A.setTimeout(g),A.h&&(qF(A),sx(A)),a.a=f}else sne(a);0<e.f.length&&ZF(e)}else r[0]!="stop"&&r[0]!="close"||wv(e,7);else e.u==3&&(r[0]=="stop"||r[0]=="close"?r[0]=="stop"?wv(e,7):k6(e):r[0]!="noop"&&e.c&&e.c.ma(r),e.m=0)}ex(4)}catch{}}function aPe(n){if(n.I&&typeof n.I=="function")return n.I();if(typeof n=="string")return n.split("");if(i6(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}t=[],e=0;for(i in n)t[e++]=n[i];return n=t}function M6(n,t){if(n.forEach&&typeof n.forEach=="function")n.forEach(t,void 0);else if(i6(n)||typeof n=="string")fte(n,t,void 0);else{if(n.K&&typeof n.K=="function")var e=n.K();else if(n.I&&typeof n.I=="function")e=void 0;else if(i6(n)||typeof n=="string"){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=aPe(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function Ew(n,t){this.b={},this.a=[],this.c=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Ew)for(e=n.K(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function O6(n){if(n.c!=n.a.length){for(var t=0,e=0;t<n.a.length;){var i=n.a[t];bv(n.b,i)&&(n.a[e++]=i),t++}n.a.length=e}if(n.c!=n.a.length){var r={};for(e=t=0;t<n.a.length;)i=n.a[t],bv(r,i)||(n.a[e++]=i,r[i]=1),t++;n.a.length=e}}function bv(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function lPe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Cv(n,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,n instanceof Cv){this.a=t!==void 0?t:n.a,NF(this,n.f),this.j=n.j,RF(this,n.c),LF(this,n.h),this.g=n.g,t=n.b;var e=new tx;e.c=t.c,t.a&&(e.a=new Ew(t.a),e.b=t.b),ate(this,e),this.i=n.i}else n&&(e=String(n).match(Wte))?(this.a=!!t,NF(this,e[1]||"",!0),this.j=ZS(e[2]||""),RF(this,e[3]||"",!0),LF(this,e[4]),this.g=ZS(e[5]||"",!0),ate(this,e[6]||"",!0),this.i=ZS(e[7]||"")):(this.a=!!t,this.b=new tx(null,this.a))}function Ep(n){return new Cv(n)}function NF(n,t,e){n.f=e?ZS(t,!0):t,n.f&&(n.f=n.f.replace(/:$/,""))}function RF(n,t,e){n.c=e?ZS(t,!0):t}function LF(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.h=t}else n.h=null}function ate(n,t,e){t instanceof tx?(n.b=t,gPe(n.b,n.a)):(e||(t=YS(t,pPe)),n.b=new tx(t,n.a))}function Wr(n,t,e){n.b.set(t,e)}function $F(n){return Wr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Sp()).toString(36)),n}function cPe(n){return n instanceof Cv?Ep(n):new Cv(n,void 0)}function uPe(n,t,e,i){var r=new Cv(null,void 0);return n&&NF(r,n),t&&RF(r,t),e&&LF(r,e),i&&(r.g=i),r}function ZS(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function YS(n,t,e){return typeof n=="string"?(n=encodeURI(n).replace(t,dPe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dPe(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}function tx(n,t){this.b=this.a=null,this.c=n||null,this.f=!!t}function Eg(n){n.a||(n.a=new Ew,n.b=0,n.c&&lPe(n.c,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Kte(n,t){Eg(n),t=Sw(n,t),bv(n.a.b,t)&&(n.c=null,n.b-=n.a.get(t).length,n=n.a,bv(n.b,t)&&(delete n.b[t],n.c--,n.a.length>2*n.c&&O6(n)))}function zte(n,t){return Eg(n),t=Sw(n,t),bv(n.a.b,t)}function qte(n,t,e){Kte(n,t),0<e.length&&(n.c=null,n.a.set(Sw(n,t),A6(e)),n.b+=e.length)}function Sw(n,t){return t=String(t),n.f&&(t=t.toLowerCase()),t}function gPe(n,t){t&&!n.f&&(Eg(n),n.c=null,n.a.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Kte(this,i),qte(this,r,e))},n)),n.f=t}function mPe(n,t){this.b=n,this.a=t}function $te(n){this.g=n||vPe,vn.PerformanceNavigationTiming?(n=vn.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(vn.ca&&vn.ca.ua&&vn.ca.ua()&&vn.ca.ua().mb),this.f=n?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}function Yte(n){return n.b?!0:n.a?n.a.size>=n.f:!1}function Zte(n){return n.b?1:n.a?n.a.size:0}function f6(n,t){return n.b?n.b==t:n.a?n.a.has(t):!1}function F6(n,t){n.a?n.a.add(t):n.b=t}function Xte(n,t){n.b&&n.b==t?n.b=null:n.a&&n.a.has(t)&&n.a.delete(t)}function Jte(n){var t,e;if(n.b!=null)return n.c.concat(n.b.i);if(n.a!=null&&n.a.size!==0){var i=n.c;try{for(var r=dte(n.a.values()),o=r.next();!o.done;o=r.next()){var s=o.value;i=i.concat(s.i)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return i}return A6(n.c)}function B6(){}function _Pe(){this.a=new B6}function yPe(n,t,e){var i=e||"";try{M6(n,function(r,o){var s=r;nx(r)&&(s=Ste(r)),t.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function wPe(n,t){var e=new rPe;if(vn.Image){var i=new Image;i.onload=xF(OF,e,i,"TestLoadImage: loaded",!0,t),i.onerror=xF(OF,e,i,"TestLoadImage: error",!1,t),i.onabort=xF(OF,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=xF(OF,e,i,"TestLoadImage: timeout",!1,t),vn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}function OF(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function es(n){xc.call(this),this.headers=new Ew,this.G=n||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=CPe,this.B=this.F=!1}function xPe(n){return Cg&&_te(9)&&typeof n.timeout=="number"&&n.ontimeout!==void 0}function IPe(n){return n.toLowerCase()=="content-type"}function cte(n,t){n.b=!1,n.a&&(n.g=!0,n.a.abort(),n.g=!1),n.f=t,n.h=5,ene(n),YF(n)}function ene(n){n.v||(n.v=!0,n.dispatchEvent("complete"),n.dispatchEvent("error"))}function tne(n){if(n.b&&typeof p6<"u"&&(!n.s[1]||bg(n)!=4||n.S()!=2)){if(n.l&&bg(n)==4)x6(n.va,0,n);else if(n.dispatchEvent("readystatechange"),bg(n)==4){n.b=!1;try{var t=n.S();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var r;if(r=t===0){var o=String(n.D).match(Wte)[1]||null;if(!o&&vn.self&&vn.self.location){var s=vn.self.location.protocol;o=s.substr(0,s.length-1)}r=!EPe.test(o?o.toLowerCase():"")}i=r}if(i)n.dispatchEvent("complete"),n.dispatchEvent("success");else{n.h=6;try{var a=2<bg(n)?n.a.statusText:""}catch{a=""}n.f=a+" ["+n.S()+"]",ene(n)}}finally{YF(n)}}}}function YF(n,t){if(n.a){nne(n);var e=n.a,i=n.s[0]?FF:null;n.a=null,n.s=null,t||n.dispatchEvent("ready");try{e.onreadystatechange=i}catch{}}}function nne(n){n.a&&n.B&&(n.a.ontimeout=null),n.m&&(vn.clearTimeout(n.m),n.m=null)}function bg(n){return n.a?n.a.readyState:0}function TPe(n){var t="";return g6(n,function(e,i){t+=i,t+=":",t+=e,t+=`\r
`}),t}function P6(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=TPe(e),typeof n=="string"?e!=null&&encodeURIComponent(String(e)):Wr(n,t,e))}function $S(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function ine(n){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=$S("failFast",!1,n),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=$S("baseRetryDelayMs",5e3,n),this.Ga=$S("retryDelaySeedMs",1e4,n),this.Da=$S("forwardChannelMaxRetries",2,n),this.ga=$S("forwardChannelRequestTimeoutMs",2e4,n),this.Ea=n&&n.nb||void 0,this.D=void 0,this.w=n&&n.supportsCrossDomainXhr||!1,this.B="",this.b=new $te(n&&n.concurrentRequestLimit),this.ja=new _Pe,this.fa=n&&n.fastHandshake||!1,n&&n.forceLongPolling&&(this.W=!1),this.O=void 0}function k6(n){if(rne(n),n.u==3){var t=n.H++,e=Ep(n.v);Wr(e,"SID",n.B),Wr(e,"RID",t),Wr(e,"TYPE","terminate"),ax(n,e),t=new ox(n,t,void 0),t.B=2,t.f=$F(Ep(e)),e=!1,vn.navigator&&vn.navigator.sendBeacon&&(e=vn.navigator.sendBeacon(t.f.toString(),"")),!e&&vn.Image&&(new Image().src=t.f,e=!0),e||(t.a=dne(t.g,null),t.a.$(t.f)),t.s=Sp(),sx(t)}cne(n)}function rne(n){n.a&&(n.a.cancel(),n.a=null),n.i&&(vn.clearTimeout(n.i),n.i=null),UF(n),n.b.cancel(),n.g&&(typeof n.g=="number"&&vn.clearTimeout(n.g),n.g=null)}function n6(n,t){n.f.push(new mPe(n.Fa++,t)),n.u==3&&ZF(n)}function ZF(n){Yte(n.b)||n.g||(n.g=!0,Tte(n.xa,n),n.o=0)}function DPe(n,t){return Zte(n.b)>=n.b.f-(n.g?1:0)?!1:n.g?(n.f=t.i.concat(n.f),!0):n.u==1||n.u==2||n.o>=(n.Ca?0:n.Da)?!1:(n.g=KF(ea(n.xa,n,t),lne(n,n.o)),n.o++,!0)}function ute(n,t){var e;t?e=t.W:e=n.H++;var i=Ep(n.v);Wr(i,"SID",n.B),Wr(i,"RID",e),Wr(i,"AID",n.G),ax(n,i),n.h&&n.j&&P6(i,n.h,n.j),e=new ox(n,e,n.o+1),n.h===null&&(e.m=n.j),t&&(n.f=t.i.concat(n.f)),t=one(n,e,1e3),e.setTimeout(Math.round(.5*n.ga)+Math.round(.5*n.ga*Math.random())),F6(n.b,e),d6(e,i,t)}function ax(n,t){n.c&&M6({},function(e,i){Wr(t,i,e)})}function one(n,t,e){e=Math.min(n.f.length,e);var i=n.c?ea(n.c.Ha,n.c,n):null;e:for(var r=n.f,o=-1;;){var s=["count="+e];o==-1?0<e?(o=r[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,l=0;l<e;l++){var u=r[l].b,d=r[l].a;if(u-=o,0>u)o=Math.max(0,r[l].b-100),a=!1;else try{yPe(d,s,"req"+u+"_")}catch{i&&i(d)}}if(a){i=s.join("&");break e}}return n=n.f.splice(0,e),t.i=n,i}function sne(n){n.a||n.i||(n.J=1,Tte(n.wa,n),n.m=0)}function N6(n){return n.a||n.i||3<=n.m?!1:(n.J++,n.i=KF(ea(n.wa,n),lne(n,n.m)),n.m++,!0)}function UF(n){n.l!=null&&(vn.clearTimeout(n.l),n.l=null)}function ane(n,t){var e=null;if(n.a==t){UF(n),n.a=null;var i=2}else if(f6(n.b,t))e=t.i,Xte(n.b,t),i=1;else return;if(n.A=t.H,n.u!=0){if(t.b)if(i==1){e=t.j?t.j.length:0,t=Sp()-t.s;var r=n.o;i=I6(),i.dispatchEvent(new kte(i,e,t,r)),ZF(n)}else sne(n);else if(r=t.c,r==3||r==0&&0<n.A||!(i==1&&DPe(n,t)||i==2&&N6(n)))switch(e&&0<e.length&&(t=n.b,t.c=t.c.concat(e)),r){case 1:wv(n,5);break;case 4:wv(n,10);break;case 3:wv(n,6);break;default:wv(n,2)}}}function lne(n,t){var e=n.Ba+Math.floor(Math.random()*n.Ga);return n.c||(e*=2),e*t}function wv(n,t){if(t==2){var e=null;n.c&&(e=null);var i=ea(n.Ta,n);e||(e=new Cv("//www.google.com/images/cleardot.gif"),vn.location&&vn.location.protocol=="http"||NF(e,"https"),$F(e)),wPe(e.toString(),i)}else Sc(2);n.u=0,n.c&&n.c.la(t),cne(n),rne(n)}function cne(n){n.u=0,n.A=-1,n.c&&((Jte(n.b).length!=0||n.f.length!=0)&&(n.b.c.length=0,A6(n.f),n.f.length=0),n.c.ka())}function une(n,t,e){var i=cPe(e);if(i.c!="")t&&RF(i,t+"."+i.c),LF(i,i.h);else{var r=vn.location;i=uPe(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.N&&g6(n.N,function(o,s){Wr(i,s,o)}),t=n.s,e=n.ha,t&&e&&Wr(i,t,e),Wr(i,"VER",n.oa),ax(n,i),i}function dne(n,t){if(t&&!n.w)throw Error("Can't create secondary domain capable XhrIo object.");return t=new es(n.Ea),t.F=n.w,t}function hne(){}function HF(){if(Cg&&!(10<=Number(yte)))throw Error("Environmental error: no available transport.")}function Eu(n,t){xc.call(this),this.a=new ine(t),this.l=n,this.b=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.a.j=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.pa&&(n?n["X-WebChannel-Client-Profile"]=t.pa:n={"X-WebChannel-Client-Profile":t.pa}),this.a.F=n,(n=t&&t.httpHeadersOverwriteParam)&&!BF(n)&&(this.a.h=n),this.h=t&&t.supportsCrossDomainXhr||!1,this.g=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!BF(t)&&(this.a.s=t,n=this.b,n!==null&&t in n&&(n=this.b,t in n&&delete n[t])),this.f=new xw(this)}function fne(n){T6.call(this);var t=n.__sm__;if(t){e:{for(var e in t){n=e;break e}n=void 0}(this.c=n)?(n=this.c,this.data=t!==null&&n in t?t[n]:void 0):this.data=t}else this.data=n}function pne(){D6.call(this),this.status=1}function xw(n){this.a=n}var NBe,mt,p6,vn,$H,LBe,Sp,VBe,hte,fte,tte,al,ZH,XH,nte,GBe,Cg,gte,r6,mte,WBe,PF,IF,TF,DF,KBe,o6,JH,yte,v6,zBe,qBe,$Be,ix,YBe,_6,e6,t6,Ste,Ite,l6,c6,Dte,rte,ote,zF,Nte,rx,Ute,oPe,Vte,u6,Wte,lte,hPe,fPe,pPe,APe,vPe,bPe,CPe,EPe,SPe,Iw,MPe,OPe,FPe,BPe,PPe,kPe,gne=hs(()=>{"use strict";NBe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},p6=p6||{},vn=NBe||self;$H="closure_uid_"+(1e9*Math.random()>>>0),LBe=0;Sp=Date.now||function(){return+new Date};VBe=0;xp.prototype.j=!1;xp.prototype.da=function(){if(!this.j&&(this.j=!0,this.C(),VBe!=0))var n=RBe(this)};xp.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};hte=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if(typeof n=="string")return typeof t!="string"||t.length!=1?-1:n.indexOf(t,0);for(var e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},fte=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){for(var i=n.length,r=typeof n=="string"?n.split(""):n,o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};tte=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};e:{if(ZH=vn.navigator,ZH&&(XH=ZH.userAgent,XH)){al=XH;break e}al=""}nte="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");m6[" "]=FF;GBe=sl(al,"Opera"),Cg=sl(al,"Trident")||sl(al,"MSIE"),gte=sl(al,"Edge"),r6=gte||Cg,mte=sl(al,"Gecko")&&!(sl(al.toLowerCase(),"webkit")&&!sl(al,"Edge"))&&!(sl(al,"Trident")||sl(al,"MSIE"))&&!sl(al,"Edge"),WBe=sl(al.toLowerCase(),"webkit")&&!sl(al,"Edge");e:{if(IF="",TF=function(){var n=al;if(mte)return/rv:([^\);]+)(\)|;)/.exec(n);if(gte)return/Edge\/([\d\.]+)/.exec(n);if(Cg)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(WBe)return/WebKit\/(\S+)/.exec(n);if(GBe)return/(?:Version)[ \/]?(\S+)/.exec(n)}(),TF&&(IF=TF?TF[1]:""),Cg&&(DF=vte(),DF!=null&&DF>parseFloat(IF))){PF=String(DF);break e}PF=IF}KBe={};vn.document&&Cg?(JH=vte(),o6=JH||parseInt(PF,10)||void 0):o6=void 0;yte=o6,v6=!Cg||9<=Number(yte),zBe=Cg&&!_te("9"),qBe=function(){if(!vn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vn.addEventListener("test",FF,t),vn.removeEventListener("test",FF,t)}catch{}return n}();Ia.prototype.b=function(){this.defaultPrevented=!0};Ta(XS,Ia);$Be={2:"touch",3:"pen",4:"mouse"};XS.prototype.b=function(){XS.M.b.call(this);var n=this.c;if(n.preventDefault)n.preventDefault();else if(n.returnValue=!1,zBe)try{(n.ctrlKey||112<=n.keyCode&&123>=n.keyCode)&&(n.keyCode=-1)}catch{}};ix="closure_listenable_"+(1e6*Math.random()|0),YBe=0;jF.prototype.add=function(n,t,e,i,r){var o=n.toString();n=this.a[o],n||(n=this.a[o]=[],this.b++);var s=a6(n,t,i,r);return-1<s?(t=n[s],e||(t.X=!1)):(t=new ZBe(t,this.src,o,!!i,r),t.X=e,n.push(t)),t};_6="closure_lm_"+(1e6*Math.random()|0),e6={};t6="__closure_events_fn_"+(1e9*Math.random()>>>0);Ta(xc,xp);xc.prototype[ix]=!0;mt=xc.prototype;mt.addEventListener=function(n,t,e,i){y6(this,n,t,e,i)};mt.removeEventListener=function(n,t,e,i){Cte(this,n,t,e,i)};mt.dispatchEvent=function(n){var t,e=this.A;if(e)for(t=[];e;e=e.A)t.push(e);e=this.J;var i=n.type||n;if(typeof n=="string")n=new Ia(n,e);else if(n instanceof Ia)n.target=n.target||e;else{var r=n;n=new Ia(i,e),Ate(n,r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=n.a=t[o];r=MF(s,i,!0,n)&&r}if(s=n.a=e,r=MF(s,i,!0,n)&&r,r=MF(s,i,!1,n)&&r,t)for(o=0;o<t.length;o++)s=n.a=t[o],r=MF(s,i,!1,n)&&r;return r};mt.C=function(){if(xc.M.C.call(this),this.c){var n=this.c,t;for(t in n.a){for(var e=n.a[t],i=0;i<e.length;i++)QF(e[i]);delete n.a[t],n.b--}}this.A=null};mt.ra=function(n,t,e,i){return this.c.add(String(n),t,!1,e,i)};mt.sa=function(n,t,e,i){return this.c.add(String(n),t,!0,e,i)};Ste=vn.JSON.stringify;Ite=new(function(){function n(t,e,i){this.f=i,this.c=t,this.g=e,this.b=0,this.a=null}return n.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},n}())(function(){return new E6},function(n){n.reset()},100);xte.prototype.add=function(n,t){var e=Ite.get();e.set(n,t),this.b?this.b.next=e:this.a=e,this.b=e};E6.prototype.set=function(n,t){this.a=n,this.b=t,this.next=null};E6.prototype.reset=function(){this.next=this.b=this.a=null};c6=!1,Dte=new xte;Ta(GF,xc);mt=GF.prototype;mt.Z=!1;mt.L=null;mt.Ua=function(){if(this.Z){var n=Sp()-this.g;0<n&&n<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-n):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(S6(this),this.start()))}};mt.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=Sp())};mt.C=function(){GF.M.C.call(this),S6(this),delete this.a};Ta(WF,xp);mt=WF.prototype;mt.ba=!1;mt.T=null;mt.Ia=function(n){this.a=arguments,this.T?this.ba=!0:Mte(this)};mt.C=function(){WF.M.C.call(this),this.T&&(vn.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])};mt.Pa=function(){this.T=null,this.ba&&(this.ba=!1,Mte(this))};Ta(JS,xp);rte=[];JS.prototype.C=function(){JS.M.C.call(this),Fte(this)};JS.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};ote=null;Ta(Bte,Ia);Ta(Pte,Ia);Ta(kte,Ia);zF={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},Nte={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};Rte.prototype.a=null;rx={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};Ta(T6,Ia);Ta(D6,Ia);Ta(Hte,Rte);Ute=new Hte;oPe=45e3,Vte={},u6={};mt=ox.prototype;mt.setTimeout=function(n){this.N=n};mt.Sa=function(n){n=n.target;var t=this.D;t&&bg(n)==3?t.Ia():this.ya(n)};mt.ya=function(n){try{if(n==this.a)e:{var t=bg(this.a),e=this.a.qa(),i=this.a.S();if(!(3>t||t==3&&!r6&&!this.a.Y())){this.l||t!=4||e==7||(e==8||0>=i?ex(3):ex(2)),qF(this);var r=this.a.S();this.H=r;var o=this.a.Y();if(this.b=r==200){if(this.R&&!this.o){t:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!BF(s)){var l=s;break t}}l=null}if(l)this.o=!0,h6(this,l);else{this.b=!1,this.c=3,Sc(12),Cw(this),kF(this);break e}}this.F?(jte(this,t,o),r6&&this.b&&t==3&&(Ote(this.G,this.O,"tick",this.Ra),this.O.start())):h6(this,o),t==4&&Cw(this),this.b&&!this.l&&(t==4?ane(this.g,this):(this.b=!1,sx(this)))}else r==400&&0<o.indexOf("Unknown SID")?(this.c=3,Sc(12)):(this.c=0,Sc(13)),Cw(this),kF(this)}}}catch{}finally{}};mt.Ra=function(){if(this.a){var n=bg(this.a),t=this.a.Y();this.w<t.length&&(qF(this),jte(this,n,t),this.b&&n!=4&&sx(this))}};mt.cancel=function(){this.l=!0,Cw(this)};mt.Qa=function(){this.h=null;var n=Sp();0<=n-this.P?(this.B!=2&&(ex(3),Sc(17)),Cw(this),this.c=2,kF(this)):Gte(this,this.P-n)};mt=Ew.prototype;mt.I=function(){O6(this);for(var n=[],t=0;t<this.a.length;t++)n.push(this.b[this.a[t]]);return n};mt.K=function(){return O6(this),this.a.concat()};mt.get=function(n,t){return bv(this.b,n)?this.b[n]:t};mt.set=function(n,t){bv(this.b,n)||(this.c++,this.a.push(n)),this.b[n]=t};mt.forEach=function(n,t){for(var e=this.K(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};Wte=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Cv.prototype.toString=function(){var n=[],t=this.f;t&&n.push(YS(t,lte,!0),":");var e=this.c;return(e||t=="file")&&(n.push("//"),(t=this.j)&&n.push(YS(t,lte,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e=this.h,e!=null&&n.push(":",String(e))),(e=this.g)&&(this.c&&e.charAt(0)!="/"&&n.push("/"),n.push(YS(e,e.charAt(0)=="/"?fPe:hPe,!0))),(e=this.b.toString())&&n.push("?",e),(e=this.i)&&n.push("#",YS(e,APe)),n.join("")};lte=/[#\/\?@]/g,hPe=/[#\?:]/g,fPe=/[#\?]/g,pPe=/[#\?@]/g,APe=/#/g;mt=tx.prototype;mt.add=function(n,t){Eg(this),this.c=null,n=Sw(this,n);var e=this.a.get(n);return e||this.a.set(n,e=[]),e.push(t),this.b+=1,this};mt.forEach=function(n,t){Eg(this),this.a.forEach(function(e,i){fte(e,function(r){n.call(t,r,i,this)},this)},this)};mt.K=function(){Eg(this);for(var n=this.a.I(),t=this.a.K(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e};mt.I=function(n){Eg(this);var t=[];if(typeof n=="string")zte(this,n)&&(t=ete(t,this.a.get(Sw(this,n))));else{n=this.a.I();for(var e=0;e<n.length;e++)t=ete(t,n[e])}return t};mt.set=function(n,t){return Eg(this),this.c=null,n=Sw(this,n),zte(this,n)&&(this.b-=this.a.get(n).length),this.a.set(n,[t]),this.b+=1,this};mt.get=function(n,t){return n?(n=this.I(n),0<n.length?String(n[0]):t):t};mt.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var n=[],t=this.a.K(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.I(i);for(var o=0;o<i.length;o++){var s=r;i[o]!==""&&(s+="="+encodeURIComponent(String(i[o]))),n.push(s)}}return this.c=n.join("&")};vPe=10;$te.prototype.cancel=function(){var n,t;if(this.c=Jte(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var e=dte(this.a.values()),i=e.next();!i.done;i=e.next()){var r=i.value;r.cancel()}}catch(o){n={error:o}}finally{try{i&&!i.done&&(t=e.return)&&t.call(e)}finally{if(n)throw n.error}}this.a.clear()}};B6.prototype.stringify=function(n){return vn.JSON.stringify(n,void 0)};B6.prototype.parse=function(n){return vn.JSON.parse(n,void 0)};bPe=vn.JSON.parse;Ta(es,xc);CPe="",EPe=/^https?$/i,SPe=["POST","PUT"];mt=es.prototype;mt.$=function(n,t,e,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+n);t=t?t.toUpperCase():"GET",this.D=n,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.G?ste(this.G):ste(Ute),this.a.onreadystatechange=ea(this.va,this);try{this.w=!0,this.a.open(t,String(n),!0),this.w=!1}catch(o){cte(this,o);return}n=e||"";var r=new Ew(this.headers);i&&M6(i,function(o,s){r.set(s,o)}),i=QBe(r.K()),e=vn.FormData&&n instanceof vn.FormData,!(0<=hte(SPe,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,s){this.a.setRequestHeader(s,o)},this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{nne(this),0<this.o&&((this.B=xPe(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ea(this.ta,this)):this.m=x6(this.ta,this.o,this)),this.l=!0,this.a.send(n),this.l=!1}catch(o){cte(this,o)}};mt.ta=function(){typeof p6<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))};mt.abort=function(n){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=n||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),YF(this))};mt.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),YF(this,!0)),es.M.C.call(this)};mt.va=function(){this.j||(this.w||this.l||this.g?tne(this):this.Oa())};mt.Oa=function(){tne(this)};mt.S=function(){try{return 2<bg(this)?this.a.status:-1}catch{return-1}};mt.Y=function(){try{return this.a?this.a.responseText:""}catch{return""}};mt.Ja=function(n){if(this.a){var t=this.a.responseText;return n&&t.indexOf(n)==0&&(t=t.substring(n.length)),bPe(t)}};mt.qa=function(){return this.h};mt.Ma=function(){return typeof this.f=="string"?this.f:String(this.f)};mt=ine.prototype;mt.oa=8;mt.u=1;mt.xa=function(n){if(this.g)if(this.g=null,this.u==1){if(!n){this.H=Math.floor(1e5*Math.random()),n=this.H++;var t=new ox(this,n,void 0),e=this.j;this.F&&(e?(e=pte(e),Ate(e,this.F)):e=this.F),this.h===null&&(t.m=e);var i;if(this.fa)e:{for(var r=i=0;r<this.f.length;r++){t:{var o=this.f[r];if("__data__"in o.a&&(o=o.a.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(i+=o,4096<i){i=r;break e}if(i===4096||r===this.f.length-1){i=r+1;break e}}i=1e3}else i=1e3;i=one(this,t,i),r=Ep(this.v),Wr(r,"RID",n),Wr(r,"CVER",22),this.s&&Wr(r,"X-HTTP-Session-Id",this.s),ax(this,r),this.h&&e&&P6(r,this.h,e),F6(this.b,t),this.fa?(Wr(r,"$req",i),Wr(r,"SID","null"),t.R=!0,d6(t,r,null)):d6(t,r,i),this.u=2}}else this.u==3&&(n?ute(this,n):this.f.length==0||Yte(this.b)||ute(this))};mt.wa=function(){this.i=null,this.a=new ox(this,"rpc",this.J),this.h===null&&(this.a.m=this.j),this.a.J=0;var n=Ep(this.ea);Wr(n,"RID","rpc"),Wr(n,"SID",this.B),Wr(n,"CI",this.U?"0":"1"),Wr(n,"AID",this.G),ax(this,n),Wr(n,"TYPE","xmlhttp"),this.h&&this.j&&P6(n,this.h,this.j),this.D&&this.a.setTimeout(this.D);var t=this.a,e=this.R;t.B=1,t.f=$F(Ep(n)),t.j=null,t.F=!0,Qte(t,e)};mt.Na=function(){this.l!=null&&(this.l=null,this.a.cancel(),this.a=null,N6(this),Sc(19))};mt.Ta=function(n){Sc(n?2:1)};mt=hne.prototype;mt.na=function(){};mt.ma=function(){};mt.la=function(){};mt.ka=function(){};mt.Ha=function(){};HF.prototype.a=function(n,t){return new Eu(n,t)};Ta(Eu,xc);mt=Eu.prototype;mt.addEventListener=function(n,t,e,i){Eu.M.addEventListener.call(this,n,t,e,i)};mt.removeEventListener=function(n,t,e,i){Eu.M.removeEventListener.call(this,n,t,e,i)};mt.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var n=this.a,t=this.l,e=this.b||void 0;Sc(0),n.P=t,n.N=e||{},n.U=n.W,n.v=une(n,null,n.P),ZF(n)};mt.close=function(){k6(this.a)};mt.La=function(n){if(typeof n=="string"){var t={};t.__data__=n,n6(this.a,t)}else this.g?(t={},t.__data__=Ste(n),n6(this.a,t)):n6(this.a,n)};mt.C=function(){this.a.c=null,delete this.f,k6(this.a),delete this.a,Eu.M.C.call(this)};Ta(fne,T6);Ta(pne,D6);Ta(xw,hne);xw.prototype.na=function(){this.a.dispatchEvent("a")};xw.prototype.ma=function(n){this.a.dispatchEvent(new fne(n))};xw.prototype.la=function(n){this.a.dispatchEvent(new pne(n))};xw.prototype.ka=function(){this.a.dispatchEvent("b")};HF.prototype.createWebChannel=HF.prototype.a;Eu.prototype.send=Eu.prototype.La;Eu.prototype.open=Eu.prototype.Ka;Eu.prototype.close=Eu.prototype.close;zF.NO_ERROR=0;zF.TIMEOUT=8;zF.HTTP_ERROR=6;Nte.COMPLETE="complete";Lte.EventType=rx;rx.OPEN="a";rx.CLOSE="b";rx.ERROR="c";rx.MESSAGE="d";xc.prototype.listen=xc.prototype.ra;es.prototype.listenOnce=es.prototype.sa;es.prototype.getLastError=es.prototype.Ma;es.prototype.getLastErrorCode=es.prototype.qa;es.prototype.getStatus=es.prototype.S;es.prototype.getResponseJson=es.prototype.Ja;es.prototype.getResponseText=es.prototype.Y;es.prototype.send=es.prototype.$;Iw={createWebChannelTransport:function(){return new HF},ErrorCode:zF,EventType:Nte,WebChannel:Lte,XhrIo:es},MPe=Iw.createWebChannelTransport,OPe=Iw.ErrorCode,FPe=Iw.EventType,BPe=Iw.WebChannel,PPe=Iw.XhrIo,kPe=Iw});var Tre=tn(OV=>{"use strict";Object.defineProperty(OV,"__esModule",{value:!0});var lx,pe=(Jee(),Vo(Xee)),pie=(lx=bu())&&typeof lx=="object"&&"default"in lx?lx.default:lx,Ic=(fv(),Vo(gw)),Ip=Jh(),rf=(gne(),Vo(Ane)),NPe=xd(),bx=pie.SDK_VERSION,Od=new Ic.Logger("@firebase/firestore");function oB(){return Od.logLevel}function ct(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Od.logLevel<=Ic.LogLevel.DEBUG){var i=t.map(tV);Od.debug.apply(Od,pe.__spreadArrays(["Firestore ("+bx+"): "+n],i))}}function Kr(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Od.logLevel<=Ic.LogLevel.ERROR){var i=t.map(tV);Od.error.apply(Od,pe.__spreadArrays(["Firestore ("+bx+"): "+n],i))}}function tV(n){if(typeof n=="string")return n;try{return t=n,JSON.stringify(t)}catch{return n}var t}function Dt(n){n===void 0&&(n="Unexpected state");var t="FIRESTORE ("+bx+") INTERNAL ASSERTION FAILED: "+n;throw Kr(t),new Error(t)}function Qt(n,t){n||Dt()}function hx(n,t){return n}function RPe(n){var t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t)t.getRandomValues(e);else for(var i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}var Aie=function(){function n(){}return n.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var r=RPe(40),o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length));return i},n}();function Pn(n,t){return n<t?-1:n>t?1:0}function Nw(n,t,e){return n.length===t.length&&n.every(function(i,r){return e(i,t[r])})}function gie(n){return n+"\0"}var LPe=function(n,t,e,i,r){this.s=n,this.persistenceKey=t,this.host=e,this.ssl=i,this.forceLongPolling=r},G6=function(){function n(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(n.prototype,"i",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(t){return t instanceof n&&t.projectId===this.projectId&&t.database===this.database},n.prototype.o=function(t){return Pn(this.projectId,t.projectId)||Pn(this.database,t.database)},n}();function mne(n){var t=0;for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Qw(n,t){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function mie(n){for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}var jw=function(){function n(t,e){this.h=t,this.u=e,this.l={}}return n.prototype.get=function(t){var e=this.h(t),i=this.l[e];if(i!==void 0)for(var r=0,o=i;r<o.length;r++){var s=o[r],a=s[0],l=s[1];if(this.u(a,t))return l}},n.prototype.has=function(t){return this.get(t)!==void 0},n.prototype.set=function(t,e){var i=this.h(t),r=this.l[i];if(r!==void 0){for(var o=0;o<r.length;o++)if(this.u(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e])}else this.l[i]=[[t,e]]},n.prototype.delete=function(t){var e=this.h(t),i=this.l[e];if(i===void 0)return!1;for(var r=0;r<i.length;r++)if(this.u(i[r][0],t))return i.length===1?delete this.l[e]:i.splice(r,1),!0;return!1},n.prototype.forEach=function(t){Qw(this.l,function(e,i){for(var r=0,o=i;r<o.length;r++){var s=o[r],a=s[0],l=s[1];t(a,l)}})},n.prototype._=function(){return mie(this.l)},n}(),Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Re=function(n){function t(e,i){var r=this;return(r=n.call(this,i)||this).code=e,r.message=i,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return pe.__extends(t,n),t}(Error),jl=function(){function n(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Re(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return n.now=function(){return n.fromMillis(Date.now())},n.fromDate=function(t){return n.fromMillis(t.getTime())},n.fromMillis=function(t){var e=Math.floor(t/1e3);return new n(e,1e6*(t-1e3*e))},n.prototype.toDate=function(){return new Date(this.toMillis())},n.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},n.prototype.T=function(t){return this.seconds===t.seconds?Pn(this.nanoseconds,t.nanoseconds):Pn(this.seconds,t.seconds)},n.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},n.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},n.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},n}(),$n=function(){function n(t){this.timestamp=t}return n.I=function(t){return new n(t)},n.min=function(){return new n(new jl(0,0))},n.prototype.o=function(t){return this.timestamp.T(t.timestamp)},n.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},n.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},n.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},n.prototype.A=function(){return this.timestamp},n}(),vie=function(){function n(t,e,i){e===void 0?e=0:e>t.length&&Dt(),i===void 0?i=t.length-e:i>t.length-e&&Dt(),this.segments=t,this.offset=e,this.R=i}return Object.defineProperty(n.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(t){return n.P(this,t)===0},n.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof n?t.forEach(function(i){e.push(i)}):e.push(t),this.V(e)},n.prototype.limit=function(){return this.offset+this.length},n.prototype.g=function(t){return t=t===void 0?1:t,this.V(this.segments,this.offset+t,this.length-t)},n.prototype.p=function(){return this.V(this.segments,this.offset,this.length-1)},n.prototype.v=function(){return this.segments[this.offset]},n.prototype.S=function(){return this.get(this.length-1)},n.prototype.get=function(t){return this.segments[this.offset+t]},n.prototype._=function(){return this.length===0},n.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},n.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},n.prototype.forEach=function(t){for(var e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])},n.prototype.F=function(){return this.segments.slice(this.offset,this.limit())},n.P=function(t,e){for(var i=Math.min(t.length,e.length),r=0;r<i;r++){var o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},n}(),Cr=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return pe.__extends(t,n),t.prototype.V=function(e,i,r){return new t(e,i,r)},t.prototype.N=function(){return this.F().join("/")},t.prototype.toString=function(){return this.N()},t.$=function(e){if(e.indexOf("//")>=0)throw new Re(Ie.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter(function(i){return i.length>0}))},t.k=function(){return new t([])},t}(vie),UPe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bd=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return pe.__extends(t,n),t.prototype.V=function(e,i,r){return new t(e,i,r)},t.M=function(e){return UPe.test(e)},t.prototype.N=function(){return this.F().map(function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.M(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.N()},t.prototype.O=function(){return this.length===1&&this.get(0)==="__name__"},t.L=function(){return new t(["__name__"])},t.B=function(e){for(var i=[],r="",o=0,s=function(){if(r.length===0)throw new Re(Ie.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(r),r=""},a=!1;o<e.length;){var l=e[o];if(l==="\\"){if(o+1===e.length)throw new Re(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[o+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Re(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,o+=2}else l==="`"?(a=!a,o++):l!=="."||a?(r+=l,o++):(s(),o++)}if(s(),a)throw new Re(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(i)},t.k=function(){return new t([])},t}(vie),zt=function(){function n(t){this.path=t}return n.q=function(t){return new n(Cr.$(t).g(5))},n.prototype.U=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},n.prototype.isEqual=function(t){return t!==null&&Cr.P(this.path,t.path)===0},n.prototype.toString=function(){return this.path.toString()},n.P=function(t,e){return Cr.P(t.path,e.path)},n.W=function(t){return t.length%2==0},n.j=function(t){return new n(new Cr(t.slice()))},n}();function Tv(n){return n==null}function sB(n){return n===-0&&1/n==-1/0}function _ie(n){return typeof n=="number"&&Number.isInteger(n)&&!sB(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var HPe=function(n,t,e,i,r,o,s){t===void 0&&(t=null),e===void 0&&(e=[]),i===void 0&&(i=[]),r===void 0&&(r=null),o===void 0&&(o=null),s===void 0&&(s=null),this.path=n,this.collectionGroup=t,this.orderBy=e,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.K=null};function vne(n,t,e,i,r,o,s){return t===void 0&&(t=null),e===void 0&&(e=[]),i===void 0&&(i=[]),r===void 0&&(r=null),o===void 0&&(o=null),s===void 0&&(s=null),new HPe(n,t,e,i,r,o,s)}function Cx(n){var t=hx(n);if(t.K===null){var e=t.path.N();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(function(i){return function(r){return r.field.N()+r.op.toString()+sV(r.value)}(i)}).join(","),e+="|ob:",e+=t.orderBy.map(function(i){return(r=i).field.N()+r.dir;var r}).join(","),Tv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=fB(t.startAt)),t.endAt&&(e+="|ub:",e+=fB(t.endAt)),t.K=e}return t.K}function bB(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<n.orderBy.length;e++)if(!fke(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(var i=0;i<n.filters.length;i++)if(r=n.filters[i],o=t.filters[i],!(r instanceof ll&&o instanceof ll&&r.op===o.op&&r.field.isEqual(o.field)&&lf(r.value,o.value)))return!1;var r,o;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Pne(n.startAt,t.startAt)&&Pne(n.endAt,t.endAt)}function fx(n){return zt.W(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Gl=function(){function n(t){this.G=t}return n.fromBase64String=function(t){return new n(atob(t))},n.fromUint8Array=function(t){return new n(function(e){for(var i="",r=0;r<e.length;++r)i+=String.fromCharCode(e[r]);return i}(t))},n.prototype.toBase64=function(){return t=this.G,btoa(t);var t},n.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.G)},n.prototype.H=function(){return 2*this.G.length},n.prototype.o=function(t){return Pn(this.G,t.G)},n.prototype.isEqual=function(t){return this.G===t.G},n}();Gl.Y=new Gl("");var Eo,ri,CB=function(){function n(t,e,i,r,o,s,a){o===void 0&&(o=$n.min()),s===void 0&&(s=$n.min()),a===void 0&&(a=Gl.Y),this.target=t,this.targetId=e,this.J=i,this.sequenceNumber=r,this.X=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}return n.prototype.Z=function(t){return new n(this.target,this.targetId,this.J,t,this.X,this.lastLimboFreeSnapshotVersion,this.resumeToken)},n.prototype.tt=function(t,e){return new n(this.target,this.targetId,this.J,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},n.prototype.et=function(t){return new n(this.target,this.targetId,this.J,this.sequenceNumber,this.X,t,this.resumeToken)},n}(),VPe=function(n){this.count=n};function yie(n){switch(n){case Ie.OK:return Dt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0;default:return Dt()}}function wie(n){if(n===void 0)return Kr("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case Eo.OK:return Ie.OK;case Eo.CANCELLED:return Ie.CANCELLED;case Eo.UNKNOWN:return Ie.UNKNOWN;case Eo.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Eo.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Eo.INTERNAL:return Ie.INTERNAL;case Eo.UNAVAILABLE:return Ie.UNAVAILABLE;case Eo.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Eo.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Eo.NOT_FOUND:return Ie.NOT_FOUND;case Eo.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Eo.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Eo.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Eo.ABORTED:return Ie.ABORTED;case Eo.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Eo.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Eo.DATA_LOSS:return Ie.DATA_LOSS;default:return Dt()}}(ri=Eo||(Eo={}))[ri.OK=0]="OK",ri[ri.CANCELLED=1]="CANCELLED",ri[ri.UNKNOWN=2]="UNKNOWN",ri[ri.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ri[ri.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ri[ri.NOT_FOUND=5]="NOT_FOUND",ri[ri.ALREADY_EXISTS=6]="ALREADY_EXISTS",ri[ri.PERMISSION_DENIED=7]="PERMISSION_DENIED",ri[ri.UNAUTHENTICATED=16]="UNAUTHENTICATED",ri[ri.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ri[ri.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ri[ri.ABORTED=10]="ABORTED",ri[ri.OUT_OF_RANGE=11]="OUT_OF_RANGE",ri[ri.UNIMPLEMENTED=12]="UNIMPLEMENTED",ri[ri.INTERNAL=13]="INTERNAL",ri[ri.UNAVAILABLE=14]="UNAVAILABLE",ri[ri.DATA_LOSS=15]="DATA_LOSS";var Oa=function(){function n(t,e){this.P=t,this.root=e||Ig.EMPTY}return n.prototype.nt=function(t,e){return new n(this.P,this.root.nt(t,e,this.P).copy(null,null,Ig.st,null,null))},n.prototype.remove=function(t){return new n(this.P,this.root.remove(t,this.P).copy(null,null,Ig.st,null,null))},n.prototype.get=function(t){for(var e=this.root;!e._();){var i=this.P(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null},n.prototype.indexOf=function(t){for(var e=0,i=this.root;!i._();){var r=this.P(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1},n.prototype._=function(){return this.root._()},Object.defineProperty(n.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),n.prototype.it=function(){return this.root.it()},n.prototype.rt=function(){return this.root.rt()},n.prototype.ot=function(t){return this.root.ot(t)},n.prototype.forEach=function(t){this.ot(function(e,i){return t(e,i),!1})},n.prototype.toString=function(){var t=[];return this.ot(function(e,i){return t.push(e+":"+i),!1}),"{"+t.join(", ")+"}"},n.prototype.ht=function(t){return this.root.ht(t)},n.prototype.at=function(){return new XF(this.root,null,this.P,!1)},n.prototype.ut=function(t){return new XF(this.root,t,this.P,!1)},n.prototype.ct=function(){return new XF(this.root,null,this.P,!0)},n.prototype.lt=function(t){return new XF(this.root,t,this.P,!0)},n}(),XF=function(){function n(t,e,i,r){this._t=r,this.ft=[];for(var o=1;!t._();)if(o=e?i(t.key,e):1,r&&(o*=-1),o<0)t=this._t?t.left:t.right;else{if(o===0){this.ft.push(t);break}this.ft.push(t),t=this._t?t.right:t.left}}return n.prototype.dt=function(){var t=this.ft.pop(),e={key:t.key,value:t.value};if(this._t)for(t=t.left;!t._();)this.ft.push(t),t=t.right;else for(t=t.right;!t._();)this.ft.push(t),t=t.left;return e},n.prototype.wt=function(){return this.ft.length>0},n.prototype.Tt=function(){if(this.ft.length===0)return null;var t=this.ft[this.ft.length-1];return{key:t.key,value:t.value}},n}(),Ig=function(){function n(t,e,i,r,o){this.key=t,this.value=e,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}return n.prototype.copy=function(t,e,i,r,o){return new n(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)},n.prototype._=function(){return!1},n.prototype.ot=function(t){return this.left.ot(t)||t(this.key,this.value)||this.right.ot(t)},n.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},n.prototype.min=function(){return this.left._()?this:this.left.min()},n.prototype.it=function(){return this.min().key},n.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},n.prototype.nt=function(t,e,i){var r=this,o=i(t,r.key);return(r=o<0?r.copy(null,null,null,r.left.nt(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.nt(t,e,i))).Et()},n.prototype.It=function(){if(this.left._())return n.EMPTY;var t=this;return t.left.At()||t.left.left.At()||(t=t.Rt()),(t=t.copy(null,null,null,t.left.It(),null)).Et()},n.prototype.remove=function(t,e){var i,r=this;if(e(t,r.key)<0)r.left._()||r.left.At()||r.left.left.At()||(r=r.Rt()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.At()&&(r=r.Pt()),r.right._()||r.right.At()||r.right.left.At()||(r=r.Vt()),e(t,r.key)===0){if(r.right._())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.It())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.Et()},n.prototype.At=function(){return this.color},n.prototype.Et=function(){var t=this;return t.right.At()&&!t.left.At()&&(t=t.gt()),t.left.At()&&t.left.left.At()&&(t=t.Pt()),t.left.At()&&t.right.At()&&(t=t.yt()),t},n.prototype.Rt=function(){var t=this.yt();return t.right.left.At()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Pt())).gt()).yt()),t},n.prototype.Vt=function(){var t=this.yt();return t.left.left.At()&&(t=(t=t.Pt()).yt()),t},n.prototype.gt=function(){var t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},n.prototype.Pt=function(){var t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},n.prototype.yt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},n.prototype.pt=function(){var t=this.bt();return Math.pow(2,t)<=this.size+1},n.prototype.bt=function(){if(this.At()&&this.left.At()||this.right.At())throw Dt();var t=this.left.bt();if(t!==this.right.bt())throw Dt();return t+(this.At()?0:1)},n}();Ig.EMPTY=null,Ig.RED=!0,Ig.st=!1,Ig.EMPTY=new(function(){function n(){this.size=0}return Object.defineProperty(n.prototype,"key",{get:function(){throw Dt()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){throw Dt()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){throw Dt()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"left",{get:function(){throw Dt()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){throw Dt()},enumerable:!1,configurable:!0}),n.prototype.copy=function(t,e,i,r,o){return this},n.prototype.nt=function(t,e,i){return new Ig(t,e)},n.prototype.remove=function(t,e){return this},n.prototype._=function(){return!0},n.prototype.ot=function(t){return!1},n.prototype.ht=function(t){return!1},n.prototype.it=function(){return null},n.prototype.rt=function(){return null},n.prototype.At=function(){return!1},n.prototype.pt=function(){return!0},n.prototype.bt=function(){return 0},n}());var ts=function(){function n(t){this.P=t,this.data=new Oa(this.P)}return n.prototype.has=function(t){return this.data.get(t)!==null},n.prototype.first=function(){return this.data.it()},n.prototype.last=function(){return this.data.rt()},Object.defineProperty(n.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),n.prototype.indexOf=function(t){return this.data.indexOf(t)},n.prototype.forEach=function(t){this.data.ot(function(e,i){return t(e),!1})},n.prototype.vt=function(t,e){for(var i=this.data.ut(t[0]);i.wt();){var r=i.dt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},n.prototype.St=function(t,e){var i;for(i=e!==void 0?this.data.ut(e):this.data.at();i.wt();)if(!t(i.dt().key))return},n.prototype.Dt=function(t){var e=this.data.ut(t);return e.wt()?e.dt().key:null},n.prototype.at=function(){return new _ne(this.data.at())},n.prototype.ut=function(t){return new _ne(this.data.ut(t))},n.prototype.add=function(t){return this.copy(this.data.remove(t).nt(t,!0))},n.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},n.prototype._=function(){return this.data._()},n.prototype.Ct=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(i){e=e.add(i)}),e},n.prototype.isEqual=function(t){if(!(t instanceof n)||this.size!==t.size)return!1;for(var e=this.data.at(),i=t.data.at();e.wt();){var r=e.dt().key,o=i.dt().key;if(this.P(r,o)!==0)return!1}return!0},n.prototype.F=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},n.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},n.prototype.copy=function(t){var e=new n(this.P);return e.data=t,e},n}(),_ne=function(){function n(t){this.Ft=t}return n.prototype.dt=function(){return this.Ft.dt().key},n.prototype.wt=function(){return this.Ft.wt()},n}(),QPe=new Oa(zt.P);function Dv(){return QPe}function aB(){return Dv()}var jPe=new Oa(zt.P);function px(){return jPe}var GPe=new Oa(zt.P),WPe=new ts(zt.P);function lr(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=WPe,i=0,r=n;i<r.length;i++){var o=r[i];e=e.add(o)}return e}var KPe=new ts(Pn);function EB(){return KPe}var bie=function(){function n(t){this.P=t?function(e,i){return t(e,i)||zt.P(e.key,i.key)}:function(e,i){return zt.P(e.key,i.key)},this.Nt=px(),this.$t=new Oa(this.P)}return n.kt=function(t){return new n(t.P)},n.prototype.has=function(t){return this.Nt.get(t)!=null},n.prototype.get=function(t){return this.Nt.get(t)},n.prototype.first=function(){return this.$t.it()},n.prototype.last=function(){return this.$t.rt()},n.prototype._=function(){return this.$t._()},n.prototype.indexOf=function(t){var e=this.Nt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(n.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),n.prototype.forEach=function(t){this.$t.ot(function(e,i){return t(e),!1})},n.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Nt.nt(t.key,t),e.$t.nt(t,null))},n.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Nt.remove(t),this.$t.remove(e)):this},n.prototype.isEqual=function(t){if(!(t instanceof n)||this.size!==t.size)return!1;for(var e=this.$t.at(),i=t.$t.at();e.wt();){var r=e.dt().key,o=i.dt().key;if(!r.isEqual(o))return!1}return!0},n.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},n.prototype.copy=function(t,e){var i=new n;return i.P=this.P,i.Nt=t,i.$t=e,i},n}(),yne=function(){function n(){this.xt=new Oa(zt.P)}return n.prototype.track=function(t){var e=t.doc.key,i=this.xt.get(e);i?t.type!==0&&i.type===3?this.xt=this.xt.nt(e,t):t.type===3&&i.type!==1?this.xt=this.xt.nt(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.xt=this.xt.nt(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.xt=this.xt.remove(e):t.type===1&&i.type===2?this.xt=this.xt.nt(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):Dt():this.xt=this.xt.nt(e,t)},n.prototype.Mt=function(){var t=[];return this.xt.ot(function(e,i){t.push(i)}),t},n}(),lB=function(){function n(t,e,i,r,o,s,a,l){this.query=t,this.docs=e,this.Ot=i,this.docChanges=r,this.Lt=o,this.fromCache=s,this.Bt=a,this.qt=l}return n.Ut=function(t,e,i,r){var o=[];return e.forEach(function(s){o.push({type:0,doc:s})}),new n(t,e,bie.kt(e),o,i,r,!0,!1)},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return!this.Lt._()},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Bt===t.Bt&&this.Lt.isEqual(t.Lt)&&Vw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ot.isEqual(t.Ot)))return!1;var e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0},n}(),nV=function(){function n(t,e,i,r,o){this.X=t,this.Qt=e,this.Wt=i,this.jt=r,this.Kt=o}return n.Gt=function(t,e){var i=new Map;return i.set(t,iV.zt(t,e)),new n($n.min(),i,EB(),Dv(),lr())},n}(),iV=function(){function n(t,e,i,r,o){this.resumeToken=t,this.Ht=e,this.Yt=i,this.Jt=r,this.Xt=o}return n.zt=function(t,e){return new n(Gl.Y,e,lr(),lr(),lr())},n}(),rB=function(n,t,e,i){this.Zt=n,this.removedTargetIds=t,this.key=e,this.te=i},Cie=function(n,t){this.targetId=n,this.ee=t},Eie=function(n,t,e,i){e===void 0&&(e=Gl.Y),i===void 0&&(i=null),this.state=n,this.targetIds=t,this.resumeToken=e,this.cause=i},wne=function(){function n(){this.ne=0,this.se=Cne(),this.ie=Gl.Y,this.re=!1,this.oe=!0}return Object.defineProperty(n.prototype,"Ht",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"he",{get:function(){return this.ne!==0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ae",{get:function(){return this.oe},enumerable:!1,configurable:!0}),n.prototype.ue=function(t){t.H()>0&&(this.oe=!0,this.ie=t)},n.prototype.ce=function(){var t=lr(),e=lr(),i=lr();return this.se.forEach(function(r,o){switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Dt()}}),new iV(this.ie,this.re,t,e,i)},n.prototype.le=function(){this.oe=!1,this.se=Cne()},n.prototype._e=function(t,e){this.oe=!0,this.se=this.se.nt(t,e)},n.prototype.fe=function(t){this.oe=!0,this.se=this.se.remove(t)},n.prototype.de=function(){this.ne+=1},n.prototype.we=function(){this.ne-=1},n.prototype.Te=function(){this.oe=!0,this.re=!0},n}(),zPe=function(){function n(t){this.Ee=t,this.Ie=new Map,this.me=Dv(),this.Ae=bne(),this.Re=new ts(Pn)}return n.prototype.Pe=function(t){for(var e=0,i=t.Zt;e<i.length;e++){var r=i[e];t.te instanceof Ai?this.Ve(r,t.te):t.te instanceof ws&&this.ge(r,t.key,t.te)}for(var o=0,s=t.removedTargetIds;o<s.length;o++){var a=s[o];this.ge(a,t.key,t.te)}},n.prototype.ye=function(t){var e=this;this.pe(t,function(i){var r=e.be(i);switch(t.state){case 0:e.ve(i)&&r.ue(t.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(t.resumeToken);break;case 2:r.we(),r.he||e.removeTarget(i);break;case 3:e.ve(i)&&(r.Te(),r.ue(t.resumeToken));break;case 4:e.ve(i)&&(e.Se(i),r.ue(t.resumeToken));break;default:Dt()}})},n.prototype.pe=function(t,e){var i=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ie.forEach(function(r,o){i.ve(o)&&e(o)})},n.prototype.De=function(t){var e=t.targetId,i=t.ee.count,r=this.Ce(e);if(r){var o=r.target;if(fx(o))if(i===0){var s=new zt(o.path);this.ge(e,s,new ws(s,$n.min()))}else Qt(i===1);else this.Fe(e)!==i&&(this.Se(e),this.Re=this.Re.add(e))}},n.prototype.Ne=function(t){var e=this,i=new Map;this.Ie.forEach(function(s,a){var l=e.Ce(a);if(l){if(s.Ht&&fx(l.target)){var u=new zt(l.target.path);e.me.get(u)!==null||e.$e(a,u)||e.ge(a,u,new ws(u,t))}s.ae&&(i.set(a,s.ce()),s.le())}});var r=lr();this.Ae.forEach(function(s,a){var l=!0;a.St(function(u){var d=e.Ce(u);return!d||d.J===2||(l=!1,!1)}),l&&(r=r.add(s))});var o=new nV(t,i,this.Re,this.me,r);return this.me=Dv(),this.Ae=bne(),this.Re=new ts(Pn),o},n.prototype.Ve=function(t,e){if(this.ve(t)){var i=this.$e(t,e.key)?2:0;this.be(t)._e(e.key,i),this.me=this.me.nt(e.key,e),this.Ae=this.Ae.nt(e.key,this.ke(e.key).add(t))}},n.prototype.ge=function(t,e,i){if(this.ve(t)){var r=this.be(t);this.$e(t,e)?r._e(e,1):r.fe(e),this.Ae=this.Ae.nt(e,this.ke(e).delete(t)),i&&(this.me=this.me.nt(e,i))}},n.prototype.removeTarget=function(t){this.Ie.delete(t)},n.prototype.Fe=function(t){var e=this.be(t).ce();return this.Ee.xe(t).size+e.Yt.size-e.Xt.size},n.prototype.de=function(t){this.be(t).de()},n.prototype.be=function(t){var e=this.Ie.get(t);return e||(e=new wne,this.Ie.set(t,e)),e},n.prototype.ke=function(t){var e=this.Ae.get(t);return e||(e=new ts(Pn),this.Ae=this.Ae.nt(t,e)),e},n.prototype.ve=function(t){var e=this.Ce(t)!==null;return e||ct("WatchChangeAggregator","Detected inactive target",t),e},n.prototype.Ce=function(t){var e=this.Ie.get(t);return e&&e.he?null:this.Ee.Me(t)},n.prototype.Se=function(t){var e=this;this.Ie.set(t,new wne),this.Ee.xe(t).forEach(function(i){e.ge(t,i,null)})},n.prototype.$e=function(t,e){return this.Ee.xe(t).has(e)},n}();function bne(){return new Oa(zt.P)}function Cne(){return new Oa(zt.P)}function rV(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function Ax(n){var t=Og(n.mapValue.fields.__local_write_time__.timestampValue);return new jl(t.seconds,t.nanos)}var qPe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rV(n)?4:10:Dt()}function lf(n,t){var e=Mg(n);if(e!==Mg(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ax(n).isEqual(Ax(t));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;var o=Og(i.timestampValue),s=Og(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(i,r){return Rw(i.bytesValue).isEqual(Rw(r.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return xo(i.geoPointValue.latitude)===xo(r.geoPointValue.latitude)&&xo(i.geoPointValue.longitude)===xo(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return xo(i.integerValue)===xo(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){var o=xo(i.doubleValue),s=xo(r.doubleValue);return o===s?sB(o)===sB(s):isNaN(o)&&isNaN(s)}return!1}(n,t);case 9:return Nw(n.arrayValue.values||[],t.arrayValue.values||[],lf);case 10:return function(i,r){var o=i.mapValue.fields||{},s=r.mapValue.fields||{};if(mne(o)!==mne(s))return!1;for(var a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!lf(o[a],s[a])))return!1;return!0}(n,t);default:return Dt()}}function oV(n,t){return(n.values||[]).find(function(e){return lf(e,t)})!==void 0}function gx(n,t){var e=Mg(n),i=Mg(t);if(e!==i)return Pn(e,i);switch(e){case 0:return 0;case 1:return Pn(n.booleanValue,t.booleanValue);case 2:return function(r,o){var s=xo(r.integerValue||r.doubleValue),a=xo(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,t);case 3:return Ene(n.timestampValue,t.timestampValue);case 4:return Ene(Ax(n),Ax(t));case 5:return Pn(n.stringValue,t.stringValue);case 6:return function(r,o){var s=Rw(r),a=Rw(o);return s.o(a)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){for(var s=r.split("/"),a=o.split("/"),l=0;l<s.length&&l<a.length;l++){var u=Pn(s[l],a[l]);if(u!==0)return u}return Pn(s.length,a.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){var s=Pn(xo(r.latitude),xo(o.latitude));return s!==0?s:Pn(xo(r.longitude),xo(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){for(var s=r.values||[],a=o.values||[],l=0;l<s.length&&l<a.length;++l){var u=gx(s[l],a[l]);if(u)return u}return Pn(s.length,a.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){var s=r.fields||{},a=Object.keys(s),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(var d=0;d<a.length&&d<u.length;++d){var h=Pn(a[d],u[d]);if(h!==0)return h;var f=gx(s[a[d]],l[u[d]]);if(f!==0)return f}return Pn(a.length,u.length)}(n.mapValue,t.mapValue);default:throw Dt()}}function Ene(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pn(n,t);var e=Og(n),i=Og(t),r=Pn(e.seconds,i.seconds);return r!==0?r:Pn(e.nanos,i.nanos)}function sV(n){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(o){var s=Og(o);return"time("+s.seconds+","+s.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rw(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,zt.q(r).toString()):"geoPointValue"in e?"geo("+(i=e.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in e?function(o){for(var s="[",a=!0,l=0,u=o.values||[];l<u.length;l++){var d=u[l];a?a=!1:s+=",",s+=t(d)}return s+"]"}(e.arrayValue):"mapValue"in e?function(o){for(var s="{",a=!0,l=0,u=Object.keys(o.fields||{}).sort();l<u.length;l++){var d=u[l];a?a=!1:s+=",",s+=d+":"+t(o.fields[d])}return s+"}"}(e.mapValue):Dt();var i,r}(n)}function Og(n){if(Qt(!!n),typeof n=="string"){var t=0,e=qPe.exec(n);if(Qt(!!e),e[1]){var i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}var r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:xo(n.seconds),nanos:xo(n.nanos)}}function xo(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Rw(n){return typeof n=="string"?Gl.fromBase64String(n):Gl.fromUint8Array(n)}function JF(n,t){return{referenceValue:"projects/"+n.projectId+"/databases/"+n.database+"/documents/"+t.path.N()}}function W6(n){return!!n&&"integerValue"in n}function aV(n){return!!n&&"arrayValue"in n}function Sie(n){return!!n&&"nullValue"in n}function xie(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lV(n){return!!n&&"mapValue"in n}var $Pe={asc:"ASCENDING",desc:"DESCENDING"},YPe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZPe=function(n,t){this.s=n,this.Oe=t};function Iie(n){return{integerValue:""+n}}function Tie(n,t){if(n.Oe){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sB(t)?"-0":t}}function Die(n,t){return _ie(t)?Iie(t):Tie(n,t)}function cB(n,t){return n.Oe?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mie(n,t){return n.Oe?t.toBase64():t.toUint8Array()}function XPe(n,t){return cB(n,t.A())}function Md(n){return Qt(!!n),$n.I(function(t){var e=Og(t);return new jl(e.seconds,e.nanos)}(n))}function cV(n,t){return function(e){return new Cr(["projects",e.projectId,"databases",e.database])}(n).child("documents").child(t).N()}function Oie(n){var t=Cr.$(n);return Qt(kie(t)),t}function Bw(n,t){return cV(n.s,t.path)}function sf(n,t){var e=Oie(t);return Qt(e.get(1)===n.s.projectId),Qt(!e.get(3)&&!n.s.database||e.get(3)===n.s.database),new zt(Fie(e))}function K6(n,t){return cV(n.s,t)}function Sne(n){var t=Oie(n);return t.length===4?Cr.k():Fie(t)}function mx(n){return new Cr(["projects",n.s.projectId,"databases",n.s.database]).N()}function Fie(n){return Qt(n.length>4&&n.get(4)==="documents"),n.g(5)}function xne(n,t,e){return{name:Bw(n,t),fields:e.proto.mapValue.fields}}function uB(n,t){var e;if(t instanceof xx)e={update:xne(n,t.key,t.value)};else if(t instanceof Ix)e={delete:Bw(n,t.key)};else if(t instanceof Pg)e={update:xne(n,t.key,t.data),updateMask:tke(t.Le)};else if(t instanceof Rv)e={transform:{document:Bw(n,t.key),fieldTransforms:t.fieldTransforms.map(function(i){return function(r,o){var s=o.transform;if(s instanceof Lw)return{fieldPath:o.field.N(),setToServerValue:"REQUEST_TIME"};if(s instanceof Mv)return{fieldPath:o.field.N(),appendMissingElements:{values:s.elements}};if(s instanceof Ov)return{fieldPath:o.field.N(),removeAllFromArray:{values:s.elements}};if(s instanceof Uw)return{fieldPath:o.field.N(),increment:s.Be};throw Dt()}(0,i)})}};else{if(!(t instanceof uV))return Dt();e={verify:Bw(n,t.key)}}return t.Ue.qe||(e.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:XPe(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Dt()}(n,t.Ue)),e}function Ine(n,t){var e=t.currentDocument?function(d){return d.updateTime!==void 0?Ma.updateTime(Md(d.updateTime)):d.exists!==void 0?Ma.exists(d.exists):Ma.Qe()}(t.currentDocument):Ma.Qe();if(t.update){t.update.name;var i=sf(n,t.update.name),r=new Fg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(d){var h=d.fieldPaths||[];return new Hw(h.map(function(f){return Bd.B(f)}))}(t.updateMask);return new Pg(i,r,o,e)}return new xx(i,r,e)}if(t.delete){var s=sf(n,t.delete);return new Ix(s,e)}if(t.transform){var a=sf(n,t.transform.document),l=t.transform.fieldTransforms.map(function(d){return function(h,f){var A=null;if("setToServerValue"in f)Qt(f.setToServerValue==="REQUEST_TIME"),A=new Lw;else if("appendMissingElements"in f){var g=f.appendMissingElements.values||[];A=new Mv(g)}else if("removeAllFromArray"in f){var m=f.removeAllFromArray.values||[];A=new Ov(m)}else"increment"in f?A=new Uw(h,f.increment):Dt();var b=Bd.B(f.fieldPath);return new Ex(b,A)}(n,d)});return Qt(e.exists===!0),new Rv(a,l)}if(t.verify){var u=sf(n,t.verify);return new uV(u,e)}return Dt()}function Bie(n,t){return{documents:[K6(n,t.path)]}}function Pie(n,t){var e={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(e.parent=K6(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=K6(n,i.p()),e.structuredQuery.from=[{collectionId:i.S()}]);var r=function(a){if(a.length!==0){var l=a.map(function(u){return u instanceof ll?function(d){if(d.op==="=="){if(xie(d.value))return{unaryFilter:{field:eB(d.field),op:"IS_NAN"}};if(Sie(d.value))return{unaryFilter:{field:eB(d.field),op:"IS_NULL"}}}return{fieldFilter:{field:eB(d.field),op:(h=d.op,YPe[h]),value:d.value}};var h}(u):Dt()});return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(t.filters);r&&(e.structuredQuery.where=r);var o=function(a){if(a.length!==0)return a.map(function(l){return{field:eB((u=l).field),direction:(d=u.dir,$Pe[d])};var u,d})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);var s=function(a,l){return a.Oe||Tv(l)?l:{value:l}}(n,t.limit);return s!==null&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt=Tne(t.startAt)),t.endAt&&(e.structuredQuery.endAt=Tne(t.endAt)),e}function Tne(n){return{before:n.before,values:n.position}}function Dne(n){var t=!!n.before,e=n.values||[];return new vx(e,t)}function eB(n){return{fieldPath:n.N()}}function dB(n){return Bd.B(n.fieldPath)}function JPe(n){return ll.create(dB(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function eke(n){switch(n.unaryFilter.op){case"IS_NAN":var t=dB(n.unaryFilter.field);return ll.create(t,"==",{doubleValue:NaN});case"IS_NULL":var e=dB(n.unaryFilter.field);return ll.create(e,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Dt()}}function tke(n){var t=[];return n.fields.forEach(function(e){return t.push(e.N())}),{fieldPaths:t}}function kie(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var SB=function(){this.je=void 0};function nke(n,t,e){return n instanceof Lw?function(i,r){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Mv?Rie(n,t):n instanceof Ov?Lie(n,t):function(i,r){var o=Nie(i,r),s=Mne(o)+Mne(i.Be);return W6(o)&&W6(i.Be)?Iie(s):Tie(i.serializer,s)}(n,t)}function ike(n,t,e){return n instanceof Mv?Rie(n,t):n instanceof Ov?Lie(n,t):e}function Nie(n,t){return n instanceof Uw?W6(e=t)||function(i){return!!i&&"doubleValue"in i}(e)?t:{integerValue:0}:null;var e}var Lw=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return pe.__extends(t,n),t}(SB),Mv=function(n){function t(e){var i=this;return(i=n.call(this)||this).elements=e,i}return pe.__extends(t,n),t}(SB);function Rie(n,t){for(var e=Uie(t),i=function(s){e.some(function(a){return lf(a,s)})||e.push(s)},r=0,o=n.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:e}}}var Ov=function(n){function t(e){var i=this;return(i=n.call(this)||this).elements=e,i}return pe.__extends(t,n),t}(SB);function Lie(n,t){for(var e=Uie(t),i=function(s){e=e.filter(function(a){return!lf(a,s)})},r=0,o=n.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:e}}}var Uw=function(n){function t(e,i){var r=this;return(r=n.call(this)||this).serializer=e,r.Be=i,r}return pe.__extends(t,n),t}(SB);function Mne(n){return xo(n.integerValue||n.doubleValue)}function Uie(n){return aV(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Hw=function(){function n(t){this.fields=t,t.sort(Bd.P)}return n.prototype.Ke=function(t){for(var e=0,i=this.fields;e<i.length;e++)if(i[e].D(t))return!0;return!1},n.prototype.isEqual=function(t){return Nw(this.fields,t.fields,function(e,i){return e.isEqual(i)})},n}(),Ex=function(n,t){this.field=n,this.transform=t},rke=function(n,t){this.version=n,this.transformResults=t},Ma=function(){function n(t,e){this.updateTime=t,this.exists=e}return n.Qe=function(){return new n},n.exists=function(t){return new n(void 0,t)},n.updateTime=function(t){return new n(t)},Object.defineProperty(n.prototype,"qe",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},n}();function Ow(n,t){return n.updateTime!==void 0?t instanceof Ai&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t instanceof Ai}var Sx=function(){};function oke(n,t,e){return n instanceof xx?function(i,r,o){return new Ai(i.key,o.version,i.value,{hasCommittedMutations:!0})}(n,0,e):n instanceof Pg?function(i,r,o){if(!Ow(i.Ue,r))return new hB(i.key,o.version);var s=Hie(i,r);return new Ai(i.key,o.version,s,{hasCommittedMutations:!0})}(n,t,e):n instanceof Rv?function(i,r,o){if(Qt(o.transformResults!=null),!Ow(i.Ue,r))return new hB(i.key,o.version);var s=Vie(i,r),a=function(d,h,f){var A=[];Qt(d.length===f.length);for(var g=0;g<f.length;g++){var m=d[g],b=m.transform,S=null;h instanceof Ai&&(S=h.field(m.field)),A.push(ike(b,S,f[g]))}return A}(i.fieldTransforms,r,o.transformResults),l=o.version,u=Qie(i,s.data(),a);return new Ai(i.key,l,u,{hasCommittedMutations:!0})}(n,t,e):function(i,r,o){return new ws(i.key,o.version,{hasCommittedMutations:!0})}(n,0,e)}function z6(n,t,e,i){return n instanceof xx?function(r,o){if(!Ow(r.Ue,o))return o;var s=Fne(o);return new Ai(r.key,s,r.value,{Ge:!0})}(n,t):n instanceof Pg?function(r,o){if(!Ow(r.Ue,o))return o;var s=Fne(o),a=Hie(r,o);return new Ai(r.key,s,a,{Ge:!0})}(n,t):n instanceof Rv?function(r,o,s,a){if(!Ow(r.Ue,o))return o;var l=Vie(r,o),u=function(h,f,A,g){for(var m=[],b=0,S=h;b<S.length;b++){var F=S[b],R=F.transform,B=null;A instanceof Ai&&(B=A.field(F.field)),B===null&&g instanceof Ai&&(B=g.field(F.field)),m.push(nke(R,B,f))}return m}(r.fieldTransforms,s,o,a),d=Qie(r,l.data(),u);return new Ai(r.key,l.version,d,{Ge:!0})}(n,t,i,e):function(r,o){return Ow(r.Ue,o)?new ws(r.key,$n.min()):o}(n,t)}function ske(n,t){return n instanceof Rv?function(e,i){for(var r=null,o=0,s=e.fieldTransforms;o<s.length;o++){var a=s[o],l=i instanceof Ai?i.field(a.field):void 0,u=Nie(a.transform,l||null);u!=null&&(r=r==null?new Tx().set(a.field,u):r.set(a.field,u))}return r?r.ze():null}(n,t):null}function One(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.Ue.isEqual(t.Ue)&&(n.type===0?n.value.isEqual(t.value):n.type===1?n.data.isEqual(t.data)&&n.Le.isEqual(t.Le):n.type!==2||Nw(n.fieldTransforms,n.fieldTransforms,function(e,i){return function(r,o){return r.field.isEqual(o.field)&&function(s,a){return s instanceof Mv&&a instanceof Mv||s instanceof Ov&&a instanceof Ov?Nw(s.elements,a.elements,lf):s instanceof Uw&&a instanceof Uw?lf(s.Be,a.Be):s instanceof Lw&&a instanceof Lw}(r.transform,o.transform)}(e,i)}))}function Fne(n){return n instanceof Ai?n.version:$n.min()}var xx=function(n){function t(e,i,r){var o=this;return(o=n.call(this)||this).key=e,o.value=i,o.Ue=r,o.type=0,o}return pe.__extends(t,n),t}(Sx),Pg=function(n){function t(e,i,r,o){var s=this;return(s=n.call(this)||this).key=e,s.data=i,s.Le=r,s.Ue=o,s.type=1,s}return pe.__extends(t,n),t}(Sx);function Hie(n,t){return function(e,i){var r=new Tx(i);return e.Le.fields.forEach(function(o){if(!o._()){var s=e.data.field(o);s!==null?r.set(o,s):r.delete(o)}}),r.ze()}(n,t instanceof Ai?t.data():Fg.empty())}var Rv=function(n){function t(e,i){var r=this;return(r=n.call(this)||this).key=e,r.fieldTransforms=i,r.type=2,r.Ue=Ma.exists(!0),r}return pe.__extends(t,n),t}(Sx);function Vie(n,t){return t}function Qie(n,t,e){for(var i=new Tx(t),r=0;r<n.fieldTransforms.length;r++){var o=n.fieldTransforms[r];i.set(o.field,e[r])}return i.ze()}var Ix=function(n){function t(e,i){var r=this;return(r=n.call(this)||this).key=e,r.Ue=i,r.type=3,r}return pe.__extends(t,n),t}(Sx),uV=function(n){function t(e,i){var r=this;return(r=n.call(this)||this).key=e,r.Ue=i,r.type=4,r}return pe.__extends(t,n),t}(Sx),Fg=function(){function n(t){this.proto=t}return n.empty=function(){return new n({mapValue:{}})},n.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,i=0;i<t.length-1;++i)if(!e.mapValue.fields||!lV(e=e.mapValue.fields[t.get(i)]))return null;return(e=(e.mapValue.fields||{})[t.S()])||null},n.prototype.isEqual=function(t){return lf(this.proto,t.proto)},n}(),Tx=function(){function n(t){t===void 0&&(t=Fg.empty()),this.He=t,this.Ye=new Map}return n.prototype.set=function(t,e){return this.Je(t,e),this},n.prototype.delete=function(t){return this.Je(t,null),this},n.prototype.Je=function(t,e){for(var i=this.Ye,r=0;r<t.length-1;++r){var o=t.get(r),s=i.get(o);s instanceof Map?i=s:s&&Mg(s)===10?(s=new Map(Object.entries(s.mapValue.fields||{})),i.set(o,s),i=s):(s=new Map,i.set(o,s),i=s)}i.set(t.S(),e)},n.prototype.ze=function(){var t=this.Xe(Bd.k(),this.Ye);return t!=null?new Fg(t):this.He},n.prototype.Xe=function(t,e){var i=this,r=!1,o=this.He.field(t),s=lV(o)?Object.assign({},o.mapValue.fields):{};return e.forEach(function(a,l){if(a instanceof Map){var u=i.Xe(t.child(l),a);u!=null&&(s[l]=u,r=!0)}else a!==null?(s[l]=a,r=!0):s.hasOwnProperty(l)&&(delete s[l],r=!0)}),r?{mapValue:{fields:s}}:null},n}();function jie(n){var t=[];return Qw(n.fields||{},function(e,i){var r=new Bd([e]);if(lV(i)){var o=jie(i.mapValue).fields;if(o.length===0)t.push(r);else for(var s=0,a=o;s<a.length;s++){var l=a[s];t.push(r.child(l))}}else t.push(r)}),new Hw(t)}var dV=function(n,t){this.key=n,this.version=t},Ai=function(n){function t(e,i,r,o){var s=this;return(s=n.call(this,e,i)||this).Ze=r,s.Ge=!!o.Ge,s.hasCommittedMutations=!!o.hasCommittedMutations,s}return pe.__extends(t,n),t.prototype.field=function(e){return this.Ze.field(e)},t.prototype.data=function(){return this.Ze},t.prototype.tn=function(){return this.Ze.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.Ge===e.Ge&&this.hasCommittedMutations===e.hasCommittedMutations&&this.Ze.isEqual(e.Ze)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ze.toString()+", {hasLocalMutations: "+this.Ge+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Ge||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(dV),ws=function(n){function t(e,i,r){var o=this;return(o=n.call(this,e,i)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),o}return pe.__extends(t,n),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(dV),hB=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return pe.__extends(t,n),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(dV),Fv=function(){function n(t,e,i,r,o,s,a,l){e===void 0&&(e=null),i===void 0&&(i=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.en=i,this.filters=r,this.limit=o,this.nn=s,this.startAt=a,this.endAt=l,this.sn=null,this.rn=null,this.startAt&&this.on(this.startAt),this.endAt&&this.on(this.endAt)}return n.hn=function(t){return new n(t)},Object.defineProperty(n.prototype,"orderBy",{get:function(){if(this.sn===null){this.sn=[];var t=this.an(),e=this.un();if(t!==null&&e===null)t.O()||this.sn.push(new Fw(t)),this.sn.push(new Fw(Bd.L(),"asc"));else{for(var i=!1,r=0,o=this.en;r<o.length;r++){var s=o[r];this.sn.push(s),s.field.O()&&(i=!0)}if(!i){var a=this.en.length>0?this.en[this.en.length-1].dir:"asc";this.sn.push(new Fw(Bd.L(),a))}}}return this.sn},enumerable:!1,configurable:!0}),n.prototype.cn=function(t){var e=this.filters.concat([t]);return new n(this.path,this.collectionGroup,this.en.slice(),e,this.limit,this.nn,this.startAt,this.endAt)},n.prototype.ln=function(t){var e=this.en.concat([t]);return new n(this.path,this.collectionGroup,e,this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},n.prototype._n=function(t){return new n(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),t,"F",this.startAt,this.endAt)},n.prototype.fn=function(t){return new n(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),t,"L",this.startAt,this.endAt)},n.prototype.dn=function(t){return new n(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),this.limit,this.nn,t,this.endAt)},n.prototype.wn=function(t){return new n(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,t)},n.prototype.Tn=function(t){return new n(t,null,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},n.prototype.En=function(){return this.filters.length===0&&this.limit===null&&this.startAt==null&&this.endAt==null&&(this.en.length===0||this.en.length===1&&this.en[0].field.O())},n.prototype.In=function(){return!Tv(this.limit)&&this.nn==="F"},n.prototype.mn=function(){return!Tv(this.limit)&&this.nn==="L"},n.prototype.un=function(){return this.en.length>0?this.en[0].field:null},n.prototype.an=function(){for(var t=0,e=this.filters;t<e.length;t++){var i=e[t];if(i instanceof ll&&i.An())return i.field}return null},n.prototype.Rn=function(t){for(var e=0,i=this.filters;e<i.length;e++){var r=i[e];if(r instanceof ll&&t.indexOf(r.op)>=0)return r.op}return null},n.prototype.Pn=function(){return fx(this.We())},n.prototype.Vn=function(){return this.collectionGroup!==null},n.prototype.We=function(){if(!this.rn)if(this.nn==="F")this.rn=vne(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,i=this.orderBy;e<i.length;e++){var r=i[e],o=r.dir==="desc"?"asc":"desc";t.push(new Fw(r.field,o))}var s=this.endAt?new vx(this.endAt.position,!this.endAt.before):null,a=this.startAt?new vx(this.startAt.position,!this.startAt.before):null;this.rn=vne(this.path,this.collectionGroup,t,this.filters,this.limit,s,a)}return this.rn},n.prototype.on=function(t){},n}();function Vw(n,t){return bB(n.We(),t.We())&&n.nn===t.nn}function Gie(n){return Cx(n.We())+"|lt:"+n.nn}function q6(n){return"Query(target="+function(t){var e=t.path.N();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(i){return(r=i).field.N()+" "+r.op+" "+sV(r.value);var r}).join(", ")+"]"),Tv(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(i){return(r=i).field.N()+" ("+r.dir+")";var r}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+fB(t.startAt)),t.endAt&&(e+=", endAt: "+fB(t.endAt)),"Target("+e+")"}(n.We())+"; limitType="+n.nn+")"}function Dx(n,t){return function(e,i){var r=i.key.path;return e.collectionGroup!==null?i.key.U(e.collectionGroup)&&e.path.D(r):zt.W(e.path)?e.path.isEqual(r):e.path.C(r)}(n,t)&&function(e,i){for(var r=0,o=e.en;r<o.length;r++){var s=o[r];if(!s.field.O()&&i.field(s.field)===null)return!1}return!0}(n,t)&&function(e,i){for(var r=0,o=e.filters;r<o.length;r++)if(!o[r].matches(i))return!1;return!0}(n,t)&&function(e,i){return!(e.startAt&&!Bne(e.startAt,e.orderBy,i))&&(!e.endAt||!Bne(e.endAt,e.orderBy,i))}(n,t)}function Wie(n){return function(t,e){for(var i=!1,r=0,o=n.orderBy;r<o.length;r++){var s=o[r],a=hke(s,t,e);if(a!==0)return a;i=i||s.field.O()}return 0}}var ll=function(n){function t(e,i,r){var o=this;return(o=n.call(this)||this).field=e,o.op=i,o.value=r,o}return pe.__extends(t,n),t.create=function(e,i,r){if(e.O())return i==="in"?new lke(e,r):new ake(e,i,r);if(Sie(r)){if(i!=="==")throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,i,r)}if(xie(r)){if(i!=="==")throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,i,r)}return i==="array-contains"?new cke(e,r):i==="in"?new uke(e,r):i==="array-contains-any"?new dke(e,r):new t(e,i,r)},t.prototype.matches=function(e){var i=e.field(this.field);return i!==null&&Mg(this.value)===Mg(i)&&this.gn(gx(i,this.value))},t.prototype.gn=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case">":return e>0;case">=":return e>=0;default:return Dt()}},t.prototype.An=function(){return["<","<=",">",">="].indexOf(this.op)>=0},t}(function(){}),ake=function(n){function t(e,i,r){var o=this;return(o=n.call(this,e,i,r)||this).key=zt.q(r.referenceValue),o}return pe.__extends(t,n),t.prototype.matches=function(e){var i=zt.P(e.key,this.key);return this.gn(i)},t}(ll),lke=function(n){function t(e,i){var r=this;return(r=n.call(this,e,"in",i)||this).keys=(i.arrayValue.values||[]).map(function(o){return zt.q(o.referenceValue)}),r}return pe.__extends(t,n),t.prototype.matches=function(e){return this.keys.some(function(i){return i.isEqual(e.key)})},t}(ll),cke=function(n){function t(e,i){return n.call(this,e,"array-contains",i)||this}return pe.__extends(t,n),t.prototype.matches=function(e){var i=e.field(this.field);return aV(i)&&oV(i.arrayValue,this.value)},t}(ll),uke=function(n){function t(e,i){return n.call(this,e,"in",i)||this}return pe.__extends(t,n),t.prototype.matches=function(e){var i=e.field(this.field);return i!==null&&oV(this.value.arrayValue,i)},t}(ll),dke=function(n){function t(e,i){return n.call(this,e,"array-contains-any",i)||this}return pe.__extends(t,n),t.prototype.matches=function(e){var i=this,r=e.field(this.field);return!(!aV(r)||!r.arrayValue.values)&&r.arrayValue.values.some(function(o){return oV(i.value.arrayValue,o)})},t}(ll),vx=function(n,t){this.position=n,this.before=t};function fB(n){return(n.before?"b":"a")+":"+n.position.map(function(t){return sV(t)}).join(",")}function Bne(n,t,e){for(var i=0,r=0;r<n.position.length;r++){var o=t[r],s=n.position[r];if(i=o.field.O()?zt.P(zt.q(s.referenceValue),e.key):gx(s,e.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return n.before?i<=0:i<0}function Pne(n,t){if(n===null)return t===null;if(t===null||n.before!==t.before||n.position.length!==t.position.length)return!1;for(var e=0;e<n.position.length;e++)if(!lf(n.position[e],t.position[e]))return!1;return!0}var Fw=function(n,t){t===void 0&&(t="asc"),this.field=n,this.dir=t};function hke(n,t,e){var i=n.field.O()?zt.P(t.key,e.key):function(r,o,s){var a=o.field(r),l=s.field(r);return a!==null&&l!==null?gx(a,l):Dt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Dt()}}function fke(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}var hV=function(){function n(t,e,i,r){this.batchId=t,this.yn=e,this.baseMutations=i,this.mutations=r}return n.prototype.pn=function(t,e,i){for(var r=i.bn,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t)&&(e=oke(s,e,r[o]))}return e},n.prototype.vn=function(t,e){for(var i=0,r=this.baseMutations;i<r.length;i++){var o=r[i];o.key.isEqual(t)&&(e=z6(o,e,e,this.yn))}for(var s=e,a=0,l=this.mutations;a<l.length;a++){var u=l[a];u.key.isEqual(t)&&(e=z6(u,e,s,this.yn))}return e},n.prototype.Sn=function(t){var e=this,i=t;return this.mutations.forEach(function(r){var o=e.vn(r.key,t.get(r.key));o&&(i=i.nt(r.key,o))}),i},n.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},lr())},n.prototype.isEqual=function(t){return this.batchId===t.batchId&&Nw(this.mutations,t.mutations,function(e,i){return One(e,i)})&&Nw(this.baseMutations,t.baseMutations,function(e,i){return One(e,i)})},n}(),pke=function(){function n(t,e,i,r){this.batch=t,this.Dn=e,this.bn=i,this.Cn=r}return n.from=function(t,e,i){Qt(t.mutations.length===i.length);for(var r=GPe,o=t.mutations,s=0;s<o.length;s++)r=r.nt(o[s].key,i[s].version);return new n(t,e,i,r)},n}(),$e=function(){function n(t){var e=this;this.Fn=null,this.Nn=null,this.result=void 0,this.error=void 0,this.$n=!1,this.kn=!1,t(function(i){e.$n=!0,e.result=i,e.Fn&&e.Fn(i)},function(i){e.$n=!0,e.error=i,e.Nn&&e.Nn(i)})}return n.prototype.catch=function(t){return this.next(void 0,t)},n.prototype.next=function(t,e){var i=this;return this.kn&&Dt(),this.kn=!0,this.$n?this.error?this.xn(e,this.error):this.Mn(t,this.result):new n(function(r,o){i.Fn=function(s){i.Mn(t,s).next(r,o)},i.Nn=function(s){i.xn(e,s).next(r,o)}})},n.prototype.On=function(){var t=this;return new Promise(function(e,i){t.next(e,i)})},n.prototype.Ln=function(t){try{var e=t();return e instanceof n?e:n.resolve(e)}catch(i){return n.reject(i)}},n.prototype.Mn=function(t,e){return t?this.Ln(function(){return t(e)}):n.resolve(e)},n.prototype.xn=function(t,e){return t?this.Ln(function(){return t(e)}):n.reject(e)},n.resolve=function(t){return new n(function(e,i){e(t)})},n.reject=function(t){return new n(function(e,i){i(t)})},n.Bn=function(t){return new n(function(e,i){var r=0,o=0,s=!1;t.forEach(function(a){++r,a.next(function(){++o,s&&o===r&&e()},function(l){return i(l)})}),s=!0,o===r&&e()})},n.qn=function(t){for(var e=n.resolve(!1),i=function(s){e=e.next(function(a){return a?n.resolve(a):s()})},r=0,o=t;r<o.length;r++)i(o[r]);return e},n.forEach=function(t,e){var i=this,r=[];return t.forEach(function(o,s){r.push(e.call(i,o,s))}),this.Bn(r)},n}(),Kie=function(){function n(){this.Un=new jw(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Qn=!1}return Object.defineProperty(n.prototype,"readTime",{get:function(){return this.Wn},set:function(t){this.Wn=t},enumerable:!1,configurable:!0}),n.prototype.jn=function(t,e){this.Kn(),this.readTime=e,this.Un.set(t.key,t)},n.prototype.Gn=function(t,e){this.Kn(),e&&(this.readTime=e),this.Un.set(t,null)},n.prototype.zn=function(t,e){this.Kn();var i=this.Un.get(e);return i!==void 0?$e.resolve(i):this.Hn(t,e)},n.prototype.getEntries=function(t,e){return this.Yn(t,e)},n.prototype.apply=function(t){return this.Kn(),this.Qn=!0,this.Jn(t)},n.prototype.Kn=function(){},n}(),zie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qie=function(){function n(){this.Xn=[]}return n.prototype.Zn=function(t){this.Xn.push(t)},n.prototype.ts=function(){this.Xn.forEach(function(t){return t()})},n}(),kne=function(){function n(t,e,i){this.es=t,this.ns=e,this.ss=i}return n.prototype.rs=function(t,e){var i=this;return this.ns.os(t,e).next(function(r){return i.hs(t,e,r)})},n.prototype.hs=function(t,e,i){return this.es.zn(t,e).next(function(r){for(var o=0,s=i;o<s.length;o++)r=s[o].vn(e,r);return r})},n.prototype.as=function(t,e,i){var r=aB();return e.forEach(function(o,s){for(var a=0,l=i;a<l.length;a++)s=l[a].vn(o,s);r=r.nt(o,s)}),r},n.prototype.us=function(t,e){var i=this;return this.es.getEntries(t,e).next(function(r){return i.cs(t,r)})},n.prototype.cs=function(t,e){var i=this;return this.ns.ls(t,e).next(function(r){var o=i.as(t,e,r),s=Dv();return o.forEach(function(a,l){l||(l=new ws(a,$n.min())),s=s.nt(a,l)}),s})},n.prototype._s=function(t,e,i){return e.Pn()?this.fs(t,e.path):e.Vn()?this.ds(t,e,i):this.ws(t,e,i)},n.prototype.fs=function(t,e){return this.rs(t,new zt(e)).next(function(i){var r=px();return i instanceof Ai&&(r=r.nt(i.key,i)),r})},n.prototype.ds=function(t,e,i){var r=this,o=e.collectionGroup,s=px();return this.ss.Ts(t,o).next(function(a){return $e.forEach(a,function(l){var u=e.Tn(l.child(o));return r.ws(t,u,i).next(function(d){d.forEach(function(h,f){s=s.nt(h,f)})})}).next(function(){return s})})},n.prototype.ws=function(t,e,i){var r,o,s=this;return this.es._s(t,e,i).next(function(a){return r=a,s.ns.Es(t,e)}).next(function(a){return o=a,s.Is(t,o,r).next(function(l){r=l;for(var u=0,d=o;u<d.length;u++)for(var h=d[u],f=0,A=h.mutations;f<A.length;f++){var g=A[f],m=g.key,b=r.get(m),S=z6(g,b,b,h.yn);r=S instanceof Ai?r.nt(m,S):r.remove(m)}})}).next(function(){return r.forEach(function(a,l){Dx(e,l)||(r=r.remove(a))}),r})},n.prototype.Is=function(t,e,i){for(var r=lr(),o=0,s=e;o<s.length;o++)for(var a=0,l=s[o].mutations;a<l.length;a++){var u=l[a];u instanceof Pg&&i.get(u.key)===null&&(r=r.add(u.key))}var d=i;return this.es.getEntries(t,r).next(function(h){return h.forEach(function(f,A){A!==null&&A instanceof Ai&&(d=d.nt(f,A))}),d})},n}(),Ake=function(){function n(t,e,i,r){this.targetId=t,this.fromCache=e,this.ms=i,this.As=r}return n.Rs=function(t,e){for(var i=lr(),r=lr(),o=0,s=e.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new n(t,e.fromCache,i,r)},n}(),Tu=function(){function n(t,e){var i=this;this.previousValue=t,e&&(e.Ps=function(r){return i.Vs(r)},this.gs=function(r){return e.ys(r)})}return n.prototype.Vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},n.prototype.next=function(){var t=++this.previousValue;return this.gs&&this.gs(t),t},n}();Tu.ps=-1;var Su=function(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})},fV=function(){function n(t,e,i,r,o){i===void 0&&(i=1e3),r===void 0&&(r=1.5),o===void 0&&(o=6e4),this.bs=t,this.vs=e,this.Ss=i,this.Ds=r,this.Cs=o,this.Fs=0,this.Ns=null,this.$s=Date.now(),this.reset()}return n.prototype.reset=function(){this.Fs=0},n.prototype.ks=function(){this.Fs=this.Cs},n.prototype.xs=function(t){var e=this;this.cancel();var i=Math.floor(this.Fs+this.Ms()),r=Math.max(0,Date.now()-this.$s),o=Math.max(0,i-r);o>0&&ct("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.Fs+" ms, delay with jitter: "+i+" ms, last attempt: "+r+" ms ago)"),this.Ns=this.bs.Os(this.vs,o,function(){return e.$s=Date.now(),t()}),this.Fs*=this.Ds,this.Fs<this.Ss&&(this.Fs=this.Ss),this.Fs>this.Cs&&(this.Fs=this.Cs)},n.prototype.Ls=function(){this.Ns!==null&&(this.Ns.Bs(),this.Ns=null)},n.prototype.cancel=function(){this.Ns!==null&&(this.Ns.cancel(),this.Ns=null)},n.prototype.Ms=function(){return(Math.random()-.5)*this.Fs},n}();function Fd(n){for(var t="",e=0;e<n.length;e++)t.length>0&&(t=Nne(t)),t=gke(n.get(e),t);return Nne(t)}function gke(n,t){for(var e=t,i=n.length,r=0;r<i;r++){var o=n.charAt(r);switch(o){case"\0":e+="";break;case"":e+="";break;default:e+=o}}return e}function Nne(n){return n+""}function Dp(n){var t=n.length;if(Qt(t>=2),t===2)return Qt(n.charAt(0)===""&&n.charAt(1)===""),Cr.k();for(var e=t-2,i=[],r="",o=0;o<t;){var s=n.indexOf("",o);switch((s<0||s>e)&&Dt(),n.charAt(s+1)){case"":var a=n.substring(o,s),l=void 0;r.length===0?l=a:(l=r+=a,r=""),i.push(l);break;case"":r+=n.substring(o,s),r+="\0";break;case"":r+=n.substring(o,s+1);break;default:Dt()}o=s+2}return new Cr(i)}var mke=function(){function n(){this.qs=new pV}return n.prototype.Us=function(t,e){return this.qs.add(e),$e.resolve()},n.prototype.Ts=function(t,e){return $e.resolve(this.qs.getEntries(e))},n}(),pV=function(){function n(){this.index={}}return n.prototype.add=function(t){var e=t.S(),i=t.p(),r=this.index[e]||new ts(Cr.P),o=!r.has(i);return this.index[e]=r.add(i),o},n.prototype.has=function(t){var e=t.S(),i=t.p(),r=this.index[e];return r&&r.has(i)},n.prototype.getEntries=function(t){return(this.index[t]||new ts(Cr.P)).F()},n}(),vke=function(){function n(){this.Qs=new pV}return n.prototype.Us=function(t,e){var i=this;if(!this.Qs.has(e)){var r=e.S(),o=e.p();t.Zn(function(){i.Qs.add(e)});var s={collectionId:r,parent:Fd(o)};return Rne(t).put(s)}return $e.resolve()},n.prototype.Ts=function(t,e){var i=[],r=IDBKeyRange.bound([e,""],[gie(e),""],!1,!0);return Rne(t).Ws(r).next(function(o){for(var s=0,a=o;s<a.length;s++){var l=a[s];if(l.collectionId!==e)break;i.push(Dp(l.parent))}return i})},n}();function Rne(n){return Mu.js(n,xv.store)}var _ke=function(n){this.Ks=n};function R6(n,t){if(t.document)return function(s,a,l){var u=sf(s,a.name),d=Md(a.updateTime),h=new Fg({mapValue:{fields:a.fields}});return new Ai(u,d,h,{hasCommittedMutations:!!l})}(n.Ks,t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=zt.j(t.noDocument.path),i=AB(t.noDocument.readTime);return new ws(e,i,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var r=zt.j(t.unknownDocument.path),o=AB(t.unknownDocument.version);return new hB(r,o)}return Dt()}function Lne(n,t,e){var i=$6(e),r=t.key.path.p().F();if(t instanceof Ai){var o=function(f,A){return{name:Bw(f,A.key),fields:A.tn().mapValue.fields,updateTime:cB(f,A.version.A())}}(n.Ks,t),s=t.hasCommittedMutations;return new to(null,null,o,s,i,r)}if(t instanceof ws){var a=t.key.path.F(),l=pB(t.version),u=t.hasCommittedMutations;return new to(null,new Ske(a,l),null,u,i,r)}if(t instanceof hB){var d=t.key.path.F(),h=pB(t.version);return new to(new xke(d,h),null,null,!0,i,r)}return Dt()}function $6(n){var t=n.A();return[t.seconds,t.nanoseconds]}function Une(n){var t=new jl(n[0],n[1]);return $n.I(t)}function pB(n){var t=n.A();return new Eke(t.seconds,t.nanoseconds)}function AB(n){var t=new jl(n.seconds,n.nanoseconds);return $n.I(t)}function Dw(n,t){var e=(t.baseMutations||[]).map(function(o){return Ine(n.Ks,o)}),i=t.mutations.map(function(o){return Ine(n.Ks,o)}),r=jl.fromMillis(t.localWriteTimeMs);return new hV(t.batchId,r,e,i)}function dx(n){var t,e=AB(n.readTime),i=n.lastLimboFreeSnapshotVersion!==void 0?AB(n.lastLimboFreeSnapshotVersion):$n.min();return t=n.query.documents!==void 0?function(r){Qt(r.documents.length===1);var o=r.documents[0];return Fv.hn(Sne(o)).We()}(n.query):function(r){var o=Sne(r.parent),s=r.structuredQuery,a=s.from?s.from.length:0,l=null;if(a>0){Qt(a===1);var u=s.from[0];u.allDescendants?l=u.collectionId:o=o.child(u.collectionId)}var d=[];s.where&&(d=function m(b){return b?b.unaryFilter!==void 0?[eke(b)]:b.fieldFilter!==void 0?[JPe(b)]:b.compositeFilter!==void 0?b.compositeFilter.filters.map(function(S){return m(S)}).reduce(function(S,F){return S.concat(F)}):Dt():[]}(s.where));var h=[];s.orderBy&&(h=s.orderBy.map(function(m){return new Fw(dB((b=m).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));var f=null;s.limit&&(f=function(m){var b;return Tv(b=typeof m=="object"?m.value:m)?null:b}(s.limit));var A=null;s.startAt&&(A=Dne(s.startAt));var g=null;return s.endAt&&(g=Dne(s.endAt)),new Fv(o,l,h,d,f,"F",A,g).We()}(n.query),new CB(t,n.targetId,0,n.lastListenSequenceNumber,e,i,Gl.fromBase64String(n.resumeToken))}function $ie(n,t){var e,i=pB(t.X),r=pB(t.lastLimboFreeSnapshotVersion);e=fx(t.target)?Bie(n.Ks,t.target):Pie(n.Ks,t.target);var o=t.resumeToken.toBase64();return new Ql(t.targetId,Cx(t.target),i,o,t.sequenceNumber,r,e)}var Yie=function(){function n(t,e){this.serializer=t,this.ss=e}return n.prototype.jn=function(t,e,i){return Sg(t).put(tB(e),i)},n.prototype.Gn=function(t,e){var i=Sg(t),r=tB(e);return i.delete(r)},n.prototype.updateMetadata=function(t,e){var i=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,i.Gs(t,r)})},n.prototype.zn=function(t,e){var i=this;return Sg(t).get(tB(e)).next(function(r){return i.zs(r)})},n.prototype.Hs=function(t,e){var i=this;return Sg(t).get(tB(e)).next(function(r){var o=i.zs(r);return o?{Ys:o,size:gB(r)}:null})},n.prototype.getEntries=function(t,e){var i=this,r=aB();return this.Js(t,e,function(o,s){var a=i.zs(s);r=r.nt(o,a)}).next(function(){return r})},n.prototype.Xs=function(t,e){var i=this,r=aB(),o=new Oa(zt.P);return this.Js(t,e,function(s,a){var l=i.zs(a);l?(r=r.nt(s,l),o=o.nt(s,gB(a))):(r=r.nt(s,null),o=o.nt(s,0))}).next(function(){return{Zs:r,ti:o}})},n.prototype.Js=function(t,e,i){if(e._())return $e.resolve();var r=IDBKeyRange.bound(e.first().path.F(),e.last().path.F()),o=e.at(),s=o.dt();return Sg(t).ei({range:r},function(a,l,u){for(var d=zt.j(a);s&&zt.P(s,d)<0;)i(s,null),s=o.dt();s&&s.isEqual(d)&&(i(s,l),s=o.wt()?o.dt():null),s?u.ni(s.path.F()):u.done()}).next(function(){for(;s;)i(s,null),s=o.wt()?o.dt():null})},n.prototype._s=function(t,e,i){var r=this,o=px(),s=e.path.length+1,a={};if(i.isEqual($n.min())){var l=e.path.F();a.range=IDBKeyRange.lowerBound(l)}else{var u=e.path.F(),d=$6(i);a.range=IDBKeyRange.lowerBound([u,d],!0),a.index=to.collectionReadTimeIndex}return Sg(t).ei(a,function(h,f,A){if(h.length===s){var g=R6(r.serializer,f);e.path.D(g.key.path)?g instanceof Ai&&Dx(e,g)&&(o=o.nt(g.key,g)):A.done()}}).next(function(){return o})},n.prototype.si=function(t,e){var i=this,r=Dv(),o=$6(e),s=Sg(t),a=IDBKeyRange.lowerBound(o,!0);return s.ei({index:to.readTimeIndex,range:a},function(l,u){var d=R6(i.serializer,u);r=r.nt(d.key,d),o=u.readTime}).next(function(){return{ii:r,readTime:Une(o)}})},n.prototype.ri=function(t){var e=Sg(t),i=$n.min();return e.ei({index:to.readTimeIndex,reverse:!0},function(r,o,s){o.readTime&&(i=Une(o.readTime)),s.done()}).next(function(){return i})},n.prototype.oi=function(t){return new n.hi(this,!!t&&t.ai)},n.prototype.ui=function(t){return this.getMetadata(t).next(function(e){return e.byteSize})},n.prototype.getMetadata=function(t){return Hne(t).get(af.key).next(function(e){return Qt(!!e),e})},n.prototype.Gs=function(t,e){return Hne(t).put(af.key,e)},n.prototype.zs=function(t){if(t){var e=R6(this.serializer,t);return e instanceof ws&&e.version.isEqual($n.min())?null:e}return null},n}();function Hne(n){return Mu.js(n,af.store)}function Sg(n){return Mu.js(n,to.store)}function tB(n){return n.path.F()}function gB(n){var t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Dt();t=n.noDocument}return JSON.stringify(t).length}Yie.hi=function(n){function t(e,i){var r=this;return(r=n.call(this)||this).ci=e,r.ai=i,r.li=new jw(function(o){return o.toString()},function(o,s){return o.isEqual(s)}),r}return pe.__extends(t,n),t.prototype.Jn=function(e){var i=this,r=[],o=0,s=new ts(function(a,l){return Pn(a.N(),l.N())});return this.Un.forEach(function(a,l){var u=i.li.get(a);if(l){var d=Lne(i.ci.serializer,l,i.readTime);s=s.add(a.path.p());var h=gB(d);o+=h-u,r.push(i.ci.jn(e,a,d))}else if(o-=u,i.ai){var f=Lne(i.ci.serializer,new ws(a,$n.min()),i.readTime);r.push(i.ci.jn(e,a,f))}else r.push(i.ci.Gn(e,a))}),s.forEach(function(a){r.push(i.ci.ss.Us(e,a))}),r.push(this.ci.updateMetadata(e,o)),$e.Bn(r)},t.prototype.Hn=function(e,i){var r=this;return this.ci.Hs(e,i).next(function(o){return o===null?(r.li.set(i,0),null):(r.li.set(i,o.size),o.Ys)})},t.prototype.Yn=function(e,i){var r=this;return this.ci.Xs(e,i).next(function(o){var s=o.Zs;return o.ti.forEach(function(a,l){r.li.set(a,l)}),s})},t}(Kie);var mB=function(){function n(t){this._i=t}return n.prototype.next=function(){return this._i+=2,this._i},n.fi=function(){return new n(0)},n.di=function(){return new n(-1)},n}(),yke=function(){function n(t,e){this.wi=t,this.serializer=e}return n.prototype.Ti=function(t){var e=this;return this.Ei(t).next(function(i){var r=new mB(i.highestTargetId);return i.highestTargetId=r.next(),e.Ii(t,i).next(function(){return i.highestTargetId})})},n.prototype.mi=function(t){return this.Ei(t).next(function(e){return $n.I(new jl(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},n.prototype.Ai=function(t){return this.Ei(t).next(function(e){return e.highestListenSequenceNumber})},n.prototype.Ri=function(t,e,i){var r=this;return this.Ei(t).next(function(o){return o.highestListenSequenceNumber=e,i&&(o.lastRemoteSnapshotVersion=i.A()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),r.Ii(t,o)})},n.prototype.Pi=function(t,e){var i=this;return this.Vi(t,e).next(function(){return i.Ei(t).next(function(r){return r.targetCount+=1,i.gi(e,r),i.Ii(t,r)})})},n.prototype.yi=function(t,e){return this.Vi(t,e)},n.prototype.pi=function(t,e){var i=this;return this.bi(t,e.targetId).next(function(){return Tw(t).delete(e.targetId)}).next(function(){return i.Ei(t)}).next(function(r){return Qt(r.targetCount>0),r.targetCount-=1,i.Ii(t,r)})},n.prototype.vi=function(t,e,i){var r=this,o=0,s=[];return Tw(t).ei(function(a,l){var u=dx(l);u.sequenceNumber<=e&&i.get(u.targetId)===null&&(o++,s.push(r.pi(t,u)))}).next(function(){return $e.Bn(s)}).next(function(){return o})},n.prototype.pe=function(t,e){return Tw(t).ei(function(i,r){var o=dx(r);e(o)})},n.prototype.Ei=function(t){return Vne(t).get(Tc.key).next(function(e){return Qt(e!==null),e})},n.prototype.Ii=function(t,e){return Vne(t).put(Tc.key,e)},n.prototype.Vi=function(t,e){return Tw(t).put($ie(this.serializer,e))},n.prototype.gi=function(t,e){var i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},n.prototype.Si=function(t){return this.Ei(t).next(function(e){return e.targetCount})},n.prototype.Di=function(t,e){var i=Cx(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return Tw(t).ei({range:r,index:Ql.queryTargetsIndexName},function(s,a,l){var u=dx(a);bB(e,u.target)&&(o=u,l.done())}).next(function(){return o})},n.prototype.Ci=function(t,e,i){var r=this,o=[],s=Tg(t);return e.forEach(function(a){var l=Fd(a.path);o.push(s.put(new ta(i,l))),o.push(r.wi.Fi(t,i,a))}),$e.Bn(o)},n.prototype.Ni=function(t,e,i){var r=this,o=Tg(t);return $e.forEach(e,function(s){var a=Fd(s.path);return $e.Bn([o.delete([i,a]),r.wi.$i(t,i,s)])})},n.prototype.bi=function(t,e){var i=Tg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)},n.prototype.ki=function(t,e){var i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Tg(t),o=lr();return r.ei({range:i,xi:!0},function(s,a,l){var u=Dp(s[1]),d=new zt(u);o=o.add(d)}).next(function(){return o})},n.prototype.Mi=function(t,e){var i=Fd(e.path),r=IDBKeyRange.bound([i],[gie(i)],!1,!0),o=0;return Tg(t).ei({index:ta.documentTargetsIndex,xi:!0,range:r},function(s,a,l){var u=s[0];s[1],u!==0&&(o++,l.done())}).next(function(){return o>0})},n.prototype.Me=function(t,e){return Tw(t).get(e).next(function(i){return i?dx(i):null})},n}();function Tw(n){return Mu.js(n,Ql.store)}function Vne(n){return Mu.js(n,Tc.store)}function Tg(n){return Mu.js(n,ta.store)}var L6="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Qne=function(n){function t(e,i){var r=this;return(r=n.call(this)||this).Oi=e,r.Li=i,r}return pe.__extends(t,n),t}(qie),Mu=function(){function n(t,e,i,r,o,s,a,l,u,d){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.bs=o,this.window=s,this.document=a,this.Bi=u,this.qi=d,this.Ui=null,this.Qi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Wi=null,this.inForeground=!1,this.ji=null,this.Ki=null,this.Gi=Number.NEGATIVE_INFINITY,this.zi=function(h){return Promise.resolve()},!n.Hi())throw new Re(Ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.wi=new wke(this,r),this.Yi=e+"main",this.serializer=new _ke(l),this.Ji=new yke(this.wi,this.serializer),this.ss=new vke,this.es=new Yie(this.serializer,this.ss),this.window&&this.window.localStorage?this.Xi=this.window.localStorage:(this.Xi=null,d===!1&&Kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return n.js=function(t,e){if(t instanceof Qne)return Pw.js(t.Oi,e);throw Dt()},n.prototype.start=function(){var t=this;return Pw.Zi(this.Yi,vB,new Cke(this.serializer)).then(function(e){return t.tr=e,t.er()}).then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Re(Ie.FAILED_PRECONDITION,L6);return t.nr(),t.sr(),t.ir(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ji.Ai(e)})}).then(function(e){t.Ui=new Tu(e,t.Bi)}).then(function(){t.Qi=!0}).catch(function(e){return t.tr&&t.tr.close(),Promise.reject(e)})},n.prototype.rr=function(t){var e=this;return this.zi=function(i){return pe.__awaiter(e,void 0,void 0,function(){return pe.__generator(this,function(r){return this.or?[2,t(i)]:[2]})})},t(this.isPrimary)},n.prototype.hr=function(t){var e=this;this.tr.ar(function(i){return pe.__awaiter(e,void 0,void 0,function(){return pe.__generator(this,function(r){switch(r.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})})},n.prototype.ur=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.bs.cr(function(){return pe.__awaiter(e,void 0,void 0,function(){return pe.__generator(this,function(i){switch(i.label){case 0:return this.or?[4,this.er()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},n.prototype.er=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return nB(e).put(new Bg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.lr(e).next(function(i){i||(t.isPrimary=!1,t.bs._r(function(){return t.zi(!1)}))})}).next(function(){return t.dr(e)}).next(function(i){return t.isPrimary&&!i?t.wr(e).next(function(){return!1}):!!i&&t.Tr(e).next(function(){return!0})})}).catch(function(e){if(Bv(e))return ct("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.bs._r(function(){return t.zi(e)}),t.isPrimary=e})},n.prototype.lr=function(t){var e=this;return cx(t).get(xu.key).next(function(i){return $e.resolve(e.Er(i))})},n.prototype.Ir=function(t){return nB(t).delete(this.clientId)},n.prototype.mr=function(){return pe.__awaiter(this,void 0,void 0,function(){var t,e,i,r,o=this;return pe.__generator(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.Ar(this.Gi,18e5)?[3,2]:(this.Gi=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(a){var l=n.js(a,Bg.store);return l.Ws().next(function(u){var d=o.Rr(u,18e5),h=u.filter(function(f){return d.indexOf(f)===-1});return $e.forEach(h,function(f){return l.delete(f.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=s.sent(),this.Xi)for(e=0,i=t;e<i.length;e++)r=i[e],this.Xi.removeItem(this.Pr(r.clientId));s.label=2;case 2:return[2]}})})},n.prototype.ir=function(){var t=this;this.Ki=this.bs.Os("client_metadata_refresh",4e3,function(){return t.er().then(function(){return t.mr()}).then(function(){return t.ir()})})},n.prototype.Er=function(t){return!!t&&t.ownerId===this.clientId},n.prototype.dr=function(t){var e=this;return this.qi?$e.resolve(!0):cx(t).get(xu.key).next(function(i){if(i!==null&&e.Ar(i.leaseTimestampMs,5e3)&&!e.Vr(i.ownerId)){if(e.Er(i)&&e.networkEnabled)return!0;if(!e.Er(i)){if(!i.allowTabSynchronization)throw new Re(Ie.FAILED_PRECONDITION,L6);return!1}}return!(!e.networkEnabled||!e.inForeground)||nB(t).Ws().next(function(r){return e.Rr(r,5e3).find(function(o){if(e.clientId!==o.clientId){var s=!e.networkEnabled&&o.networkEnabled,a=!e.inForeground&&o.inForeground,l=e.networkEnabled===o.networkEnabled;if(s||a&&l)return!0}return!1})===void 0})}).next(function(i){return e.isPrimary!==i&&ct("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},n.prototype.gr=function(){return pe.__awaiter(this,void 0,void 0,function(){var t=this;return pe.__generator(this,function(e){switch(e.label){case 0:return this.Qi=!1,this.yr(),this.Ki&&(this.Ki.cancel(),this.Ki=null),this.pr(),this.br(),[4,this.runTransaction("shutdown","readwrite",function(i){return t.wr(i).next(function(){return t.Ir(i)})}).catch(function(i){ct("IndexedDbPersistence","Proceeding with shutdown despite failure: ",i)})];case 1:return e.sent(),this.tr.close(),this.vr(),[2]}})})},n.prototype.Rr=function(t,e){var i=this;return t.filter(function(r){return i.Ar(r.updateTimeMs,e)&&!i.Vr(r.clientId)})},n.prototype.Sr=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return nB(e).Ws().next(function(i){return t.Rr(i,18e5).map(function(r){return r.clientId})})})},Object.defineProperty(n.prototype,"or",{get:function(){return this.Qi},enumerable:!1,configurable:!0}),n.prototype.Dr=function(t){return bke.Cr(t,this.serializer,this.ss,this.wi)},n.prototype.Fr=function(){return this.Ji},n.prototype.Nr=function(){return this.es},n.prototype.$r=function(){return this.ss},n.prototype.runTransaction=function(t,e,i){var r=this;ct("IndexedDbPersistence","Starting transaction:",t);var o,s=e==="readonly"?"readonly":"readwrite";return this.tr.runTransaction(s,Ike,function(a){return o=new Qne(a,r.Ui?r.Ui.next():Tu.ps),e==="readwrite-primary"?r.lr(o).next(function(l){return!!l||r.dr(o)}).next(function(l){if(!l)throw Kr("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.bs._r(function(){return r.zi(!1)}),new Re(Ie.FAILED_PRECONDITION,zie);return i(o)}).next(function(l){return r.Tr(o).next(function(){return l})}):r.kr(o).next(function(){return i(o)})}).then(function(a){return o.ts(),a})},n.prototype.kr=function(t){var e=this;return cx(t).get(xu.key).next(function(i){if(i!==null&&e.Ar(i.leaseTimestampMs,5e3)&&!e.Vr(i.ownerId)&&!e.Er(i)&&!(e.qi||e.allowTabSynchronization&&i.allowTabSynchronization))throw new Re(Ie.FAILED_PRECONDITION,L6)})},n.prototype.Tr=function(t){var e=new xu(this.clientId,this.allowTabSynchronization,Date.now());return cx(t).put(xu.key,e)},n.Hi=function(){return Pw.Hi()},n.prototype.wr=function(t){var e=this,i=cx(t);return i.get(xu.key).next(function(r){return e.Er(r)?(ct("IndexedDbPersistence","Releasing primary lease."),i.delete(xu.key)):$e.resolve()})},n.prototype.Ar=function(t,e){var i=Date.now();return!(t<i-e||t>i&&(Kr("Detected an update time that is in the future: "+t+" > "+i),1))},n.prototype.nr=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ji=function(){t.bs.cr(function(){return t.inForeground=t.document.visibilityState==="visible",t.er()})},this.document.addEventListener("visibilitychange",this.ji),this.inForeground=this.document.visibilityState==="visible")},n.prototype.pr=function(){this.ji&&(this.document.removeEventListener("visibilitychange",this.ji),this.ji=null)},n.prototype.sr=function(){var t,e=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Wi=function(){e.yr(),e.bs.cr(function(){return e.gr()})},this.window.addEventListener("unload",this.Wi))},n.prototype.br=function(){this.Wi&&(this.window.removeEventListener("unload",this.Wi),this.Wi=null)},n.prototype.Vr=function(t){var e;try{var i=((e=this.Xi)===null||e===void 0?void 0:e.getItem(this.Pr(t)))!==null;return ct("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(r){return Kr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},n.prototype.yr=function(){if(this.Xi)try{this.Xi.setItem(this.Pr(this.clientId),String(Date.now()))}catch(t){Kr("Failed to set zombie client id.",t)}},n.prototype.vr=function(){if(this.Xi)try{this.Xi.removeItem(this.Pr(this.clientId))}catch{}},n.prototype.Pr=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},n}();function cx(n){return Mu.js(n,xu.store)}function nB(n){return Mu.js(n,Bg.store)}var wke=function(){function n(t,e){this.db=t,this.xr=new Pke(this,e)}return n.prototype.Mr=function(t){var e=this.Or(t);return this.db.Fr().Si(t).next(function(i){return e.next(function(r){return i+r})})},n.prototype.Or=function(t){var e=0;return this.Lr(t,function(i){e++}).next(function(){return e})},n.prototype.pe=function(t,e){return this.db.Fr().pe(t,e)},n.prototype.Lr=function(t,e){return this.Br(t,function(i,r){return e(r)})},n.prototype.Fi=function(t,e,i){return iB(t,i)},n.prototype.$i=function(t,e,i){return iB(t,i)},n.prototype.vi=function(t,e,i){return this.db.Fr().vi(t,e,i)},n.prototype.qr=function(t,e){return iB(t,e)},n.prototype.Ur=function(t,e){return function(i,r){var o=!1;return Jie(i).Qr(function(s){return Zie(i,s,r).next(function(a){return a&&(o=!0),$e.resolve(!a)})}).next(function(){return o})}(t,e)},n.prototype.Wr=function(t,e){var i=this,r=this.db.Nr().oi(),o=[],s=0;return this.Br(t,function(a,l){if(l<=e){var u=i.Ur(t,a).next(function(d){if(!d)return s++,r.zn(t,a).next(function(){return r.Gn(a),Tg(t).delete([0,Fd(a.path)])})});o.push(u)}}).next(function(){return $e.Bn(o)}).next(function(){return r.apply(t)}).next(function(){return s})},n.prototype.removeTarget=function(t,e){var i=e.Z(t.Li);return this.db.Fr().yi(t,i)},n.prototype.jr=function(t,e){return iB(t,e)},n.prototype.Br=function(t,e){var i,r=Tg(t),o=Tu.ps;return r.ei({index:ta.documentTargetsIndex},function(s,a){var l=s[0],u=(s[1],a.path),d=a.sequenceNumber;l===0?(o!==Tu.ps&&e(new zt(Dp(i)),o),o=d,i=u):o=Tu.ps}).next(function(){o!==Tu.ps&&e(new zt(Dp(i)),o)})},n.prototype.Kr=function(t){return this.db.Nr().ui(t)},n}();function iB(n,t){return Tg(n).put(function(e,i){return new ta(0,Fd(e.path),i)}(t,n.Li))}function U6(n,t){var e=n.projectId;return n.i||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}var bke=function(){function n(t,e,i,r){this.userId=t,this.serializer=e,this.ss=i,this.wi=r,this.Gr={}}return n.Cr=function(t,e,i,r){return Qt(t.uid!==""),new n(t.zr()?t.uid:"",e,i,r)},n.prototype.Hr=function(t){var e=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xg(t).ei({index:wr.userMutationsIndex,range:i},function(r,o,s){e=!1,s.done()}).next(function(){return e})},n.prototype.Yr=function(t,e,i,r){var o=this,s=Mw(t),a=xg(t);return a.add({}).next(function(l){Qt(typeof l=="number");for(var u=new hV(l,e,i,r),d=function(S,F,R){var B=R.baseMutations.map(function(L){return uB(S.Ks,L)}),P=R.mutations.map(function(L){return uB(S.Ks,L)});return new wr(F,R.batchId,R.yn.toMillis(),B,P)}(o.serializer,o.userId,u),h=[],f=new ts(function(S,F){return Pn(S.N(),F.N())}),A=0,g=r;A<g.length;A++){var m=g[A],b=Da.key(o.userId,m.key.path,l);f=f.add(m.key.path.p()),h.push(a.put(d)),h.push(s.put(b,Da.PLACEHOLDER))}return f.forEach(function(S){h.push(o.ss.Us(t,S))}),t.Zn(function(){o.Gr[l]=u.keys()}),$e.Bn(h).next(function(){return u})})},n.prototype.Jr=function(t,e){var i=this;return xg(t).get(e).next(function(r){return r?(Qt(r.userId===i.userId),Dw(i.serializer,r)):null})},n.prototype.Xr=function(t,e){var i=this;return this.Gr[e]?$e.resolve(this.Gr[e]):this.Jr(t,e).next(function(r){if(r){var o=r.keys();return i.Gr[e]=o,o}return null})},n.prototype.Zr=function(t,e){var i=this,r=e+1,o=IDBKeyRange.lowerBound([this.userId,r]),s=null;return xg(t).ei({index:wr.userMutationsIndex,range:o},function(a,l,u){l.userId===i.userId&&(Qt(l.batchId>=r),s=Dw(i.serializer,l)),u.done()}).next(function(){return s})},n.prototype.to=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return xg(t).ei({index:wr.userMutationsIndex,range:e,reverse:!0},function(r,o,s){i=o.batchId,s.done()}).next(function(){return i})},n.prototype.eo=function(t){var e=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xg(t).Ws(wr.userMutationsIndex,i).next(function(r){return r.map(function(o){return Dw(e.serializer,o)})})},n.prototype.os=function(t,e){var i=this,r=Da.prefixForPath(this.userId,e.path),o=IDBKeyRange.lowerBound(r),s=[];return Mw(t).ei({range:o},function(a,l,u){var d=a[0],h=a[1],f=a[2],A=Dp(h);if(d===i.userId&&e.path.isEqual(A))return xg(t).get(f).next(function(g){if(!g)throw Dt();Qt(g.userId===i.userId),s.push(Dw(i.serializer,g))});u.done()}).next(function(){return s})},n.prototype.ls=function(t,e){var i=this,r=new ts(Pn),o=[];return e.forEach(function(s){var a=Da.prefixForPath(i.userId,s.path),l=IDBKeyRange.lowerBound(a),u=Mw(t).ei({range:l},function(d,h,f){var A=d[0],g=d[1],m=d[2],b=Dp(g);A===i.userId&&s.path.isEqual(b)?r=r.add(m):f.done()});o.push(u)}),$e.Bn(o).next(function(){return i.no(t,r)})},n.prototype.Es=function(t,e){var i=this,r=e.path,o=r.length+1,s=Da.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(s),l=new ts(Pn);return Mw(t).ei({range:a},function(u,d,h){var f=u[0],A=u[1],g=u[2],m=Dp(A);f===i.userId&&r.D(m)?m.length===o&&(l=l.add(g)):h.done()}).next(function(){return i.no(t,l)})},n.prototype.no=function(t,e){var i=this,r=[],o=[];return e.forEach(function(s){o.push(xg(t).get(s).next(function(a){if(a===null)throw Dt();Qt(a.userId===i.userId),r.push(Dw(i.serializer,a))}))}),$e.Bn(o).next(function(){return r})},n.prototype.so=function(t,e){var i=this;return Xie(t.Oi,this.userId,e).next(function(r){return t.Zn(function(){i.io(e.batchId)}),$e.forEach(r,function(o){return i.wi.qr(t,o)})})},n.prototype.io=function(t){delete this.Gr[t]},n.prototype.ro=function(t){var e=this;return this.Hr(t).next(function(i){if(!i)return $e.resolve();var r=IDBKeyRange.lowerBound(Da.prefixForUser(e.userId)),o=[];return Mw(t).ei({range:r},function(s,a,l){if(s[0]===e.userId){var u=Dp(s[1]);o.push(u)}else l.done()}).next(function(){Qt(o.length===0)})})},n.prototype.Mi=function(t,e){return Zie(t,this.userId,e)},n.prototype.oo=function(t){var e=this;return Jie(t).get(this.userId).next(function(i){return i||new Dg(e.userId,-1,"")})},n}();function Zie(n,t,e){var i=Da.prefixForPath(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return Mw(n).ei({range:o,xi:!0},function(a,l,u){var d=a[0],h=a[1];a[2],d===t&&h===r&&(s=!0),u.done()}).next(function(){return s})}function Xie(n,t,e){var i=n.store(wr.store),r=n.store(Da.store),o=[],s=IDBKeyRange.only(e.batchId),a=0,l=i.ei({range:s},function(g,m,b){return a++,b.delete()});o.push(l.next(function(){Qt(a===1)}));for(var u=[],d=0,h=e.mutations;d<h.length;d++){var f=h[d],A=Da.key(t,f.key.path,e.batchId);o.push(r.delete(A)),u.push(f.key)}return $e.Bn(o).next(function(){return u})}function xg(n){return Mu.js(n,wr.store)}function Mw(n){return Mu.js(n,Da.store)}function Jie(n){return Mu.js(n,Dg.store)}var vB=10,Cke=function(){function n(t){this.serializer=t}return n.prototype.createOrUpgrade=function(t,e,i,r){var o=this;Qt(i<r&&i>=0&&r<=vB);var s=new ere(e);i<1&&r>=1&&(function(l){l.createObjectStore(xu.store)}(t),function(l){l.createObjectStore(Dg.store,{keyPath:Dg.keyPath}),l.createObjectStore(wr.store,{keyPath:wr.keyPath,autoIncrement:!0}).createIndex(wr.userMutationsIndex,wr.userMutationsKeyPath,{unique:!0}),l.createObjectStore(Da.store)}(t),jne(t),function(l){l.createObjectStore(to.store)}(t));var a=$e.resolve();return i<3&&r>=3&&(i!==0&&(function(l){l.deleteObjectStore(ta.store),l.deleteObjectStore(Ql.store),l.deleteObjectStore(Tc.store)}(t),jne(t)),a=a.next(function(){return function(l){var u=l.store(Tc.store),d=new Tc(0,0,$n.min().A(),0);return u.put(Tc.key,d)}(s)})),i<4&&r>=4&&(i!==0&&(a=a.next(function(){return function(l,u){return u.store(wr.store).Ws().next(function(d){l.deleteObjectStore(wr.store),l.createObjectStore(wr.store,{keyPath:wr.keyPath,autoIncrement:!0}).createIndex(wr.userMutationsIndex,wr.userMutationsKeyPath,{unique:!0});var h=u.store(wr.store),f=d.map(function(A){return h.put(A)});return $e.Bn(f)})}(t,s)})),a=a.next(function(){(function(l){l.createObjectStore(Bg.store,{keyPath:Bg.keyPath})})(t)})),i<5&&r>=5&&(a=a.next(function(){return o.removeAcknowledgedMutations(s)})),i<6&&r>=6&&(a=a.next(function(){return function(l){l.createObjectStore(af.store)}(t),o.addDocumentGlobal(s)})),i<7&&r>=7&&(a=a.next(function(){return o.ensureSequenceNumbers(s)})),i<8&&r>=8&&(a=a.next(function(){return o.createCollectionParentIndex(t,s)})),i<9&&r>=9&&(a=a.next(function(){(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(t),function(l){var u=l.objectStore(to.store);u.createIndex(to.readTimeIndex,to.readTimeIndexPath,{unique:!1}),u.createIndex(to.collectionReadTimeIndex,to.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&r>=10&&(a=a.next(function(){return o.rewriteCanonicalIds(s)})),a},n.prototype.addDocumentGlobal=function(t){var e=0;return t.store(to.store).ei(function(i,r){e+=gB(r)}).next(function(){var i=new af(e);return t.store(af.store).put(af.key,i)})},n.prototype.removeAcknowledgedMutations=function(t){var e=this,i=t.store(Dg.store),r=t.store(wr.store);return i.Ws().next(function(o){return $e.forEach(o,function(s){var a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.Ws(wr.userMutationsIndex,a).next(function(l){return $e.forEach(l,function(u){Qt(u.userId===s.userId);var d=Dw(e.serializer,u);return Xie(t,s.userId,d).next(function(){})})})})})},n.prototype.ensureSequenceNumbers=function(t){var e=t.store(ta.store),i=t.store(to.store);return t.store(Tc.store).get(Tc.key).next(function(r){var o=[];return i.ei(function(s,a){var l=new Cr(s),u=function(d){return[0,Fd(d)]}(l);o.push(e.get(u).next(function(d){return d?$e.resolve():function(h){return e.put(new ta(0,Fd(h),r.highestListenSequenceNumber))}(l)}))}).next(function(){return $e.Bn(o)})})},n.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(xv.store,{keyPath:xv.keyPath});var i=e.store(xv.store),r=new pV,o=function(s){if(r.add(s)){var a=s.S(),l=s.p();return i.put({collectionId:a,parent:Fd(l)})}};return e.store(to.store).ei({xi:!0},function(s,a){var l=new Cr(s);return o(l.p())}).next(function(){return e.store(Da.store).ei({xi:!0},function(s,a){s[0];var l=s[1],u=(s[2],Dp(l));return o(u.p())})})},n.prototype.rewriteCanonicalIds=function(t){var e=this,i=t.store(Ql.store);return i.ei(function(r,o){var s=dx(o),a=$ie(e.serializer,s);return i.put(a)})},n}(),Eke=function(n,t){this.seconds=n,this.nanoseconds=t},xu=function(n,t,e){this.ownerId=n,this.allowTabSynchronization=t,this.leaseTimestampMs=e};xu.store="owner",xu.key="owner";var Dg=function(n,t,e){this.userId=n,this.lastAcknowledgedBatchId=t,this.lastStreamToken=e};Dg.store="mutationQueues",Dg.keyPath="userId";var wr=function(n,t,e,i,r){this.userId=n,this.batchId=t,this.localWriteTimeMs=e,this.baseMutations=i,this.mutations=r};wr.store="mutations",wr.keyPath="batchId",wr.userMutationsIndex="userMutationsIndex",wr.userMutationsKeyPath=["userId","batchId"];var Da=function(){function n(){}return n.prefixForUser=function(t){return[t]},n.prefixForPath=function(t,e){return[t,Fd(e)]},n.key=function(t,e,i){return[t,Fd(e),i]},n}();Da.store="documentMutations",Da.PLACEHOLDER=new Da;var Ske=function(n,t){this.path=n,this.readTime=t},xke=function(n,t){this.path=n,this.version=t},to=function(n,t,e,i,r,o){this.unknownDocument=n,this.noDocument=t,this.document=e,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o};to.store="remoteDocuments",to.readTimeIndex="readTimeIndex",to.readTimeIndexPath="readTime",to.collectionReadTimeIndex="collectionReadTimeIndex",to.collectionReadTimeIndexPath=["parentPath","readTime"];var af=function(n){this.byteSize=n};af.store="remoteDocumentGlobal",af.key="remoteDocumentGlobalKey";var Ql=function(n,t,e,i,r,o,s){this.targetId=n,this.canonicalId=t,this.readTime=e,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=s};Ql.store="targets",Ql.keyPath="targetId",Ql.queryTargetsIndexName="queryTargetsIndex",Ql.queryTargetsKeyPath=["canonicalId","targetId"];var ta=function(n,t,e){this.targetId=n,this.path=t,this.sequenceNumber=e};ta.store="targetDocuments",ta.keyPath=["targetId","path"],ta.documentTargetsIndex="documentTargetsIndex",ta.documentTargetsKeyPath=["path","targetId"];var Tc=function(n,t,e,i){this.highestTargetId=n,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=e,this.targetCount=i};Tc.key="targetGlobalKey",Tc.store="targetGlobal";var xv=function(n,t){this.collectionId=n,this.parent=t};function jne(n){n.createObjectStore(ta.store,{keyPath:ta.keyPath}).createIndex(ta.documentTargetsIndex,ta.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Ql.store,{keyPath:Ql.keyPath}).createIndex(Ql.queryTargetsIndexName,Ql.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Tc.store)}xv.store="collectionParents",xv.keyPath=["collectionId","parent"];var Bg=function(n,t,e,i){this.clientId=n,this.updateTimeMs=t,this.networkEnabled=e,this.inForeground=i};Bg.store="clientMetadata",Bg.keyPath="clientId";var Ike=pe.__spreadArrays(pe.__spreadArrays(pe.__spreadArrays([Dg.store,wr.store,Da.store,to.store,Ql.store,xu.store,Tc.store,ta.store],[Bg.store]),[af.store]),[xv.store]),Pw=function(){function n(t){this.db=t,n.ho(Ip.getUA())===12.2&&Kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return n.Zi=function(t,e,i){return ct("SimpleDb","Opening database:",t),new $e(function(r,o){var s=indexedDB.open(t,e);s.onsuccess=function(a){var l=a.target.result;r(new n(l))},s.onblocked=function(){o(new Re(Ie.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(a){var l=a.target.error;l.name==="VersionError"?o(new Re(Ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(l)},s.onupgradeneeded=function(a){ct("SimpleDb",'Database "'+t+'" requires upgrade from version:',a.oldVersion);var l=a.target.result;i.createOrUpgrade(l,s.transaction,a.oldVersion,vB).next(function(){ct("SimpleDb","Database upgrade to version "+vB+" complete")})}}).On()},n.delete=function(t){return ct("SimpleDb","Removing database:",t),Ev(window.indexedDB.deleteDatabase(t)).On()},n.Hi=function(){if(typeof indexedDB>"u")return!1;if(n.ao())return!0;var t=Ip.getUA(),e=n.ho(t),i=0<e&&e<10,r=n.uo(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)},n.ao=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.co)==="YES"},n.js=function(t,e){return t.store(e)},n.ho=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)},n.uo=function(t){var e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)},n.prototype.ar=function(t){this.db.onversionchange=function(e){return t(e)}},n.prototype.runTransaction=function(t,e,i){return pe.__awaiter(this,void 0,void 0,function(){var r,o,s,a,l;return pe.__generator(this,function(u){switch(u.label){case 0:r=t==="readonly",o=0,s=function(){var d,h,f,A,g;return pe.__generator(this,function(m){switch(m.label){case 0:++o,d=ere.open(a.db,r?"readonly":"readwrite",e),m.label=1;case 1:return m.trys.push([1,3,,4]),h=i(d).catch(function(b){return d.abort(b),$e.reject(b)}).On(),f={},h.catch(function(){}),[4,d.lo];case 2:return[2,(f.value=(m.sent(),h),f)];case 3:return A=m.sent(),g=A.name!=="FirebaseError"&&o<3,ct("SimpleDb","Transaction failed with error: %s. Retrying: %s.",A.message,g),g?[3,4]:[2,{value:Promise.reject(A)}];case 4:return[2]}})},a=this,u.label=1;case 1:return[5,s()];case 2:if(typeof(l=u.sent())=="object")return[2,l.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},n.prototype.close=function(){this.db.close()},n}(),Tke=function(){function n(t){this._o=t,this.fo=!1,this.do=null}return Object.defineProperty(n.prototype,"$n",{get:function(){return this.fo},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wo",{get:function(){return this.do},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cursor",{set:function(t){this._o=t},enumerable:!1,configurable:!0}),n.prototype.done=function(){this.fo=!0},n.prototype.ni=function(t){this.do=t},n.prototype.delete=function(){return Ev(this._o.delete())},n}(),Gne=function(n){function t(e){var i=this;return(i=n.call(this,Ie.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",i}return pe.__extends(t,n),t}(Re);function Bv(n){return n.name==="IndexedDbTransactionError"}var ere=function(){function n(t){var e=this;this.transaction=t,this.aborted=!1,this.To=new Su,this.transaction.oncomplete=function(){e.To.resolve()},this.transaction.onabort=function(){t.error?e.To.reject(new Gne(t.error)):e.To.resolve()},this.transaction.onerror=function(i){var r=AV(i.target.error);e.To.reject(new Gne(r))}}return n.open=function(t,e,i){return new n(t.transaction(i,e))},Object.defineProperty(n.prototype,"lo",{get:function(){return this.To.promise},enumerable:!1,configurable:!0}),n.prototype.abort=function(t){t&&this.To.reject(t),this.aborted||(ct("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},n.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Dke(e)},n}(),Dke=function(){function n(t){this.store=t}return n.prototype.put=function(t,e){var i;return e!==void 0?(ct("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(ct("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Ev(i)},n.prototype.add=function(t){return ct("SimpleDb","ADD",this.store.name,t,t),Ev(this.store.add(t))},n.prototype.get=function(t){var e=this;return Ev(this.store.get(t)).next(function(i){return i===void 0&&(i=null),ct("SimpleDb","GET",e.store.name,t,i),i})},n.prototype.delete=function(t){return ct("SimpleDb","DELETE",this.store.name,t),Ev(this.store.delete(t))},n.prototype.count=function(){return ct("SimpleDb","COUNT",this.store.name),Ev(this.store.count())},n.prototype.Ws=function(t,e){var i=this.cursor(this.options(t,e)),r=[];return this.Eo(i,function(o,s){r.push(s)}).next(function(){return r})},n.prototype.Io=function(t,e){ct("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,e);i.xi=!1;var r=this.cursor(i);return this.Eo(r,function(o,s,a){return a.delete()})},n.prototype.ei=function(t,e){var i;e?i=t:(i={},e=t);var r=this.cursor(i);return this.Eo(r,e)},n.prototype.Qr=function(t){var e=this.cursor({});return new $e(function(i,r){e.onerror=function(o){var s=AV(o.target.error);r(s)},e.onsuccess=function(o){var s=o.target.result;s?t(s.primaryKey,s.value).next(function(a){a?s.continue():i()}):i()}})},n.prototype.Eo=function(t,e){var i=[];return new $e(function(r,o){t.onerror=function(s){o(s.target.error)},t.onsuccess=function(s){var a=s.target.result;if(a){var l=new Tke(a),u=e(a.primaryKey,a.value,l);if(u instanceof $e){var d=u.catch(function(h){return l.done(),$e.reject(h)});i.push(d)}l.$n?r():l.wo===null?a.continue():a.continue(l.wo)}else r()}}).next(function(){return $e.Bn(i)})},n.prototype.options=function(t,e){var i=void 0;return t!==void 0&&(typeof t=="string"?i=t:e=t),{index:i,range:e}},n.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var i=this.store.index(t.index);return t.xi?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},n}();function Ev(n){return new $e(function(t,e){n.onsuccess=function(i){var r=i.target.result;t(r)},n.onerror=function(i){var r=AV(i.target.error);e(r)}})}var Wne=!1;function AV(n){var t=Pw.ho(Ip.getUA());if(t>=12.2&&t<13){var e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){var i=new Re("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Wne||(Wne=!0,setTimeout(function(){throw i},0)),i}}return n}function _B(){return typeof window<"u"?window:null}var Mke=function(){function n(t,e,i,r,o){this.mo=t,this.vs=e,this.Ao=i,this.op=r,this.Ro=o,this.Po=new Su,this.then=this.Po.promise.then.bind(this.Po.promise),this.Po.promise.catch(function(s){})}return n.Vo=function(t,e,i,r,o){var s=new n(t,e,Date.now()+i,r,o);return s.start(i),s},n.prototype.start=function(t){var e=this;this.yo=setTimeout(function(){return e.po()},t)},n.prototype.Bs=function(){return this.po()},n.prototype.cancel=function(t){this.yo!==null&&(this.clearTimeout(),this.Po.reject(new Re(Ie.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},n.prototype.po=function(){var t=this;this.mo.cr(function(){return t.yo!==null?(t.clearTimeout(),t.op().then(function(e){return t.Po.resolve(e)})):Promise.resolve()})},n.prototype.clearTimeout=function(){this.yo!==null&&(this.Ro(this),clearTimeout(this.yo),this.yo=null)},n}(),Oke=function(){function n(){var t=this;this.bo=Promise.resolve(),this.vo=[],this.So=!1,this.Do=[],this.Co=null,this.Fo=!1,this.No=[],this.$o=new fV(this,"async_queue_retry"),this.ko=function(){return t.$o.Ls()};var e=_B();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ko)}return Object.defineProperty(n.prototype,"xo",{get:function(){return this.So},enumerable:!1,configurable:!0}),n.prototype.cr=function(t){this.enqueue(t)},n.prototype.Mo=function(t){this.Oo(),this.Lo(t)},n.prototype.Bo=function(t){return this.Oo(),this.Lo(t)},n.prototype.qo=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e;return pe.__generator(this,function(i){switch(i.label){case 0:return this.Oo(),this.So?[3,2]:(this.So=!0,(e=_B())&&e.removeEventListener("visibilitychange",this.ko),[4,this.Bo(t)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.enqueue=function(t){return this.Oo(),this.So?new Promise(function(e){}):this.Lo(t)},n.prototype._r=function(t){var e=this;this.vo.push(t),this.cr(function(){return e.Uo()})},n.prototype.Uo=function(){return pe.__awaiter(this,void 0,void 0,function(){var t,e=this;return pe.__generator(this,function(i){switch(i.label){case 0:if(this.vo.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.vo[0]()];case 2:return i.sent(),this.vo.shift(),this.$o.reset(),[3,4];case 3:if(!Bv(t=i.sent()))throw t;return ct("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.vo.length>0&&this.$o.xs(function(){return e.Uo()}),i.label=5;case 5:return[2]}})})},n.prototype.Lo=function(t){var e=this,i=this.bo.then(function(){return e.Fo=!0,t().catch(function(r){throw e.Co=r,e.Fo=!1,Kr("INTERNAL UNHANDLED ERROR: ",function(o){var s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r)),r}).then(function(r){return e.Fo=!1,r})});return this.bo=i,i},n.prototype.Os=function(t,e,i){var r=this;this.Oo(),this.No.indexOf(t)>-1&&(e=0);var o=Mke.Vo(this,t,e,i,function(s){return r.Qo(s)});return this.Do.push(o),o},n.prototype.Oo=function(){this.Co&&Dt()},n.prototype.Wo=function(){},n.prototype.jo=function(){return pe.__awaiter(this,void 0,void 0,function(){var t;return pe.__generator(this,function(e){switch(e.label){case 0:return[4,t=this.bo];case 1:e.sent(),e.label=2;case 2:if(t!==this.bo)return[3,0];e.label=3;case 3:return[2]}})})},n.prototype.Ko=function(t){for(var e=0,i=this.Do;e<i.length;e++)if(i[e].vs===t)return!0;return!1},n.prototype.Go=function(t){var e=this;return this.jo().then(function(){e.Do.sort(function(s,a){return s.Ao-a.Ao});for(var i=0,r=e.Do;i<r.length;i++){var o=r[i];if(o.Bs(),t!=="all"&&o.vs===t)break}return e.jo()})},n.prototype.zo=function(t){this.No.push(t)},n.prototype.Qo=function(t){var e=this.Do.indexOf(t);this.Do.splice(e,1)},n}();function _x(n,t){if(Kr("AsyncQueue",t+": "+n),Bv(n))return new Re(Ie.UNAVAILABLE,t+": "+n);throw n}function Kne(n,t){var e=n[0],i=n[1],r=t[0],o=t[1],s=Pn(e,r);return s===0?Pn(i,o):s}var Fke=function(){function n(t){this.Ho=t,this.buffer=new ts(Kne),this.Yo=0}return n.prototype.Jo=function(){return++this.Yo},n.prototype.Xo=function(t){var e=[t,this.Jo()];if(this.buffer.size<this.Ho)this.buffer=this.buffer.add(e);else{var i=this.buffer.last();Kne(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}},Object.defineProperty(n.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),n}(),zne={Zo:!1,th:0,eh:0,nh:0},So=function(){function n(t,e,i){this.sh=t,this.ih=e,this.rh=i}return n.oh=function(t){return new n(t,n.hh,n.ah)},n}();So.uh=-1,So.lh=1048576,So._h=41943040,So.hh=10,So.ah=1e3,So.fh=new So(So._h,So.hh,So.ah),So.dh=new So(So.uh,0,0);var Bke=function(){function n(t,e){this.xr=t,this.mo=e,this.wh=!1,this.Th=null}return n.prototype.start=function(t){this.xr.params.sh!==So.uh&&this.Eh(t)},n.prototype.stop=function(){this.Th&&(this.Th.cancel(),this.Th=null)},Object.defineProperty(n.prototype,"or",{get:function(){return this.Th!==null},enumerable:!1,configurable:!0}),n.prototype.Eh=function(t){var e=this,i=this.wh?3e5:6e4;ct("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.Th=this.mo.Os("lru_garbage_collection",i,function(){return pe.__awaiter(e,void 0,void 0,function(){var r;return pe.__generator(this,function(o){switch(o.label){case 0:this.Th=null,this.wh=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,t.Ih(this.xr)];case 2:return o.sent(),[3,7];case 3:return Bv(r=o.sent())?(ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r),[3,6]):[3,4];case 4:return[4,Sv(r)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.Eh(t)];case 8:return o.sent(),[2]}})})})},n}(),Pke=function(){function n(t,e){this.mh=t,this.params=e}return n.prototype.Ah=function(t,e){return this.mh.Mr(t).next(function(i){return Math.floor(e/100*i)})},n.prototype.Rh=function(t,e){var i=this;if(e===0)return $e.resolve(Tu.ps);var r=new Fke(e);return this.mh.pe(t,function(o){return r.Xo(o.sequenceNumber)}).next(function(){return i.mh.Lr(t,function(o){return r.Xo(o)})}).next(function(){return r.maxValue})},n.prototype.vi=function(t,e,i){return this.mh.vi(t,e,i)},n.prototype.Wr=function(t,e){return this.mh.Wr(t,e)},n.prototype.Ph=function(t,e){var i=this;return this.params.sh===So.uh?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(zne)):this.Kr(t).next(function(r){return r<i.params.sh?(ct("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+i.params.sh),zne):i.Vh(t,e)})},n.prototype.Kr=function(t){return this.mh.Kr(t)},n.prototype.Vh=function(t,e){var i,r,o,s,a,l,u,d=this,h=Date.now();return this.Ah(t,this.params.ih).next(function(f){return f>d.params.rh?(ct("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.rh+" from "+f),r=d.params.rh):r=f,s=Date.now(),d.Rh(t,r)}).next(function(f){return i=f,a=Date.now(),d.vi(t,i,e)}).next(function(f){return o=f,l=Date.now(),d.Wr(t,i)}).next(function(f){return u=Date.now(),oB()<=Ic.LogLevel.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(s-h)+`ms
	Determined least recently used `+r+" in "+(a-s)+`ms
	Removed `+o+" targets in "+(l-a)+`ms
	Removed `+f+" documents in "+(u-l)+`ms
Total Duration: `+(u-h)+"ms"),$e.resolve({Zo:!0,th:r,eh:o,nh:f})})},n}(),gV=function(){function n(t,e,i){this.persistence=t,this.gh=e,this.yh=new Oa(Pn),this.ph=new jw(function(r){return Cx(r)},bB),this.bh=$n.min(),this.ns=t.Dr(i),this.vh=t.Nr(),this.Ji=t.Fr(),this.Sh=new kne(this.vh,this.ns,this.persistence.$r()),this.gh.Dh(this.Sh)}return n.prototype.start=function(){return Promise.resolve()},n.prototype.Ch=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i,r,o=this;return pe.__generator(this,function(s){switch(s.label){case 0:return e=this.ns,i=this.Sh,[4,this.persistence.runTransaction("Handle user change","readonly",function(a){var l;return o.ns.eo(a).next(function(u){return l=u,e=o.persistence.Dr(t),i=new kne(o.vh,e,o.persistence.$r()),e.eo(a)}).next(function(u){for(var d=[],h=[],f=lr(),A=0,g=l;A<g.length;A++){var m=g[A];d.push(m.batchId);for(var b=0,S=m.mutations;b<S.length;b++){var F=S[b];f=f.add(F.key)}}for(var R=0,B=u;R<B.length;R++){var P=B[R];h.push(P.batchId);for(var L=0,j=P.mutations;L<j.length;L++){var G=j[L];f=f.add(G.key)}}return i.us(a,f).next(function(Y){return{Fh:Y,Nh:d,$h:h}})})})];case 1:return r=s.sent(),[2,(this.ns=e,this.Sh=i,this.gh.Dh(this.Sh),r)]}})})},n.prototype.kh=function(t){var e,i=this,r=jl.now(),o=t.reduce(function(s,a){return s.add(a.key)},lr());return this.persistence.runTransaction("Locally write mutations","readwrite",function(s){return i.Sh.us(s,o).next(function(a){e=a;for(var l=[],u=0,d=t;u<d.length;u++){var h=d[u],f=ske(h,e.get(h.key));f!=null&&l.push(new Pg(h.key,f,jie(f.proto.mapValue),Ma.exists(!0)))}return i.ns.Yr(s,r,l,t)})}).then(function(s){var a=s.Sn(e);return{batchId:s.batchId,Un:a}})},n.prototype.xh=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var r=t.batch.keys(),o=e.vh.oi({ai:!0});return e.Mh(i,t,o).next(function(){return o.apply(i)}).next(function(){return e.ns.ro(i)}).next(function(){return e.Sh.us(i,r)})})},n.prototype.Oh=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(i){var r;return e.ns.Jr(i,t).next(function(o){return Qt(o!==null),r=o.keys(),e.ns.so(i,o)}).next(function(){return e.ns.ro(i)}).next(function(){return e.Sh.us(i,r)})})},n.prototype.to=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.ns.to(e)})},n.prototype.mi=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.Ji.mi(e)})},n.prototype.Lh=function(t){var e=this,i=t.X,r=this.yh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var s=e.vh.oi({ai:!0});r=e.yh;var a=[];t.Qt.forEach(function(h,f){var A=r.get(f);if(A){a.push(e.Ji.Ni(o,h.Xt,f).next(function(){return e.Ji.Ci(o,h.Yt,f)}));var g=h.resumeToken;if(g.H()>0){var m=A.tt(g,i).Z(o.Li);r=r.nt(f,m),n.Bh(A,m,h)&&a.push(e.Ji.yi(o,m))}}});var l=Dv(),u=lr();if(t.jt.forEach(function(h,f){u=u.add(h)}),a.push(s.getEntries(o,u).next(function(h){t.jt.forEach(function(f,A){var g=h.get(f);A instanceof ws&&A.version.isEqual($n.min())?(s.Gn(f,i),l=l.nt(f,A)):g==null||A.version.o(g.version)>0||A.version.o(g.version)===0&&g.hasPendingWrites?(s.jn(A,i),l=l.nt(f,A)):ct("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",A.version),t.Kt.has(f)&&a.push(e.persistence.wi.jr(o,f))})})),!i.isEqual($n.min())){var d=e.Ji.mi(o).next(function(h){return e.Ji.Ri(o,o.Li,i)});a.push(d)}return $e.Bn(a).next(function(){return s.apply(o)}).next(function(){return e.Sh.cs(o,l)})}).then(function(o){return e.yh=r,o})},n.Bh=function(t,e,i){return Qt(e.resumeToken.H()>0),t.resumeToken.H()===0||e.X.m()-t.X.m()>=this.qh||i.Yt.size+i.Jt.size+i.Xt.size>0},n.prototype.Uh=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i,r,o,s,a,l,u,d=this;return pe.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(f){return $e.forEach(t,function(A){return $e.forEach(A.ms,function(g){return d.persistence.wi.Fi(f,A.targetId,g)}).next(function(){return $e.forEach(A.As,function(g){return d.persistence.wi.$i(f,A.targetId,g)})})})})];case 1:return h.sent(),[3,3];case 2:if(!Bv(e=h.sent()))throw e;return ct("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(i=0,r=t;i<r.length;i++)o=r[i],s=o.targetId,o.fromCache||(a=this.yh.get(s),l=a.X,u=a.et(l),this.yh=this.yh.nt(s,u));return[2]}})})},n.prototype.Qh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),e.ns.Zr(i,t)})},n.prototype.Wh=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(i){return e.Sh.rs(i,t)})},n.prototype.jh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",function(i){var r;return e.Ji.Di(i,t).next(function(o){return o?(r=o,$e.resolve(r)):e.Ji.Ti(i).next(function(s){return r=new CB(t,s,0,i.Li),e.Ji.Pi(i,r).next(function(){return r})})})}).then(function(i){var r=e.yh.get(i.targetId);return(r===null||i.X.o(r.X)>0)&&(e.yh=e.yh.nt(i.targetId,i),e.ph.set(t,i.targetId)),i})},n.prototype.Di=function(t,e){var i=this.ph.get(e);return i!==void 0?$e.resolve(this.yh.get(i)):this.Ji.Di(t,e)},n.prototype.Kh=function(t,e){return pe.__awaiter(this,void 0,void 0,function(){var i,r,o,s=this;return pe.__generator(this,function(a){switch(a.label){case 0:i=this.yh.get(t),r=e?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),e?[3,3]:[4,this.persistence.runTransaction("Release target",r,function(l){return s.persistence.wi.removeTarget(l,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Bv(o=a.sent()))throw o;return ct("LocalStore","Failed to update sequence numbers for target "+t+": "+o),[3,5];case 5:return this.yh=this.yh.remove(t),this.ph.delete(i.target),[2]}})})},n.prototype.Gh=function(t,e){var i=this,r=$n.min(),o=lr();return this.persistence.runTransaction("Execute query","readonly",function(s){return i.Di(s,t.We()).next(function(a){if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ji.ki(s,a.targetId).next(function(l){o=l})}).next(function(){return i.gh._s(s,t,e?r:$n.min(),e?o:lr())}).next(function(a){return{documents:a,zh:o}})})},n.prototype.Mh=function(t,e,i){var r=this,o=e.batch,s=o.keys(),a=$e.resolve();return s.forEach(function(l){a=a.next(function(){return i.zn(t,l)}).next(function(u){var d=u,h=e.Cn.get(l);Qt(h!==null),(!d||d.version.o(h)<0)&&(d=o.pn(l,d,e))&&i.jn(d,e.Dn)})}),a.next(function(){return r.ns.so(t,o)})},n.prototype.Ih=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.Ph(i,e.yh)})},n}();function tre(n,t,e){return new gV(n,t,e)}gV.qh=3e8;var kke=function(n){function t(e,i,r){var o=this;return(o=n.call(this,e,i,r)||this).persistence=e,o.ns=e.Dr(r),o.vh=e.Nr(),o.Ji=e.Fr(),o}return pe.__extends(t,n),t.prototype.start=function(){return this.Hh()},t.prototype.Yh=function(e){var i=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(r){return i.ns.Xr(r,e).next(function(o){return o?i.Sh.us(r,o):$e.resolve(null)})})},t.prototype.Jh=function(e){this.ns.io(e)},t.prototype.ur=function(e){this.persistence.ur(e)},t.prototype.Sr=function(){return this.persistence.Sr()},t.prototype.Xh=function(e){var i=this,r=this.yh.get(e);return r?Promise.resolve(r.target):this.persistence.runTransaction("Get target data","readonly",function(o){return i.Ji.Me(o,e).next(function(s){return s?s.target:null})})},t.prototype.si=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",function(i){return e.vh.si(i,e.bh)}).then(function(i){var r=i.ii,o=i.readTime;return e.bh=o,r})},t.prototype.Hh=function(){return pe.__awaiter(this,void 0,void 0,function(){var e,i=this;return pe.__generator(this,function(r){switch(r.label){case 0:return e=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",function(o){return i.vh.ri(o)})];case 1:return e.bh=r.sent(),[2]}})})},t}(gV);function Sv(n){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(t){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==zie)throw n;return ct("LocalStore","Unexpectedly lost primary lease"),[2]})})}var mV=function(){function n(){this.Zh=new ts(ys.ta),this.ea=new ts(ys.na)}return n.prototype._=function(){return this.Zh._()},n.prototype.Fi=function(t,e){var i=new ys(t,e);this.Zh=this.Zh.add(i),this.ea=this.ea.add(i)},n.prototype.sa=function(t,e){var i=this;t.forEach(function(r){return i.Fi(r,e)})},n.prototype.$i=function(t,e){this.ia(new ys(t,e))},n.prototype.ra=function(t,e){var i=this;t.forEach(function(r){return i.$i(r,e)})},n.prototype.oa=function(t){var e=this,i=new zt(new Cr([])),r=new ys(i,t),o=new ys(i,t+1),s=[];return this.ea.vt([r,o],function(a){e.ia(a),s.push(a.key)}),s},n.prototype.ha=function(){var t=this;this.Zh.forEach(function(e){return t.ia(e)})},n.prototype.ia=function(t){this.Zh=this.Zh.delete(t),this.ea=this.ea.delete(t)},n.prototype.aa=function(t){var e=new zt(new Cr([])),i=new ys(e,t),r=new ys(e,t+1),o=lr();return this.ea.vt([i,r],function(s){o=o.add(s.key)}),o},n.prototype.Mi=function(t){var e=new ys(t,0),i=this.Zh.Dt(e);return i!==null&&t.isEqual(i.key)},n}(),ys=function(){function n(t,e){this.key=t,this.ua=e}return n.ta=function(t,e){return zt.P(t.key,e.key)||Pn(t.ua,e.ua)},n.na=function(t,e){return Pn(t.ua,e.ua)||zt.P(t.key,e.key)},n}();function qne(n,t){if(t.length!==0)throw new Re(Ie.INVALID_ARGUMENT,"Function "+n+"() does not support arguments, but was called with "+Pv(t.length,"argument")+".")}function br(n,t,e){if(t.length!==e)throw new Re(Ie.INVALID_ARGUMENT,"Function "+n+"() requires "+Pv(e,"argument")+", but was called with "+Pv(t.length,"argument")+".")}function Mp(n,t,e){if(t.length<e)throw new Re(Ie.INVALID_ARGUMENT,"Function "+n+"() requires at least "+Pv(e,"argument")+", but was called with "+Pv(t.length,"argument")+".")}function Du(n,t,e,i){if(t.length<e||t.length>i)throw new Re(Ie.INVALID_ARGUMENT,"Function "+n+"() requires between "+e+" and "+i+" arguments, but was called with "+Pv(t.length,"argument")+".")}function Io(n,t,e,i){ore(n,t,Mx(e)+" argument",i)}function kw(n,t,e,i){i!==void 0&&Io(n,t,e,i)}function nre(n,t,e,i){ore(n,t,e+" option",i)}function of(n,t,e,i){i!==void 0&&nre(n,t,e,i)}function ire(n,t,e,i,r){i!==void 0&&function(o,s,a,l,u){for(var d=[],h=0,f=u;h<f.length;h++){var A=f[h];if(A===l)return;d.push(cf(A))}var g=cf(l);throw new Re(Ie.INVALID_ARGUMENT,"Invalid value "+g+" provided to function "+o+'() for option "'+a+'". Acceptable values: '+d.join(", "))}(n,0,e,i,r)}function rre(n,t,e,i){if(!t.some(function(r){return r===i}))throw new Re(Ie.INVALID_ARGUMENT,"Invalid value "+cf(i)+" provided to function "+n+"() for its "+Mx(e)+" argument. Acceptable values: "+t.join(", "));return i}function ore(n,t,e,i){if(!(t==="object"?sre(i):t==="non-empty string"?typeof i=="string"&&i!=="":typeof i===t)){var r=cf(i);throw new Re(Ie.INVALID_ARGUMENT,"Function "+n+"() requires its "+e+" to be of type "+t+", but it was: "+r)}}function sre(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function cf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=n.substring(0,20)+"..."),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";var t=function(e){if(e.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(i&&i.length>1)return i[1]}return null}(n);return t?"a custom "+t+" object":"an object"}return typeof n=="function"?"a function":Dt()}function $ne(n,t,e){if(e===void 0)throw new Re(Ie.INVALID_ARGUMENT,"Function "+n+"() requires a valid "+Mx(t)+" argument, but it was undefined.")}function Lv(n,t,e){Qw(t,function(i,r){if(e.indexOf(i)<0)throw new Re(Ie.INVALID_ARGUMENT,"Unknown option '"+i+"' passed to function "+n+"(). Available options: "+e.join(", "))})}function Uv(n,t,e,i){var r=cf(i);return new Re(Ie.INVALID_ARGUMENT,"Function "+n+"() requires its "+Mx(e)+" argument to be a "+t+", but it was: "+r)}function Yne(n,t,e){if(e<=0)throw new Re(Ie.INVALID_ARGUMENT,"Function "+n+"() requires its "+Mx(t)+" argument to be a positive number, but it was: "+e+".")}function Mx(n){switch(n){case 1:return"first";case 2:return"second";case 3:return"third";default:return n+"th"}}function Pv(n,t){return n+" "+t+(n===1?"":"s")}function Zne(){if(typeof Uint8Array>"u")throw new Re(Ie.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function H6(){if(typeof atob>"u")throw new Re(Ie.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var xB=function(){function n(t){H6(),this.ca=t}return n.fromBase64String=function(t){br("Blob.fromBase64String",arguments,1),Io("Blob.fromBase64String","string",1,t),H6();try{return new n(Gl.fromBase64String(t))}catch(e){throw new Re(Ie.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},n.fromUint8Array=function(t){if(br("Blob.fromUint8Array",arguments,1),Zne(),!(t instanceof Uint8Array))throw Uv("Blob.fromUint8Array","Uint8Array",1,t);return new n(Gl.fromUint8Array(t))},n.prototype.toBase64=function(){return br("Blob.toBase64",arguments,0),H6(),this.ca.toBase64()},n.prototype.toUint8Array=function(){return br("Blob.toUint8Array",arguments,0),Zne(),this.ca.toUint8Array()},n.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},n.prototype.isEqual=function(t){return this.ca.isEqual(t.ca)},n}(),vV=function(n){(function(e,i,r,o){if(!(i instanceof Array)||i.length<1)throw new Re(Ie.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Pv(1,"element")+".")})(0,n);for(var t=0;t<n.length;++t)if(Io("FieldPath","string",t,n[t]),n[t].length===0)throw new Re(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.la=new Bd(n)},kv=function(n){function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return n.call(this,e)||this}return pe.__extends(t,n),t.documentId=function(){return new t(Bd.L().N())},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Uv("isEqual","FieldPath",1,e);return this.la.isEqual(e.la)},t}(vV),Nke=new RegExp("[~\\*/\\[\\]]"),uf=function(){this._a=this},_V=function(n){function t(e){var i=this;return(i=n.call(this)||this).fa=e,i}return pe.__extends(t,n),t.prototype.da=function(e){if(e.wa!==2)throw e.wa===1?e.Ta(this.fa+"() can only appear at the top level of your update data"):e.Ta(this.fa+"() cannot be used with set() unless you pass {merge:true}");return e.Le.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(uf);function are(n,t,e){return new dre({wa:3,Ea:t.settings.Ea,methodName:n.fa,Ia:e},t.s,t.serializer,t.ignoreUndefinedProperties)}var Rke=function(n){function t(e){var i=this;return(i=n.call(this)||this).fa=e,i}return pe.__extends(t,n),t.prototype.da=function(e){return new Ex(e.path,new Lw)},t.prototype.isEqual=function(e){return e instanceof t},t}(uf),Lke=function(n){function t(e,i){var r=this;return(r=n.call(this)||this).fa=e,r.ma=i,r}return pe.__extends(t,n),t.prototype.da=function(e){var i=are(this,e,!0),r=this.ma.map(function(s){return Hv(s,i)}),o=new Mv(r);return new Ex(e.path,o)},t.prototype.isEqual=function(e){return this===e},t}(uf),Uke=function(n){function t(e,i){var r=this;return(r=n.call(this)||this).fa=e,r.ma=i,r}return pe.__extends(t,n),t.prototype.da=function(e){var i=are(this,e,!0),r=this.ma.map(function(s){return Hv(s,i)}),o=new Ov(r);return new Ex(e.path,o)},t.prototype.isEqual=function(e){return this===e},t}(uf),Hke=function(n){function t(e,i){var r=this;return(r=n.call(this)||this).fa=e,r.Aa=i,r}return pe.__extends(t,n),t.prototype.da=function(e){var i=new Uw(e.serializer,Die(e.serializer,this.Aa));return new Ex(e.path,i)},t.prototype.isEqual=function(e){return this===e},t}(uf),lre=function(n){function t(){return n.call(this)||this}return pe.__extends(t,n),t.delete=function(){return qne("FieldValue.delete",arguments),new ux(new _V("FieldValue.delete"))},t.serverTimestamp=function(){return qne("FieldValue.serverTimestamp",arguments),new ux(new Rke("FieldValue.serverTimestamp"))},t.arrayUnion=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return Mp("FieldValue.arrayUnion",arguments,1),new ux(new Lke("FieldValue.arrayUnion",e))},t.arrayRemove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return Mp("FieldValue.arrayRemove",arguments,1),new ux(new Uke("FieldValue.arrayRemove",e))},t.increment=function(e){return Io("FieldValue.increment","number",1,e),br("FieldValue.increment",arguments,1),new ux(new Hke("FieldValue.increment",e))},t}(uf),ux=function(n){function t(e){var i=this;return(i=n.call(this)||this)._a=e,i.fa=e.fa,i}return pe.__extends(t,n),t.prototype.da=function(e){return this._a.da(e)},t.prototype.isEqual=function(e){return e instanceof t&&this._a.isEqual(e._a)},t}(lre),IB=function(){function n(t,e){if(br("GeoPoint",arguments,2),Io("GeoPoint","number",1,t),Io("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new Re(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Ra=t,this.Pa=e}return Object.defineProperty(n.prototype,"latitude",{get:function(){return this.Ra},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"longitude",{get:function(){return this.Pa},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(t){return this.Ra===t.Ra&&this.Pa===t.Pa},n.prototype.T=function(t){return Pn(this.Ra,t.Ra)||Pn(this.Pa,t.Pa)},n}();function yV(n){return new ZPe(n,!0)}var Vke=/^__.*__$/,Ox=function(n,t,e){this.Va=n,this.ga=t,this.ya=e},Qke=function(){function n(t,e,i){this.data=t,this.Le=e,this.fieldTransforms=i}return n.prototype.pa=function(t,e){var i=[];return this.Le!==null?i.push(new Pg(t,this.data,this.Le,e)):i.push(new xx(t,this.data,e)),this.fieldTransforms.length>0&&i.push(new Rv(t,this.fieldTransforms)),i},n}(),cre=function(){function n(t,e,i){this.data=t,this.Le=e,this.fieldTransforms=i}return n.prototype.pa=function(t,e){var i=[new Pg(t,this.data,this.Le,e)];return this.fieldTransforms.length>0&&i.push(new Rv(t,this.fieldTransforms)),i},n}();function ure(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}var dre=function(){function n(t,e,i,r,o,s){this.settings=t,this.s=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.ba(),this.fieldTransforms=o||[],this.Le=s||[]}return Object.defineProperty(n.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wa",{get:function(){return this.settings.wa},enumerable:!1,configurable:!0}),n.prototype.va=function(t){return new n(Object.assign(Object.assign({},this.settings),t),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Le)},n.prototype.Sa=function(t){var e,i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.va({path:i,Ia:!1});return r.Da(t),r},n.prototype.Ca=function(t){var e,i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.va({path:i,Ia:!1});return r.ba(),r},n.prototype.Fa=function(t){return this.va({path:void 0,Ia:!0})},n.prototype.Ta=function(t){return xV(t,this.settings.methodName,this.settings.Na||!1,this.path,this.settings.Ea)},n.prototype.contains=function(t){return this.Le.find(function(e){return t.D(e)})!==void 0||this.fieldTransforms.find(function(e){return t.D(e.field)})!==void 0},n.prototype.ba=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Da(this.path.get(t))},n.prototype.Da=function(t){if(t.length===0)throw this.Ta("Document fields must not be empty");if(ure(this.wa)&&Vke.test(t))throw this.Ta('Document fields cannot begin and end with "__"')},n}(),jke=function(){function n(t,e,i){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=i||yV(t)}return n.prototype.$a=function(t,e,i,r){return r===void 0&&(r=!1),new dre({wa:t,methodName:e,Ea:i,path:Bd.k(),Ia:!1,Na:r},this.s,this.serializer,this.ignoreUndefinedProperties)},n}();function wV(n,t,e,i,r,o){o===void 0&&(o={});var s=n.$a(o.merge||o.mergeFields?2:0,t,e,r);EV("Data must be an object, but it was:",s,i);var a,l,u=hre(i,s);if(o.merge)a=new Hw(s.Le),l=s.fieldTransforms;else if(o.mergeFields){for(var d=[],h=0,f=o.mergeFields;h<f.length;h++){var A=f[h],g=void 0;if(A instanceof vV)g=A.la;else{if(typeof A!="string")throw Dt();g=SV(t,A,e)}if(!s.contains(g))throw new Re(Ie.INVALID_ARGUMENT,"Field '"+g+"' is specified in your field mask but missing from your input data.");pre(d,g)||d.push(g)}a=new Hw(d),l=s.fieldTransforms.filter(function(m){return a.Ke(m.field)})}else a=null,l=s.fieldTransforms;return new Qke(new Fg(u),a,l)}function bV(n,t,e,i){var r=n.$a(1,t,e);EV("Data must be an object, but it was:",r,i);var o=[],s=new Tx;Qw(i,function(l,u){var d=SV(t,l,e),h=r.Ca(d);if(u instanceof uf&&u._a instanceof _V)o.push(d);else{var f=Hv(u,h);f!=null&&(o.push(d),s.set(d,f))}});var a=new Hw(o);return new cre(s.ze(),a,r.fieldTransforms)}function CV(n,t,e,i,r,o){var s=n.$a(1,t,e),a=[yx(t,i,e)],l=[r];if(o.length%2!=0)throw new Re(Ie.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)a.push(yx(t,o[u])),l.push(o[u+1]);for(var d=[],h=new Tx,f=a.length-1;f>=0;--f)if(!pre(d,a[f])){var A=a[f],g=l[f],m=s.Ca(A);if(g instanceof uf&&g._a instanceof _V)d.push(A);else{var b=Hv(g,m);b!=null&&(d.push(A),h.set(A,b))}}var S=new Hw(d);return new cre(h.ze(),S,s.fieldTransforms)}function Xne(n,t,e,i){return i===void 0&&(i=!1),Hv(e,n.$a(i?4:3,t))}function Hv(n,t){if(fre(n))return EV("Unsupported field value:",t,n),hre(n,t);if(n instanceof uf)return function(e,i){if(!ure(i.wa))throw i.Ta(e.fa+"() can only be used with update() and set()");if(!i.path)throw i.Ta(e.fa+"() is not currently supported inside arrays");var r=e.da(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(t.path&&t.Le.push(t.path),n instanceof Array){if(t.settings.Ia&&t.wa!==4)throw t.Ta("Nested arrays are not supported");return function(e,i){for(var r=[],o=0,s=0,a=e;s<a.length;s++){var l=Hv(a[s],i.Fa(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(e===null)return{nullValue:"NULL_VALUE"};if(typeof e=="number")return Die(i.serializer,e);if(typeof e=="boolean")return{booleanValue:e};if(typeof e=="string")return{stringValue:e};if(e instanceof Date){var r=jl.fromDate(e);return{timestampValue:cB(i.serializer,r)}}if(e instanceof jl){var o=new jl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:cB(i.serializer,o)}}if(e instanceof IB)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof xB)return{bytesValue:Mie(i.serializer,e)};if(e instanceof Ox){var s=i.s,a=e.Va;if(!a.isEqual(s))throw i.Ta("Document reference is for database "+a.projectId+"/"+a.database+" but should be for database "+s.projectId+"/"+s.database);return{referenceValue:cV(e.Va||i.s,e.ga.path)}}if(e===void 0&&i.ignoreUndefinedProperties)return null;throw i.Ta("Unsupported field value: "+cf(e))}(n,t)}function hre(n,t){var e={};return mie(n)?t.path&&t.path.length>0&&t.Le.push(t.path):Qw(n,function(i,r){var o=Hv(r,t.Sa(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function fre(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof jl||n instanceof IB||n instanceof xB||n instanceof Ox||n instanceof uf)}function EV(n,t,e){if(!fre(e)||!sre(e)){var i=cf(e);throw i==="an object"?t.Ta(n+" a custom object"):t.Ta(n+" "+i)}}function yx(n,t,e){if(t instanceof vV)return t.la;if(typeof t=="string")return SV(n,t);throw xV("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}function SV(n,t,e){try{return function(r){if(r.search(Nke)>=0)throw new Re(Ie.INVALID_ARGUMENT,"Invalid field path ("+r+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(kv.bind.apply(kv,pe.__spreadArrays([void 0],r.split("."))))}catch{throw new Re(Ie.INVALID_ARGUMENT,"Invalid field path ("+r+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t).la}catch(r){throw xV((i=r)instanceof Error?i.message:i.toString(),n,!1,void 0,e)}var i}function xV(n,t,e,i,r){var o=i&&!i._(),s=r!==void 0,a="Function "+t+"() called with invalid data";e&&(a+=" (via `toFirestore()`)");var l="";return(o||s)&&(l+=" (found",o&&(l+=" in field "+i),s&&(l+=" in document "+r),l+=")"),new Re(Ie.INVALID_ARGUMENT,(a+=". ")+n+l)}function pre(n,t){return n.some(function(e){return e.isEqual(t)})}var Iu=function(){function n(t){this.uid=t}return n.prototype.zr=function(){return this.uid!=null},n.prototype.ka=function(){return this.zr()?"uid:"+this.uid:"anonymous-user"},n.prototype.isEqual=function(t){return t.uid===this.uid},n}();Iu.UNAUTHENTICATED=new Iu(null),Iu.xa=new Iu("google-credentials-uid"),Iu.Ma=new Iu("first-party-uid");var Gke=function(n,t){this.user=t,this.type="OAuth",this.Oa={},this.Oa.Authorization="Bearer "+n},Jne=function(){function n(){this.La=null}return n.prototype.getToken=function(){return Promise.resolve(null)},n.prototype.Ba=function(){},n.prototype.qa=function(t){this.La=t,t(Iu.UNAUTHENTICATED)},n.prototype.Ua=function(){this.La=null},n}(),Wke=function(){function n(t){var e=this;this.Qa=null,this.currentUser=Iu.UNAUTHENTICATED,this.Wa=!1,this.ja=0,this.La=null,this.forceRefresh=!1,this.Qa=function(){e.ja++,e.currentUser=e.Ka(),e.Wa=!0,e.La&&e.La(e.currentUser)},this.ja=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Qa):(this.Qa(null),t.get().then(function(i){e.auth=i,e.Qa&&e.auth.addAuthTokenListener(e.Qa)},function(){}))}return n.prototype.getToken=function(){var t=this,e=this.ja,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(r){return t.ja!==e?(ct("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):r?(Qt(typeof r.accessToken=="string"),new Gke(r.accessToken,t.currentUser)):null}):Promise.resolve(null)},n.prototype.Ba=function(){this.forceRefresh=!0},n.prototype.qa=function(t){this.La=t,this.Wa&&t(this.currentUser)},n.prototype.Ua=function(){this.auth&&this.auth.removeAuthTokenListener(this.Qa),this.Qa=null,this.La=null},n.prototype.Ka=function(){var t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string"),new Iu(t)},n}(),Kke=function(){function n(t,e){this.Ga=t,this.za=e,this.type="FirstParty",this.user=Iu.Ma}return Object.defineProperty(n.prototype,"Oa",{get:function(){var t={"X-Goog-AuthUser":this.za},e=this.Ga.auth.Ha([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),n}(),zke=function(){function n(t,e){this.Ga=t,this.za=e}return n.prototype.getToken=function(){return Promise.resolve(new Kke(this.Ga,this.za))},n.prototype.qa=function(t){t(Iu.Ma)},n.prototype.Ua=function(){},n.prototype.Ba=function(){},n}(),Are=function(){function n(t,e,i,r,o,s){this.bs=t,this.Ya=i,this.Ja=r,this.Xa=o,this.listener=s,this.state=0,this.Za=0,this.tu=null,this.stream=null,this.$o=new fV(t,e)}return n.prototype.eu=function(){return this.state===1||this.state===2||this.state===4},n.prototype.nu=function(){return this.state===2},n.prototype.start=function(){this.state!==3?this.auth():this.su()},n.prototype.stop=function(){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(t){switch(t.label){case 0:return this.eu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.iu=function(){this.state=0,this.$o.reset()},n.prototype.ru=function(){var t=this;this.nu()&&this.tu===null&&(this.tu=this.bs.Os(this.Ya,6e4,function(){return t.ou()}))},n.prototype.hu=function(t){this.au(),this.stream.send(t)},n.prototype.ou=function(){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(t){return this.nu()?[2,this.close(0)]:[2]})})},n.prototype.au=function(){this.tu&&(this.tu.cancel(),this.tu=null)},n.prototype.close=function(t,e){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(i){switch(i.label){case 0:return this.au(),this.$o.cancel(),this.Za++,t!==3?this.$o.reset():e&&e.code===Ie.RESOURCE_EXHAUSTED?(Kr(e.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.$o.ks()):e&&e.code===Ie.UNAUTHENTICATED&&this.Xa.Ba(),this.stream!==null&&(this.uu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.cu(e)];case 1:return i.sent(),[2]}})})},n.prototype.uu=function(){},n.prototype.auth=function(){var t=this;this.state=1;var e=this.lu(this.Za),i=this.Za;this.Xa.getToken().then(function(r){t.Za===i&&t._u(r)},function(r){e(function(){var o=new Re(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return t.fu(o)})})},n.prototype._u=function(t){var e=this,i=this.lu(this.Za);this.stream=this.du(t),this.stream.wu(function(){i(function(){return e.state=2,e.listener.wu()})}),this.stream.cu(function(r){i(function(){return e.fu(r)})}),this.stream.onMessage(function(r){i(function(){return e.onMessage(r)})})},n.prototype.su=function(){var t=this;this.state=4,this.$o.xs(function(){return pe.__awaiter(t,void 0,void 0,function(){return pe.__generator(this,function(e){return this.state=0,this.start(),[2]})})})},n.prototype.fu=function(t){return ct("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},n.prototype.lu=function(t){var e=this;return function(i){e.bs.cr(function(){return e.Za===t?i():(ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},n}(),qke=function(n){function t(e,i,r,o,s){var a=this;return(a=n.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",i,r,s)||this).serializer=o,a}return pe.__extends(t,n),t.prototype.du=function(e){return this.Ja.Tu("Listen",e)},t.prototype.onMessage=function(e){this.$o.reset();var i=function(o,s){var a;if("targetChange"in s){s.targetChange;var l=function(re){return re==="NO_CHANGE"?0:re==="ADD"?1:re==="REMOVE"?2:re==="CURRENT"?3:re==="RESET"?4:Dt()}(s.targetChange.targetChangeType||"NO_CHANGE"),u=s.targetChange.targetIds||[],d=function(re,ue){return re.Oe?(Qt(ue===void 0||typeof ue=="string"),Gl.fromBase64String(ue||"")):(Qt(ue===void 0||ue instanceof Uint8Array),Gl.fromUint8Array(ue||new Uint8Array))}(o,s.targetChange.resumeToken),h=s.targetChange.cause,f=h&&function(re){var ue=re.code===void 0?Ie.UNKNOWN:wie(re.code);return new Re(ue,re.message||"")}(h);a=new Eie(l,u,d,f||null)}else if("documentChange"in s){s.documentChange;var A=s.documentChange;A.document,A.document.name,A.document.updateTime;var g=sf(o,A.document.name),m=Md(A.document.updateTime),b=new Fg({mapValue:{fields:A.document.fields}}),S=new Ai(g,m,b,{}),F=A.targetIds||[],R=A.removedTargetIds||[];a=new rB(F,R,S.key,S)}else if("documentDelete"in s){s.documentDelete;var B=s.documentDelete;B.document;var P=sf(o,B.document),L=B.readTime?Md(B.readTime):$n.min(),j=new ws(P,L),G=B.removedTargetIds||[];a=new rB([],G,j.key,j)}else if("documentRemove"in s){s.documentRemove;var Y=s.documentRemove;Y.document;var Z=sf(o,Y.document),_e=Y.removedTargetIds||[];a=new rB([],_e,Z,null)}else{if(!("filter"in s))return Dt();s.filter;var xe=s.filter;xe.targetId;var qe=xe.count||0,ge=new VPe(qe),me=xe.targetId;a=new Cie(me,ge)}return a}(this.serializer,e),r=function(o){if(!("targetChange"in o))return $n.min();var s=o.targetChange;return s.targetIds&&s.targetIds.length?$n.min():s.readTime?Md(s.readTime):$n.min()}(e);return this.listener.Eu(i,r)},t.prototype.Iu=function(e){var i={};i.database=mx(this.serializer),i.addTarget=function(o,s){var a,l=s.target;return(a=fx(l)?{documents:Bie(o,l)}:{query:Pie(o,l)}).targetId=s.targetId,s.resumeToken.H()>0&&(a.resumeToken=Mie(o,s.resumeToken)),a}(this.serializer,e);var r=function(o,s){var a=function(l,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dt()}}(0,s.J);return a==null?null:{"goog-listen-tags":a}}(this.serializer,e);r&&(i.labels=r),this.hu(i)},t.prototype.mu=function(e){var i={};i.database=mx(this.serializer),i.removeTarget=e,this.hu(i)},t}(Are),$ke=function(n){function t(e,i,r,o,s){var a=this;return(a=n.call(this,e,"write_stream_connection_backoff","write_stream_idle",i,r,s)||this).serializer=o,a.Au=!1,a}return pe.__extends(t,n),Object.defineProperty(t.prototype,"Ru",{get:function(){return this.Au},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.Au=!1,this.lastStreamToken=void 0,n.prototype.start.call(this)},t.prototype.uu=function(){this.Au&&this.Pu([])},t.prototype.du=function(e){return this.Ja.Tu("Write",e)},t.prototype.onMessage=function(e){if(Qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Au){this.$o.reset();var i=function(o,s){return o&&o.length>0?(Qt(s!==void 0),o.map(function(a){return function(l,u){var d=l.updateTime?Md(l.updateTime):Md(u);d.isEqual($n.min())&&(d=Md(u));var h=null;return l.transformResults&&l.transformResults.length>0&&(h=l.transformResults),new rke(d,h)}(a,s)})):[]}(e.writeResults,e.commitTime),r=Md(e.commitTime);return this.listener.Vu(r,i)}return Qt(!e.writeResults||e.writeResults.length===0),this.Au=!0,this.listener.gu()},t.prototype.yu=function(){var e={};e.database=mx(this.serializer),this.hu(e)},t.prototype.Pu=function(e){var i=this,r={streamToken:this.lastStreamToken,writes:e.map(function(o){return uB(i.serializer,o)})};this.hu(r)},t}(Are),Yke=function(n){function t(e,i,r){var o=this;return(o=n.call(this)||this).Ja=e,o.credentials=i,o.serializer=r,o.pu=!1,o}return pe.__extends(t,n),t.prototype.bu=function(){if(this.pu)throw new Re(Ie.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.vu=function(e,i){var r=this;return this.bu(),this.credentials.getToken().then(function(o){return r.Ja.vu(e,i,o)}).catch(function(o){throw o.code===Ie.UNAUTHENTICATED&&r.credentials.Ba(),o})},t.prototype.Su=function(e,i){var r=this;return this.bu(),this.credentials.getToken().then(function(o){return r.Ja.Su(e,i,o)}).catch(function(o){throw o.code===Ie.UNAUTHENTICATED&&r.credentials.Ba(),o})},t}(function(){this.je=void 0}),gre=function(){function n(t){this.Du=t,this.Cu=new Map,this.mutations=[],this.Fu=!1,this.Nu=null,this.$u=new Set}return n.prototype.ku=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i=this;return pe.__generator(this,function(r){switch(r.label){case 0:if(this.xu(),this.mutations.length>0)throw new Re(Ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,s){return pe.__awaiter(this,void 0,void 0,function(){var a,l,u,d,h;return pe.__generator(this,function(f){switch(f.label){case 0:return a=hx(o),l={database:mx(a.serializer),documents:s.map(function(A){return Bw(a.serializer,A)})},[4,a.Su("BatchGetDocuments",l)];case 1:return u=f.sent(),d=new Map,u.forEach(function(A){var g=function(m,b){return"found"in b?function(S,F){Qt(!!F.found),F.found.name,F.found.updateTime;var R=sf(S,F.found.name),B=Md(F.found.updateTime),P=new Fg({mapValue:{fields:F.found.fields}});return new Ai(R,B,P,{})}(m,b):"missing"in b?function(S,F){Qt(!!F.missing),Qt(!!F.readTime);var R=sf(S,F.missing),B=Md(F.readTime);return new ws(R,B)}(m,b):Dt()}(a.serializer,A);d.set(g.key.toString(),g)}),h=[],[2,(s.forEach(function(A){var g=d.get(A.toString());Qt(!!g),h.push(g)}),h)]}})})}(this.Du,t)];case 1:return[2,((e=r.sent()).forEach(function(o){o instanceof ws||o instanceof Ai?i.Mu(o):Dt()}),e)]}})})},n.prototype.set=function(t,e){this.write(e.pa(t,this.Ue(t))),this.$u.add(t)},n.prototype.update=function(t,e){try{this.write(e.pa(t,this.Ou(t)))}catch(i){this.Nu=i}this.$u.add(t)},n.prototype.delete=function(t){this.write([new Ix(t,this.Ue(t))]),this.$u.add(t)},n.prototype.commit=function(){return pe.__awaiter(this,void 0,void 0,function(){var t,e=this;return pe.__generator(this,function(i){switch(i.label){case 0:if(this.xu(),this.Nu)throw this.Nu;return t=this.Cu,this.mutations.forEach(function(r){t.delete(r.key.toString())}),t.forEach(function(r,o){var s=new zt(Cr.$(o));e.mutations.push(new uV(s,e.Ue(s)))}),[4,function(r,o){return pe.__awaiter(this,void 0,void 0,function(){var s,a;return pe.__generator(this,function(l){switch(l.label){case 0:return s=hx(r),a={database:mx(s.serializer),writes:o.map(function(u){return uB(s.serializer,u)})},[4,s.vu("Commit",a)];case 1:return l.sent(),[2]}})})}(this.Du,this.mutations)];case 1:return i.sent(),this.Fu=!0,[2]}})})},n.prototype.Mu=function(t){var e;if(t instanceof Ai)e=t.version;else{if(!(t instanceof ws))throw Dt();e=$n.min()}var i=this.Cu.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Re(Ie.ABORTED,"Document version changed between two reads.")}else this.Cu.set(t.key.toString(),e)},n.prototype.Ue=function(t){var e=this.Cu.get(t.toString());return!this.$u.has(t)&&e?Ma.updateTime(e):Ma.Qe()},n.prototype.Ou=function(t){var e=this.Cu.get(t.toString());if(!this.$u.has(t)&&e){if(e.isEqual($n.min()))throw new Re(Ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ma.updateTime(e)}return Ma.exists(!0)},n.prototype.write=function(t){this.xu(),this.mutations=this.mutations.concat(t)},n.prototype.xu=function(){},n}(),Zke=function(){function n(t,e){this.mo=t,this.Lu=e,this.state="Unknown",this.Bu=0,this.qu=null,this.Uu=!0}return n.prototype.Qu=function(){var t=this;this.Bu===0&&(this.Wu("Unknown"),this.qu=this.mo.Os("online_state_timeout",1e4,function(){return t.qu=null,t.ju("Backend didn't respond within 10 seconds."),t.Wu("Offline"),Promise.resolve()}))},n.prototype.Ku=function(t){this.state==="Online"?this.Wu("Unknown"):(this.Bu++,this.Bu>=1&&(this.Gu(),this.ju("Connection failed 1 times. Most recent error: "+t.toString()),this.Wu("Offline")))},n.prototype.set=function(t){this.Gu(),this.Bu=0,t==="Online"&&(this.Uu=!1),this.Wu(t)},n.prototype.Wu=function(t){t!==this.state&&(this.state=t,this.Lu(t))},n.prototype.ju=function(t){var e="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Uu?(Kr(e),this.Uu=!1):ct("OnlineStateTracker",e)},n.prototype.Gu=function(){this.qu!==null&&(this.qu.cancel(),this.qu=null)},n}(),Xke=function(){function n(t,e,i,r,o){var s=this;this.zu=t,this.Du=e,this.mo=i,this.Hu=[],this.Yu=new Map,this.Ju=null,this.Xu=new Set,this.Zu=o,this.Zu.tc(function(a){i.cr(function(){return pe.__awaiter(s,void 0,void 0,function(){return pe.__generator(this,function(l){switch(l.label){case 0:return this.ec()?(ct("RemoteStore","Restarting streams for network reachability change."),[4,this.nc()]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.sc=new Zke(i,r),this.ic=function(a,l,u){var d=hx(a);return new qke(l,d.Ja,d.credentials,d.serializer,u)}(this.Du,i,{wu:this.rc.bind(this),cu:this.oc.bind(this),Eu:this.hc.bind(this)}),this.ac=function(a,l,u){var d=hx(a);return new $ke(l,d.Ja,d.credentials,d.serializer,u)}(this.Du,i,{wu:this.uc.bind(this),cu:this.cc.bind(this),gu:this.lc.bind(this),Vu:this.Vu.bind(this)})}return n.prototype.start=function(){return this.enableNetwork()},n.prototype.enableNetwork=function(){return this.Xu.delete(0),this._c()},n.prototype._c=function(){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(t){switch(t.label){case 0:return this.ec()?(this.fc()?this.dc():this.sc.set("Unknown"),[4,this.wc()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.disableNetwork=function(){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(t){switch(t.label){case 0:return this.Xu.add(0),[4,this.Tc()];case 1:return t.sent(),this.sc.set("Offline"),[2]}})})},n.prototype.Tc=function(){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(t){switch(t.label){case 0:return[4,this.ac.stop()];case 1:return t.sent(),[4,this.ic.stop()];case 2:return t.sent(),this.Hu.length>0&&(ct("RemoteStore","Stopping write stream with "+this.Hu.length+" pending writes"),this.Hu=[]),this.Ec(),[2]}})})},n.prototype.gr=function(){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(t){switch(t.label){case 0:return ct("RemoteStore","RemoteStore shutting down."),this.Xu.add(5),[4,this.Tc()];case 1:return t.sent(),this.Zu.gr(),this.sc.set("Unknown"),[2]}})})},n.prototype.listen=function(t){this.Yu.has(t.targetId)||(this.Yu.set(t.targetId,t),this.fc()?this.dc():this.ic.nu()&&this.Ic(t))},n.prototype.mc=function(t){this.Yu.delete(t),this.ic.nu()&&this.Ac(t),this.Yu.size===0&&(this.ic.nu()?this.ic.ru():this.ec()&&this.sc.set("Unknown"))},n.prototype.Me=function(t){return this.Yu.get(t)||null},n.prototype.xe=function(t){return this.Rc.xe(t)},n.prototype.Ic=function(t){this.Ju.de(t.targetId),this.ic.Iu(t)},n.prototype.Ac=function(t){this.Ju.de(t),this.ic.mu(t)},n.prototype.dc=function(){this.Ju=new zPe(this),this.ic.start(),this.sc.Qu()},n.prototype.fc=function(){return this.ec()&&!this.ic.eu()&&this.Yu.size>0},n.prototype.ec=function(){return this.Xu.size===0},n.prototype.Ec=function(){this.Ju=null},n.prototype.rc=function(){return pe.__awaiter(this,void 0,void 0,function(){var t=this;return pe.__generator(this,function(e){return this.Yu.forEach(function(i,r){t.Ic(i)}),[2]})})},n.prototype.oc=function(t){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(e){return this.Ec(),this.fc()?(this.sc.Ku(t),this.dc()):this.sc.set("Unknown"),[2]})})},n.prototype.hc=function(t,e){return pe.__awaiter(this,void 0,void 0,function(){var i,r,o;return pe.__generator(this,function(s){switch(s.label){case 0:if(this.sc.set("Online"),!(t instanceof Eie&&t.state===2&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,this.Pc(t)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),ct("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,this.Vc(i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof rB?this.Ju.Pe(t):t instanceof Cie?this.Ju.De(t):this.Ju.ye(t),e.isEqual($n.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,this.zu.mi()];case 8:return r=s.sent(),e.o(r)>=0?[4,this.gc(e)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return ct("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,this.Vc(o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})},n.prototype.Vc=function(t,e){return pe.__awaiter(this,void 0,void 0,function(){var i=this;return pe.__generator(this,function(r){switch(r.label){case 0:if(!Bv(t))throw t;return this.Xu.add(1),[4,this.Tc()];case 1:return r.sent(),this.sc.set("Offline"),e||(e=function(){return i.zu.mi()}),this.mo._r(function(){return pe.__awaiter(i,void 0,void 0,function(){return pe.__generator(this,function(o){switch(o.label){case 0:return ct("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return o.sent(),this.Xu.delete(1),[4,this._c()];case 2:return o.sent(),[2]}})})}),[2]}})})},n.prototype.yc=function(t){var e=this;return t().catch(function(i){return e.Vc(i,t)})},n.prototype.gc=function(t){var e=this,i=this.Ju.Ne(t);return i.Qt.forEach(function(r,o){if(r.resumeToken.H()>0){var s=e.Yu.get(o);s&&e.Yu.set(o,s.tt(r.resumeToken,t))}}),i.Wt.forEach(function(r){var o=e.Yu.get(r);if(o){e.Yu.set(r,o.tt(Gl.Y,o.X)),e.Ac(r);var s=new CB(o.target,r,1,o.sequenceNumber);e.Ic(s)}}),this.Rc.Lh(i)},n.prototype.Pc=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i,r,o;return pe.__generator(this,function(s){switch(s.label){case 0:e=t.cause,i=0,r=t.targetIds,s.label=1;case 1:return i<r.length?(o=r[i],this.Yu.has(o)?[4,this.Rc.pc(o,e)]:[3,3]):[3,5];case 2:s.sent(),this.Yu.delete(o),this.Ju.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return i++,[3,1];case 5:return[2]}})})},n.prototype.wc=function(){return pe.__awaiter(this,void 0,void 0,function(){var t,e,i;return pe.__generator(this,function(r){switch(r.label){case 0:t=this.Hu.length>0?this.Hu[this.Hu.length-1].batchId:-1,r.label=1;case 1:if(!this.bc())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.zu.Qh(t)];case 3:return(e=r.sent())===null?(this.Hu.length===0&&this.ac.ru(),[3,7]):(t=e.batchId,this.vc(e),[3,6]);case 4:return i=r.sent(),[4,this.Vc(i)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Sc()&&this.Dc(),[2]}})})},n.prototype.bc=function(){return this.ec()&&this.Hu.length<10},n.prototype.Cc=function(){return this.Hu.length},n.prototype.vc=function(t){this.Hu.push(t),this.ac.nu()&&this.ac.Ru&&this.ac.Pu(t.mutations)},n.prototype.Sc=function(){return this.ec()&&!this.ac.eu()&&this.Hu.length>0},n.prototype.Dc=function(){this.ac.start()},n.prototype.uc=function(){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(t){return this.ac.yu(),[2]})})},n.prototype.lc=function(){return pe.__awaiter(this,void 0,void 0,function(){var t,e,i;return pe.__generator(this,function(r){for(t=0,e=this.Hu;t<e.length;t++)i=e[t],this.ac.Pu(i.mutations);return[2]})})},n.prototype.Vu=function(t,e){return pe.__awaiter(this,void 0,void 0,function(){var i,r,o=this;return pe.__generator(this,function(s){switch(s.label){case 0:return i=this.Hu.shift(),r=pke.from(i,t,e),[4,this.yc(function(){return o.Rc.Fc(r)})];case 1:return s.sent(),[4,this.wc()];case 2:return s.sent(),[2]}})})},n.prototype.cc=function(t){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(e){switch(e.label){case 0:return t&&this.ac.Ru?[4,this.Nc(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Sc()&&this.Dc(),[2]}})})},n.prototype.Nc=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i,r=this;return pe.__generator(this,function(o){switch(o.label){case 0:return yie(i=t.code)&&i!==Ie.ABORTED?(e=this.Hu.shift(),this.ac.iu(),[4,this.yc(function(){return r.Rc.$c(e.batchId,t)})]):[3,3];case 1:return o.sent(),[4,this.wc()];case 2:o.sent(),o.label=3;case 3:return[2]}})})},n.prototype.kc=function(){return new gre(this.Du)},n.prototype.nc=function(){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(t){switch(t.label){case 0:return this.Xu.add(4),[4,this.Tc()];case 1:return t.sent(),this.sc.set("Unknown"),this.ac.iu(),this.ic.iu(),this.Xu.delete(4),[4,this._c()];case 2:return t.sent(),[2]}})})},n.prototype.xc=function(t){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(e){switch(e.label){case 0:return this.mo.Wo(),ct("RemoteStore","RemoteStore received new credentials"),this.Xu.add(3),[4,this.Tc()];case 1:return e.sent(),this.sc.set("Unknown"),[4,this.Rc.xc(t)];case 2:return e.sent(),this.Xu.delete(3),[4,this._c()];case 3:return e.sent(),[2]}})})},n.prototype.Mc=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e;return pe.__generator(this,function(i){switch(i.label){case 0:return t?(this.Xu.delete(2),[4,this._c()]):[3,2];case 1:return i.sent(),[3,5];case 2:return(e=t)?[3,4]:(this.Xu.add(2),[4,this.Tc()]);case 3:i.sent(),e=this.sc.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})},n}();function eie(n,t){return"firestore_clients_"+n+"_"+t}function tie(n,t,e){var i="firestore_mutations_"+n+"_"+e;return t.zr()&&(i+="_"+t.uid),i}function V6(n,t){return"firestore_targets_"+n+"_"+t}var nie=function(){function n(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}return n.Oc=function(t,e,i){var r=JSON.parse(i),o=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object"),s=void 0;return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string")&&(s=new Re(r.error.code,r.error.message)),o?new n(t,e,r.state,s):(Kr("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+i),null)},n.prototype.Lc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},n}(),Q6=function(){function n(t,e,i){this.targetId=t,this.state=e,this.error=i}return n.Oc=function(t,e){var i=JSON.parse(e),r=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object"),o=void 0;return r&&i.error&&(r=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(o=new Re(i.error.code,i.error.message)),r?new n(t,i.state,o):(Kr("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},n.prototype.Lc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},n}(),iie=function(){function n(t,e){this.clientId=t,this.activeTargetIds=e}return n.Oc=function(t,e){for(var i=JSON.parse(e),r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=EB(),s=0;r&&s<i.activeTargetIds.length;++s)r=_ie(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new n(t,o):(Kr("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},n}(),Jke=function(){function n(t,e){this.clientId=t,this.onlineState=e}return n.Oc=function(t){var e=JSON.parse(t);return typeof e=="object"&&["Unknown","Online","Offline"].indexOf(e.onlineState)!==-1&&typeof e.clientId=="string"?new n(e.clientId,e.onlineState):(Kr("SharedClientState","Failed to parse online state: "+t),null)},n}(),Y6=function(){function n(){this.activeTargetIds=EB()}return n.prototype.Bc=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},n.prototype.qc=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},n.prototype.Lc=function(){var t={activeTargetIds:this.activeTargetIds.F(),updateTimeMs:Date.now()};return JSON.stringify(t)},n}(),j6=function(){function n(t,e,i,r,o){this.window=t,this.bs=e,this.persistenceKey=i,this.Uc=r,this.Rc=null,this.Lu=null,this.Ps=null,this.Qc=this.Wc.bind(this),this.jc=new Oa(Pn),this.or=!1,this.Kc=[];var s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Gc=eie(this.persistenceKey,this.Uc),this.zc=function(a){return"firestore_sequence_number_"+a}(this.persistenceKey),this.jc=this.jc.nt(this.Uc,new Y6),this.Hc=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Yc=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Jc=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Xc=function(a){return"firestore_online_state_"+a}(this.persistenceKey),this.window.addEventListener("storage",this.Qc)}return n.Hi=function(t){return!(!t||!t.localStorage)},n.prototype.start=function(){return pe.__awaiter(this,void 0,void 0,function(){var t,e,i,r,o,s,a,l,u,d,h,f=this;return pe.__generator(this,function(A){switch(A.label){case 0:return[4,this.Rc.Sr()];case 1:for(t=A.sent(),e=0,i=t;e<i.length;e++)(r=i[e])!==this.Uc&&(o=this.getItem(eie(this.persistenceKey,r)))&&(s=iie.Oc(r,o))&&(this.jc=this.jc.nt(s.clientId,s));for(this.Zc(),(a=this.storage.getItem(this.Xc))&&(l=this.tl(a))&&this.el(l),u=0,d=this.Kc;u<d.length;u++)h=d[u],this.Wc(h);return this.Kc=[],this.window.addEventListener("unload",function(){return f.gr()}),this.or=!0,[2]}})})},n.prototype.ys=function(t){this.setItem(this.zc,JSON.stringify(t))},n.prototype.nl=function(){return this.sl(this.jc)},n.prototype.il=function(t){var e=!1;return this.jc.forEach(function(i,r){r.activeTargetIds.has(t)&&(e=!0)}),e},n.prototype.rl=function(t){this.ol(t,"pending")},n.prototype.hl=function(t,e,i){this.ol(t,e,i),this.al(t)},n.prototype.ul=function(t){var e="not-current";if(this.il(t)){var i=this.storage.getItem(V6(this.persistenceKey,t));if(i){var r=Q6.Oc(t,i);r&&(e=r.state)}}return this.cl.Bc(t),this.Zc(),e},n.prototype.ll=function(t){this.cl.qc(t),this.Zc()},n.prototype._l=function(t){return this.cl.activeTargetIds.has(t)},n.prototype.fl=function(t){this.removeItem(V6(this.persistenceKey,t))},n.prototype.dl=function(t,e,i){this.wl(t,e,i)},n.prototype.Ch=function(t,e,i){var r=this;e.forEach(function(o){r.al(o)}),this.currentUser=t,i.forEach(function(o){r.rl(o)})},n.prototype.Tl=function(t){this.El(t)},n.prototype.gr=function(){this.or&&(this.window.removeEventListener("storage",this.Qc),this.removeItem(this.Gc),this.or=!1)},n.prototype.getItem=function(t){var e=this.storage.getItem(t);return ct("SharedClientState","READ",t,e),e},n.prototype.setItem=function(t,e){ct("SharedClientState","SET",t,e),this.storage.setItem(t,e)},n.prototype.removeItem=function(t){ct("SharedClientState","REMOVE",t),this.storage.removeItem(t)},n.prototype.Wc=function(t){var e=this,i=t;if(i.storageArea===this.storage){if(ct("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Gc)return void Kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bs._r(function(){return pe.__awaiter(e,void 0,void 0,function(){var r,o,s,a,l,u;return pe.__generator(this,function(d){if(this.or){if(i.key!==null)if(this.Hc.test(i.key)){if(i.newValue==null)return r=this.Il(i.key),[2,this.ml(r,null)];if(o=this.Al(i.key,i.newValue))return[2,this.ml(o.clientId,o)]}else if(this.Yc.test(i.key)){if(i.newValue!==null&&(s=this.Rl(i.key,i.newValue)))return[2,this.Pl(s)]}else if(this.Jc.test(i.key)){if(i.newValue!==null&&(a=this.Vl(i.key,i.newValue)))return[2,this.gl(a)]}else if(i.key===this.Xc){if(i.newValue!==null&&(l=this.tl(i.newValue)))return[2,this.el(l)]}else i.key===this.zc&&(u=function(h){var f=Tu.ps;if(h!=null)try{var A=JSON.parse(h);Qt(typeof A=="number"),f=A}catch(g){Kr("SharedClientState","Failed to read sequence number from WebStorage",g)}return f}(i.newValue))!==Tu.ps&&this.Ps(u)}else this.Kc.push(i);return[2]})})})}},Object.defineProperty(n.prototype,"cl",{get:function(){return this.jc.get(this.Uc)},enumerable:!1,configurable:!0}),n.prototype.Zc=function(){this.setItem(this.Gc,this.cl.Lc())},n.prototype.ol=function(t,e,i){var r=new nie(this.currentUser,t,e,i),o=tie(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Lc())},n.prototype.al=function(t){var e=tie(this.persistenceKey,this.currentUser,t);this.removeItem(e)},n.prototype.El=function(t){var e={clientId:this.Uc,onlineState:t};this.storage.setItem(this.Xc,JSON.stringify(e))},n.prototype.wl=function(t,e,i){var r=V6(this.persistenceKey,t),o=new Q6(t,e,i);this.setItem(r,o.Lc())},n.prototype.Il=function(t){var e=this.Hc.exec(t);return e?e[1]:null},n.prototype.Al=function(t,e){var i=this.Il(t);return iie.Oc(i,e)},n.prototype.Rl=function(t,e){var i=this.Yc.exec(t),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return nie.Oc(new Iu(o),r,e)},n.prototype.Vl=function(t,e){var i=this.Jc.exec(t),r=Number(i[1]);return Q6.Oc(r,e)},n.prototype.tl=function(t){return Jke.Oc(t)},n.prototype.Pl=function(t){return pe.__awaiter(this,void 0,void 0,function(){return pe.__generator(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.Rc.yl(t.batchId,t.state,t.error)]:(ct("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},n.prototype.gl=function(t){return this.Rc.pl(t.targetId,t.state,t.error)},n.prototype.ml=function(t,e){var i=this,r=e?this.jc.nt(t,e):this.jc.remove(t),o=this.sl(this.jc),s=this.sl(r),a=[],l=[];return s.forEach(function(u){o.has(u)||a.push(u)}),o.forEach(function(u){s.has(u)||l.push(u)}),this.Rc.bl(a,l).then(function(){i.jc=r})},n.prototype.el=function(t){this.jc.get(t.clientId)&&this.Lu(t.onlineState)},n.prototype.sl=function(t){var e=EB();return t.forEach(function(i,r){e=e.Ct(r.activeTargetIds)}),e},n}(),Z6=function(){function n(){this.vl=new Y6,this.Sl={},this.Rc=null,this.Lu=null,this.Ps=null}return n.prototype.rl=function(t){},n.prototype.hl=function(t,e,i){},n.prototype.ul=function(t){return this.vl.Bc(t),this.Sl[t]||"not-current"},n.prototype.dl=function(t,e,i){this.Sl[t]=e},n.prototype.ll=function(t){this.vl.qc(t)},n.prototype._l=function(t){return this.vl.activeTargetIds.has(t)},n.prototype.fl=function(t){delete this.Sl[t]},n.prototype.nl=function(){return this.vl.activeTargetIds},n.prototype.il=function(t){return this.vl.activeTargetIds.has(t)},n.prototype.start=function(){return this.vl=new Y6,Promise.resolve()},n.prototype.Ch=function(t,e,i){},n.prototype.Tl=function(t){},n.prototype.gr=function(){},n.prototype.ys=function(t){},n}(),mre=function(n){this.key=n},vre=function(n){this.key=n},_re=function(){function n(t,e){this.query=t,this.Dl=e,this.Cl=null,this.Ht=!1,this.Fl=lr(),this.Lt=lr(),this.Nl=Wie(t),this.$l=new bie(this.Nl)}return Object.defineProperty(n.prototype,"kl",{get:function(){return this.Dl},enumerable:!1,configurable:!0}),n.prototype.xl=function(t,e){var i=this,r=e?e.Ml:new yne,o=e?e.$l:this.$l,s=e?e.Lt:this.Lt,a=o,l=!1,u=this.query.In()&&o.size===this.query.limit?o.last():null,d=this.query.mn()&&o.size===this.query.limit?o.first():null;if(t.ot(function(f,A){var g=o.get(f),m=A instanceof Ai?A:null;m&&(m=Dx(i.query,m)?m:null);var b=!!g&&i.Lt.has(g.key),S=!!m&&(m.Ge||i.Lt.has(m.key)&&m.hasCommittedMutations),F=!1;g&&m?g.data().isEqual(m.data())?b!==S&&(r.track({type:3,doc:m}),F=!0):i.Ol(g,m)||(r.track({type:2,doc:m}),F=!0,(u&&i.Nl(m,u)>0||d&&i.Nl(m,d)<0)&&(l=!0)):!g&&m?(r.track({type:0,doc:m}),F=!0):g&&!m&&(r.track({type:1,doc:g}),F=!0,(u||d)&&(l=!0)),F&&(m?(a=a.add(m),s=S?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.In()||this.query.mn())for(;a.size>this.query.limit;){var h=this.query.In()?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{$l:a,Ml:r,Ll:l,Lt:s}},n.prototype.Ol=function(t,e){return t.Ge&&e.hasCommittedMutations&&!e.Ge},n.prototype.Jn=function(t,e,i){var r=this,o=this.$l;this.$l=t.$l,this.Lt=t.Lt;var s=t.Ml.Mt();s.sort(function(d,h){return function(f,A){var g=function(m){switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return g(f)-g(A)}(d.type,h.type)||r.Nl(d.doc,h.doc)}),this.Bl(i);var a=e?this.ql():[],l=this.Fl.size===0&&this.Ht?1:0,u=l!==this.Cl;return this.Cl=l,s.length!==0||u?{snapshot:new lB(this.query,t.$l,o,s,t.Lt,l===0,u,!1),Ul:a}:{Ul:a}},n.prototype.Ql=function(t){return this.Ht&&t==="Offline"?(this.Ht=!1,this.Jn({$l:this.$l,Ml:new yne,Lt:this.Lt,Ll:!1},!1)):{Ul:[]}},n.prototype.Wl=function(t){return!this.Dl.has(t)&&!!this.$l.has(t)&&!this.$l.get(t).Ge},n.prototype.Bl=function(t){var e=this;t&&(t.Yt.forEach(function(i){return e.Dl=e.Dl.add(i)}),t.Jt.forEach(function(i){}),t.Xt.forEach(function(i){return e.Dl=e.Dl.delete(i)}),this.Ht=t.Ht)},n.prototype.ql=function(){var t=this;if(!this.Ht)return[];var e=this.Fl;this.Fl=lr(),this.$l.forEach(function(r){t.Wl(r.key)&&(t.Fl=t.Fl.add(r.key))});var i=[];return e.forEach(function(r){t.Fl.has(r)||i.push(new vre(r))}),this.Fl.forEach(function(r){e.has(r)||i.push(new mre(r))}),i},n.prototype.jl=function(t){this.Dl=t.zh,this.Fl=lr();var e=this.xl(t.documents);return this.Jn(e,!0)},n.prototype.Kl=function(){return lB.Ut(this.query,this.$l,this.Lt,this.Cl===0)},n}(),eNe=function(){function n(t,e,i,r){this.mo=t,this.Du=e,this.updateFunction=i,this.Po=r,this.Gl=5,this.$o=new fV(this.mo,"transaction_retry")}return n.prototype.run=function(){this.zl()},n.prototype.zl=function(){var t=this;this.$o.xs(function(){return pe.__awaiter(t,void 0,void 0,function(){var e,i,r=this;return pe.__generator(this,function(o){return e=new gre(this.Du),(i=this.Hl(e))&&i.then(function(s){r.mo.cr(function(){return e.commit().then(function(){r.Po.resolve(s)}).catch(function(a){r.Yl(a)})})}).catch(function(s){r.Yl(s)}),[2]})})})},n.prototype.Hl=function(t){try{var e=this.updateFunction(t);return!Tv(e)&&e.catch&&e.then?e:(this.Po.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.Po.reject(i),null}},n.prototype.Yl=function(t){var e=this;this.Gl>0&&this.Jl(t)?(this.Gl-=1,this.mo.cr(function(){return e.zl(),Promise.resolve()})):this.Po.reject(t)},n.prototype.Jl=function(t){if(t.name==="FirebaseError"){var e=t.code;return e==="aborted"||e==="failed-precondition"||!yie(e)}return!1},n}(),tNe=function(n,t,e){this.query=n,this.targetId=t,this.view=e},nNe=function(n){this.key=n,this.Xl=!1},yre=function(){function n(t,e,i,r,o,s){this.zu=t,this.Zl=e,this.Du=i,this.t_=r,this.currentUser=o,this.e_=s,this.n_=null,this.s_=new jw(function(a){return Gie(a)},Vw),this.i_=new Map,this.r_=[],this.o_=new Oa(zt.P),this.h_=new Map,this.a_=new mV,this.u_={},this.c_=new Map,this.l_=mB.di(),this.onlineState="Unknown"}return Object.defineProperty(n.prototype,"__",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(t){this.n_=t},n.prototype.listen=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i,r,o,s;return pe.__generator(this,function(a){switch(a.label){case 0:return this.f_("listen()"),(r=this.s_.get(t))?(e=r.targetId,this.t_.ul(e),i=r.view.Kl(),[3,4]):[3,1];case 1:return[4,this.zu.jh(t.We())];case 2:return o=a.sent(),s=this.t_.ul(o.targetId),e=o.targetId,[4,this.d_(t,e,s==="current")];case 3:i=a.sent(),this.__&&this.Zl.listen(o),a.label=4;case 4:return[2,i]}})})},n.prototype.d_=function(t,e,i){return pe.__awaiter(this,void 0,void 0,function(){var r,o,s,a,l,u;return pe.__generator(this,function(d){switch(d.label){case 0:return[4,this.zu.Gh(t,!0)];case 1:return r=d.sent(),o=new _re(t,r.zh),s=o.xl(r.documents),a=iV.zt(e,i&&this.onlineState!=="Offline"),l=o.Jn(s,this.__,a),this.w_(e,l.Ul),u=new tNe(t,e,o),[2,(this.s_.set(t,u),this.i_.has(e)?this.i_.get(e).push(t):this.i_.set(e,[t]),l.snapshot)]}})})},n.prototype.mc=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i,r=this;return pe.__generator(this,function(o){switch(o.label){case 0:return this.f_("unlisten()"),e=this.s_.get(t),(i=this.i_.get(e.targetId)).length>1?[2,(this.i_.set(e.targetId,i.filter(function(s){return!Vw(s,t)})),void this.s_.delete(t))]:this.__?(this.t_.ll(e.targetId),this.t_.il(e.targetId)?[3,2]:[4,this.zu.Kh(e.targetId,!1).then(function(){r.t_.fl(e.targetId),r.Zl.mc(e.targetId),r.T_(e.targetId)}).catch(Sv)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return this.T_(e.targetId),[4,this.zu.Kh(e.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})},n.prototype.write=function(t,e){return pe.__awaiter(this,void 0,void 0,function(){var i,r,o;return pe.__generator(this,function(s){switch(s.label){case 0:this.f_("write()"),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,this.zu.kh(t)];case 2:return i=s.sent(),this.t_.rl(i.batchId),this.E_(i.batchId,e),[4,this.I_(i.Un)];case 3:return s.sent(),[4,this.Zl.wc()];case 4:return s.sent(),[3,6];case 5:return r=s.sent(),o=_x(r,"Failed to persist write"),e.reject(o),[3,6];case 6:return[2]}})})},n.prototype.runTransaction=function(t,e,i){new eNe(t,this.Du,e,i).run()},n.prototype.Lh=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i=this;return pe.__generator(this,function(r){switch(r.label){case 0:this.f_("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.zu.Lh(t)];case 2:return e=r.sent(),t.Qt.forEach(function(o,s){var a=i.h_.get(s);a&&(Qt(o.Yt.size+o.Jt.size+o.Xt.size<=1),o.Yt.size>0?a.Xl=!0:o.Jt.size>0?Qt(a.Xl):o.Xt.size>0&&(Qt(a.Xl),a.Xl=!1))}),[4,this.I_(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Sv(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},n.prototype.Ql=function(t,e){this.f_("applyOnlineStateChange()");var i=[];this.s_.forEach(function(r,o){var s=o.view.Ql(t);s.snapshot&&i.push(s.snapshot)}),this.n_.m_(t),this.n_.Eu(i),this.onlineState=t},n.prototype.pc=function(t,e){return pe.__awaiter(this,void 0,void 0,function(){var i,r,o,s,a,l=this;return pe.__generator(this,function(u){switch(u.label){case 0:return this.f_("rejectListens()"),this.t_.dl(t,"rejected",e),i=this.h_.get(t),(r=i&&i.key)?(o=(o=new Oa(zt.P)).nt(r,new ws(r,$n.min())),s=lr().add(r),a=new nV($n.min(),new Map,new ts(Pn),o,s),[4,this.Lh(a)]):[3,2];case 1:return u.sent(),this.o_=this.o_.remove(r),this.h_.delete(t),this.A_(),[3,4];case 2:return[4,this.zu.Kh(t,!1).then(function(){return l.T_(t,e)}).catch(Sv)];case 3:u.sent(),u.label=4;case 4:return[2]}})})},n.prototype.Fc=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i;return pe.__generator(this,function(r){switch(r.label){case 0:this.f_("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.zu.xh(t)];case 2:return i=r.sent(),this.R_(e,null),this.P_(e),this.t_.hl(e,"acknowledged"),[4,this.I_(i)];case 3:return r.sent(),[3,6];case 4:return[4,Sv(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},n.prototype.$c=function(t,e){return pe.__awaiter(this,void 0,void 0,function(){var i;return pe.__generator(this,function(r){switch(r.label){case 0:this.f_("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.zu.Oh(t)];case 2:return i=r.sent(),this.R_(t,e),this.P_(t),this.t_.hl(t,"rejected",e),[4,this.I_(i)];case 3:return r.sent(),[3,6];case 4:return[4,Sv(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},n.prototype.V_=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i,r,o;return pe.__generator(this,function(s){switch(s.label){case 0:this.Zl.ec()||ct("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.zu.to()];case 2:return(e=s.sent())===-1?[2,void t.resolve()]:((i=this.c_.get(e)||[]).push(t),this.c_.set(e,i),[3,4]);case 3:return r=s.sent(),o=_x(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}})})},n.prototype.P_=function(t){(this.c_.get(t)||[]).forEach(function(e){e.resolve()}),this.c_.delete(t)},n.prototype.g_=function(t){this.c_.forEach(function(e){e.forEach(function(i){i.reject(new Re(Ie.CANCELLED,t))})}),this.c_.clear()},n.prototype.E_=function(t,e){var i=this.u_[this.currentUser.ka()];i||(i=new Oa(Pn)),i=i.nt(t,e),this.u_[this.currentUser.ka()]=i},n.prototype.R_=function(t,e){var i=this.u_[this.currentUser.ka()];if(i){var r=i.get(t);r&&(e?r.reject(e):r.resolve(),i=i.remove(t)),this.u_[this.currentUser.ka()]=i}},n.prototype.T_=function(t,e){var i=this;e===void 0&&(e=null),this.t_.ll(t);for(var r=0,o=this.i_.get(t);r<o.length;r++){var s=o[r];this.s_.delete(s),e&&this.n_.y_(s,e)}this.i_.delete(t),this.__&&this.a_.oa(t).forEach(function(a){i.a_.Mi(a)||i.p_(a)})},n.prototype.p_=function(t){var e=this.o_.get(t);e!==null&&(this.Zl.mc(e),this.o_=this.o_.remove(t),this.h_.delete(e),this.A_())},n.prototype.w_=function(t,e){for(var i=0,r=e;i<r.length;i++){var o=r[i];o instanceof mre?(this.a_.Fi(o.key,t),this.b_(o)):o instanceof vre?(ct("SyncEngine","Document no longer in limbo: "+o.key),this.a_.$i(o.key,t),this.a_.Mi(o.key)||this.p_(o.key)):Dt()}},n.prototype.b_=function(t){var e=t.key;this.o_.get(e)||(ct("SyncEngine","New document in limbo: "+e),this.r_.push(e),this.A_())},n.prototype.A_=function(){for(;this.r_.length>0&&this.o_.size<this.e_;){var t=this.r_.shift(),e=this.l_.next();this.h_.set(e,new nNe(t)),this.o_=this.o_.nt(t,e),this.Zl.listen(new CB(Fv.hn(t.path).We(),e,2,Tu.ps))}},n.prototype.v_=function(){return this.o_},n.prototype.S_=function(){return this.r_},n.prototype.I_=function(t,e){return pe.__awaiter(this,void 0,void 0,function(){var i,r,o,s=this;return pe.__generator(this,function(a){switch(a.label){case 0:return i=[],r=[],o=[],this.s_.forEach(function(l,u){o.push(Promise.resolve().then(function(){var d=u.view.xl(t);return d.Ll?s.zu.Gh(u.query,!1).then(function(h){var f=h.documents;return u.view.xl(f,d)}):d}).then(function(d){var h=e&&e.Qt.get(u.targetId),f=u.view.Jn(d,s.__,h);if(s.w_(u.targetId,f.Ul),f.snapshot){s.__&&s.t_.dl(u.targetId,f.snapshot.fromCache?"not-current":"current"),i.push(f.snapshot);var A=Ake.Rs(u.targetId,f.snapshot);r.push(A)}}))}),[4,Promise.all(o)];case 1:return a.sent(),this.n_.Eu(i),[4,this.zu.Uh(r)];case 2:return a.sent(),[2]}})})},n.prototype.f_=function(t){},n.prototype.xc=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e;return pe.__generator(this,function(i){switch(i.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(ct("SyncEngine","User change. New user:",t.ka()),[4,this.zu.Ch(t)]);case 1:return e=i.sent(),this.currentUser=t,this.g_("'waitForPendingWrites' promise is rejected due to a user change."),this.t_.Ch(t,e.Nh,e.$h),[4,this.I_(e.Fh)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},n.prototype.enableNetwork=function(){return this.Zl.enableNetwork()},n.prototype.disableNetwork=function(){return this.Zl.disableNetwork()},n.prototype.xe=function(t){var e=this.h_.get(t);if(e&&e.Xl)return lr().add(e.key);var i=lr(),r=this.i_.get(t);if(!r)return i;for(var o=0,s=r;o<s.length;o++){var a=s[o],l=this.s_.get(a);i=i.Ct(l.view.kl)}return i},n}();function wre(n,t,e,i,r,o){return new yre(n,t,e,i,r,o)}var iNe=function(n){function t(e,i,r,o,s,a){var l=this;return(l=n.call(this,e,i,r,o,s,a)||this).zu=e,l.D_=void 0,l}return pe.__extends(t,n),Object.defineProperty(t.prototype,"__",{get:function(){return this.D_===!0},enumerable:!1,configurable:!0}),t.prototype.enableNetwork=function(){return this.zu.ur(!0),n.prototype.enableNetwork.call(this)},t.prototype.disableNetwork=function(){return this.zu.ur(!1),n.prototype.disableNetwork.call(this)},t.prototype.C_=function(e){return pe.__awaiter(this,void 0,void 0,function(){var i,r;return pe.__generator(this,function(o){switch(o.label){case 0:return[4,this.zu.Gh(e.query,!0)];case 1:return i=o.sent(),r=e.view.jl(i),[2,(this.D_&&this.w_(e.targetId,r.Ul),r)]}})})},t.prototype.Ql=function(e,i){this.__&&i===0&&(n.prototype.Ql.call(this,e,i),this.t_.Tl(e)),this.__||i!==1||n.prototype.Ql.call(this,e,i)},t.prototype.yl=function(e,i,r){return pe.__awaiter(this,void 0,void 0,function(){var o;return pe.__generator(this,function(s){switch(s.label){case 0:return this.f_("applyBatchState()"),[4,this.zu.Yh(e)];case 1:return(o=s.sent())===null?[3,6]:i!=="pending"?[3,3]:[4,this.Zl.wc()];case 2:return s.sent(),[3,4];case 3:i==="acknowledged"||i==="rejected"?(this.R_(e,r||null),this.zu.Jh(e)):Dt(),s.label=4;case 4:return[4,this.I_(o)];case 5:return s.sent(),[3,7];case 6:ct("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})},t.prototype.Mc=function(e){return pe.__awaiter(this,void 0,void 0,function(){var i,r,o,s,a,l,u,d=this;return pe.__generator(this,function(h){switch(h.label){case 0:return e!==!0||this.D_===!0?[3,3]:(i=this.t_.nl(),[4,this.F_(i.F(),!0)]);case 1:return r=h.sent(),this.D_=!0,[4,this.Zl.Mc(!0)];case 2:for(h.sent(),o=0,s=r;o<s.length;o++)a=s[o],this.Zl.listen(a);return[3,7];case 3:return e!==!1||this.D_===!1?[3,7]:(l=[],u=Promise.resolve(),this.i_.forEach(function(f,A){d.t_._l(A)?l.push(A):u=u.then(function(){return d.T_(A),d.zu.Kh(A,!0)}),d.Zl.mc(A)}),[4,u]);case 4:return h.sent(),[4,this.F_(l,!1)];case 5:return h.sent(),this.N_(),this.D_=!1,[4,this.Zl.Mc(!1)];case 6:h.sent(),h.label=7;case 7:return[2]}})})},t.prototype.N_=function(){var e=this;this.h_.forEach(function(i,r){e.Zl.mc(r)}),this.a_.ha(),this.h_=new Map,this.o_=new Oa(zt.P)},t.prototype.F_=function(e,i){return pe.__awaiter(this,void 0,void 0,function(){var r,o,s,a,l,u,d,h,f,A,g,m,b;return pe.__generator(this,function(S){switch(S.label){case 0:r=[],o=[],s=0,a=e,S.label=1;case 1:return s<a.length?(l=a[s],u=void 0,(d=this.i_.get(l))&&d.length!==0?[4,this.zu.jh(d[0].We())]:[3,7]):[3,13];case 2:u=S.sent(),h=0,f=d,S.label=3;case 3:return h<f.length?(A=f[h],g=this.s_.get(A),[4,this.C_(g)]):[3,6];case 4:(m=S.sent()).snapshot&&o.push(m.snapshot),S.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,this.zu.Xh(l)];case 8:return b=S.sent(),[4,this.zu.jh(b)];case 9:return u=S.sent(),[4,this.d_(this.k_(b),l,!1)];case 10:S.sent(),S.label=11;case 11:r.push(u),S.label=12;case 12:return s++,[3,1];case 13:return[2,(this.n_.Eu(o),r)]}})})},t.prototype.k_=function(e){return new Fv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)},t.prototype.Sr=function(){return this.zu.Sr()},t.prototype.pl=function(e,i,r){return pe.__awaiter(this,void 0,void 0,function(){var o,s;return pe.__generator(this,function(a){switch(a.label){case 0:return this.D_?(ct("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.i_.has(e))return[3,8];switch(i){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.zu.si()];case 3:return o=a.sent(),s=nV.Gt(e,i==="current"),[4,this.I_(o,s)];case 4:return a.sent(),[3,8];case 5:return[4,this.zu.Kh(e,!0)];case 6:return a.sent(),this.T_(e,r),[3,8];case 7:Dt(),a.label=8;case 8:return[2]}})})},t.prototype.bl=function(e,i){return pe.__awaiter(this,void 0,void 0,function(){var r,o,s,a,l,u,d,h,f,A,g=this;return pe.__generator(this,function(m){switch(m.label){case 0:if(!this.D_)return[3,10];r=0,o=e,m.label=1;case 1:return r<o.length?(s=o[r],this.i_.has(s)?(ct("SyncEngine","Adding an already active target "+s),[3,5]):[4,this.zu.Xh(s)]):[3,6];case 2:return a=m.sent(),[4,this.zu.jh(a)];case 3:return l=m.sent(),[4,this.d_(this.k_(a),l.targetId,!1)];case 4:m.sent(),this.Zl.listen(l),m.label=5;case 5:return r++,[3,1];case 6:u=function(b){return pe.__generator(this,function(S){switch(S.label){case 0:return d.i_.has(b)?[4,d.zu.Kh(b,!1).then(function(){g.Zl.mc(b),g.T_(b)}).catch(Sv)]:[3,2];case 1:S.sent(),S.label=2;case 2:return[2]}})},d=this,h=0,f=i,m.label=7;case 7:return h<f.length?(A=f[h],[5,u(A)]):[3,10];case 8:m.sent(),m.label=9;case 9:return h++,[3,7];case 10:return[2]}})})},t}(yre),rNe=function(){this.x_=void 0,this.listeners=[]},oNe=function(){function n(t){this.Rc=t,this.M_=new jw(function(e){return Gie(e)},Vw),this.onlineState="Unknown",this.O_=new Set,this.Rc.subscribe(this)}return n.prototype.listen=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i,r,o,s,a;return pe.__generator(this,function(l){switch(l.label){case 0:if(e=t.query,i=!1,(r=this.M_.get(e))||(i=!0,r=new rNe),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),o=r,[4,this.Rc.listen(e)];case 2:return o.x_=l.sent(),[3,4];case 3:return s=l.sent(),a=_x(s,"Initialization of query '"+q6(t.query)+"' failed"),[2,void t.onError(a)];case 4:return this.M_.set(e,r),r.listeners.push(t),t.Ql(this.onlineState),r.x_&&t.L_(r.x_)&&this.B_(),[2]}})})},n.prototype.mc=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i,r,o;return pe.__generator(this,function(s){return e=t.query,i=!1,(r=this.M_.get(e))&&(o=r.listeners.indexOf(t))>=0&&(r.listeners.splice(o,1),i=r.listeners.length===0),i?[2,(this.M_.delete(e),this.Rc.mc(e))]:[2]})})},n.prototype.Eu=function(t){for(var e=!1,i=0,r=t;i<r.length;i++){var o=r[i],s=o.query,a=this.M_.get(s);if(a){for(var l=0,u=a.listeners;l<u.length;l++)u[l].L_(o)&&(e=!0);a.x_=o}}e&&this.B_()},n.prototype.y_=function(t,e){var i=this.M_.get(t);if(i)for(var r=0,o=i.listeners;r<o.length;r++)o[r].onError(e);this.M_.delete(t)},n.prototype.m_=function(t){this.onlineState=t;var e=!1;this.M_.forEach(function(i,r){for(var o=0,s=r.listeners;o<s.length;o++)s[o].Ql(t)&&(e=!0)}),e&&this.B_()},n.prototype.q_=function(t){this.O_.add(t),t.next()},n.prototype.U_=function(t){this.O_.delete(t)},n.prototype.B_=function(){this.O_.forEach(function(t){t.next()})},n}(),sNe=function(){function n(t,e,i){this.query=t,this.Q_=e,this.W_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}return n.prototype.L_=function(t){if(!this.options.includeMetadataChanges){for(var e=[],i=0,r=t.docChanges;i<r.length;i++){var o=r[i];o.type!==3&&e.push(o)}t=new lB(t.query,t.docs,t.Ot,e,t.Lt,t.fromCache,t.Bt,!0)}var s=!1;return this.W_?this.K_(t)&&(this.Q_.next(t),s=!0):this.G_(t,this.onlineState)&&(this.z_(t),s=!0),this.j_=t,s},n.prototype.onError=function(t){this.Q_.error(t)},n.prototype.Ql=function(t){this.onlineState=t;var e=!1;return this.j_&&!this.W_&&this.G_(this.j_,t)&&(this.z_(this.j_),e=!0),e},n.prototype.G_=function(t,e){if(!t.fromCache)return!0;var i=e!=="Offline";return!(this.options.H_&&i||t.docs._()&&e!=="Offline")},n.prototype.K_=function(t){if(t.docChanges.length>0)return!0;var e=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.Bt&&!e)&&this.options.includeMetadataChanges===!0},n.prototype.z_=function(t){t=lB.Ut(t.query,t.docs,t.Lt,t.fromCache),this.W_=!0,this.Q_.next(t)},n}(),X6=function(){function n(){}return n.prototype.Dh=function(t){this.Y_=t},n.prototype._s=function(t,e,i,r){var o=this;return e.En()||i.isEqual($n.min())?this.J_(t,e):this.Y_.us(t,r).next(function(s){var a=o.X_(e,s);return(e.In()||e.mn())&&o.Ll(e.nn,a,r,i)?o.J_(t,e):(oB()<=Ic.LogLevel.DEBUG&&ct("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),q6(e)),o.Y_._s(t,e,i).next(function(l){return a.forEach(function(u){l=l.nt(u.key,u)}),l}))})},n.prototype.X_=function(t,e){var i=new ts(Wie(t));return e.forEach(function(r,o){o instanceof Ai&&Dx(t,o)&&(i=i.add(o))}),i},n.prototype.Ll=function(t,e,i,r){if(i.size!==e.size)return!0;var o=t==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.o(r)>0)},n.prototype.J_=function(t,e){return oB()<=Ic.LogLevel.DEBUG&&ct("IndexFreeQueryEngine","Using full collection scan to execute query:",q6(e)),this.Y_._s(t,e,$n.min())},n}(),aNe=function(){function n(t,e){this.ss=t,this.wi=e,this.ns=[],this.Z_=1,this.tf=new ts(ys.ta)}return n.prototype.Hr=function(t){return $e.resolve(this.ns.length===0)},n.prototype.Yr=function(t,e,i,r){var o=this.Z_;this.Z_++,this.ns.length>0&&this.ns[this.ns.length-1];var s=new hV(o,e,i,r);this.ns.push(s);for(var a=0,l=r;a<l.length;a++){var u=l[a];this.tf=this.tf.add(new ys(u.key,o)),this.ss.Us(t,u.key.path.p())}return $e.resolve(s)},n.prototype.Jr=function(t,e){return $e.resolve(this.ef(e))},n.prototype.Zr=function(t,e){var i=e+1,r=this.nf(i),o=r<0?0:r;return $e.resolve(this.ns.length>o?this.ns[o]:null)},n.prototype.to=function(){return $e.resolve(this.ns.length===0?-1:this.Z_-1)},n.prototype.eo=function(t){return $e.resolve(this.ns.slice())},n.prototype.os=function(t,e){var i=this,r=new ys(e,0),o=new ys(e,Number.POSITIVE_INFINITY),s=[];return this.tf.vt([r,o],function(a){var l=i.ef(a.ua);s.push(l)}),$e.resolve(s)},n.prototype.ls=function(t,e){var i=this,r=new ts(Pn);return e.forEach(function(o){var s=new ys(o,0),a=new ys(o,Number.POSITIVE_INFINITY);i.tf.vt([s,a],function(l){r=r.add(l.ua)})}),$e.resolve(this.sf(r))},n.prototype.Es=function(t,e){var i=e.path,r=i.length+1,o=i;zt.W(o)||(o=o.child(""));var s=new ys(new zt(o),0),a=new ts(Pn);return this.tf.St(function(l){var u=l.key.path;return!!i.D(u)&&(u.length===r&&(a=a.add(l.ua)),!0)},s),$e.resolve(this.sf(a))},n.prototype.sf=function(t){var e=this,i=[];return t.forEach(function(r){var o=e.ef(r);o!==null&&i.push(o)}),i},n.prototype.so=function(t,e){var i=this;Qt(this.if(e.batchId,"removed")===0),this.ns.shift();var r=this.tf;return $e.forEach(e.mutations,function(o){var s=new ys(o.key,e.batchId);return r=r.delete(s),i.wi.qr(t,o.key)}).next(function(){i.tf=r})},n.prototype.io=function(t){},n.prototype.Mi=function(t,e){var i=new ys(e,0),r=this.tf.Dt(i);return $e.resolve(e.isEqual(r&&r.key))},n.prototype.ro=function(t){return this.ns.length,$e.resolve()},n.prototype.if=function(t,e){return this.nf(t)},n.prototype.nf=function(t){return this.ns.length===0?0:t-this.ns[0].batchId},n.prototype.ef=function(t){var e=this.nf(t);return e<0||e>=this.ns.length?null:this.ns[e]},n}(),bre=function(){function n(t,e){this.ss=t,this.rf=e,this.docs=new Oa(zt.P),this.size=0}return n.prototype.jn=function(t,e,i){var r=e.key,o=this.docs.get(r),s=o?o.size:0,a=this.rf(e);return this.docs=this.docs.nt(r,{Ys:e,size:a,readTime:i}),this.size+=a-s,this.ss.Us(t,r.path.p())},n.prototype.Gn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},n.prototype.zn=function(t,e){var i=this.docs.get(e);return $e.resolve(i?i.Ys:null)},n.prototype.getEntries=function(t,e){var i=this,r=aB();return e.forEach(function(o){var s=i.docs.get(o);r=r.nt(o,s?s.Ys:null)}),$e.resolve(r)},n.prototype._s=function(t,e,i){for(var r=px(),o=new zt(e.path.child("")),s=this.docs.ut(o);s.wt();){var a=s.dt(),l=a.key,u=a.value,d=u.Ys,h=u.readTime;if(!e.path.D(l.path))break;h.o(i)<=0||d instanceof Ai&&Dx(e,d)&&(r=r.nt(d.key,d))}return $e.resolve(r)},n.prototype.hf=function(t,e){return $e.forEach(this.docs,function(i){return e(i)})},n.prototype.oi=function(t){return new n.hi(this)},n.prototype.ui=function(t){return $e.resolve(this.size)},n}();bre.hi=function(n){function t(e){var i=this;return(i=n.call(this)||this).ci=e,i}return pe.__extends(t,n),t.prototype.Jn=function(e){var i=this,r=[];return this.Un.forEach(function(o,s){s?r.push(i.ci.jn(e,s,i.readTime)):i.ci.Gn(o)}),$e.Bn(r)},t.prototype.Hn=function(e,i){return this.ci.zn(e,i)},t.prototype.Yn=function(e,i){return this.ci.getEntries(e,i)},t}(Kie);var lNe=function(){function n(t){this.persistence=t,this.af=new jw(function(e){return Cx(e)},bB),this.lastRemoteSnapshotVersion=$n.min(),this.highestTargetId=0,this.uf=0,this.cf=new mV,this.targetCount=0,this.lf=mB.fi()}return n.prototype.pe=function(t,e){return this.af.forEach(function(i,r){return e(r)}),$e.resolve()},n.prototype.mi=function(t){return $e.resolve(this.lastRemoteSnapshotVersion)},n.prototype.Ai=function(t){return $e.resolve(this.uf)},n.prototype.Ti=function(t){return this.highestTargetId=this.lf.next(),$e.resolve(this.highestTargetId)},n.prototype.Ri=function(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.uf&&(this.uf=e),$e.resolve()},n.prototype.Vi=function(t){this.af.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.lf=new mB(e),this.highestTargetId=e),t.sequenceNumber>this.uf&&(this.uf=t.sequenceNumber)},n.prototype.Pi=function(t,e){return this.Vi(e),this.targetCount+=1,$e.resolve()},n.prototype.yi=function(t,e){return this.Vi(e),$e.resolve()},n.prototype.pi=function(t,e){return this.af.delete(e.target),this.cf.oa(e.targetId),this.targetCount-=1,$e.resolve()},n.prototype.vi=function(t,e,i){var r=this,o=0,s=[];return this.af.forEach(function(a,l){l.sequenceNumber<=e&&i.get(l.targetId)===null&&(r.af.delete(a),s.push(r.bi(t,l.targetId)),o++)}),$e.Bn(s).next(function(){return o})},n.prototype.Si=function(t){return $e.resolve(this.targetCount)},n.prototype.Di=function(t,e){var i=this.af.get(e)||null;return $e.resolve(i)},n.prototype.Ci=function(t,e,i){return this.cf.sa(e,i),$e.resolve()},n.prototype.Ni=function(t,e,i){this.cf.ra(e,i);var r=this.persistence.wi,o=[];return r&&e.forEach(function(s){o.push(r.qr(t,s))}),$e.Bn(o)},n.prototype.bi=function(t,e){return this.cf.oa(e),$e.resolve()},n.prototype.ki=function(t,e){var i=this.cf.aa(e);return $e.resolve(i)},n.prototype.Mi=function(t,e){return $e.resolve(this.cf.Mi(e))},n}(),cNe=function(){function n(t){var e=this;this._f={},this.Ui=new Tu(0),this.Qi=!1,this.Qi=!0,this.wi=t(this),this.Ji=new lNe(this),this.ss=new mke,this.es=new bre(this.ss,function(i){return e.wi.ff(i)})}return n.prototype.start=function(){return Promise.resolve()},n.prototype.gr=function(){return this.Qi=!1,Promise.resolve()},Object.defineProperty(n.prototype,"or",{get:function(){return this.Qi},enumerable:!1,configurable:!0}),n.prototype.hr=function(){},n.prototype.$r=function(){return this.ss},n.prototype.Dr=function(t){var e=this._f[t.ka()];return e||(e=new aNe(this.ss,this.wi),this._f[t.ka()]=e),e},n.prototype.Fr=function(){return this.Ji},n.prototype.Nr=function(){return this.es},n.prototype.runTransaction=function(t,e,i){var r=this;ct("MemoryPersistence","Starting transaction:",t);var o=new uNe(this.Ui.next());return this.wi.df(),i(o).next(function(s){return r.wi.wf(o).next(function(){return s})}).On().then(function(s){return o.ts(),s})},n.prototype.Tf=function(t,e){return $e.qn(Object.values(this._f).map(function(i){return function(){return i.Mi(t,e)}}))},n}(),uNe=function(n){function t(e){var i=this;return(i=n.call(this)||this).Li=e,i}return pe.__extends(t,n),t}(qie),dNe=function(){function n(t){this.persistence=t,this.Ef=new mV,this.If=null}return n.mf=function(t){return new n(t)},Object.defineProperty(n.prototype,"Af",{get:function(){if(this.If)return this.If;throw Dt()},enumerable:!1,configurable:!0}),n.prototype.Fi=function(t,e,i){return this.Ef.Fi(i,e),this.Af.delete(i),$e.resolve()},n.prototype.$i=function(t,e,i){return this.Ef.$i(i,e),this.Af.add(i),$e.resolve()},n.prototype.qr=function(t,e){return this.Af.add(e),$e.resolve()},n.prototype.removeTarget=function(t,e){var i=this;this.Ef.oa(e.targetId).forEach(function(o){return i.Af.add(o)});var r=this.persistence.Fr();return r.ki(t,e.targetId).next(function(o){o.forEach(function(s){return i.Af.add(s)})}).next(function(){return r.pi(t,e)})},n.prototype.df=function(){this.If=new Set},n.prototype.wf=function(t){var e=this,i=this.persistence.Nr().oi();return $e.forEach(this.Af,function(r){return e.Rf(t,r).next(function(o){o||i.Gn(r)})}).next(function(){return e.If=null,i.apply(t)})},n.prototype.jr=function(t,e){var i=this;return this.Rf(t,e).next(function(r){r?i.Af.delete(e):i.Af.add(e)})},n.prototype.ff=function(t){return 0},n.prototype.Rf=function(t,e){var i=this;return $e.qn([function(){return $e.resolve(i.Ef.Mi(e))},function(){return i.persistence.Fr().Mi(t,e)},function(){return i.persistence.Tf(t,e)}])},n}(),hNe=function(){function n(t){this.Pf=t.Pf,this.Vf=t.Vf}return n.prototype.wu=function(t){this.gf=t},n.prototype.cu=function(t){this.yf=t},n.prototype.onMessage=function(t){this.pf=t},n.prototype.close=function(){this.Vf()},n.prototype.send=function(t){this.Pf(t)},n.prototype.bf=function(){this.gf()},n.prototype.vf=function(t){this.yf(t)},n.prototype.Sf=function(t){this.pf(t)},n}(),fNe={BatchGetDocuments:"batchGet",Commit:"commit"},pNe="gl-js/ fire/"+bx,ANe=function(){function n(t){this.s=t.s;var e=t.ssl?"https":"http";this.Df=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return n.prototype.Cf=function(t,e){if(e)for(var i in e.Oa)e.Oa.hasOwnProperty(i)&&(t[i]=e.Oa[i]);t["X-Goog-Api-Client"]=pNe},n.prototype.vu=function(t,e,i){var r=this,o=this.Ff(t);return new Promise(function(s,a){var l=new rf.XhrIo;l.listenOnce(rf.EventType.COMPLETE,function(){try{switch(l.getLastErrorCode()){case rf.ErrorCode.NO_ERROR:var f=l.getResponseJson();ct("Connection","XHR received:",JSON.stringify(f)),s(f);break;case rf.ErrorCode.TIMEOUT:ct("Connection",'RPC "'+t+'" timed out'),a(new Re(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case rf.ErrorCode.HTTP_ERROR:var A=l.getStatus();if(ct("Connection",'RPC "'+t+'" failed with status:',A,"response text:",l.getResponseText()),A>0){var g=l.getResponseJson().error;if(g&&g.status&&g.message){var m=function(b){var S=b.toLowerCase().replace("_","-");return Object.values(Ie).indexOf(S)>=0?S:Ie.UNKNOWN}(g.status);a(new Re(m,g.message))}else a(new Re(Ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else ct("Connection",'RPC "'+t+'" failed'),a(new Re(Ie.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{ct("Connection",'RPC "'+t+'" completed.')}});var u=Object.assign({},e);delete u.database;var d=JSON.stringify(u);ct("Connection","XHR sending: ",o+" "+d);var h={"Content-Type":"text/plain"};r.Cf(h,i),l.send(o,"POST",d,h,15)})},n.prototype.Su=function(t,e,i){return this.vu(t,e,i)},n.prototype.Tu=function(t,e){var i=[this.Df,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=rf.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Cf(o.initMessageHeaders,e),Ip.isMobileCordova()||Ip.isReactNative()||Ip.isElectron()||Ip.isIE()||Ip.isUWP()||Ip.isBrowserExtension()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=i.join("");ct("Connection","Creating WebChannel: "+s+" "+o);var a=r.createWebChannel(s,o),l=!1,u=!1,d=new hNe({Pf:function(f){u?ct("Connection","Not sending because WebChannel is closed:",f):(l||(ct("Connection","Opening WebChannel transport."),a.open(),l=!0),ct("Connection","WebChannel sending:",f),a.send(f))},Vf:function(){return a.close()}}),h=function(f,A){a.listen(f,function(g){try{A(g)}catch(m){setTimeout(function(){throw m},0)}})};return h(rf.WebChannel.EventType.OPEN,function(){u||ct("Connection","WebChannel transport opened.")}),h(rf.WebChannel.EventType.CLOSE,function(){u||(u=!0,ct("Connection","WebChannel transport closed"),d.vf())}),h(rf.WebChannel.EventType.ERROR,function(f){u||(u=!0,function(A){for(var g=[],m=1;m<arguments.length;m++)g[m-1]=arguments[m];if(Od.logLevel<=Ic.LogLevel.WARN){var b=g.map(tV);Od.warn.apply(Od,pe.__spreadArrays(["Firestore ("+bx+"): "+A],b))}}("Connection","WebChannel transport errored:",f),d.vf(new Re(Ie.UNAVAILABLE,"The operation could not be completed")))}),h(rf.WebChannel.EventType.MESSAGE,function(f){var A;if(!u){var g=f.data[0];Qt(!!g);var m=g,b=m.error||((A=m[0])===null||A===void 0?void 0:A.error);if(b){ct("Connection","WebChannel received error:",b);var S=b.status,F=function(B){var P=Eo[B];if(P!==void 0)return wie(P)}(S),R=b.message;F===void 0&&(F=Ie.INTERNAL,R="Unknown error status: "+S+" with message "+b.message),u=!0,d.vf(new Re(F,R)),a.close()}else ct("Connection","WebChannel received:",g),d.Sf(g)}}),setTimeout(function(){d.bf()},0),d},n.prototype.Ff=function(t){var e=fNe[t];return this.Df+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},n}(),rie=function(){function n(){var t=this;this.Nf=function(){return t.$f()},this.kf=function(){return t.xf()},this.Mf=[],this.Of()}return n.prototype.tc=function(t){this.Mf.push(t)},n.prototype.gr=function(){window.removeEventListener("online",this.Nf),window.removeEventListener("offline",this.kf)},n.prototype.Of=function(){window.addEventListener("online",this.Nf),window.addEventListener("offline",this.kf)},n.prototype.$f=function(){ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Mf;t<e.length;t++)(0,e[t])(0)},n.prototype.xf=function(){ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Mf;t<e.length;t++)(0,e[t])(1)},n.Hi=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},n}(),gNe=function(){function n(){}return n.prototype.tc=function(t){},n.prototype.gr=function(){},n}(),oie="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",yB=function(){function n(){}return n.prototype.initialize=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e=this;return pe.__generator(this,function(i){switch(i.label){case 0:return this.t_=this.Lf(t),this.persistence=this.Bf(t),[4,this.persistence.start()];case 1:return i.sent(),this.qf=this.Uf(t),this.zu=this.Qf(t),this.Zl=this.Wf(t),this.Rc=this.jf(t),this.Kf=this.Gf(t),this.t_.Lu=function(r){return e.Rc.Ql(r,1)},this.Zl.Rc=this.Rc,[4,this.zu.start()];case 2:return i.sent(),[4,this.t_.start()];case 3:return i.sent(),[4,this.Zl.start()];case 4:return i.sent(),[4,this.Zl.Mc(this.Rc.__)];case 5:return i.sent(),[2]}})})},n.prototype.Gf=function(t){return new oNe(this.Rc)},n.prototype.Uf=function(t){return null},n.prototype.Qf=function(t){return tre(this.persistence,new X6,t.zf)},n.prototype.Bf=function(t){if(t.Yf.Hf)throw new Re(Ie.FAILED_PRECONDITION,oie);return new cNe(dNe.mf)},n.prototype.Wf=function(t){var e=this;return new Xke(this.zu,t.Du,t.mo,function(i){return e.Rc.Ql(i,0)},rie.Hi()?new rie:new gNe)},n.prototype.Lf=function(t){return new Z6},n.prototype.jf=function(t){return wre(this.zu,this.Zl,t.Du,this.t_,t.zf,t.e_)},n.prototype.clearPersistence=function(t,e){throw new Re(Ie.FAILED_PRECONDITION,oie)},n}(),mNe=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return pe.__extends(t,n),t.prototype.initialize=function(e){return pe.__awaiter(this,void 0,void 0,function(){var i=this;return pe.__generator(this,function(r){switch(r.label){case 0:return[4,n.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,this.persistence.rr(function(o){return pe.__awaiter(i,void 0,void 0,function(){return pe.__generator(this,function(s){switch(s.label){case 0:return[4,this.Rc.Mc(o)];case 1:return s.sent(),this.qf&&(o&&!this.qf.or?this.qf.start(this.zu):o||this.qf.stop()),[2]}})})})];case 2:return r.sent(),[2]}})})},t.prototype.Qf=function(e){return i=this.persistence,r=new X6,o=e.zf,new kke(i,r,o);var i,r,o},t.prototype.jf=function(e){var i,r,o,s,a,l,u=(i=this.zu,r=this.Zl,o=e.Du,s=this.t_,a=e.zf,l=e.e_,new iNe(i,r,o,s,a,l));return this.t_ instanceof j6&&(this.t_.Rc=u),u},t.prototype.Lf=function(e){if(e.Yf.Hf&&e.Yf.synchronizeTabs){var i=_B();if(!j6.Hi(i))throw new Re(Ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var r=U6(e.Jf.s,e.Jf.persistenceKey);return new j6(i,e.mo,r,e.clientId,e.zf)}return new Z6},t}(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return pe.__extends(t,n),t.prototype.Qf=function(e){return tre(this.persistence,new X6,e.zf)},t.prototype.jf=function(e){return wre(this.zu,this.Zl,e.Du,this.t_,e.zf,e.e_)},t.prototype.Uf=function(e){var i=this.persistence.wi.xr;return new Bke(i,e.mo)},t.prototype.Bf=function(e){var i=U6(e.Jf.s,e.Jf.persistenceKey),r=yV(e.Jf.s);return new Mu(e.Yf.synchronizeTabs,i,e.clientId,So.oh(e.Yf.cacheSizeBytes),e.mo,_B(),typeof document<"u"?document:null,r,this.t_,e.Yf.qi)},t.prototype.Lf=function(e){return new Z6},t.prototype.clearPersistence=function(e,i){return function(r){return pe.__awaiter(this,void 0,void 0,function(){var o;return pe.__generator(this,function(s){switch(s.label){case 0:return Pw.Hi()?(o=r+"main",[4,Pw.delete(o)]):[2,Promise.resolve()];case 1:return s.sent(),[2]}})})}(U6(e,i))},t}(yB)),vNe=function(){function n(t,e){this.credentials=t,this.mo=e,this.clientId=Aie.t()}return n.prototype.start=function(t,e,i){var r=this;this.bu(),this.Jf=t;var o=new Su,s=new Su,a=!1;return this.credentials.qa(function(l){if(!a)return a=!0,ct("FirestoreClient","Initializing. user=",l.uid),r.Xf(e,i,l,s).then(o.resolve,o.reject);r.mo._r(function(){return r.Zl.xc(l)})}),this.mo.cr(function(){return o.promise}),s.promise},n.prototype.enableNetwork=function(){var t=this;return this.bu(),this.mo.enqueue(function(){return t.Rc.enableNetwork()})},n.prototype.Xf=function(t,e,i,r){return pe.__awaiter(this,void 0,void 0,function(){var o,s,a,l,u,d=this;return pe.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),[4,(u=this.Jf,Promise.resolve(new ANe(u)))];case 1:return o=h.sent(),s=yV(this.Jf.s),a=function(f,A,g){return new Yke(f,A,g)}(o,this.credentials,s),[4,t.initialize({mo:this.mo,Jf:this.Jf,Du:a,clientId:this.clientId,zf:i,e_:100,Yf:e})];case 2:return h.sent(),this.persistence=t.persistence,this.t_=t.t_,this.zu=t.zu,this.Zl=t.Zl,this.Rc=t.Rc,this.qf=t.qf,this.Zf=t.Kf,this.persistence.hr(function(){return pe.__awaiter(d,void 0,void 0,function(){return pe.__generator(this,function(f){switch(f.label){case 0:return[4,this.terminate()];case 1:return f.sent(),[2]}})})}),r.resolve(),[3,4];case 3:if(l=h.sent(),r.reject(l),!this.td(l))throw l;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),this.Xf(new yB,{Hf:!1},i,r))];case 4:return[2]}})})},n.prototype.td=function(t){return t.name==="FirebaseError"?t.code===Ie.FAILED_PRECONDITION||t.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11},n.prototype.bu=function(){if(this.mo.xo)throw new Re(Ie.FAILED_PRECONDITION,"The client has already been terminated.")},n.prototype.disableNetwork=function(){var t=this;return this.bu(),this.mo.enqueue(function(){return t.Rc.disableNetwork()})},n.prototype.terminate=function(){var t=this;return this.mo.qo(function(){return pe.__awaiter(t,void 0,void 0,function(){return pe.__generator(this,function(e){switch(e.label){case 0:return this.qf&&this.qf.stop(),[4,this.Zl.gr()];case 1:return e.sent(),[4,this.t_.gr()];case 2:return e.sent(),[4,this.persistence.gr()];case 3:return e.sent(),this.credentials.Ua(),[2]}})})})},n.prototype.waitForPendingWrites=function(){var t=this;this.bu();var e=new Su;return this.mo.cr(function(){return t.Rc.V_(e)}),e.promise},n.prototype.listen=function(t,e,i){var r=this;this.bu();var o=new sNe(t,e,i);return this.mo.cr(function(){return r.Zf.listen(o)}),o},n.prototype.mc=function(t){var e=this;this.ed||this.mo.cr(function(){return e.Zf.mc(t)})},n.prototype.nd=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i=this;return pe.__generator(this,function(r){switch(r.label){case 0:return this.bu(),e=new Su,[4,this.mo.enqueue(function(){return pe.__awaiter(i,void 0,void 0,function(){var o,s,a;return pe.__generator(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.zu.Wh(t)];case 1:return(o=l.sent())instanceof Ai?e.resolve(o):o instanceof ws?e.resolve(null):e.reject(new Re(Ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return s=l.sent(),a=_x(s,"Failed to get document '"+t+" from cache"),e.reject(a),[3,3];case 3:return[2]}})})})];case 1:return[2,(r.sent(),e.promise)]}})})},n.prototype.sd=function(t){return pe.__awaiter(this,void 0,void 0,function(){var e,i=this;return pe.__generator(this,function(r){switch(r.label){case 0:return this.bu(),e=new Su,[4,this.mo.enqueue(function(){return pe.__awaiter(i,void 0,void 0,function(){var o,s,a,l,u,d;return pe.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,this.zu.Gh(t,!0)];case 1:return o=h.sent(),s=new _re(t,o.zh),a=s.xl(o.documents),l=s.Jn(a,!1),e.resolve(l.snapshot),[3,3];case 2:return u=h.sent(),d=_x(u,"Failed to execute query '"+t+" against cache"),e.reject(d),[3,3];case 3:return[2]}})})})];case 1:return[2,(r.sent(),e.promise)]}})})},n.prototype.write=function(t){var e=this;this.bu();var i=new Su;return this.mo.cr(function(){return e.Rc.write(t,i)}),i.promise},n.prototype.s=function(){return this.Jf.s},n.prototype.q_=function(t){var e=this;this.bu(),this.mo.cr(function(){return e.Zf.q_(t),Promise.resolve()})},n.prototype.U_=function(t){var e=this;this.ed||this.mo.cr(function(){return e.Zf.U_(t),Promise.resolve()})},Object.defineProperty(n.prototype,"ed",{get:function(){return this.mo.xo},enumerable:!1,configurable:!0}),n.prototype.transaction=function(t){var e=this;this.bu();var i=new Su;return this.mo.cr(function(){return e.Rc.runTransaction(e.mo,t,i),Promise.resolve()}),i.promise},n}(),IV=function(){function n(t){this.observer=t,this.muted=!1}return n.prototype.next=function(t){this.rd(this.observer.next,t)},n.prototype.error=function(t){this.rd(this.observer.error,t)},n.prototype.od=function(){this.muted=!0},n.prototype.rd=function(t,e){var i=this;this.muted||setTimeout(function(){i.muted||t(e)},0)},n}();function wx(n){return function(t,e){if(typeof t!="object"||t===null)return!1;for(var i=t,r=0,o=["next","error","complete"];r<o.length;r++){var s=o[r];if(s in i&&typeof i[s]=="function")return!0}return!1}(n)}var sie=function(){function n(t,e,i,r){this.s=t,this.timestampsInSnapshots=e,this.hd=i,this.ad=r}return n.prototype.ud=function(t){switch(Mg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xo(t.integerValue||t.doubleValue);case 3:return this.ld(t.timestampValue);case 4:return this._d(t);case 5:return t.stringValue;case 6:return new xB(Rw(t.bytesValue));case 7:return this.fd(t.referenceValue);case 8:return this.dd(t.geoPointValue);case 9:return this.wd(t.arrayValue);case 10:return this.Td(t.mapValue);default:throw Dt()}},n.prototype.Td=function(t){var e=this,i={};return Qw(t.fields||{},function(r,o){i[r]=e.ud(o)}),i},n.prototype.dd=function(t){return new IB(xo(t.latitude),xo(t.longitude))},n.prototype.wd=function(t){var e=this;return(t.values||[]).map(function(i){return e.ud(i)})},n.prototype._d=function(t){switch(this.hd){case"previous":var e=function i(r){var o=r.mapValue.fields.__previous_value__;return rV(o)?i(o):o}(t);return e==null?null:this.ud(e);case"estimate":return this.ld(Ax(t));default:return null}},n.prototype.ld=function(t){var e=Og(t),i=new jl(e.seconds,e.nanos);return this.timestampsInSnapshots?i:i.toDate()},n.prototype.fd=function(t){var e=Cr.$(t);Qt(kie(e));var i=new G6(e.get(1),e.get(3)),r=new zt(e.g(5));return i.isEqual(this.s)||Kr("Document "+r+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.ad(r)},n}(),Cre=So.uh,aie=function(){function n(t){var e,i,r,o;if(t.host===void 0){if(t.ssl!==void 0)throw new Re(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else nre("settings","non-empty string","host",t.host),this.host=t.host,of("settings","boolean","ssl",t.ssl),this.ssl=(e=t.ssl)===null||e===void 0||e;if(Lv("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),of("settings","object","credentials",t.credentials),this.credentials=t.credentials,of("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),of("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),t.timestampsInSnapshots===!0?Kr("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):t.timestampsInSnapshots===!1&&Kr("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=(i=t.timestampsInSnapshots)===null||i===void 0||i,this.ignoreUndefinedProperties=(r=t.ignoreUndefinedProperties)!==null&&r!==void 0&&r,of("settings","number","cacheSizeBytes",t.cacheSizeBytes),t.cacheSizeBytes===void 0)this.cacheSizeBytes=So._h;else{if(t.cacheSizeBytes!==Cre&&t.cacheSizeBytes<So.lh)throw new Re(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+So.lh);this.cacheSizeBytes=t.cacheSizeBytes}of("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=(o=t.experimentalForceLongPolling)!==null&&o!==void 0&&o}return n.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},n}(),J6=function(){function n(t,e,i){var r=this;if(i===void 0&&(i=new yB),this.Ed=null,this.Id=new Oke,this.INTERNAL={delete:function(){return pe.__awaiter(r,void 0,void 0,function(){return pe.__generator(this,function(a){switch(a.label){case 0:return this.md(),[4,this.Ad.terminate()];case 1:return a.sent(),[2]}})})}},typeof t.options=="object"){var o=t;this.Ed=o,this.Va=n.Rd(o),this.Pd=o.name,this.Vd=new Wke(e)}else{var s=t;if(!s.projectId)throw new Re(Ie.INVALID_ARGUMENT,"Must provide projectId");this.Va=new G6(s.projectId,s.database),this.Pd="[DEFAULT]",this.Vd=new Jne}this.gd=i,this.yd=new aie({})}return Object.defineProperty(n.prototype,"pd",{get:function(){return this.bd||(this.bd=new jke(this.Va,this.yd.ignoreUndefinedProperties)),this.bd},enumerable:!1,configurable:!0}),n.prototype.settings=function(t){br("Firestore.settings",arguments,1),Io("Firestore.settings","object",1,t);var e=new aie(t);if(this.Ad&&!this.yd.isEqual(e))throw new Re(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.yd=e,e.credentials!==void 0&&(this.Vd=function(i){if(!i)return new Jne;switch(i.type){case"gapi":var r=i.vd;return Qt(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new zke(r,i.za||"0");case"provider":return i.vd;default:throw new Re(Ie.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},n.prototype.enableNetwork=function(){return this.md(),this.Ad.enableNetwork()},n.prototype.disableNetwork=function(){return this.md(),this.Ad.disableNetwork()},n.prototype.enablePersistence=function(t){var e,i;if(this.Ad)throw new Re(Ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,o=!1;if(t&&(t.experimentalTabSynchronization!==void 0&&Kr("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=(i=(e=t.synchronizeTabs)!==null&&e!==void 0?e:t.experimentalTabSynchronization)!==null&&i!==void 0&&i,o=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&o))throw new Re(Ie.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Sd(this.gd,{Hf:!0,cacheSizeBytes:this.yd.cacheSizeBytes,synchronizeTabs:r,qi:o})},n.prototype.clearPersistence=function(){return pe.__awaiter(this,void 0,void 0,function(){var t,e=this;return pe.__generator(this,function(i){if(this.Ad!==void 0&&!this.Ad.ed)throw new Re(Ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new Su,[2,(this.Id.Mo(function(){return pe.__awaiter(e,void 0,void 0,function(){var r;return pe.__generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.gd.clearPersistence(this.Va,this.Pd)];case 1:return o.sent(),t.resolve(),[3,3];case 2:return r=o.sent(),t.reject(r),[3,3];case 3:return[2]}})})}),t.promise)]})})},n.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(n.prototype,"Dd",{get:function(){return this.md(),this.Ad.ed},enumerable:!1,configurable:!0}),n.prototype.waitForPendingWrites=function(){return this.md(),this.Ad.waitForPendingWrites()},n.prototype.onSnapshotsInSync=function(t){if(this.md(),wx(t))return lie(this.Ad,t);Io("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return lie(this.Ad,e)},n.prototype.md=function(){return this.Ad||this.Sd(new yB,{Hf:!1}),this.Ad},n.prototype.Cd=function(){return new LPe(this.Va,this.Pd,this.yd.host,this.yd.ssl,this.yd.forceLongPolling)},n.prototype.Sd=function(t,e){var i=this.Cd();return this.Ad=new vNe(this.Vd,this.Id),this.Ad.start(i,t,e)},n.Rd=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new Re(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,i=t.options.projectId;if(!i||typeof i!="string")throw new Re(Ie.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new G6(i)},Object.defineProperty(n.prototype,"app",{get:function(){if(!this.Ed)throw new Re(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Ed},enumerable:!1,configurable:!0}),n.prototype.collection=function(t){return br("Firestore.collection",arguments,1),Io("Firestore.collection","non-empty string",1,t),this.md(),new wB(Cr.$(t),this,null)},n.prototype.doc=function(t){return br("Firestore.doc",arguments,1),Io("Firestore.doc","non-empty string",1,t),this.md(),Iv.Fd(Cr.$(t),this,null)},n.prototype.collectionGroup=function(t){if(br("Firestore.collectionGroup",arguments,1),Io("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new Re(Ie.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.md(),new TB(new Fv(Cr.k(),t),this,null)},n.prototype.runTransaction=function(t){var e=this;return br("Firestore.runTransaction",arguments,1),Io("Firestore.runTransaction","function",1,t),this.md().transaction(function(i){return t(new Ere(e,i))})},n.prototype.batch=function(){return this.md(),new Sre(this)},Object.defineProperty(n,"logLevel",{get:function(){switch(oB()){case Ic.LogLevel.DEBUG:return"debug";case Ic.LogLevel.ERROR:return"error";case Ic.LogLevel.SILENT:return"silent";case Ic.LogLevel.WARN:return"warn";case Ic.LogLevel.INFO:return"info";case Ic.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),n.setLogLevel=function(t){var e;br("Firestore.setLogLevel",arguments,1),rre("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,Od.setLogLevel(e)},n.prototype.Nd=function(){return this.yd.timestampsInSnapshots},n}();function lie(n,t){var e=new IV({next:function(){t.next&&t.next()},error:function(i){throw Dt()}});return n.q_(e),function(){e.od(),n.U_(e)}}var Ere=function(){function n(t,e){this.$d=t,this.kd=e}return n.prototype.get=function(t){var e=this;br("Transaction.get",arguments,1);var i=Tp("Transaction.get",t,this.$d);return this.kd.ku([i.ga]).then(function(r){if(!r||r.length!==1)return Dt();var o=r[0];if(o instanceof ws)return new Nv(e.$d,i.ga,null,!1,!1,i.ya);if(o instanceof Ai)return new Nv(e.$d,i.ga,o,!1,!1,i.ya);throw Dt()})},n.prototype.set=function(t,e,i){Du("Transaction.set",arguments,2,3);var r=Tp("Transaction.set",t,this.$d);i=DV("Transaction.set",i);var o=MV(r.ya,e,i),s=wV(this.$d.pd,"Transaction.set",r.ga,o,r.ya!==null,i);return this.kd.set(r.ga,s),this},n.prototype.update=function(t,e,i){for(var r,o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];return typeof e=="string"||e instanceof kv?(Mp("Transaction.update",arguments,3),r=Tp("Transaction.update",t,this.$d),o=CV(this.$d.pd,"Transaction.update",r.ga,e,i,s)):(br("Transaction.update",arguments,2),r=Tp("Transaction.update",t,this.$d),o=bV(this.$d.pd,"Transaction.update",r.ga,e)),this.kd.update(r.ga,o),this},n.prototype.delete=function(t){br("Transaction.delete",arguments,1);var e=Tp("Transaction.delete",t,this.$d);return this.kd.delete(e.ga),this},n}(),Sre=function(){function n(t){this.$d=t,this.xd=[],this.Md=!1}return n.prototype.set=function(t,e,i){Du("WriteBatch.set",arguments,2,3),this.Od();var r=Tp("WriteBatch.set",t,this.$d);i=DV("WriteBatch.set",i);var o=MV(r.ya,e,i),s=wV(this.$d.pd,"WriteBatch.set",r.ga,o,r.ya!==null,i);return this.xd=this.xd.concat(s.pa(r.ga,Ma.Qe())),this},n.prototype.update=function(t,e,i){for(var r,o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];return this.Od(),typeof e=="string"||e instanceof kv?(Mp("WriteBatch.update",arguments,3),r=Tp("WriteBatch.update",t,this.$d),o=CV(this.$d.pd,"WriteBatch.update",r.ga,e,i,s)):(br("WriteBatch.update",arguments,2),r=Tp("WriteBatch.update",t,this.$d),o=bV(this.$d.pd,"WriteBatch.update",r.ga,e)),this.xd=this.xd.concat(o.pa(r.ga,Ma.exists(!0))),this},n.prototype.delete=function(t){br("WriteBatch.delete",arguments,1),this.Od();var e=Tp("WriteBatch.delete",t,this.$d);return this.xd=this.xd.concat(new Ix(e.ga,Ma.Qe())),this},n.prototype.commit=function(){return this.Od(),this.Md=!0,this.xd.length>0?this.$d.md().write(this.xd):Promise.resolve()},n.prototype.Od=function(){if(this.Md)throw new Re(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},n}(),Iv=function(n){function t(e,i,r){var o=this;return(o=n.call(this,i.Va,e,r)||this).ga=e,o.firestore=i,o.ya=r,o.Ad=o.firestore.md(),o}return pe.__extends(t,n),t.Fd=function(e,i,r){if(e.length%2!=0)throw new Re(Ie.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.N()+" has "+e.length);return new t(new zt(e),i,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.ga.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new wB(this.ga.path.p(),this.firestore,this.ya)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.ga.path.N()},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){if(br("DocumentReference.collection",arguments,1),Io("DocumentReference.collection","non-empty string",1,e),!e)throw new Re(Ie.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var i=Cr.$(e);return new wB(this.ga.path.child(i),this.firestore,null)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Uv("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.ga.isEqual(e.ga)&&this.ya===e.ya},t.prototype.set=function(e,i){Du("DocumentReference.set",arguments,1,2),i=DV("DocumentReference.set",i);var r=MV(this.ya,e,i),o=wV(this.firestore.pd,"DocumentReference.set",this.ga,r,this.ya!==null,i);return this.Ad.write(o.pa(this.ga,Ma.Qe()))},t.prototype.update=function(e,i){for(var r,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];return typeof e=="string"||e instanceof kv?(Mp("DocumentReference.update",arguments,2),r=CV(this.firestore.pd,"DocumentReference.update",this.ga,e,i,o)):(br("DocumentReference.update",arguments,1),r=bV(this.firestore.pd,"DocumentReference.update",this.ga,e)),this.Ad.write(r.pa(this.ga,Ma.exists(!0)))},t.prototype.delete=function(){return br("DocumentReference.delete",arguments,0),this.Ad.write([new Ix(this.ga,Ma.Qe())])},t.prototype.onSnapshot=function(){for(var e,i,r,o=this,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];Du("DocumentReference.onSnapshot",arguments,1,4);var l={includeMetadataChanges:!1},u=0;typeof s[u]!="object"||wx(s[u])||(Lv("DocumentReference.onSnapshot",l=s[u],["includeMetadataChanges"]),of("DocumentReference.onSnapshot","boolean","includeMetadataChanges",l.includeMetadataChanges),u++);var d={includeMetadataChanges:l.includeMetadataChanges};if(wx(s[u])){var h=s[u];s[u]=(e=h.next)===null||e===void 0?void 0:e.bind(h),s[u+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),s[u+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}else Io("DocumentReference.onSnapshot","function",u,s[u]),kw("DocumentReference.onSnapshot","function",u+1,s[u+1]),kw("DocumentReference.onSnapshot","function",u+2,s[u+2]);var f={next:function(A){s[u]&&s[u](o.Ld(A))},error:s[u+1],complete:s[u+2]};return cie(this.Ad,this.ga,d,f)},t.prototype.get=function(e){var i=this;return Du("DocumentReference.get",arguments,0,1),Ire("DocumentReference.get",e),e&&e.source==="cache"?this.firestore.md().nd(this.ga).then(function(r){return new Nv(i.firestore,i.ga,r,!0,r instanceof Ai&&r.Ge,i.ya)}):function(r,o,s){var a=new Su,l=cie(r,o,{includeMetadataChanges:!0,H_:!0},{next:function(u){l();var d=u.docs.has(o);!d&&u.fromCache?a.reject(new Re(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&u.fromCache&&s&&s.source==="server"?a.reject(new Re(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(u)},error:function(u){return a.reject(u)}});return a.promise}(this.Ad,this.ga,e).then(function(r){return i.Ld(r)})},t.prototype.withConverter=function(e){return new t(this.ga,this.firestore,e)},t.prototype.Ld=function(e){var i=e.docs.get(this.ga);return new Nv(this.firestore,this.ga,i,e.fromCache,e.hasPendingWrites,this.ya)},t}(Ox);function cie(n,t,e,i){var r=function(a){console.error("Uncaught Error in onSnapshot:",a)};i.error&&(r=i.error.bind(i));var o=new IV({next:function(a){i.next&&i.next(a)},error:r}),s=n.listen(Fv.hn(t.path),o,e);return function(){o.od(),n.mc(s)}}var xre=function(){function n(t,e){this.hasPendingWrites=t,this.fromCache=e}return n.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},n}(),Nv=function(){function n(t,e,i,r,o,s){this.$d=t,this.ga=e,this.Bd=i,this.qd=r,this.Ud=o,this.ya=s}return n.prototype.data=function(t){var e=this;if(Du("DocumentSnapshot.data",arguments,0,1),t=hie("DocumentSnapshot.data",t),this.Bd){if(this.ya){var i=new TV(this.$d,this.ga,this.Bd,this.qd,this.Ud,null);return this.ya.fromFirestore(i,t)}return new sie(this.$d.Va,this.$d.Nd(),t.serverTimestamps||"none",function(r){return new Iv(r,e.$d,null)}).ud(this.Bd.tn())}},n.prototype.get=function(t,e){var i=this;if(Du("DocumentSnapshot.get",arguments,1,2),e=hie("DocumentSnapshot.get",e),this.Bd){var r=this.Bd.data().field(yx("DocumentSnapshot.get",t,this.ga));if(r!==null)return new sie(this.$d.Va,this.$d.Nd(),e.serverTimestamps||"none",function(o){return new Iv(o,i.$d,i.ya)}).ud(r)}},Object.defineProperty(n.prototype,"id",{get:function(){return this.ga.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ref",{get:function(){return new Iv(this.ga,this.$d,this.ya)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"exists",{get:function(){return this.Bd!==null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return new xre(this.Ud,this.qd)},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(t){if(!(t instanceof n))throw Uv("isEqual","DocumentSnapshot",1,t);return this.$d===t.$d&&this.qd===t.qd&&this.ga.isEqual(t.ga)&&(this.Bd===null?t.Bd===null:this.Bd.isEqual(t.Bd))&&this.ya===t.ya},n}(),TV=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return pe.__extends(t,n),t.prototype.data=function(e){return n.prototype.data.call(this,e)},t}(Nv);function uie(n){if(n.mn()&&n.en.length===0)throw new Re(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var TB=function(n){function t(e,i,r){var o=this;return(o=n.call(this,i.Va,i.pd,e)||this).Qd=e,o.firestore=i,o.ya=r,o}return pe.__extends(t,n),t.prototype.where=function(e,i,r){br("Query.where",arguments,3),$ne("Query.where",3,r);var o=rre("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,i),s=yx("Query.where",e),a=this.Wd(s,o,r);return new t(this.Qd.cn(a),this.firestore,this.ya)},t.prototype.orderBy=function(e,i){var r;if(Du("Query.orderBy",arguments,1,2),kw("Query.orderBy","non-empty string",2,i),i===void 0||i==="asc")r="asc";else{if(i!=="desc")throw new Re(Ie.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+i+"', expected 'asc' or 'desc'.");r="desc"}var o=yx("Query.orderBy",e),s=this.zd(o,r);return new t(this.Qd.ln(s),this.firestore,this.ya)},t.prototype.limit=function(e){return br("Query.limit",arguments,1),Io("Query.limit","number",1,e),Yne("Query.limit",1,e),new t(this.Qd._n(e),this.firestore,this.ya)},t.prototype.limitToLast=function(e){return br("Query.limitToLast",arguments,1),Io("Query.limitToLast","number",1,e),Yne("Query.limitToLast",1,e),new t(this.Qd.fn(e),this.firestore,this.ya)},t.prototype.startAt=function(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];Mp("Query.startAt",arguments,1);var o=this.Zd("Query.startAt",e,i,!0);return new t(this.Qd.dn(o),this.firestore,this.ya)},t.prototype.startAfter=function(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];Mp("Query.startAfter",arguments,1);var o=this.Zd("Query.startAfter",e,i,!1);return new t(this.Qd.dn(o),this.firestore,this.ya)},t.prototype.endBefore=function(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];Mp("Query.endBefore",arguments,1);var o=this.Zd("Query.endBefore",e,i,!0);return new t(this.Qd.wn(o),this.firestore,this.ya)},t.prototype.endAt=function(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];Mp("Query.endAt",arguments,1);var o=this.Zd("Query.endAt",e,i,!1);return new t(this.Qd.wn(o),this.firestore,this.ya)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Uv("isEqual","Query",1,e);return this.firestore===e.firestore&&Vw(this.Qd,e.Qd)&&this.ya===e.ya},t.prototype.withConverter=function(e){return new t(this.Qd,this.firestore,e)},t.prototype.Zd=function(e,i,r,o){if($ne(e,1,i),i instanceof Nv)return br(e,pe.__spreadArrays([i],r),1),this.Yd(e,i.Bd,o);var s=[i].concat(r);return this.Jd(e,s,o)},t.prototype.onSnapshot=function(){for(var e,i,r,o=this,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];Du("Query.onSnapshot",arguments,1,4);var l={},u=0;if(typeof s[u]!="object"||wx(s[u])||(Lv("Query.onSnapshot",l=s[u],["includeMetadataChanges"]),of("Query.onSnapshot","boolean","includeMetadataChanges",l.includeMetadataChanges),u++),wx(s[u])){var d=s[u];s[u]=(e=d.next)===null||e===void 0?void 0:e.bind(d),s[u+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),s[u+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}else Io("Query.onSnapshot","function",u,s[u]),kw("Query.onSnapshot","function",u+1,s[u+1]),kw("Query.onSnapshot","function",u+2,s[u+2]);var h={next:function(f){s[u]&&s[u](new eV(o.firestore,o.Qd,f,o.ya))},error:s[u+1],complete:s[u+2]};return uie(this.Qd),die(this.firestore.md(),this.Qd,l,h)},t.prototype.get=function(e){var i=this;Du("Query.get",arguments,0,1),Ire("Query.get",e),uie(this.Qd);var r=this.firestore.md();return(e&&e.source==="cache"?r.sd(this.Qd):function(o,s,a){var l=new Su,u=die(o,s,{includeMetadataChanges:!0,H_:!0},{next:function(d){u(),d.fromCache&&a&&a.source==="server"?l.reject(new Re(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:function(d){return l.reject(d)}});return l.promise}(r,this.Qd,e)).then(function(o){return new eV(i.firestore,i.Qd,o,i.ya)})},t}(function(){function n(t,e,i){this.Va=t,this.pd=e,this.Qd=i}return n.prototype.Wd=function(t,e,i){var r;if(t.O()){if(e==="array-contains"||e==="array-contains-any")throw new Re(Ie.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+e+"' queries on FieldPath.documentId().");if(e==="in"){this.jd(i,e);for(var o=[],s=0,a=i;s<a.length;s++){var l=a[s];o.push(this.Kd(l))}r={arrayValue:{values:o}}}else r=this.Kd(i)}else e!=="in"&&e!=="array-contains-any"||this.jd(i,e),r=Xne(this.pd,"Query.where",i,e==="in");var u=ll.create(t,e,r);return this.Gd(u),u},n.prototype.zd=function(t,e){if(this.Qd.startAt!==null)throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(this.Qd.endAt!==null)throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=new Fw(t,e);return this.Hd(i),i},n.prototype.Yd=function(t,e,i){if(!e)throw new Re(Ie.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var r=[],o=0,s=this.Qd.orderBy;o<s.length;o++){var a=s[o];if(a.field.O())r.push(JF(this.Va,e.key));else{var l=e.field(a.field);if(rV(l))throw new Re(Ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(l===null){var u=a.field.N();throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(l)}}return new vx(r,i)},n.prototype.Jd=function(t,e,i){var r=this.Qd.en;if(e.length>r.length)throw new Re(Ie.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],s=0;s<e.length;s++){var a=e[s];if(r[s].field.O()){if(typeof a!="string")throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this.Qd.Vn()&&a.indexOf("/")!==-1)throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var l=this.Qd.path.child(Cr.$(a));if(!zt.W(l))throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var u=new zt(l);o.push(JF(this.Va,u))}else{var d=Xne(this.pd,t,a);o.push(d)}}return new vx(o,i)},n.prototype.Kd=function(t){if(typeof t=="string"){if(t==="")throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.Qd.Vn()&&t.indexOf("/")!==-1)throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.Qd.path.child(Cr.$(t));if(!zt.W(e))throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return JF(this.Va,new zt(e))}if(t instanceof Ox)return JF(this.Va,t.ga);throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+cf(t)+".")},n.prototype.jd=function(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(Ie.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Re(Ie.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new Re(Ie.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(i){return Number.isNaN(i)}).length>0)throw new Re(Ie.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},n.prototype.Gd=function(t){if(t instanceof ll){var e=["array-contains","array-contains-any"],i=["in","array-contains-any"],r=e.indexOf(t.op)>=0,o=i.indexOf(t.op)>=0;if(t.An()){var s=this.Qd.an();if(s!==null&&!s.isEqual(t.field))throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+s.toString()+"' and '"+t.field.toString()+"'");var a=this.Qd.un();a!==null&&this.Xd(t.field,a)}else if(o||r){var l=null;if(o&&(l=this.Qd.Rn(i)),l===null&&r&&(l=this.Qd.Rn(e)),l!==null)throw l===t.op?new Re(Ie.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Re(Ie.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+l.toString()+"' filters.")}}},n.prototype.Hd=function(t){if(this.Qd.un()===null){var e=this.Qd.an();e!==null&&this.Xd(e,t.field)}},n.prototype.Xd=function(t,e){if(!e.isEqual(t))throw new Re(Ie.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},n}());function die(n,t,e,i){var r=function(a){console.error("Uncaught Error in onSnapshot:",a)};i.error&&(r=i.error.bind(i));var o=new IV({next:function(a){i.next&&i.next(a)},error:r}),s=n.listen(t,o,e);return function(){o.od(),n.mc(s)}}var eV=function(){function n(t,e,i,r){this.$d=t,this.tw=e,this.ew=i,this.ya=r,this.nw=null,this.sw=null,this.metadata=new xre(i.hasPendingWrites,i.fromCache)}return Object.defineProperty(n.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"empty",{get:function(){return this.ew.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.ew.docs.size},enumerable:!1,configurable:!0}),n.prototype.forEach=function(t,e){var i=this;Du("QuerySnapshot.forEach",arguments,1,2),Io("QuerySnapshot.forEach","function",1,t),this.ew.docs.forEach(function(r){t.call(e,i.iw(r,i.metadata.fromCache,i.ew.Lt.has(r.key)))})},Object.defineProperty(n.prototype,"query",{get:function(){return new TB(this.tw,this.$d,this.ya)},enumerable:!1,configurable:!0}),n.prototype.docChanges=function(t){t&&(Lv("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),of("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.ew.qt)throw new Re(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.nw&&this.sw===e||(this.nw=function(i,r,o){if(i.Ot._()){var s=0;return i.docChanges.map(function(l){var u=o(l.doc,i.fromCache,i.Lt.has(l.doc.key));return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}var a=i.Ot;return i.docChanges.filter(function(l){return r||l.type!==3}).map(function(l){var u=o(l.doc,i.fromCache,i.Lt.has(l.doc.key)),d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(h=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:_Ne(l.type),doc:u,oldIndex:d,newIndex:h}})}(this.ew,e,this.iw.bind(this)),this.sw=e),this.nw},n.prototype.isEqual=function(t){if(!(t instanceof n))throw Uv("isEqual","QuerySnapshot",1,t);return this.$d===t.$d&&Vw(this.tw,t.tw)&&this.ew.isEqual(t.ew)&&this.ya===t.ya},n.prototype.iw=function(t,e,i){return new TV(this.$d,t.key,t,e,i,this.ya)},n}(),wB=function(n){function t(e,i,r){var o=this;if((o=n.call(this,Fv.hn(e),i,r)||this).rw=e,e.length%2!=1)throw new Re(Ie.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.N()+" has "+e.length);return o}return pe.__extends(t,n),Object.defineProperty(t.prototype,"id",{get:function(){return this.Qd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.Qd.path.p();return e._()?null:new Iv(new zt(e),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Qd.path.N()},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){Du("CollectionReference.doc",arguments,0,1),arguments.length===0&&(e=Aie.t()),Io("CollectionReference.doc","non-empty string",1,e);var i=Cr.$(e);return Iv.Fd(this.Qd.path.child(i),this.firestore,this.ya)},t.prototype.add=function(e){br("CollectionReference.add",arguments,1),Io("CollectionReference.add","object",1,this.ya?this.ya.toFirestore(e):e);var i=this.doc();return i.set(e).then(function(){return i})},t.prototype.withConverter=function(e){return new t(this.rw,this.firestore,e)},t}(TB);function DV(n,t){if(t===void 0)return{merge:!1};if(Lv(n,t,["merge","mergeFields"]),of(n,"boolean","merge",t.merge),function(e,i,r,o,s){o!==void 0&&function(a,l,u,d,h){if(!(d instanceof Array))throw new Re(Ie.INVALID_ARGUMENT,"Function "+a+"() requires its "+l+" option to be an array, but it was: "+cf(d));for(var f=0;f<d.length;++f)if(!h(d[f]))throw new Re(Ie.INVALID_ARGUMENT,"Function "+a+"() requires all "+l+" elements to be "+u+", but the value at index "+f+" was: "+cf(d[f]))}(e,i,r,o,s)}(n,"mergeFields","a string or a FieldPath",t.mergeFields,function(e){return typeof e=="string"||e instanceof kv}),t.mergeFields!==void 0&&t.merge!==void 0)throw new Re(Ie.INVALID_ARGUMENT,"Invalid options passed to function "+n+'(): You cannot specify both "merge" and "mergeFields".');return t}function hie(n,t){return t===void 0?{}:(Lv(n,t,["serverTimestamps"]),ire(n,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Ire(n,t){kw(n,"object",1,t),t&&(Lv(n,t,["source"]),ire(n,0,"source",t.source,["default","server","cache"]))}function Tp(n,t,e){if(t instanceof Ox){if(t.firestore!==e)throw new Re(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw Uv(n,"DocumentReference",1,t)}function _Ne(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function MV(n,t,e){return n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t}var yNe={Firestore:J6,GeoPoint:IB,Timestamp:jl,Blob:xB,Transaction:Ere,WriteBatch:Sre,DocumentReference:Iv,DocumentSnapshot:Nv,Query:TB,QueryDocumentSnapshot:TV,QuerySnapshot:eV,CollectionReference:wB,FieldPath:kv,FieldValue:lre,setLogLevel:J6.setLogLevel,CACHE_SIZE_UNLIMITED:Cre};function fie(n){(function(t,e){t.INTERNAL.registerComponent(new NPe.Component("firestore",function(i){return function(r,o){return new J6(r,o,new mNe)}(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},yNe)))})(n),n.registerVersion("@firebase/firestore","1.16.1")}fie(pie),OV.__PRIVATE_registerFirestore=fie});var Mre={};cc(Mre,{__assign:()=>BV,__asyncDelegator:()=>BNe,__asyncGenerator:()=>FNe,__asyncValues:()=>PNe,__await:()=>Fx,__awaiter:()=>xNe,__classPrivateFieldGet:()=>LNe,__classPrivateFieldSet:()=>UNe,__createBinding:()=>TNe,__decorate:()=>CNe,__exportStar:()=>DNe,__extends:()=>wNe,__generator:()=>INe,__importDefault:()=>RNe,__importStar:()=>NNe,__makeTemplateObject:()=>kNe,__metadata:()=>SNe,__param:()=>ENe,__read:()=>Dre,__rest:()=>bNe,__spread:()=>MNe,__spreadArrays:()=>ONe,__values:()=>PV});function wNe(n,t){FV(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function bNe(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function CNe(n,t,e,i){var r=arguments.length,o=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(t,e,o):s(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function ENe(n,t){return function(e,i){t(e,i,n)}}function SNe(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function xNe(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(h){s(h)}}function l(d){try{u(i.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function INe(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(d){u=[6,d],r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function TNe(n,t,e,i){i===void 0&&(i=e),n[i]=t[e]}function DNe(n,t){for(var e in n)e!=="default"&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function PV(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dre(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),r,o=[],s;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return o}function MNe(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Dre(arguments[t]));return n}function ONe(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function Fx(n){return this instanceof Fx?(this.v=n,this):new Fx(n)}function FNe(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(A){return new Promise(function(g,m){o.push([f,A,g,m])>1||a(f,A)})})}function a(f,A){try{l(i[f](A))}catch(g){h(o[0][3],g)}}function l(f){f.value instanceof Fx?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,A){f(A),o.shift(),o.length&&a(o[0][0],o[0][1])}}function BNe(n){var t,e;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,o){t[r]=n[r]?function(s){return(e=!e)?{value:Fx(n[r](s)),done:r==="return"}:o?o(s):s}:o}}function PNe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof PV=="function"?PV(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}function kNe(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function NNe(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function RNe(n){return n&&n.__esModule?n:{default:n}}function LNe(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)}function UNe(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e}var FV,BV,Ore=hs(()=>{"use strict";FV=function(n,t){return FV=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])},FV(n,t)};BV=function(){return BV=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},BV.apply(this,arguments)}});var Rre=tn(()=>{"use strict";function HNe(n){return n&&typeof n=="object"&&"default"in n?n.default:n}var kre=HNe(bu()),Dc=(Ore(),Vo(Mre)),VNe=xd();var Fre={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gw=function(n){Dc.__extends(t,n);function t(e,i,r){var o=n.call(this,i)||this;return Object.setPrototypeOf(o,t.prototype),o.code=e,o.details=r,o}return t}(Error);function QNe(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function jNe(n,t,e){var i=QNe(n),r=i,o=void 0;try{var s=t&&t.error;if(s){var a=s.status;if(typeof a=="string"){if(!Fre[a])return new Gw("internal","internal");i=Fre[a],r=a}var l=s.message;typeof l=="string"&&(r=l),o=s.details,o!==void 0&&(o=e.decode(o))}}catch{}return i==="ok"?null:new Gw(i,r,o)}var GNe=function(){function n(t,e){var i=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(r){return i.auth=r},function(){}),this.messaging||e.get().then(function(r){return i.messaging=r},function(){})}return n.prototype.getAuthToken=function(){return Dc.__awaiter(this,void 0,void 0,function(){var t,e;return Dc.__generator(this,function(i){switch(i.label){case 0:if(!this.auth)return[2,void 0];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=i.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return e=i.sent(),[2,void 0];case 4:return[2]}})})},n.prototype.getInstanceIdToken=function(){return Dc.__awaiter(this,void 0,void 0,function(){return Dc.__generator(this,function(t){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},n.prototype.getContext=function(){return Dc.__awaiter(this,void 0,void 0,function(){var t,e;return Dc.__generator(this,function(i){switch(i.label){case 0:return[4,this.getAuthToken()];case 1:return t=i.sent(),[4,this.getInstanceIdToken()];case 2:return e=i.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},n}();var WNe="type.googleapis.com/google.protobuf.Int64Value",KNe="type.googleapis.com/google.protobuf.UInt64Value";function Bre(n,t){var e={};for(var i in n)n.hasOwnProperty(i)&&(e[i]=t(n[i]));return e}var zNe=function(){function n(){}return n.prototype.encode=function(t){var e=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(Array.isArray(t))return t.map(function(i){return e.encode(i)});if(typeof t=="function"||typeof t=="object")return Bre(t,function(i){return e.encode(i)});throw new Error("Data cannot be encoded in JSON: "+t)},n.prototype.decode=function(t){var e=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case WNe:case KNe:{var i=Number(t.value);if(isNaN(i))throw new Error("Data cannot be decoded from JSON: "+t);return i}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(r){return e.decode(r)}):typeof t=="function"||typeof t=="object"?Bre(t,function(r){return e.decode(r)}):t},n}();function qNe(n){var t,e=new Promise(function(i,r){t=setTimeout(function(){r(new Gw("deadline-exceeded","deadline-exceeded"))},n)});return{timer:t,promise:e}}var Nre=function(){function n(t,e,i,r){var o=this;r===void 0&&(r="us-central1"),this.app_=t,this.region_=r,this.serializer=new zNe,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return o.deleteService()}},this.contextProvider=new GNe(e,i),this.cancelAllRequests=new Promise(function(s){o.deleteService=function(){return s()}})}return Object.defineProperty(n.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),n.prototype._url=function(t){var e=this.app_.options.projectId,i=this.region_;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+e+"/"+i+"/"+t}return"https://"+i+"-"+e+".cloudfunctions.net/"+t},n.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},n.prototype.httpsCallable=function(t,e){var i=this;return function(r){return i.call(t,r,e||{})}},n.prototype.postJSON=function(t,e,i){return Dc.__awaiter(this,void 0,void 0,function(){var r,o,s,a;return Dc.__generator(this,function(l){switch(l.label){case 0:i.append("Content-Type","application/json"),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:i})];case 2:return r=l.sent(),[3,4];case 3:return o=l.sent(),[2,{status:0,json:null}];case 4:s=null,l.label=5;case 5:return l.trys.push([5,7,,8]),[4,r.json()];case 6:return s=l.sent(),[3,8];case 7:return a=l.sent(),[3,8];case 8:return[2,{status:r.status,json:s}]}})})},n.prototype.call=function(t,e,i){return Dc.__awaiter(this,void 0,void 0,function(){var r,o,s,a,l,u,d,h,f,A,g,m;return Dc.__generator(this,function(b){switch(b.label){case 0:return r=this._url(t),e=this.serializer.encode(e),o={data:e},s=new Headers,[4,this.contextProvider.getContext()];case 1:return a=b.sent(),a.authToken&&s.append("Authorization","Bearer "+a.authToken),a.instanceIdToken&&s.append("Firebase-Instance-ID-Token",a.instanceIdToken),l=i.timeout||7e4,u=qNe(l),d=u.timer,h=u.promise,[4,Promise.race([Pre(d,this.postJSON(r,o,s)),h,Pre(d,this.cancelAllRequests)])];case 2:if(f=b.sent(),!f)throw new Gw("cancelled","Firebase Functions instance was deleted.");if(A=jNe(f.status,f.json,this.serializer),A)throw A;if(!f.json)throw new Gw("internal","Response is not valid JSON object.");if(g=f.json.data,typeof g>"u"&&(g=f.json.result),typeof g>"u")throw new Gw("internal","Response is missing data field.");return m=this.serializer.decode(g),[2,{data:m}]}})})},n}();function Pre(n,t){return Dc.__awaiter(this,void 0,void 0,function(){var e;return Dc.__generator(this,function(i){switch(i.label){case 0:return[4,t];case 1:return e=i.sent(),clearTimeout(n),[2,e]}})})}var $Ne="functions";function YNe(n,t){var e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("messaging");return new Nre(e,i,r,t)}function ZNe(n){var t={Functions:Nre};n.INTERNAL.registerComponent(new VNe.Component($Ne,YNe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0))}var XNe="@firebase/functions",JNe="0.4.48";ZNe(kre);kre.registerVersion(XNe,JNe)});function ns(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(h){s(h)}}function l(d){try{u(i.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function is(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(d){u=[6,d],r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function kV(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function eRe(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),r,o=[],s;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return o}function Lre(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(eRe(arguments[t]));return n}var Pd,Ure=hs(()=>{"use strict";Pd=function(){return Pd=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Pd.apply(this,arguments)}});var NV=tn((DB,Hre)=>{"use strict";(function(n,t){typeof DB=="object"&&typeof Hre<"u"?t(DB):typeof define=="function"&&define.amd?define(["exports"],t):(n=n||self,t(n.idb={}))})(DB,function(n){"use strict";function t(S){return Array.prototype.slice.call(S)}function e(S){return new Promise(function(F,R){S.onsuccess=function(){F(S.result)},S.onerror=function(){R(S.error)}})}function i(S,F,R){var B,P=new Promise(function(L,j){B=S[F].apply(S,R),e(B).then(L,j)});return P.request=B,P}function r(S,F,R){var B=i(S,F,R);return B.then(function(P){if(P)return new d(P,B.request)})}function o(S,F,R){R.forEach(function(B){Object.defineProperty(S.prototype,B,{get:function(){return this[F][B]},set:function(P){this[F][B]=P}})})}function s(S,F,R,B){B.forEach(function(P){P in R.prototype&&(S.prototype[P]=function(){return i(this[F],P,arguments)})})}function a(S,F,R,B){B.forEach(function(P){P in R.prototype&&(S.prototype[P]=function(){return this[F][P].apply(this[F],arguments)})})}function l(S,F,R,B){B.forEach(function(P){P in R.prototype&&(S.prototype[P]=function(){return r(this[F],P,arguments)})})}function u(S){this._index=S}o(u,"_index",["name","keyPath","multiEntry","unique"]),s(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(u,"_index",IDBIndex,["openCursor","openKeyCursor"]);function d(S,F){this._cursor=S,this._request=F}o(d,"_cursor",["direction","key","primaryKey","value"]),s(d,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(S){S in IDBCursor.prototype&&(d.prototype[S]=function(){var F=this,R=arguments;return Promise.resolve().then(function(){return F._cursor[S].apply(F._cursor,R),e(F._request).then(function(B){if(B)return new d(B,F._request)})})})});function h(S){this._store=S}h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]);function f(S){this._tx=S,this.complete=new Promise(function(F,R){S.oncomplete=function(){F()},S.onerror=function(){R(S.error)},S.onabort=function(){R(S.error)}})}f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),a(f,"_tx",IDBTransaction,["abort"]);function A(S,F,R){this._db=S,this.oldVersion=F,this.transaction=new f(R)}A.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(A,"_db",["name","version","objectStoreNames"]),a(A,"_db",IDBDatabase,["deleteObjectStore","close"]);function g(S){this._db=S}g.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(g,"_db",["name","version","objectStoreNames"]),a(g,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(S){[h,u].forEach(function(F){S in F.prototype&&(F.prototype[S.replace("open","iterate")]=function(){var R=t(arguments),B=R[R.length-1],P=this._store||this._index,L=P[S].apply(P,R.slice(0,-1));L.onsuccess=function(){B(L.result)}})})}),[u,h].forEach(function(S){S.prototype.getAll||(S.prototype.getAll=function(F,R){var B=this,P=[];return new Promise(function(L){B.iterateCursor(F,function(j){if(!j){L(P);return}if(P.push(j.value),R!==void 0&&P.length==R){L(P);return}j.continue()})})})});function m(S,F,R){var B=i(indexedDB,"open",[S,F]),P=B.request;return P&&(P.onupgradeneeded=function(L){R&&R(new A(P.result,L.oldVersion,P.transaction))}),B.then(function(L){return new g(L)})}function b(S){return i(indexedDB,"deleteDatabase",[S])}n.openDb=m,n.deleteDb=b,Object.defineProperty(n,"__esModule",{value:!0})})});var zV={};cc(zV,{registerInstallations:()=>aoe});function Yre(n){return n instanceof OB.FirebaseError&&n.code.includes("request-failed")}function HV(n){var t=n.projectId;return nRe+"/projects/"+t+"/installations"}function Zre(n){return{token:n.token,requestStatus:2,expiresIn:aRe(n.expiresIn),creationTime:Date.now()}}function VV(n,t){return ns(this,void 0,void 0,function(){var e,i;return is(this,function(r){switch(r.label){case 0:return[4,t.json()];case 1:return e=r.sent(),i=e.error,[2,Op.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})]}})})}function Xre(n){var t=n.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Jre(n,t){var e=t.refreshToken,i=Xre(n);return i.append("Authorization",lRe(e)),i}function QV(n){return ns(this,void 0,void 0,function(){var t;return is(this,function(e){switch(e.label){case 0:return[4,n()];case 1:return t=e.sent(),t.status>=500&&t.status<600?[2,n()]:[2,t]}})})}function aRe(n){return Number(n.replace("s","000"))}function lRe(n){return $re+" "+n}function cRe(n,t){var e=t.fid;return ns(this,void 0,void 0,function(){var i,r,o,s,a,l,u;return is(this,function(d){switch(d.label){case 0:return i=HV(n),r=Xre(n),o={fid:e,authVersion:$re,appId:n.appId,sdkVersion:qre},s={method:"POST",headers:r,body:JSON.stringify(o)},[4,QV(function(){return fetch(i,s)})];case 1:return a=d.sent(),a.ok?[4,a.json()]:[3,3];case 2:return l=d.sent(),u={fid:l.fid||e,registrationStatus:2,refreshToken:l.refreshToken,authToken:Zre(l.authToken)},[2,u];case 3:return[4,VV("Create Installation",a)];case 4:throw d.sent()}})})}function eoe(n){return new Promise(function(t){setTimeout(t,n)})}function uRe(n){var t=btoa(String.fromCharCode.apply(String,Lre(n)));return t.replace(/\+/g,"-").replace(/\//g,"_")}function hRe(){try{var n=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(n),n[0]=112+n[0]%16;var e=fRe(n);return dRe.test(e)?e:UV}catch{return UV}}function fRe(n){var t=uRe(n);return t.substr(0,22)}function Kw(n){return n.appName+"!"+n.appId}function toe(n,t){var e=Kw(n);noe(e,t),gRe(e,t)}function pRe(n,t){ioe();var e=Kw(n),i=Ww.get(e);i||(i=new Set,Ww.set(e,i)),i.add(t)}function ARe(n,t){var e=Kw(n),i=Ww.get(e);i&&(i.delete(t),i.size===0&&Ww.delete(e),roe())}function noe(n,t){var e,i,r=Ww.get(n);if(r)try{for(var o=kV(r),s=o.next();!s.done;s=o.next()){var a=s.value;a(t)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}}function gRe(n,t){var e=ioe();e&&e.postMessage({key:n,fid:t}),roe()}function ioe(){return!Vv&&"BroadcastChannel"in self&&(Vv=new BroadcastChannel("[Firebase] FID Change"),Vv.onmessage=function(n){noe(n.data.key,n.data.fid)}),Vv}function roe(){Ww.size===0&&Vv&&(Vv.close(),Vv=null)}function jV(){return RV||(RV=(0,Wre.openDb)(mRe,vRe,function(n){switch(n.oldVersion){case 0:n.createObjectStore(Qv)}})),RV}function MB(n,t){return ns(this,void 0,void 0,function(){var e,i,r,o,s;return is(this,function(a){switch(a.label){case 0:return e=Kw(n),[4,jV()];case 1:return i=a.sent(),r=i.transaction(Qv,"readwrite"),o=r.objectStore(Qv),[4,o.get(e)];case 2:return s=a.sent(),[4,o.put(t,e)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),(!s||s.fid!==t.fid)&&toe(n,t.fid),[2,t]}})})}function GV(n){return ns(this,void 0,void 0,function(){var t,e,i;return is(this,function(r){switch(r.label){case 0:return t=Kw(n),[4,jV()];case 1:return e=r.sent(),i=e.transaction(Qv,"readwrite"),[4,i.objectStore(Qv).delete(t)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}})})}function Bx(n,t){return ns(this,void 0,void 0,function(){var e,i,r,o,s,a;return is(this,function(l){switch(l.label){case 0:return e=Kw(n),[4,jV()];case 1:return i=l.sent(),r=i.transaction(Qv,"readwrite"),o=r.objectStore(Qv),[4,o.get(e)];case 2:return s=l.sent(),a=t(s),a!==void 0?[3,4]:[4,o.delete(e)];case 3:return l.sent(),[3,6];case 4:return[4,o.put(a,e)];case 5:l.sent(),l.label=6;case 6:return[4,r.complete];case 7:return l.sent(),a&&(!s||s.fid!==a.fid)&&toe(n,a.fid),[2,a]}})})}function WV(n){return ns(this,void 0,void 0,function(){var t,e,i;return is(this,function(r){switch(r.label){case 0:return[4,Bx(n,function(o){var s=_Re(o),a=yRe(n,s);return t=a.registrationPromise,a.installationEntry})];case 1:return e=r.sent(),e.fid!==UV?[3,3]:(i={},[4,t]);case 2:return[2,(i.installationEntry=r.sent(),i)];case 3:return[2,{installationEntry:e,registrationPromise:t}]}})})}function _Re(n){var t=n||{fid:hRe(),registrationStatus:0};return ooe(t)}function yRe(n,t){if(t.registrationStatus===0){if(!navigator.onLine){var e=Promise.reject(Op.create("app-offline"));return{installationEntry:t,registrationPromise:e}}var i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=wRe(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:bRe(n)}:{installationEntry:t}}function wRe(n,t){return ns(this,void 0,void 0,function(){var e,i;return is(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,cRe(n,t)];case 1:return e=r.sent(),[2,MB(n,e)];case 2:return i=r.sent(),Yre(i)&&i.serverCode===409?[4,GV(n)]:[3,4];case 3:return r.sent(),[3,6];case 4:return[4,MB(n,{fid:t.fid,registrationStatus:0})];case 5:r.sent(),r.label=6;case 6:throw i;case 7:return[2]}})})}function bRe(n){return ns(this,void 0,void 0,function(){var t,e,i,r;return is(this,function(o){switch(o.label){case 0:return[4,Vre(n)];case 1:t=o.sent(),o.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,eoe(100)];case 3:return o.sent(),[4,Vre(n)];case 4:return t=o.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,WV(n)];case 6:return e=o.sent(),i=e.installationEntry,r=e.registrationPromise,r?[2,r]:[2,i];case 7:return[2,t]}})})}function Vre(n){return Bx(n,function(t){if(!t)throw Op.create("installation-not-found");return ooe(t)})}function ooe(n){return CRe(n)?{fid:n.fid,registrationStatus:0}:n}function CRe(n){return n.registrationStatus===1&&n.registrationTime+zre<Date.now()}function ERe(n,t){var e=n.appConfig,i=n.platformLoggerProvider;return ns(this,void 0,void 0,function(){var r,o,s,a,l,u,d,h;return is(this,function(f){switch(f.label){case 0:return r=SRe(e,t),o=Jre(e,t),s=i.getImmediate({optional:!0}),s&&o.append("x-firebase-client",s.getPlatformInfoString()),a={installation:{sdkVersion:qre}},l={method:"POST",headers:o,body:JSON.stringify(a)},[4,QV(function(){return fetch(r,l)})];case 1:return u=f.sent(),u.ok?[4,u.json()]:[3,3];case 2:return d=f.sent(),h=Zre(d),[2,h];case 3:return[4,VV("Generate Auth Token",u)];case 4:throw f.sent()}})})}function SRe(n,t){var e=t.fid;return HV(n)+"/"+e+"/authTokens:generate"}function KV(n,t){return t===void 0&&(t=!1),ns(this,void 0,void 0,function(){var e,i,r,o;return is(this,function(s){switch(s.label){case 0:return[4,Bx(n.appConfig,function(a){if(!soe(a))throw Op.create("not-registered");var l=a.authToken;if(!t&&TRe(l))return a;if(l.requestStatus===1)return e=xRe(n,t),a;if(!navigator.onLine)throw Op.create("app-offline");var u=MRe(a);return e=IRe(n,u),u})];case 1:return i=s.sent(),e?[4,e]:[3,3];case 2:return o=s.sent(),[3,4];case 3:o=i.authToken,s.label=4;case 4:return r=o,[2,r]}})})}function xRe(n,t){return ns(this,void 0,void 0,function(){var e,i;return is(this,function(r){switch(r.label){case 0:return[4,Qre(n.appConfig)];case 1:e=r.sent(),r.label=2;case 2:return e.authToken.requestStatus!==1?[3,5]:[4,eoe(100)];case 3:return r.sent(),[4,Qre(n.appConfig)];case 4:return e=r.sent(),[3,2];case 5:return i=e.authToken,i.requestStatus===0?[2,KV(n,t)]:[2,i]}})})}function Qre(n){return Bx(n,function(t){if(!soe(t))throw Op.create("not-registered");var e=t.authToken;return ORe(e)?Pd(Pd({},t),{authToken:{requestStatus:0}}):t})}function IRe(n,t){return ns(this,void 0,void 0,function(){var e,r,i,r;return is(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ERe(n,t)];case 1:return e=o.sent(),r=Pd(Pd({},t),{authToken:e}),[4,MB(n.appConfig,r)];case 2:return o.sent(),[2,e];case 3:return i=o.sent(),Yre(i)&&(i.serverCode===401||i.serverCode===404)?[4,GV(n.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return r=Pd(Pd({},t),{authToken:{requestStatus:0}}),[4,MB(n.appConfig,r)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}})})}function soe(n){return n!==void 0&&n.registrationStatus===2}function TRe(n){return n.requestStatus===2&&!DRe(n)}function DRe(n){var t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+iRe}function MRe(n){var t={requestStatus:1,requestTime:Date.now()};return Pd(Pd({},n),{authToken:t})}function ORe(n){return n.requestStatus===1&&n.requestTime+zre<Date.now()}function FRe(n){return ns(this,void 0,void 0,function(){var t,e,i;return is(this,function(r){switch(r.label){case 0:return[4,WV(n.appConfig)];case 1:return t=r.sent(),e=t.installationEntry,i=t.registrationPromise,i?i.catch(console.error):KV(n).catch(console.error),[2,e.fid]}})})}function BRe(n,t){return t===void 0&&(t=!1),ns(this,void 0,void 0,function(){var e;return is(this,function(i){switch(i.label){case 0:return[4,PRe(n.appConfig)];case 1:return i.sent(),[4,KV(n,t)];case 2:return e=i.sent(),[2,e.token]}})})}function PRe(n){return ns(this,void 0,void 0,function(){var t;return is(this,function(e){switch(e.label){case 0:return[4,WV(n)];case 1:return t=e.sent().registrationPromise,t?[4,t]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}})})}function kRe(n,t){return ns(this,void 0,void 0,function(){var e,i,r,o;return is(this,function(s){switch(s.label){case 0:return e=NRe(n,t),i=Jre(n,t),r={method:"DELETE",headers:i},[4,QV(function(){return fetch(e,r)})];case 1:return o=s.sent(),o.ok?[3,3]:[4,VV("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function NRe(n,t){var e=t.fid;return HV(n)+"/"+e}function RRe(n){return ns(this,void 0,void 0,function(){var t,e;return is(this,function(i){switch(i.label){case 0:return t=n.appConfig,[4,Bx(t,function(r){if(!(r&&r.registrationStatus===0))return r})];case 1:if(e=i.sent(),!e)return[3,6];if(e.registrationStatus!==1)return[3,2];throw Op.create("delete-pending-registration");case 2:if(e.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Op.create("app-offline");case 3:return[4,kRe(t,e)];case 4:return i.sent(),[4,GV(t)];case 5:i.sent(),i.label=6;case 6:return[2]}})})}function LRe(n,t){var e=n.appConfig;return pRe(e,t),function(){ARe(e,t)}}function URe(n){var t,e;if(!n||!n.options)throw LV("App Configuration");if(!n.name)throw LV("App Name");var i=["projectId","apiKey","appId"];try{for(var r=kV(i),o=r.next();!o.done;o=r.next()){var s=o.value;if(!n.options[s])throw LV(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function LV(n){return Op.create("missing-app-config-values",{valueName:n})}function aoe(n){var t="installations";n.INTERNAL.registerComponent(new Gre.Component(t,function(e){var i=e.getProvider("app").getImmediate(),r=URe(i),o=e.getProvider("platform-logger"),s={appConfig:r,platformLoggerProvider:o},a={app:i,getId:function(){return FRe(s)},getToken:function(l){return BRe(s,l)},delete:function(){return RRe(s)},onIdChange:function(l){return LRe(s,l)}};return a},"PUBLIC")),n.registerVersion(tRe,Kre)}var jre,Gre,OB,Wre,tRe,Kre,zre,qre,$re,nRe,iRe,rRe,oRe,kg,sRe,Op,dRe,UV,Ww,Vv,mRe,vRe,Qv,RV,Px=hs(()=>{"use strict";jre=Ri(bu()),Gre=Ri(xd());Ure();OB=Ri(Jh()),Wre=Ri(NV()),tRe="@firebase/installations",Kre="0.4.14";zre=1e4,qre="w:"+Kre,$re="FIS_v2",nRe="https://firebaseinstallations.googleapis.com/v1",iRe=60*60*1e3,rRe="installations",oRe="Installations";sRe=(kg={},kg["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',kg["not-registered"]="Firebase Installation is not registered.",kg["installation-not-found"]="Firebase Installation not found.",kg["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',kg["app-offline"]="Could not process request. Application offline.",kg["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",kg),Op=new OB.ErrorFactory(rRe,oRe,sRe);dRe=/^[cdef][\w-]{21}$/,UV="";Ww=new Map;Vv=null;mRe="firebase-installations-database",vRe=1,Qv="firebase-installations-store",RV=null;aoe(jre.default)});function cr(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(h){s(h)}}function l(d){try{u(i.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function ur(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(d){u=[6,d],r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function FB(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function HRe(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),r,o=[],s;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return o}function loe(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(HRe(arguments[t]));return n}var Ng,coe=hs(()=>{"use strict";Ng=function(){return Ng=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ng.apply(this,arguments)}});var E4e={};function QRe(n){var t,e;if(!n||!n.options)throw qV("App Configuration Object");if(!n.name)throw qV("App Name");var i=["projectId","apiKey","appId","messagingSenderId"],r=n.options;try{for(var o=FB(i),s=o.next();!s.done;s=o.next()){var a=s.value;if(!r[a])throw qV(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return{appName:n.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function qV(n){return Zi.create("missing-app-config-values",{valueName:n})}function Fp(n){var t=new Uint8Array(n),e=btoa(String.fromCharCode.apply(String,loe(t)));return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $Re(n){for(var t="=".repeat((4-n.length%4)%4),e=(n+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(e),r=new Uint8Array(i.length),o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}function ZRe(n){return cr(this,void 0,void 0,function(){var t,e,i,r,o=this;return ur(this,function(s){switch(s.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=s.sent(),e=t.map(function(a){return a.name}),!e.includes($V))return[2,null];s.label=2;case 2:return i=null,[4,(0,jv.openDb)($V,YRe,function(a){return cr(o,void 0,void 0,function(){var l,u,d,d,d,h;return ur(this,function(f){switch(f.label){case 0:return a.oldVersion<2?[2]:a.objectStoreNames.contains(uoe)?(l=a.transaction.objectStore(uoe),[4,l.index("fcmSenderId").get(n)]):[2];case 1:return u=f.sent(),[4,l.clear()];case 2:if(f.sent(),!u)return[2];if(a.oldVersion===2){if(d=u,!d.auth||!d.p256dh||!d.endpoint)return[2];i={token:d.fcmToken,createTime:(h=d.createTime)!==null&&h!==void 0?h:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Fp(d.vapidKey)}}}else a.oldVersion===3?(d=u,i={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Fp(d.auth),p256dh:Fp(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Fp(d.vapidKey)}}):a.oldVersion===4&&(d=u,i={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Fp(d.auth),p256dh:Fp(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Fp(d.vapidKey)}});return[2]}})})})];case 3:return r=s.sent(),r.close(),[4,(0,jv.deleteDb)($V)];case 4:return s.sent(),[4,(0,jv.deleteDb)("fcm_vapid_details_db")];case 5:return s.sent(),[4,(0,jv.deleteDb)("undefined")];case 6:return s.sent(),[2,XRe(i)?i:null]}})})}function XRe(n){if(!n||!n.subscriptionOptions)return!1;var t=n.subscriptionOptions;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}function XV(){return YV||(YV=(0,jv.openDb)(JRe,e4e,function(n){switch(n.oldVersion){case 0:n.createObjectStore(Gv)}})),YV}function PB(n){return cr(this,void 0,void 0,function(){var t,e,i,r;return ur(this,function(o){switch(o.label){case 0:return t=e8(n),[4,XV()];case 1:return e=o.sent(),[4,e.transaction(Gv).objectStore(Gv).get(t)];case 2:return i=o.sent(),i?[2,i]:[3,3];case 3:return[4,ZRe(n.appConfig.senderId)];case 4:return r=o.sent(),r?[4,JV(n,r)]:[3,6];case 5:return o.sent(),[2,r];case 6:return[2]}})})}function JV(n,t){return cr(this,void 0,void 0,function(){var e,i,r;return ur(this,function(o){switch(o.label){case 0:return e=e8(n),[4,XV()];case 1:return i=o.sent(),r=i.transaction(Gv,"readwrite"),[4,r.objectStore(Gv).put(t,e)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2,t]}})})}function t4e(n){return cr(this,void 0,void 0,function(){var t,e,i;return ur(this,function(r){switch(r.label){case 0:return t=e8(n),[4,XV()];case 1:return e=r.sent(),i=e.transaction(Gv,"readwrite"),[4,i.objectStore(Gv).delete(t)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}})})}function e8(n){var t=n.appConfig;return t.appId}function n4e(n,t){return cr(this,void 0,void 0,function(){var e,i,r,o,s,a,l;return ur(this,function(u){switch(u.label){case 0:return[4,n8(n)];case 1:e=u.sent(),i=voe(t),r={method:"POST",headers:e,body:JSON.stringify(i)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(t8(n.appConfig),r)];case 3:return s=u.sent(),[4,s.json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Zi.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw l=o.error.message,Zi.create("token-subscribe-failed",{errorInfo:l});if(!o.token)throw Zi.create("token-subscribe-no-token");return[2,o.token]}})})}function i4e(n,t){return cr(this,void 0,void 0,function(){var e,i,r,o,s,a,l;return ur(this,function(u){switch(u.label){case 0:return[4,n8(n)];case 1:e=u.sent(),i=voe(t.subscriptionOptions),r={method:"PATCH",headers:e,body:JSON.stringify(i)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(t8(n.appConfig)+"/"+t.token,r)];case 3:return s=u.sent(),[4,s.json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Zi.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw l=o.error.message,Zi.create("token-update-failed",{errorInfo:l});if(!o.token)throw Zi.create("token-update-no-token");return[2,o.token]}})})}function moe(n,t){return cr(this,void 0,void 0,function(){var e,i,r,o,s,a;return ur(this,function(l){switch(l.label){case 0:return[4,n8(n)];case 1:e=l.sent(),i={method:"DELETE",headers:e},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(t8(n.appConfig)+"/"+t,i)];case 3:return r=l.sent(),[4,r.json()];case 4:if(o=l.sent(),o.error)throw s=o.error.message,Zi.create("token-unsubscribe-failed",{errorInfo:s});return[3,6];case 5:throw a=l.sent(),Zi.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}})})}function t8(n){var t=n.projectId;return WRe+"/projects/"+t+"/registrations"}function n8(n){var t=n.appConfig,e=n.installations;return cr(this,void 0,void 0,function(){var i;return ur(this,function(r){switch(r.label){case 0:return[4,e.getToken()];case 1:return i=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+i})]}})})}function voe(n){var t=n.p256dh,e=n.auth,i=n.endpoint,r=n.vapidKey,o={web:{endpoint:i,auth:e,p256dh:t}};return r!==BB&&(o.web.applicationPubKey=r),o}function ZV(n,t,e){return cr(this,void 0,void 0,function(){var i,r,o,s;return ur(this,function(a){switch(a.label){case 0:if(Notification.permission!=="granted")throw Zi.create("permission-blocked");return[4,s4e(t,e)];case 1:return i=a.sent(),[4,PB(n)];case 2:return r=a.sent(),o={vapidKey:e,swScope:t.scope,endpoint:i.endpoint,auth:Fp(i.getKey("auth")),p256dh:Fp(i.getKey("p256dh"))},r?[3,3]:[2,doe(n,o)];case 3:if(a4e(r.subscriptionOptions,o))return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,moe(n,r.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,doe(n,o)];case 8:return Date.now()>=r.createTime+r4e?[2,o4e({token:r.token,createTime:Date.now(),subscriptionOptions:o},n,t)]:[2,r.token];case 9:return[2]}})})}function kx(n,t){return cr(this,void 0,void 0,function(){var e,i;return ur(this,function(r){switch(r.label){case 0:return[4,PB(n)];case 1:return e=r.sent(),e?[4,moe(n,e.token)]:[3,4];case 2:return r.sent(),[4,t4e(n)];case 3:r.sent(),r.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return i=r.sent(),i?[2,i.unsubscribe()]:[2,!0]}})})}function o4e(n,t,e){return cr(this,void 0,void 0,function(){var i,r,o;return ur(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,i4e(t,n)];case 1:return i=s.sent(),r=Ng(Ng({},n),{token:i,createTime:Date.now()}),[4,JV(t,r)];case 2:return s.sent(),[2,i];case 3:return o=s.sent(),[4,kx(t,e)];case 4:throw s.sent(),o;case 5:return[2]}})})}function doe(n,t){return cr(this,void 0,void 0,function(){var e,i;return ur(this,function(r){switch(r.label){case 0:return[4,n4e(n,t)];case 1:return e=r.sent(),i={token:e,createTime:Date.now(),subscriptionOptions:t},[4,JV(n,i)];case 2:return r.sent(),[2,i.token]}})})}function s4e(n,t){return cr(this,void 0,void 0,function(){var e;return ur(this,function(i){switch(i.label){case 0:return[4,n.pushManager.getSubscription()];case 1:return e=i.sent(),e?[2,e]:[2,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$Re(t)})]}})})}function a4e(n,t){var e=t.vapidKey===n.vapidKey,i=t.endpoint===n.endpoint,r=t.auth===n.auth,o=t.p256dh===n.p256dh;return e&&i&&r&&o}function _oe(n){return typeof n=="object"&&!!n&&goe in n}function c4e(n){switch(n){case zw.NOTIFICATION_CLICKED:return"notification_open";case zw.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function u4e(n){return new Promise(function(t){setTimeout(t,n)})}function h4e(n){var t=n.data;if(!t)return null;try{return t.json()}catch{return null}}function f4e(n){var t;if(!(!n||typeof n.notification!="object")){var e=Ng({},n.notification);return e.data=Ng(Ng({},n.notification.data),(t={},t[Aoe]=n,t)),e}}function p4e(n){return cr(this,void 0,void 0,function(){var t,e,i,r,o,s,a,l;return ur(this,function(u){switch(u.label){case 0:return t=new URL(n,self.location.href),[4,yoe()];case 1:e=u.sent();try{for(i=FB(e),r=i.next();!r.done;r=i.next())if(o=r.value,s=new URL(o.url,self.location.href),s.host===t.host)return[2,o]}catch(d){a={error:d}}finally{try{r&&!r.done&&(l=i.return)&&l.call(i)}finally{if(a)throw a.error}}return[2,null]}})})}function A4e(n){return n.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function g4e(n,t){var e,i,r=woe(zw.PUSH_RECEIVED,t);try{for(var o=FB(n),s=o.next();!s.done;s=o.next()){var a=s.value;a.postMessage(r)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}}function yoe(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function woe(n,t){return{firebaseMessaging:{type:n,payload:t}}}function m4e(n){var t,e=(t=n.title)!==null&&t!==void 0?t:"",i=n.actions,r=Notification.maxActions;return i&&r&&i.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(e,n)}function v4e(n){var t,e,i,r=(e=(t=n.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&e!==void 0?e:(i=n.notification)===null||i===void 0?void 0:i.click_action;return r||(_oe(n.data)?self.location.origin:null)}function y4e(n){var t=n.getProvider("app").getImmediate(),e=QRe(t),i=n.getProvider("installations").getImmediate(),r=n.getProvider("analytics-internal"),o={app:t,appConfig:e,installations:i,analyticsProvider:r};if(!boe())throw Zi.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new d4e(o):new l4e(o)}function boe(){return self&&"ServiceWorkerGlobalScope"in self?C4e():b4e()}function b4e(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function C4e(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}var hoe,foe,poe,jv,rs,VRe,Zi,jRe,GRe,BB,WRe,Aoe,goe,KRe,zRe,qRe,zw,$V,YRe,uoe,JRe,e4e,Gv,YV,r4e,l4e,d4e,_4e,w4e,Coe=hs(()=>{"use strict";hoe=Ri(bu());Px();foe=Ri(xd());coe();poe=Ri(Jh()),jv=Ri(NV());VRe=(rs={},rs["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',rs["only-available-in-window"]="This method is available in a Window context.",rs["only-available-in-sw"]="This method is available in a service worker context.",rs["permission-default"]="The notification permission was not granted and dismissed instead.",rs["permission-blocked"]="The notification permission was not granted and blocked instead.",rs["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",rs["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",rs["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",rs["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",rs["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",rs["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",rs["token-update-no-token"]="FCM returned no token when updating the user to push.",rs["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",rs["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",rs["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",rs["invalid-vapid-key"]="The public VAPID key must be a string.",rs["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",rs),Zi=new poe.ErrorFactory("messaging","Messaging",VRe);jRe="/firebase-messaging-sw.js",GRe="/firebase-cloud-messaging-push-scope",BB="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",WRe="https://fcmregistrations.googleapis.com/v1",Aoe="FCM_MSG",goe="google.c.a.c_id",KRe="google.c.a.c_l",zRe="google.c.a.ts",qRe="google.c.a.e";zw=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(zw||{});$V="fcm_token_details_db",YRe=5,uoe="fcm_token_object_Store";JRe="firebase-messaging-database",e4e=1,Gv="firebase-messaging-store",YV=null;r4e=7*24*60*60*1e3;l4e=function(){function n(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(i){return e.messageEventListener(i)})}return Object.defineProperty(n.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),n.prototype.getToken=function(){return cr(this,void 0,void 0,function(){var t;return ur(this,function(e){switch(e.label){case 0:return this.vapidKey||(this.vapidKey=BB),[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),Notification.permission!=="default"?[3,3]:[4,Notification.requestPermission()];case 2:e.sent(),e.label=3;case 3:if(Notification.permission!=="granted")throw Zi.create("permission-blocked");return[2,ZV(this.firebaseDependencies,t,this.vapidKey)]}})})},n.prototype.deleteToken=function(){return cr(this,void 0,void 0,function(){var t;return ur(this,function(e){switch(e.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),[2,kx(this.firebaseDependencies,t)]}})})},n.prototype.requestPermission=function(){return cr(this,void 0,void 0,function(){var t;return ur(this,function(e){switch(e.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=e.sent(),t==="granted")return[2];throw t==="denied"?Zi.create("permission-blocked"):Zi.create("permission-default")}})})},n.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Zi.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Zi.create("invalid-vapid-key");this.vapidKey=t},n.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Zi.create("invalid-sw-registration");if(this.swRegistration)throw Zi.create("use-sw-after-get-token");this.swRegistration=t},n.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},n.prototype.setBackgroundMessageHandler=function(){throw Zi.create("only-available-in-sw")},n.prototype.onTokenRefresh=function(){return function(){}},n.prototype.getServiceWorkerRegistration=function(){return cr(this,void 0,void 0,function(){var t,e;return ur(this,function(i){switch(i.label){case 0:if(this.swRegistration)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),t=this,[4,navigator.serviceWorker.register(jRe,{scope:GRe})];case 2:return t.swRegistration=i.sent(),this.swRegistration.update().catch(function(){}),[3,4];case 3:throw e=i.sent(),Zi.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 4:return[2,this.swRegistration]}})})},n.prototype.messageEventListener=function(t){var e;return cr(this,void 0,void 0,function(){var i,r,o,s;return ur(this,function(a){switch(a.label){case 0:return!((e=t.data)===null||e===void 0)&&e.firebaseMessaging?(i=t.data.firebaseMessaging,r=i.type,o=i.payload,this.onMessageCallback&&r===zw.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(o):this.onMessageCallback.next(o)),s=o.data,_oe(s)&&s[qRe]==="1"?[4,this.logEvent(r,s)]:[3,2]):[2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},n.prototype.logEvent=function(t,e){return cr(this,void 0,void 0,function(){var i,r;return ur(this,function(o){switch(o.label){case 0:return i=c4e(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r=o.sent(),r.logEvent(i,{message_id:e[goe],message_name:e[KRe],message_time:e[zRe],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},n}();d4e=function(){function n(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(i){i.waitUntil(e.onPush(i))}),self.addEventListener("pushsubscriptionchange",function(i){i.waitUntil(e.onSubChange(i))}),self.addEventListener("notificationclick",function(i){i.waitUntil(e.onNotificationClick(i))})}return Object.defineProperty(n.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),n.prototype.setBackgroundMessageHandler=function(t){if(!t||typeof t!="function")throw Zi.create("invalid-bg-handler");this.bgMessageHandler=t},n.prototype.getToken=function(){var t,e;return cr(this,void 0,void 0,function(){var i;return ur(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,PB(this.firebaseDependencies)];case 1:i=r.sent(),this.vapidKey=(e=(t=i?.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&e!==void 0?e:BB,r.label=2;case 2:return[2,ZV(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},n.prototype.deleteToken=function(){return kx(this.firebaseDependencies,self.registration)},n.prototype.requestPermission=function(){throw Zi.create("only-available-in-window")},n.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Zi.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Zi.create("invalid-vapid-key");this.vapidKey=t},n.prototype.useServiceWorker=function(){throw Zi.create("only-available-in-window")},n.prototype.onMessage=function(){throw Zi.create("only-available-in-window")},n.prototype.onTokenRefresh=function(){throw Zi.create("only-available-in-window")},n.prototype.onPush=function(t){return cr(this,void 0,void 0,function(){var e,i,r;return ur(this,function(o){switch(o.label){case 0:return e=h4e(t),e?[4,yoe()]:[2];case 1:return i=o.sent(),A4e(i)?[2,g4e(i,e)]:(r=f4e(e),r?[4,m4e(r)]:[3,3]);case 2:return o.sent(),[3,5];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2]}})})},n.prototype.onSubChange=function(t){var e,i;return cr(this,void 0,void 0,function(){var r,o;return ur(this,function(s){switch(s.label){case 0:return r=t.newSubscription,r?[3,2]:[4,kx(this.firebaseDependencies,self.registration)];case 1:return s.sent(),[2];case 2:return[4,PB(this.firebaseDependencies)];case 3:return o=s.sent(),[4,kx(this.firebaseDependencies,self.registration)];case 4:return s.sent(),[4,ZV(this.firebaseDependencies,self.registration,(i=(e=o?.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&i!==void 0?i:BB)];case 5:return s.sent(),[2]}})})},n.prototype.onNotificationClick=function(t){var e,i;return cr(this,void 0,void 0,function(){var r,o,s,a;return ur(this,function(l){switch(l.label){case 0:if(r=(i=(e=t.notification)===null||e===void 0?void 0:e.data)===null||i===void 0?void 0:i[Aoe],r){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),o=v4e(r),o?[4,p4e(o)]:[2];case 1:return s=l.sent(),s?[3,4]:[4,self.clients.openWindow(o)];case 2:return s=l.sent(),[4,u4e(3e3)];case 3:return l.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=l.sent(),l.label=6;case 6:return s?(a=woe(zw.NOTIFICATION_CLICKED,r),[2,s.postMessage(a)]):[2]}})})},n}();_4e="messaging";w4e={isSupported:boe};hoe.default.INTERNAL.registerComponent(new foe.Component(_4e,y4e,"PUBLIC").setServiceProps(w4e))});function Eoe(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(h){s(h)}}function l(d){try{u(i.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function Soe(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(d){u=[6,d],r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function i8(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}var xoe=hs(()=>{"use strict";});var Xoe={};cc(Xoe,{registerStorage:()=>Zoe});function Ioe(n){return"storage/"+n}function h8(){var n="An unknown error occurred, please check the error payload for server response.";return new bs(Do.UNKNOWN,n)}function D4e(n){return new bs(Do.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function M4e(n){return new bs(Do.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function O4e(){var n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bs(Do.UNAUTHENTICATED,n)}function F4e(n){return new bs(Do.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function B4e(){return new bs(Do.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Roe(){return new bs(Do.CANCELED,"User canceled the upload/download.")}function P4e(n){return new bs(Do.INVALID_URL,"Invalid URL '"+n+"'.")}function k4e(n){return new bs(Do.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Loe(){return new bs(Do.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function N4e(){return new bs(Do.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function R4e(){return new bs(Do.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Toe(n,t,e){return new bs(Do.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+n+": "+e)}function L4e(n,t,e,i){var r,o;return n===t?(r=n,o=n===1?"argument":"arguments"):(r="between "+n+" and "+t,o="arguments"),new bs(Do.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+e+"`: Expected "+r+" "+o+", received "+i+".")}function c8(){return new bs(Do.APP_DELETED,"The Firebase app was deleted.")}function U4e(n){return new bs(Do.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rx(n,t){return new bs(Do.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function kB(n){throw new bs(Do.INTERNAL_ERROR,"Internal error: "+n)}function H4e(n){switch(n){case To.RAW:case To.BASE64:case To.BASE64URL:case To.DATA_URL:return;default:throw"Expected one of the event types: ["+To.RAW+", "+To.BASE64+", "+To.BASE64URL+", "+To.DATA_URL+"]."}}function Uoe(n,t){switch(n){case To.RAW:return new r8(Hoe(t));case To.BASE64:case To.BASE64URL:return new r8(Voe(n,t));case To.DATA_URL:return new r8(Q4e(t),j4e(t))}throw h8()}function Hoe(n){for(var t=[],e=0;e<n.length;e++){var i=n.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var r=e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320;if(!r)t.push(239,191,189);else{var o=i,s=n.charCodeAt(++e);i=65536|(o&1023)<<10|s&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function V4e(n){var t;try{t=decodeURIComponent(n)}catch{throw Rx(To.DATA_URL,"Malformed data URL.")}return Hoe(t)}function Voe(n,t){switch(n){case To.BASE64:{var e=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(e||i){var r=e?"-":"_";throw Rx(n,"Invalid character '"+r+"' found: is it base64url encoded?")}break}case To.BASE64URL:{var o=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(o||s){var r=o?"+":"/";throw Rx(n,"Invalid character '"+r+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var a;try{a=atob(t)}catch{throw Rx(n,"Invalid character found")}for(var l=new Uint8Array(a.length),u=0;u<a.length;u++)l[u]=a.charCodeAt(u);return l}function Q4e(n){var t=new Qoe(n);return t.base64?Voe(To.BASE64,t.rest):V4e(t.rest)}function j4e(n){var t=new Qoe(n);return t.contentType}function G4e(n,t){var e=n.length>=t.length;return e?n.substring(n.length-t.length)===t:!1}function o8(n){switch(n){case wn.RUNNING:case wn.PAUSING:case wn.CANCELING:return ul.RUNNING;case wn.PAUSED:return ul.PAUSED;case wn.SUCCESS:return ul.SUCCESS;case wn.CANCELED:return ul.CANCELED;case wn.ERROR:return ul.ERROR;default:return ul.ERROR}}function kd(n){return n!=null}function Rg(n){return n!==void 0}function joe(n){return typeof n=="function"}function Lx(n){return typeof n=="object"}function W4e(n){return Lx(n)&&n!==null}function K4e(n){return Lx(n)&&!Array.isArray(n)}function Zw(n){return typeof n=="string"||n instanceof String}function z4e(n){return Goe(n)&&Number.isInteger(n)}function Goe(n){return typeof n=="number"||n instanceof Number}function Doe(n){return QB()&&n instanceof Blob}function QB(){return typeof Blob<"u"}function Y4e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Z4e(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Y4e();if(e!==void 0){for(var i=new e,r=0;r<n.length;r++)i.append(n[r]);return i.getBlob()}else{if(QB())return new Blob(n);throw Error("This browser doesn't seem to support creating Blobs")}}function X4e(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}function f8(n){var t;try{t=JSON.parse(n)}catch{return null}return K4e(t)?t:null}function J4e(n){if(n.length===0)return null;var t=n.lastIndexOf("/");if(t===-1)return"";var e=n.slice(0,t);return e}function e3e(n,t){var e=t.split("/").filter(function(i){return i.length>0}).join("/");return n.length===0?e:n+"/"+e}function Woe(n){var t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}function Lg(n){return"https://"+Noe+"/v0"+n}function Koe(n){var t=encodeURIComponent,e="?";for(var i in n)if(n.hasOwnProperty(i)){var r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}function t3e(n,t){return t}function n3e(n){return!Zw(n)||n.length<2?n:Woe(n)}function i3e(){if(NB)return NB;var n=[];n.push(new cl("bucket")),n.push(new cl("generation")),n.push(new cl("metageneration")),n.push(new cl("name","fullPath",!0));function t(o,s){return n3e(s)}var e=new cl("name");e.xform=t,n.push(e);function i(o,s){return kd(s)?Number(s):s}var r=new cl("size");return r.xform=i,n.push(r),n.push(new cl("timeCreated")),n.push(new cl("updated")),n.push(new cl("md5Hash",null,!0)),n.push(new cl("cacheControl",null,!0)),n.push(new cl("contentDisposition",null,!0)),n.push(new cl("contentEncoding",null,!0)),n.push(new cl("contentLanguage",null,!0)),n.push(new cl("contentType",null,!0)),n.push(new cl("metadata","customMetadata",!0)),NB=n,NB}function r3e(n,t){function e(){var i=n.bucket,r=n.fullPath,o=new Ou(i,r);return t.makeStorageReference(o)}Object.defineProperty(n,"ref",{get:e})}function o3e(n,t,e){var i={};i.type="file";for(var r=e.length,o=0;o<r;o++){var s=e[o];i[s.local]=s.xform(i,t[s.server])}return r3e(i,n),i}function zoe(n,t,e){var i=f8(t);if(i===null)return null;var r=i;return o3e(n,r,e)}function s3e(n,t){var e=f8(t);if(e===null||!Zw(e.downloadTokens))return null;var i=e.downloadTokens;if(i.length===0)return null;var r=encodeURIComponent,o=i.split(","),s=o.map(function(a){var l=n.bucket,u=n.fullPath,d="/b/"+r(l)+"/o/"+r(u),h=Lg(d),f=Koe({alt:"media",token:a});return h+f});return s[0]}function p8(n,t){for(var e={},i=t.length,r=0;r<i;r++){var o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}function a3e(n){if(!Lx(n)||!n)throw"Expected Metadata object.";for(var t in n)if(n.hasOwnProperty(t)){var e=n[t];if(t==="customMetadata"){if(!Lx(e))throw"Expected object for 'customMetadata' mapping."}else if(W4e(e))throw"Mapping for '"+t+"' cannot be an object."}}function c3e(n,t,e){var i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[Moe])for(var r=0,o=e[Moe];r<o.length;r++){var s=o[r],a=s.replace(/\/$/,""),l=n.makeStorageReference(new Ou(t,a));i.prefixes.push(l)}if(e[Ooe])for(var u=0,d=e[Ooe];u<d.length;u++){var h=d[u],l=n.makeStorageReference(new Ou(t,h.name));i.items.push(l)}return i}function u3e(n,t,e){var i=f8(e);if(i===null)return null;var r=i;return c3e(n,t,r)}function d3e(n){if(!Lx(n)||!n)throw"Expected ListOptions object.";for(var t in n)if(t===RB){if(!z4e(n[RB])||n[RB]<=0)throw"Expected maxResults to be a positive number.";if(n[RB]>1e3)throw"Expected maxResults to be less than or equal to "+l3e+"."}else if(t===s8){if(n[s8]&&!Zw(n[s8]))throw"Expected pageToken to be string."}else throw"Unknown option: "+t}function df(n){if(!n)throw h8()}function jB(n,t){function e(i,r){var o=zoe(n,r,t);return df(o!==null),o}return e}function h3e(n,t){function e(i,r){var o=u3e(n,t,r);return df(o!==null),o}return e}function f3e(n,t){function e(i,r){var o=zoe(n,r,t);return df(o!==null),s3e(o,r)}return e}function Xw(n){function t(e,i){var r;return e.getStatus()===401?r=O4e():e.getStatus()===402?r=M4e(n.bucket):e.getStatus()===403?r=F4e(n.path):r=i,r.setServerResponseProp(i.serverResponseProp()),r}return t}function GB(n){var t=Xw(n);function e(i,r){var o=t(i,r);return i.getStatus()===404&&(o=D4e(n.path)),o.setServerResponseProp(r.serverResponseProp()),o}return e}function qoe(n,t,e){var i=t.fullServerUrl(),r=Lg(i),o="GET",s=n.maxOperationRetryTime(),a=new Bp(r,o,jB(n,e),s);return a.errorHandler=GB(t),a}function p3e(n,t,e,i,r){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);var s=t.bucketOnlyServerUrl(),a=Lg(s),l="GET",u=n.maxOperationRetryTime(),d=new Bp(a,l,h3e(n,t.bucket),u);return d.urlParams=o,d.errorHandler=Xw(t),d}function A3e(n,t,e){var i=t.fullServerUrl(),r=Lg(i),o="GET",s=n.maxOperationRetryTime(),a=new Bp(r,o,f3e(n,e),s);return a.errorHandler=GB(t),a}function g3e(n,t,e,i){var r=t.fullServerUrl(),o=Lg(r),s="PATCH",a=p8(e,i),l={"Content-Type":"application/json; charset=utf-8"},u=n.maxOperationRetryTime(),d=new Bp(o,s,jB(n,i),u);return d.headers=l,d.body=a,d.errorHandler=GB(t),d}function m3e(n,t){var e=t.fullServerUrl(),i=Lg(e),r="DELETE",o=n.maxOperationRetryTime();function s(l,u){}var a=new Bp(i,r,s,o);return a.successCodes=[200,204],a.errorHandler=GB(t),a}function v3e(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function $oe(n,t,e){var i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=v3e(null,t)),i}function _3e(n,t,e,i,r){var o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){for(var R="",B=0;B<2;B++)R=R+Math.random().toString().slice(2);return R}var l=a();s["Content-Type"]="multipart/related; boundary="+l;var u=$oe(t,i,r),d=p8(u,e),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",A=d8.getBlob(h,i,f);if(A===null)throw Loe();var g={name:u.fullPath},m=Lg(o),b="POST",S=n.maxUploadRetryTime(),F=new Bp(m,b,jB(n,e),S);return F.urlParams=g,F.headers=s,F.body=A.uploadData(),F.errorHandler=Xw(t),F}function A8(n,t){var e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{df(!1)}var i=t||["active"];return df(!!e&&i.indexOf(e)!==-1),e}function y3e(n,t,e,i,r){var o=t.bucketOnlyServerUrl(),s=$oe(t,i,r),a={name:s.fullPath},l=Lg(o),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=p8(s,e),f=n.maxUploadRetryTime();function A(m){A8(m);var b;try{b=m.getResponseHeader("X-Goog-Upload-URL")}catch{df(!1)}return df(Zw(b)),b}var g=new Bp(l,u,A,f);return g.urlParams=a,g.headers=d,g.body=h,g.errorHandler=Xw(t),g}function w3e(n,t,e,i){var r={"X-Goog-Upload-Command":"query"};function o(u){var d=A8(u,["active","final"]),h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{df(!1)}h||df(!1);var f=Number(h);return df(!isNaN(f)),new VB(f,i.size(),d==="final")}var s="POST",a=n.maxUploadRetryTime(),l=new Bp(e,s,o,a);return l.headers=r,l.errorHandler=Xw(t),l}function b3e(n,t,e,i,r,o,s,a){var l=new VB(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw N4e();var u=l.total-l.current,d=u;r>0&&(d=Math.min(d,r));var h=l.current,f=h+d,A=d===u?"upload, finalize":"upload",g={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":l.current},m=i.slice(h,f);if(m===null)throw Loe();function b(B,P){var L=A8(B,["active","final"]),j=l.current+d,G=i.size(),Y;return L==="final"?Y=jB(t,o)(B,P):Y=null,new VB(j,G,L==="final",Y)}var S="POST",F=t.maxUploadRetryTime(),R=new Bp(e,S,b,F);return R.headers=g,R.body=m.uploadData(),R.progressCallback=a||null,R.errorHandler=Xw(n),R}function os(n,t,e){for(var i=t.length,r=t.length,o=0;o<t.length;o++)if(t[o].optional){i=o;break}var s=i<=e.length&&e.length<=r;if(!s)throw L4e(i,r,n,e.length);for(var o=0;o<e.length;o++)try{t[o].validator(e[o])}catch(l){throw l instanceof Error?Toe(o,n,l.message):Toe(o,n,l)}}function S3e(n,t){return function(e){n(e),t(e)}}function Yw(n,t){function e(r){if(!Zw(r))throw"Expected string."}var i;return n?i=S3e(e,n):i=e,new Wv(i,t)}function x3e(){function n(t){var e=t instanceof Uint8Array||t instanceof ArrayBuffer||QB()&&t instanceof Blob;if(!e)throw"Expected Blob or File."}return new Wv(n)}function a8(n){return new Wv(a3e,n)}function I3e(n){return new Wv(d3e,n)}function Boe(){function n(t){var e=Goe(t)&&t>=0;if(!e)throw"Expected a number 0 or greater."}return new Wv(n)}function l8(n,t){function e(i){var r=i===null||kd(i)&&i instanceof Object;if(!r)throw"Expected an Object.";n?.(i)}return new Wv(e,t)}function Nx(n){function t(e){var i=e===null||joe(e);if(!i)throw"Expected a Function."}return new Wv(t,n)}function qw(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Promise.resolve().then(function(){return n.apply(void 0,t)})}}function O3e(n,t,e){var i=1,r=null,o=!1,s=0;function a(){return s===2}var l=!1;function u(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];l||(l=!0,t.apply(null,g))}function d(g){r=setTimeout(function(){r=null,n(h,a())},g)}function h(g){for(var m=[],b=1;b<arguments.length;b++)m[b-1]=arguments[b];if(!l){if(g){u.call.apply(u,i8([null,g],m));return}var S=a()||o;if(S){u.call.apply(u,i8([null,g],m));return}i<64&&(i*=2);var F;s===1?(s=2,F=0):F=(i+Math.random())*1e3,d(F)}}var f=!1;function A(g){f||(f=!0,!l&&(r!==null?(g||(s=2),clearTimeout(r),d(0)):g||(s=1)))}return d(0),setTimeout(function(){o=!0,A(!0)},e),A}function F3e(n){n(!1)}function P3e(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function k3e(n){var t=typeof HB.default<"u"?HB.default.SDK_VERSION:"AppManager";n["X-Firebase-Storage-Version"]="webjs/"+t}function N3e(n,t){t&&(n["X-Firebase-GMPID"]=t)}function R3e(n,t,e,i){var r=Koe(n.urlParams),o=n.url+r,s=Object.assign({},n.headers);return N3e(s,t),P3e(s,e),k3e(s),new B3e(o,n.method,s,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}function Q3e(n,t){var e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal");return new Yoe(e,i,new $4e,t)}function Zoe(n){var t={TaskState:ul,TaskEvent:u8,StringFormat:To,Storage:Yoe,Reference:UB};n.INTERNAL.registerComponent(new koe.Component(V3e,Q3e,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion(U3e,H3e)}var HB,koe,Noe,S4e,x4e,I4e,T4e,bs,Do,To,r8,Qoe,u8,wn,ul,$w,q4e,$4e,d8,Ou,cl,NB,RB,l3e,s8,Moe,Ooe,Bp,VB,Foe,C3e,E3e,Wv,Poe,UB,T3e,D3e,M3e,B3e,LB,Yoe,L3e,U3e,H3e,V3e,Joe=hs(()=>{"use strict";HB=Ri(bu());xoe();koe=Ri(xd());Noe="firebasestorage.googleapis.com",S4e="storageBucket",x4e=2*60*1e3,I4e=10*60*1e3,T4e=-9007199254740991;bs=function(){function n(t,e){this.code_=Ioe(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return n.prototype.codeProp=function(){return this.code},n.prototype.codeEquals=function(t){return Ioe(t)===this.codeProp()},n.prototype.serverResponseProp=function(){return this.serverResponse_},n.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(n.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"message",{get:function(){return this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),n}(),Do={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};To={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};r8=function(){function n(t,e){this.data=t,this.contentType=e||null}return n}();Qoe=function(){function n(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(e===null)throw Rx(To.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=e[1]||null;i!=null&&(this.base64=G4e(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return n}();u8={STATE_CHANGED:"state_changed"},wn={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},ul={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};$w=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}($w||{});q4e=function(){function n(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=$w.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=$w.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=$w.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return n.prototype.send=function(t,e,i,r){if(this.sent_)throw kB("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),kd(r))for(var o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return kd(i)?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},n.prototype.getErrorCode=function(){if(!this.sent_)throw kB("cannot .getErrorCode() before sending");return this.errorCode_},n.prototype.getStatus=function(){if(!this.sent_)throw kB("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},n.prototype.getResponseText=function(){if(!this.sent_)throw kB("cannot .getResponseText() before sending");return this.xhr_.responseText},n.prototype.abort=function(){this.xhr_.abort()},n.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},n.prototype.addUploadProgressListener=function(t){kd(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},n.prototype.removeUploadProgressListener=function(t){kd(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},n}();$4e=function(){function n(){}return n.prototype.createXhrIo=function(){return new q4e},n}();d8=function(){function n(t,e){var i=0,r="";Doe(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}return n.prototype.size=function(){return this.size_},n.prototype.type=function(){return this.type_},n.prototype.slice=function(t,e){if(Doe(this.data_)){var i=this.data_,r=X4e(i,t,e);return r===null?null:new n(r)}else{var o=new Uint8Array(this.data_.buffer,t,e-t);return new n(o,!0)}},n.getBlob=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(QB()){var i=t.map(function(l){return l instanceof n?l.data_:l});return new n(Z4e.apply(null,i))}else{var r=t.map(function(l){return Zw(l)?Uoe(To.RAW,l).data:l.data_}),o=0;r.forEach(function(l){o+=l.byteLength});var s=new Uint8Array(o),a=0;return r.forEach(function(l){for(var u=0;u<l.length;u++)s[a++]=l[u]}),new n(s,!0)}},n.prototype.uploadData=function(){return this.data_},n}();Ou=function(){function n(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(n.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),n.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},n.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},n.makeFromBucketSpec=function(t){var e;try{e=n.makeFromUrl(t)}catch{return new n(t,"")}if(e.path==="")return e;throw k4e(t)},n.makeFromUrl=function(t){var e=null,i="([A-Za-z0-9.\\-_]+)";function r(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}var o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),a={bucket:1,path:3};function l(G){G.path_=decodeURIComponent(G.path)}for(var u="v[A-Za-z0-9_]+",d=Noe.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp("^https?://"+d+"/"+u+"/b/"+i+"/o"+h,"i"),A={bucket:1,path:3},g="(?:storage.googleapis.com|storage.cloud.google.com)",m="([^?#]*)",b=new RegExp("^https?://"+g+"/"+i+"/"+m,"i"),S={bucket:1,path:2},F=[{regex:s,indices:a,postModify:r},{regex:f,indices:A,postModify:l},{regex:b,indices:S,postModify:l}],R=0;R<F.length;R++){var B=F[R],P=B.regex.exec(t);if(P){var L=P[B.indices.bucket],j=P[B.indices.path];j||(j=""),e=new n(L,j),B.postModify(e);break}}if(e==null)throw P4e(t);return e},n}();cl=function(){function n(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||t3e}return n}(),NB=null;RB="maxResults",l3e=1e3,s8="pageToken",Moe="prefixes",Ooe="items";Bp=function(){function n(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return n}();VB=function(){function n(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}return n}();Foe=256*1024;C3e=function(){function n(t,e,i){var r=joe(t)||kd(e)||kd(i);if(r)this.next=t,this.error=e||null,this.complete=i||null;else{var o=t;this.next=o.next||null,this.error=o.error||null,this.complete=o.complete||null}}return n}(),E3e=function(){function n(t,e,i,r,o,s){this.bytesTransferred=t,this.totalBytes=e,this.state=i,this.metadata=r,this.task=o,this.ref=s}return n}();Wv=function(){function n(t,e){var i=this;this.validator=function(r){i.optional&&!Rg(r)||t(r)},this.optional=!!e}return n}();Poe=function(){function n(t,e,i,r,o,s){var a=this;s===void 0&&(s=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=i,this.blob_=o,this.metadata_=s,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=wn.RUNNING,this.errorHandler_=function(l){a.request_=null,a.chunkMultiplier_=1,l.codeEquals(Do.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=l,a.transition_(wn.ERROR))},this.metadataErrorHandler_=function(l){a.request_=null,l.codeEquals(Do.CANCELED)?a.completeTransitions_():(a.error_=l,a.transition_(wn.ERROR))},this.promise_=new Promise(function(l,u){a.resolve_=l,a.reject_=u,a.start_()}),this.promise_.then(null,function(){})}return n.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(i){return t.updateProgress_(e+i)}},n.prototype.shouldDoResumable_=function(t){return t.size()>256*1024},n.prototype.start_=function(){this.state_===wn.RUNNING&&this.request_===null&&(this.resumable_?this.uploadUrl_===null?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},n.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(i){switch(e.state_){case wn.RUNNING:t(i);break;case wn.CANCELING:e.transition_(wn.CANCELED);break;case wn.PAUSING:e.transition_(wn.PAUSED);break}})},n.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var i=y3e(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(i,e);t.request_=r,r.getPromise().then(function(o){t.request_=null,t.uploadUrl_=o,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},n.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(i){var r=w3e(t.authWrapper_,t.location_,e,t.blob_),o=t.authWrapper_.makeRequest(r,i);t.request_=o,o.getPromise().then(function(s){s=s,t.request_=null,t.updateProgress_(s.current),t.needToFetchStatus_=!1,s.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},n.prototype.continueUpload_=function(){var t=this,e=Foe*this.chunkMultiplier_,i=new VB(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(o){var s;try{s=b3e(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,i,t.makeProgressCallback_())}catch(l){t.error_=l,t.transition_(wn.ERROR);return}var a=t.authWrapper_.makeRequest(s,o);t.request_=a,a.getPromise().then(function(l){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(l.current),l.finalized?(t.metadata_=l.metadata,t.transition_(wn.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},n.prototype.increaseMultiplier_=function(){var t=Foe*this.chunkMultiplier_;t<32*1024*1024&&(this.chunkMultiplier_*=2)},n.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var i=qoe(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(i,e);t.request_=r,r.getPromise().then(function(o){t.request_=null,t.metadata_=o,t.transition_(wn.SUCCESS)},t.metadataErrorHandler_)})},n.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var i=_3e(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(i,e);t.request_=r,r.getPromise().then(function(o){t.request_=null,t.metadata_=o,t.updateProgress_(t.blob_.size()),t.transition_(wn.SUCCESS)},t.errorHandler_)})},n.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},n.prototype.transition_=function(t){if(this.state_!==t)switch(t){case wn.CANCELING:this.state_=t,this.request_!==null&&this.request_.cancel();break;case wn.PAUSING:this.state_=t,this.request_!==null&&this.request_.cancel();break;case wn.RUNNING:var e=this.state_===wn.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case wn.PAUSED:this.state_=t,this.notifyObservers_();break;case wn.CANCELED:this.error_=Roe(),this.state_=t,this.notifyObservers_();break;case wn.ERROR:this.state_=t,this.notifyObservers_();break;case wn.SUCCESS:this.state_=t,this.notifyObservers_();break}},n.prototype.completeTransitions_=function(){switch(this.state_){case wn.PAUSING:this.transition_(wn.PAUSED);break;case wn.CANCELING:this.transition_(wn.CANCELED);break;case wn.RUNNING:this.start_();break}},Object.defineProperty(n.prototype,"snapshot",{get:function(){var t=o8(this.state_);return new E3e(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),n.prototype.on=function(t,e,i,r){function o(){if(t!==u8.STATE_CHANGED)throw"Expected one of the event types: ["+u8.STATE_CHANGED+"]."}var s="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=Nx(!0).validator,l=l8(null,!0).validator;function u(b){try{a(b);return}catch{}try{l(b);var S=Rg(b.next)||Rg(b.error)||Rg(b.complete);if(!S)throw"";return}catch{throw s}}var d=[Yw(o),l8(u,!0),Nx(!0),Nx(!0)];os("on",d,arguments);var h=this;function f(b){function S(F,R,B){b!==null&&os("on",b,arguments);var P=new C3e(F,R,r);return h.addObserver_(P),function(){h.removeObserver_(P)}}return S}function A(b){if(b===null)throw s;u(b)}var g=[l8(A),Nx(!0),Nx(!0)],m=!(Rg(e)||Rg(i)||Rg(r));return m?f(g):f(null)(e,i,r)},n.prototype.then=function(t,e){return this.promise_.then(t,e)},n.prototype.catch=function(t){return this.then(null,t)},n.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},n.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);e!==-1&&this.observers_.splice(e,1)},n.prototype.notifyObservers_=function(){var t=this;this.finishPromise_();var e=this.observers_.slice();e.forEach(function(i){t.notifyObserver_(i)})},n.prototype.finishPromise_=function(){if(this.resolve_!==null){var t=!0;switch(o8(this.state_)){case ul.SUCCESS:qw(this.resolve_.bind(null,this.snapshot))();break;case ul.CANCELED:case ul.ERROR:var e=this.reject_;qw(e.bind(null,this.error_))();break;default:t=!1;break}t&&(this.resolve_=null,this.reject_=null)}},n.prototype.notifyObserver_=function(t){var e=o8(this.state_);switch(e){case ul.RUNNING:case ul.PAUSED:t.next&&qw(t.next.bind(t,this.snapshot))();break;case ul.SUCCESS:t.complete&&qw(t.complete.bind(t))();break;case ul.CANCELED:case ul.ERROR:t.error&&qw(t.error.bind(t,this.error_))();break;default:t.error&&qw(t.error.bind(t,this.error_))()}},n.prototype.resume=function(){os("resume",[],arguments);var t=this.state_===wn.PAUSED||this.state_===wn.PAUSING;return t&&this.transition_(wn.RUNNING),t},n.prototype.pause=function(){os("pause",[],arguments);var t=this.state_===wn.RUNNING;return t&&this.transition_(wn.PAUSING),t},n.prototype.cancel=function(){os("cancel",[],arguments);var t=this.state_===wn.RUNNING||this.state_===wn.PAUSING;return t&&this.transition_(wn.CANCELING),t},n}();UB=function(){function n(t,e){this.authWrapper=t,e instanceof Ou?this.location=e:this.location=Ou.makeFromUrl(e)}return n.prototype.toString=function(){return os("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},n.prototype.newRef=function(t,e){return new n(t,e)},n.prototype.mappings=function(){return i3e()},n.prototype.child=function(t){os("child",[Yw()],arguments);var e=e3e(this.location.path,t),i=new Ou(this.location.bucket,e);return this.newRef(this.authWrapper,i)},Object.defineProperty(n.prototype,"parent",{get:function(){var t=J4e(this.location.path);if(t===null)return null;var e=new Ou(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){var t=new Ou(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return Woe(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!1,configurable:!0}),n.prototype.put=function(t,e){return e===void 0&&(e=null),os("put",[x3e(),a8(!0)],arguments),this.throwIfRoot_("put"),new Poe(this,this.authWrapper,this.location,this.mappings(),new d8(t),e)},n.prototype.putString=function(t,e,i){e===void 0&&(e=To.RAW),os("putString",[Yw(),Yw(H4e,!0),a8(!0)],arguments),this.throwIfRoot_("putString");var r=Uoe(e,t),o=Object.assign({},i);return!kd(o.contentType)&&kd(r.contentType)&&(o.contentType=r.contentType),new Poe(this,this.authWrapper,this.location,this.mappings(),new d8(r.data,!0),o)},n.prototype.delete=function(){var t=this;return os("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then(function(e){var i=m3e(t.authWrapper,t.location);return t.authWrapper.makeRequest(i,e).getPromise()})},n.prototype.listAll=function(){os("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then(function(){return t})},n.prototype.listAllHelper=function(t,e){return Eoe(this,void 0,void 0,function(){var i,r,o,s;return Soe(this,function(a){switch(a.label){case 0:return i={pageToken:e},[4,this.list(i)];case 1:return r=a.sent(),(o=t.prefixes).push.apply(o,r.prefixes),(s=t.items).push.apply(s,r.items),r.nextPageToken==null?[3,3]:[4,this.listAllHelper(t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},n.prototype.list=function(t){os("list",[I3e(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then(function(i){var r=t||{},o=p3e(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(o,i).getPromise()})},n.prototype.getMetadata=function(){var t=this;return os("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then(function(e){var i=qoe(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(i,e).getPromise()})},n.prototype.updateMetadata=function(t){var e=this;return os("updateMetadata",[a8()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then(function(i){var r=g3e(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,i).getPromise()})},n.prototype.getDownloadURL=function(){var t=this;return os("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then(function(e){var i=A3e(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(i,e).getPromise().then(function(r){if(r===null)throw R4e();return r})})},n.prototype.throwIfRoot_=function(t){if(this.location.path==="")throw U4e(t)},n}(),T3e=function(){function n(t){this.promise_=Promise.reject(t)}return n.prototype.getPromise=function(){return this.promise_},n.prototype.cancel=function(t){},n}(),D3e=function(){function n(){this.map=new Map,this.id=T4e}return n.prototype.addRequest=function(t){var e=this,i=this.id;this.id++,this.map.set(i,t),t.getPromise().then(function(){return e.map.delete(i)},function(){return e.map.delete(i)})},n.prototype.clear=function(){this.map.forEach(function(t){t&&t.cancel(!0)}),this.map.clear()},n}(),M3e=function(){function n(t,e,i,r,o,s){var a;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=t,this.app_!==null){var l=this.app_.options;kd(l)&&(this.bucket_=n.extractBucket_(l),this.appId_=(a=l.appId)!==null&&a!==void 0?a:null)}this.authProvider_=e,this.storageRefMaker_=i,this.requestMaker_=r,this.pool_=s,this.service_=o,this.maxOperationRetryTime_=x4e,this.maxUploadRetryTime_=I4e,this.requestMap_=new D3e}return n.extractBucket_=function(t){var e=t[S4e]||null;if(e==null)return null;var i=Ou.makeFromBucketSpec(e);return i.bucket},n.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then(function(e){return e!==null?e.accessToken:null},function(){return null}):Promise.resolve(null)},n.prototype.bucket=function(){if(this.deleted_)throw c8();return this.bucket_},n.prototype.service=function(){return this.service_},n.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},n.prototype.makeRequest=function(t,e){if(this.deleted_)return new T3e(c8());var i=this.requestMaker_(t,this.appId_,e,this.pool_);return this.requestMap_.addRequest(i),i},n.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},n.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},n.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},n.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},n.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},n}();B3e=function(){function n(t,e,i,r,o,s,a,l,u,d,h){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=a,this.errorCallback_=l,this.progressCallback_=d,this.timeout_=u,this.pool_=h,this.promise_=new Promise(function(A,g){f.resolve_=A,f.reject_=g,f.start_()})}return n.prototype.start_=function(){var t=this;function e(r,o){if(o){r(!1,new LB(!1,null,!0));return}var s=t.pool_.createXhrIo();t.pendingXhr_=s;function a(l){var u=l.loaded,d=l.lengthComputable?l.total:-1;t.progressCallback_!==null&&t.progressCallback_(u,d)}t.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(t.url_,t.method_,t.body_,t.headers_).then(function(l){t.progressCallback_!==null&&l.removeUploadProgressListener(a),t.pendingXhr_=null,l=l;var u=l.getErrorCode()===$w.NO_ERROR,d=l.getStatus();if(!u||t.isRetryStatusCode_(d)){var h=l.getErrorCode()===$w.ABORT;r(!1,new LB(!1,null,h));return}var f=t.successCodes_.indexOf(d)!==-1;r(!0,new LB(f,l))})}function i(r,o){var s=t.resolve_,a=t.reject_,l=o.xhr;if(o.wasSuccessCode)try{var u=t.callback_(l,l.getResponseText());Rg(u)?s(u):s()}catch(h){a(h)}else if(l!==null){var d=h8();d.setServerResponseProp(l.getResponseText()),t.errorCallback_?a(t.errorCallback_(l,d)):a(d)}else if(o.canceled){var d=t.appDelete_?c8():Roe();a(d)}else{var d=B4e();a(d)}}this.canceled_?i(!1,new LB(!1,null,!0)):this.backoffId_=O3e(e,i,this.timeout_)},n.prototype.getPromise=function(){return this.promise_},n.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&F3e(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},n.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,i=[408,429],r=i.indexOf(t)!==-1,o=this.additionalRetryCodes_.indexOf(t)!==-1;return e||r||o},n}(),LB=function(){function n(t,e,i){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!i}return n}();Yoe=function(){function n(t,e,i,r){this.bucket_=null;function o(a,l){return new UB(a,l)}if(this.authWrapper_=new M3e(t,e,o,R3e,this,i),this.app_=t,r!=null)this.bucket_=Ou.makeFromBucketSpec(r);else{var s=this.authWrapper_.bucket();s!=null&&(this.bucket_=new Ou(s,""))}this.internals_=new L3e(this)}return n.prototype.ref=function(t){function e(r){if(typeof r!="string")throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(r))throw"Expected child path but got a URL, use refFromURL instead."}if(os("ref",[Yw(e,!0)],arguments),this.bucket_==null)throw new Error("No Storage Bucket defined in Firebase Options.");var i=new UB(this.authWrapper_,this.bucket_);return t!=null?i.child(t):i},n.prototype.refFromURL=function(t){function e(i){if(typeof i!="string")throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(i))throw"Expected full URL but got a child path, use ref instead.";try{Ou.makeFromUrl(i)}catch{throw"Expected valid full URL but got an invalid one."}}return os("refFromURL",[Yw(e,!1)],arguments),new UB(this.authWrapper_,t)},Object.defineProperty(n.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!1,configurable:!0}),n.prototype.setMaxUploadRetryTime=function(t){os("setMaxUploadRetryTime",[Boe()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},n.prototype.setMaxOperationRetryTime=function(t){os("setMaxOperationRetryTime",[Boe()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(n.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),n}(),L3e=function(){function n(t){this.service_=t}return n.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},n}(),U3e="@firebase/storage",H3e="0.3.39";V3e="storage";Zoe(HB.default)});var tse={};cc(tse,{__assign:()=>m8,__asyncDelegator:()=>tLe,__asyncGenerator:()=>eLe,__asyncValues:()=>nLe,__await:()=>Ux,__awaiter:()=>q3e,__classPrivateFieldGet:()=>sLe,__classPrivateFieldSet:()=>aLe,__createBinding:()=>Y3e,__decorate:()=>W3e,__exportStar:()=>Z3e,__extends:()=>j3e,__generator:()=>$3e,__importDefault:()=>oLe,__importStar:()=>rLe,__makeTemplateObject:()=>iLe,__metadata:()=>z3e,__param:()=>K3e,__read:()=>ese,__rest:()=>G3e,__spread:()=>X3e,__spreadArrays:()=>J3e,__values:()=>v8});function j3e(n,t){g8(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function G3e(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function W3e(n,t,e,i){var r=arguments.length,o=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(t,e,o):s(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function K3e(n,t){return function(e,i){t(e,i,n)}}function z3e(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function q3e(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(h){s(h)}}function l(d){try{u(i.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function $3e(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(d){u=[6,d],r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Y3e(n,t,e,i){i===void 0&&(i=e),n[i]=t[e]}function Z3e(n,t){for(var e in n)e!=="default"&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function v8(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ese(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),r,o=[],s;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return o}function X3e(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(ese(arguments[t]));return n}function J3e(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function Ux(n){return this instanceof Ux?(this.v=n,this):new Ux(n)}function eLe(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(A){return new Promise(function(g,m){o.push([f,A,g,m])>1||a(f,A)})})}function a(f,A){try{l(i[f](A))}catch(g){h(o[0][3],g)}}function l(f){f.value instanceof Ux?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,A){f(A),o.shift(),o.length&&a(o[0][0],o[0][1])}}function tLe(n){var t,e;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,o){t[r]=n[r]?function(s){return(e=!e)?{value:Ux(n[r](s)),done:r==="return"}:o?o(s):s}:o}}function nLe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof v8=="function"?v8(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}function iLe(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function rLe(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function oLe(n){return n&&n.__esModule?n:{default:n}}function sLe(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)}function aLe(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e}var g8,m8,nse=hs(()=>{"use strict";g8=function(n,t){return g8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])},g8(n,t)};m8=function(){return m8=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},m8.apply(this,arguments)}});var Dse=tn(T8=>{"use strict";Object.defineProperty(T8,"__esModule",{value:!0});function lLe(n){return n&&typeof n=="object"&&"default"in n?n.default:n}var cLe=lLe(bu());Px();var Jw=(nse(),Vo(tse)),uLe=Jh(),dse=(fv(),Vo(gw)),dLe=xd(),hLe="@firebase/performance",hse="0.3.9";var fse=hse,fLe="FB-PERF-TRACE-START",pLe="FB-PERF-TRACE-STOP",E8="FB-PERF-TRACE-MEASURE",pse="_wt_",Ase="_fp",gse="_fcp",mse="_fid",vse="@firebase/performance/config",_se="@firebase/performance/configexpire",ALe="performance",yse="Performance";var dl,gLe=(dl={},dl["trace started"]="Trace {$traceName} was started before.",dl["trace stopped"]="Trace {$traceName} is not running.",dl["no window"]="Window is not available.",dl["no app id"]="App id is not available.",dl["no project id"]="Project id is not available.",dl["no api key"]="Api key is not available.",dl["invalid cc log"]="Attempted to queue invalid cc event",dl["FB not default"]="Performance can only start when Firebase app instance is the default one.",dl["RC response not ok"]="RC response is not ok",dl["invalid attribute name"]="Attribute name {$attributeName} is invalid.",dl["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",dl["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",dl["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",dl),Wl=new uLe.ErrorFactory(ALe,yse,gLe);var _8,wse,Fa=function(){function n(t){if(this.window=t,!t)throw Wl.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return n.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},n.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},n.prototype.measure=function(t,e,i){!this.performance||!this.performance.measure||this.performance.measure(t,e,i)},n.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},n.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},n.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},n.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},n.prototype.setupObserver=function(t,e){if(this.PerformanceObserver){var i=new this.PerformanceObserver(function(r){for(var o=0,s=r.getEntries();o<s.length;o++){var a=s[o];e(a)}});i.observe({entryTypes:[t]})}},n.getInstance=function(){return _8===void 0&&(_8=new n(wse)),_8},n}();function mLe(n){wse=n}function ise(n,t){var e=n.length-t.length;if(e<0||e>1)throw Wl.create("invalid String merger input");for(var i=[],r=0;r<n.length;r++)i.push(n.charAt(r)),t.length>r&&i.push(t.charAt(r));return i.join("")}var y8,Cs=function(){function n(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=ise("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=ise("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return n.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Wl.create("no app id");return t},n.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Wl.create("no project id");return t},n.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Wl.create("no api key");return t},n.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},n.getInstance=function(){return y8===void 0&&(y8=new n),y8},n}();var bse;function vLe(){var n=Cs.getInstance().installationsService.getId();return n.then(function(t){bse=t}),n}function S8(){return bse}function _Le(){var n=Cs.getInstance().installationsService.getToken();return n.then(function(t){}),n}var Hx=function(n){return n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN",n}(Hx||{}),yLe=["firebase_","google_","ga_"],wLe=new RegExp("^[a-zA-Z]\\w*$"),bLe=40,CLe=100;function ELe(){var n=Fa.getInstance().navigator;return"serviceWorker"in n?n.serviceWorker.controller?2:3:1}function Cse(){var n=Fa.getInstance().document,t=n.visibilityState;switch(t){case"visible":return Hx.VISIBLE;case"hidden":return Hx.HIDDEN;default:return Hx.UNKNOWN}}function SLe(){var n=Fa.getInstance().navigator,t=n.connection,e=t&&t.effectiveType;switch(e){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function xLe(n){if(n.length===0||n.length>bLe)return!1;var t=yLe.some(function(e){return n.startsWith(e)});return!t&&!!n.match(wLe)}function ILe(n){return n.length!==0&&n.length<=CLe}var eb=new dse.Logger(yse);eb.logLevel=dse.LogLevel.INFO;var TLe="0.0.1",DLe={loggingEnabled:!0},MLe="FIREBASE_INSTALLATIONS_AUTH";function OLe(n){var t=FLe();return t?(rse(t),Promise.resolve()):kLe(n).then(rse).then(function(e){return BLe(e)},function(){})}function FLe(){var n=Fa.getInstance().localStorage;if(n){var t=n.getItem(_se);if(!(!t||!NLe(t))){var e=n.getItem(vse);if(e)try{var i=JSON.parse(e);return i}catch{return}}}}function BLe(n){var t=Fa.getInstance().localStorage;!n||!t||(t.setItem(vse,JSON.stringify(n)),t.setItem(_se,String(Date.now()+Cs.getInstance().configTimeToLive*60*60*1e3)))}var PLe="Could not fetch config, will use default configs";function kLe(n){return _Le().then(function(t){var e=Cs.getInstance().getProjectId(),i="https://firebaseremoteconfig.googleapis.com/v1/projects/"+e+"/namespaces/fireperf:fetch?key="+Cs.getInstance().getApiKey(),r=new Request(i,{method:"POST",headers:{Authorization:MLe+" "+t},body:JSON.stringify({app_instance_id:n,app_instance_id_token:t,app_id:Cs.getInstance().getAppId(),app_version:fse,sdk_version:TLe})});return fetch(r).then(function(o){if(o.ok)return o.json();throw Wl.create("RC response not ok")})}).catch(function(){eb.info(PLe)})}function rse(n){if(!n)return n;var t=Cs.getInstance(),e=n.entries||{};return e.fpr_enabled!==void 0?t.loggingEnabled=String(e.fpr_enabled)==="true":t.loggingEnabled=DLe.loggingEnabled,e.fpr_log_source&&(t.logSource=Number(e.fpr_log_source)),e.fpr_log_endpoint_url&&(t.logEndPointUrl=e.fpr_log_endpoint_url),e.fpr_log_transport_key&&(t.transportKey=e.fpr_log_transport_key),e.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(e.fpr_vc_network_request_sampling_rate)),e.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(e.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=ose(t.tracesSamplingRate),t.logNetworkAfterSampling=ose(t.networkRequestsSamplingRate),n}function NLe(n){return Number(n)>Date.now()}function ose(n){return Math.random()<=n}var x8=1,w8;function Ese(){return x8=2,w8=w8||LLe(),w8}function RLe(){return x8===3}function LLe(){return ULe().then(function(){return vLe()}).then(function(n){return OLe(n)}).then(function(){return sse()},function(){return sse()})}function ULe(){var n=Fa.getInstance().document;return new Promise(function(t){if(n&&n.readyState!=="complete"){var e=function(){n.readyState==="complete"&&(n.removeEventListener("readystatechange",e),t())};n.addEventListener("readystatechange",e)}else t()})}function sse(){x8=3}var I8=10*1e3,HLe=5.5*1e3,Sse=3,KB=Sse,Pp=[],ase=!1;function VLe(){ase||(zB(HLe),ase=!0)}function zB(n){setTimeout(function(){if(KB!==0){if(!Pp.length)return zB(I8);QLe()}},n)}function QLe(){var n=Jw.__spreadArrays(Pp);Pp=[];var t=n.map(function(i){return{source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)}}),e={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Cs.getInstance().logSource,log_event:t};jLe(e,n).catch(function(){Pp=Jw.__spreadArrays(n,Pp),KB--,eb.info("Tries left: "+KB+"."),zB(I8)})}function jLe(n,t){return GLe(n).then(function(e){return e.ok||eb.info("Call to Firebase backend failed."),e.json()}).then(function(e){var i=Number(e.nextRequestWaitMillis),r=I8;isNaN(i)||(r=Math.max(i,r));var o=e.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(Pp=Jw.__spreadArrays(t,Pp),eb.info("Retry transport request later.")),KB=Sse,zB(r)})}function GLe(n){var t=Cs.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(n)})}function WLe(n){if(!n.eventTime||!n.message)throw Wl.create("invalid cc log");Pp=Jw.__spreadArrays(Pp,[n])}function KLe(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=n.apply(void 0,t);WLe({message:i,eventTime:Date.now()})}}var b8;function xse(n,t){b8||(b8=KLe(qLe)),b8(n,t)}function WB(n){var t=Cs.getInstance();!t.instrumentationEnabled&&n.isAuto||!t.dataCollectionEnabled&&!n.isAuto||Fa.getInstance().requiredApisAvailable()&&(n.isAuto&&Cse()!==Hx.VISIBLE||!t.loggingEnabled||!t.logTraceAfterSampling||(RLe()?C8(n):Ese().then(function(){return C8(n)},function(){return C8(n)})))}function C8(n){S8()&&setTimeout(function(){return xse(n,1)},0)}function zLe(n){var t=Cs.getInstance();if(t.instrumentationEnabled){var e=n.url,i=t.logEndPointUrl.split("?")[0],r=t.flTransportEndpointUrl.split("?")[0];e===i||e===r||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return xse(n,0)},0)}}function qLe(n,t){return t===0?$Le(n):YLe(n)}function $Le(n){var t={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},e={application_info:Ise(),network_request_metric:t};return JSON.stringify(e)}function YLe(n){var t={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};Object.keys(n.counters).length!==0&&(t.counters=n.counters);var e=n.getAttributes();Object.keys(e).length!==0&&(t.custom_attributes=e);var i={application_info:Ise(),trace_metric:t};return JSON.stringify(i)}function Ise(){return{google_app_id:Cs.getInstance().getAppId(),app_instance_id:S8(),web_app_info:{sdk_version:fse,page_url:Fa.getInstance().getUrl(),service_worker_status:ELe(),visibility_state:Cse(),effective_connection_type:SLe()},application_process_state:0}}var ZLe=100,XLe="_",JLe=[Ase,gse,mse];function eUe(n,t){return n.length===0||n.length>ZLe?!1:t&&t.startsWith(pse)&&JLe.indexOf(n)>-1||!n.startsWith(XLe)}var Vx=function(){function n(t,e,i){e===void 0&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=Fa.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=fLe+"-"+this.randomId+"-"+this.name,this.traceStopMark=pLe+"-"+this.randomId+"-"+this.name,this.traceMeasure=i||E8+"-"+this.randomId+"-"+this.name,i&&this.calculateTraceMetrics())}return n.prototype.start=function(){if(this.state!==1)throw Wl.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},n.prototype.stop=function(){if(this.state!==2)throw Wl.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),WB(this)},n.prototype.record=function(t,e,i){if(this.durationUs=Math.floor(e*1e3),this.startTimeUs=Math.floor(t*1e3),i&&i.attributes&&(this.customAttributes=Jw.__assign({},i.attributes)),i&&i.metrics)for(var r=0,o=Object.keys(i.metrics);r<o.length;r++){var s=o[r];isNaN(Number(i.metrics[s]))||(this.counters[s]=Number(Math.floor(i.metrics[s])))}WB(this)},n.prototype.incrementMetric=function(t,e){e===void 0&&(e=1),this.counters[t]===void 0&&this.putMetric(t,0),this.counters[t]+=e},n.prototype.putMetric=function(t,e){if(eUe(t,this.name))this.counters[t]=e;else throw Wl.create("invalid custom metric name",{customMetricName:t})},n.prototype.getMetric=function(t){return this.counters[t]||0},n.prototype.putAttribute=function(t,e){var i=xLe(t),r=ILe(e);if(i&&r){this.customAttributes[t]=e;return}if(!i)throw Wl.create("invalid attribute name",{attributeName:t});if(!r)throw Wl.create("invalid attribute value",{attributeValue:e})},n.prototype.getAttribute=function(t){return this.customAttributes[t]},n.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},n.prototype.getAttributes=function(){return Jw.__assign({},this.customAttributes)},n.prototype.setStartTime=function(t){this.startTimeUs=t},n.prototype.setDuration=function(t){this.durationUs=t},n.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(e.duration*1e3),this.startTimeUs=Math.floor((e.startTime+this.api.getTimeOrigin())*1e3))},n.createOobTrace=function(t,e,i){var r=Fa.getInstance().getUrl();if(r){var o=new n(pse+r,!0),s=Math.floor(Fa.getInstance().getTimeOrigin()*1e3);o.setStartTime(s),t&&t[0]&&(o.setDuration(Math.floor(t[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var a="first-paint",l="first-contentful-paint";if(e){var u=e.find(function(h){return h.name===a});u&&u.startTime&&o.putMetric(Ase,Math.floor(u.startTime*1e3));var d=e.find(function(h){return h.name===l});d&&d.startTime&&o.putMetric(gse,Math.floor(d.startTime*1e3)),i&&o.putMetric(mse,Math.floor(i*1e3))}WB(o)}},n.createUserTimingTrace=function(t){var e=new n(t,!1,t);WB(e)},n}();function lse(n){var t=n;if(!(!t||t.responseStart===void 0)){var e=Fa.getInstance().getTimeOrigin(),i=Math.floor((t.startTime+e)*1e3),r=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,o=Math.floor((t.responseEnd-t.startTime)*1e3),s=t.name&&t.name.split("?")[0],a={url:s,responsePayloadBytes:t.transferSize,startTimeUs:i,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:o};zLe(a)}}var tUe=5e3;function cse(){S8()&&(setTimeout(function(){return iUe()},0),setTimeout(function(){return nUe()},0),setTimeout(function(){return rUe()},0))}function nUe(){for(var n=Fa.getInstance(),t=n.getEntriesByType("resource"),e=0,i=t;e<i.length;e++){var r=i[e];lse(r)}n.setupObserver("resource",lse)}function iUe(){var n=Fa.getInstance(),t=n.getEntriesByType("navigation"),e=n.getEntriesByType("paint");if(n.onFirstInputDelay){var i=setTimeout(function(){Vx.createOobTrace(t,e),i=void 0},tUe);n.onFirstInputDelay(function(r){i&&(clearTimeout(i),Vx.createOobTrace(t,e,r))})}else Vx.createOobTrace(t,e)}function rUe(){for(var n=Fa.getInstance(),t=n.getEntriesByType("measure"),e=0,i=t;e<i.length;e++){var r=i[e];use(r)}n.setupObserver("measure",use)}function use(n){var t=n.name;t.substring(0,E8.length)!==E8&&Vx.createUserTimingTrace(t)}var oUe=function(){function n(t){this.app=t,Fa.getInstance().requiredApisAvailable()?(VLe(),Ese().then(cse,cse)):eb.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return n.prototype.trace=function(t){return new Vx(t)},Object.defineProperty(n.prototype,"instrumentationEnabled",{get:function(){return Cs.getInstance().instrumentationEnabled},set:function(t){Cs.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataCollectionEnabled",{get:function(){return Cs.getInstance().dataCollectionEnabled},set:function(t){Cs.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),n}();var sUe="[DEFAULT]";function Tse(n){var t=function(e,i){if(e.name!==sUe)throw Wl.create("FB not default");if(typeof window>"u")throw Wl.create("no window");return mLe(window),Cs.getInstance().firebaseAppInstance=e,Cs.getInstance().installationsService=i,new oUe(e)};n.INTERNAL.registerComponent(new dLe.Component("performance",function(e){var i=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(i,r)},"PUBLIC")),n.registerVersion(hLe,hse)}Tse(cLe);T8.registerPerformance=Tse});function Mse(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(h){s(h)}}function l(d){try{u(i.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function Ose(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(d){u=[6,d],r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Qx,Fse=hs(()=>{"use strict";Qx=function(){return Qx=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Qx.apply(this,arguments)}});var jse={};cc(jse,{factory:()=>Vse,getGlobalVars:()=>bUe,registerAnalytics:()=>Qse,resetGlobalVars:()=>wUe,settings:()=>Hse});function cUe(n,t,e,i,r){var o=i||{};(!r||!r.global)&&(o=Qx(Qx({},i),{send_to:t})),n(Kl.EVENT,e,o||{})}function uUe(n,t,e,i){i&&i.global?n(Kl.SET,{screen_name:e}):n(Kl.CONFIG,t,{update:!0,screen_name:e})}function dUe(n,t,e,i){i&&i.global?n(Kl.SET,{user_id:e}):n(Kl.CONFIG,t,{update:!0,user_id:e})}function hUe(n,t,e,i){if(i&&i.global){for(var r={},o=0,s=Object.keys(e);o<s.length;o++){var a=s[o];r["user_properties."+a]=e[a]}n(Kl.SET,r)}else n(Kl.CONFIG,t,{update:!0,user_properties:e})}function fUe(n,t){window["ga-disable-"+n]=!t}function pUe(n,t,e){return Mse(this,void 0,void 0,function(){var i,r;return Ose(this,function(o){switch(o.label){case 0:return[4,t.getId()];case 1:return i=o.sent(),e("js",new Date),e(Kl.CONFIG,n.options[M8],(r={},r[aUe]=i,r[lUe]="firebase",r.update=!0,r)),[2]}})})}function AUe(n){var t=document.createElement("script");t.src=Lse+"?l="+n,t.async=!0,document.head.appendChild(t)}function gUe(n){var t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}function mUe(n,t){return function(e,i,r){if(e===Kl.EVENT){var o=[];if(r&&r.send_to){var s=r.send_to;Array.isArray(s)||(s=[s]);for(var a=0,l=s;a<l.length;a++){var u=l[a],d=t[u];if(d)o.push(d);else{o=[];break}}}if(o.length===0)for(var h=0,f=Object.values(t);h<f.length;h++){var A=f[h];o.push(A)}Promise.all(o).then(function(){return n(Kl.EVENT,i,r||{})}).catch(function(m){return Bse.error(m)})}else if(e===Kl.CONFIG){var g=t[i]||Promise.resolve();g.then(function(){n(Kl.CONFIG,i,r)}).catch(function(m){return Bse.error(m)})}else n(Kl.SET,i)}}function vUe(n,t,e){var i=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];window[t].push(arguments)};return window[e]&&typeof window[e]=="function"&&(i=window[e]),window[e]=mUe(i,n),{gtagCore:i,wrappedGtag:window[e]}}function _Ue(){for(var n=window.document.getElementsByTagName("script"),t=0,e=Object.values(n);t<e.length;t++){var i=e[t];if(i.src&&i.src.includes(Lse))return i}return null}function wUe(n,t){n===void 0&&(n=!1),t===void 0&&(t={}),$B=n,Gx=t,Wx="dataLayer",O8="gtag"}function bUe(){return{initializedIdPromisesMap:Gx}}function Hse(n){if($B)throw qB.create("already-initialized");n.dataLayerName&&(Wx=n.dataLayerName),n.gtagName&&(O8=n.gtagName)}function Vse(n,t){var e=n.options[M8];if(!e)throw qB.create("no-ga-id");if(Gx[e]!=null)throw qB.create("already-exists",{id:e});if(!$B){_Ue()||AUe(Wx),gUe(Wx);var i=vUe(Gx,Wx,O8),r=i.wrappedGtag,o=i.gtagCore;jx=r,Pse=o,$B=!0}Gx[e]=pUe(n,t,Pse);var s={app:n,logEvent:function(a,l,u){return cUe(jx,e,a,l,u)},setCurrentScreen:function(a,l){return uUe(jx,e,a,l)},setUserId:function(a,l){return dUe(jx,e,a,l)},setUserProperties:function(a,l){return hUe(jx,e,a,l)},setAnalyticsCollectionEnabled:function(a){return fUe(e,a)}};return s}function Qse(n){n.INTERNAL.registerComponent(new D8.Component(kse,function(e){var i=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return Vse(i,r)},"PUBLIC").setServiceProps({settings:Hse,EventName:Use})),n.INTERNAL.registerComponent(new D8.Component("analytics-internal",t,"PRIVATE")),n.registerVersion(CUe,EUe);function t(e){try{var i=e.getProvider(kse).getImmediate();return{logEvent:i.logEvent}}catch(r){throw qB.create("interop-component-reg-failed",{reason:r})}}}var Nse,Rse,D8,M8,aUe,lUe,Lse,Kl,Use,Bse,tb,yUe,qB,Gx,Wx,O8,Pse,jx,$B,CUe,EUe,kse,Gse=hs(()=>{"use strict";Nse=Ri(bu());Px();Fse();fv();Rse=Ri(Jh()),D8=Ri(xd());M8="measurementId",aUe="firebase_id",lUe="origin",Lse="https://www.googletagmanager.com/gtag/js",Kl=function(n){return n.EVENT="event",n.SET="set",n.CONFIG="config",n}(Kl||{}),Use=function(n){return n.ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results",n}(Use||{});Bse=new dH("@firebase/analytics");yUe=(tb={},tb["no-ga-id"]='"'+M8+'" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',tb["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",tb["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",tb["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",tb),qB=new Rse.ErrorFactory("analytics","Analytics",yUe);Gx={},Wx="dataLayer",O8="gtag",$B=!1;CUe="@firebase/analytics",EUe="0.3.9";kse="analytics";Qse(Nse.default)});var Kse={};cc(Kse,{__assign:()=>B8,__asyncDelegator:()=>RUe,__asyncGenerator:()=>NUe,__asyncValues:()=>LUe,__await:()=>Kx,__awaiter:()=>MUe,__classPrivateFieldGet:()=>QUe,__classPrivateFieldSet:()=>jUe,__createBinding:()=>FUe,__decorate:()=>IUe,__exportStar:()=>BUe,__extends:()=>SUe,__generator:()=>OUe,__importDefault:()=>VUe,__importStar:()=>HUe,__makeTemplateObject:()=>UUe,__metadata:()=>DUe,__param:()=>TUe,__read:()=>Wse,__rest:()=>xUe,__spread:()=>PUe,__spreadArrays:()=>kUe,__values:()=>P8});function SUe(n,t){F8(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function xUe(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function IUe(n,t,e,i){var r=arguments.length,o=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(t,e,o):s(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function TUe(n,t){return function(e,i){t(e,i,n)}}function DUe(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function MUe(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(h){s(h)}}function l(d){try{u(i.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function OUe(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(d){u=[6,d],r=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function FUe(n,t,e,i){i===void 0&&(i=e),n[i]=t[e]}function BUe(n,t){for(var e in n)e!=="default"&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function P8(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wse(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),r,o=[],s;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return o}function PUe(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Wse(arguments[t]));return n}function kUe(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function Kx(n){return this instanceof Kx?(this.v=n,this):new Kx(n)}function NUe(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(A){return new Promise(function(g,m){o.push([f,A,g,m])>1||a(f,A)})})}function a(f,A){try{l(i[f](A))}catch(g){h(o[0][3],g)}}function l(f){f.value instanceof Kx?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,A){f(A),o.shift(),o.length&&a(o[0][0],o[0][1])}}function RUe(n){var t,e;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,o){t[r]=n[r]?function(s){return(e=!e)?{value:Kx(n[r](s)),done:r==="return"}:o?o(s):s}:o}}function LUe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof P8=="function"?P8(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}function UUe(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function HUe(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function VUe(n){return n&&n.__esModule?n:{default:n}}function QUe(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)}function jUe(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e}var F8,B8,zse=hs(()=>{"use strict";F8=function(n,t){return F8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])},F8(n,t)};B8=function(){return B8=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},B8.apply(this,arguments)}});var Zse=tn(R8=>{"use strict";Object.defineProperty(R8,"__esModule",{value:!0});function GUe(n){return n&&typeof n=="object"&&"default"in n?n.default:n}var WUe=GUe(bu());Px();var dr=(zse(),Vo(Kse)),N8=Jh(),zx=(fv(),Vo(gw)),KUe=xd();var zUe=function(){function n(t,e,i,r){this.client=t,this.storage=e,this.storageCache=i,this.logger=r}return n.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var i=Date.now()-e,r=i<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+i+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+r+".")),r},n.prototype.fetch=function(t){return dr.__awaiter(this,void 0,void 0,function(){var e,i,r,o,s;return dr.__generator(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),i=e[0],r=e[1],r&&this.isCachedDataFresh(t.cacheMaxAgeMillis,i)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return o=a.sent(),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],o.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(s)];case 3:return a.sent(),[2,o]}})})},n}();var hl,qUe=(hl={},hl["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",hl["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",hl["registration-api-key"]="Undefined API key. Check Firebase app initialization.",hl["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",hl["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",hl["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",hl["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",hl["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",hl["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",hl["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',hl["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',hl["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",hl["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",hl),Fu=new N8.ErrorFactory("remoteconfig","Remote Config",qUe);function $Ue(n,t){return n instanceof N8.FirebaseError&&n.code.indexOf(t)!==-1}function YUe(n){return n===void 0&&(n=navigator),n.languages&&n.languages[0]||n.language}var ZUe=function(){function n(t,e,i,r,o,s){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=s}return n.prototype.fetch=function(t){return dr.__awaiter(this,void 0,void 0,function(){var e,i,r,o,s,a,l,u,d,h,f,A,g,m,b,S,F,R,B;return dr.__generator(this,function(P){switch(P.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=P.sent(),i=e[0],r=e[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",s=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:this.appId,language_code:YUe()},u={method:"POST",headers:a,body:JSON.stringify(l)},d=fetch(s,u),h=new Promise(function(L,j){t.signal.addEventListener(function(){var G=new Error("The operation was aborted.");G.name="AbortError",j(G)})}),P.label=2;case 2:return P.trys.push([2,5,,6]),[4,Promise.race([d,h])];case 3:return P.sent(),[4,d];case 4:return f=P.sent(),[3,6];case 5:throw A=P.sent(),g="fetch-client-network",A.name==="AbortError"&&(g="fetch-timeout"),Fu.create(g,{originalErrorMessage:A.message});case 6:if(m=f.status,b=f.headers.get("ETag")||void 0,f.status!==200)return[3,11];R=void 0,P.label=7;case 7:return P.trys.push([7,9,,10]),[4,f.json()];case 8:return R=P.sent(),[3,10];case 9:throw B=P.sent(),Fu.create("fetch-client-parse",{originalErrorMessage:B.message});case 10:S=R.entries,F=R.state,P.label=11;case 11:if(F==="INSTANCE_STATE_UNSPECIFIED"?m=500:F==="NO_CHANGE"?m=304:(F==="NO_TEMPLATE"||F==="EMPTY_CONFIG")&&(S={}),m!==304&&m!==200)throw Fu.create("fetch-status",{httpStatus:m});return[2,{status:m,eTag:b,config:S}]}})})},n}();var XUe=function(){function n(){this.listeners=[]}return n.prototype.addEventListener=function(t){this.listeners.push(t)},n.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},n}();var JUe=!1,e5e="",qse=0,t5e=["1","true","t","yes","y","on"],k8=function(){function n(t,e){e===void 0&&(e=e5e),this._source=t,this._value=e}return n.prototype.asString=function(){return this._value},n.prototype.asBoolean=function(){return this._source==="static"?JUe:t5e.indexOf(this._value.toLowerCase())>=0},n.prototype.asNumber=function(){if(this._source==="static")return qse;var t=Number(this._value);return isNaN(t)&&(t=qse),t},n.prototype.getSource=function(){return this._source},n}();var n5e=60*1e3,i5e=12*60*60*1e3,r5e=function(){function n(t,e,i,r,o){this.app=t,this._client=e,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:n5e,minimumFetchIntervalMillis:i5e},this.defaultConfig={}}return n.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=zx.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=zx.LogLevel.SILENT;break;default:this._logger.logLevel=zx.LogLevel.ERROR}},Object.defineProperty(n.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),n.prototype.activate=function(){return dr.__awaiter(this,void 0,void 0,function(){var t,e,i;return dr.__generator(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],i=t[1],!e||!e.config||!e.eTag||e.eTag===i?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])];case 2:return r.sent(),[2,!0]}})})},n.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},n.prototype.fetch=function(){return dr.__awaiter(this,void 0,void 0,function(){var t,e,i,r=this;return dr.__generator(this,function(o){switch(o.label){case 0:t=new XUe,setTimeout(function(){return dr.__awaiter(r,void 0,void 0,function(){return dr.__generator(this,function(s){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return e=o.sent(),i=$Ue(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(i)];case 5:throw o.sent(),e;case 6:return[2]}})})},n.prototype.fetchAndActivate=function(){return dr.__awaiter(this,void 0,void 0,function(){return dr.__generator(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},n.prototype.getAll=function(){var t=this;return o5e(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(e,i){return e[i]=t.getValue(i),e},{})},n.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},n.prototype.getNumber=function(t){return this.getValue(t).asNumber()},n.prototype.getString=function(t){return this.getValue(t).asString()},n.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&e[t]!==void 0?new k8("remote",e[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new k8("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new k8("static"))},n}();function o5e(n,t){return n===void 0&&(n={}),t===void 0&&(t={}),Object.keys(dr.__assign(dr.__assign({},n),t))}function YB(n,t){var e=n.target.error||void 0;return Fu.create(t,{originalErrorMessage:e&&e.message})}var Kv="app_namespace_store",s5e="firebase_remote_config",a5e=1;function l5e(){return new Promise(function(n,t){var e=indexedDB.open(s5e,a5e);e.onerror=function(i){t(YB(i,"storage-open"))},e.onsuccess=function(i){n(i.target.result)},e.onupgradeneeded=function(i){var r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Kv,{keyPath:"compositeKey"})}}})}var c5e=function(){function n(t,e,i,r){r===void 0&&(r=l5e()),this.appId=t,this.appName=e,this.namespace=i,this.openDbPromise=r}return n.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},n.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},n.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},n.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},n.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},n.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},n.prototype.getActiveConfig=function(){return this.get("active_config")},n.prototype.setActiveConfig=function(t){return this.set("active_config",t)},n.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},n.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},n.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},n.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},n.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},n.prototype.get=function(t){return dr.__awaiter(this,void 0,void 0,function(){var e,i=this;return dr.__generator(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(o,s){var a=e.transaction([Kv],"readonly"),l=a.objectStore(Kv),u=i.createCompositeKey(t);try{var d=l.get(u);d.onerror=function(h){s(YB(h,"storage-get"))},d.onsuccess=function(h){var f=h.target.result;o(f?f.value:void 0)}}catch(h){s(Fu.create("storage-get",{originalErrorMessage:h&&h.message}))}})]}})})},n.prototype.set=function(t,e){return dr.__awaiter(this,void 0,void 0,function(){var i,r=this;return dr.__generator(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return i=o.sent(),[2,new Promise(function(s,a){var l=i.transaction([Kv],"readwrite"),u=l.objectStore(Kv),d=r.createCompositeKey(t);try{var h=u.put({compositeKey:d,value:e});h.onerror=function(f){a(YB(f,"storage-set"))},h.onsuccess=function(){s()}}catch(f){a(Fu.create("storage-set",{originalErrorMessage:f&&f.message}))}})]}})})},n.prototype.delete=function(t){return dr.__awaiter(this,void 0,void 0,function(){var e,i=this;return dr.__generator(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(o,s){var a=e.transaction([Kv],"readwrite"),l=a.objectStore(Kv),u=i.createCompositeKey(t);try{var d=l.delete(u);d.onerror=function(h){s(YB(h,"storage-delete"))},d.onsuccess=function(){o()}}catch(h){s(Fu.create("storage-delete",{originalErrorMessage:h&&h.message}))}})]}})})},n.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},n}();var u5e=function(){function n(t){this.storage=t}return n.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},n.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},n.prototype.getActiveConfig=function(){return this.activeConfig},n.prototype.loadFromStorage=function(){return dr.__awaiter(this,void 0,void 0,function(){var t,e,i,r,o,s;return dr.__generator(this,function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),i=this.storage.getActiveConfig(),[4,t];case 1:return r=a.sent(),r&&(this.lastFetchStatus=r),[4,e];case 2:return o=a.sent(),o&&(this.lastSuccessfulFetchTimestampMillis=o),[4,i];case 3:return s=a.sent(),s&&(this.activeConfig=s),[2]}})})},n.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},n.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},n.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},n}();var d5e=1e3,h5e=2,f5e=4*60*60*1e3,p5e=.5;function A5e(n){var t=d5e*Math.pow(h5e,n),e=Math.round(p5e*t*(Math.random()-.5)*2);return Math.min(f5e,t+e)}function g5e(n,t){return new Promise(function(e,i){var r=Math.max(t-Date.now(),0),o=setTimeout(e,r);n.addEventListener(function(){clearTimeout(o),i(Fu.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function m5e(n){if(!(n instanceof N8.FirebaseError))return!1;var t=Number(n.httpStatus);return t===429||t===500||t===503||t===504}var v5e=function(){function n(t,e){this.client=t,this.storage=e}return n.prototype.fetch=function(t){return dr.__awaiter(this,void 0,void 0,function(){var e;return dr.__generator(this,function(i){switch(i.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=i.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},n.prototype.attemptFetch=function(t,e){var i=e.throttleEndTimeMillis,r=e.backoffCount;return dr.__awaiter(this,void 0,void 0,function(){var o,s,a;return dr.__generator(this,function(l){switch(l.label){case 0:return[4,g5e(t.signal,i)];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return o=l.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return l.sent(),[2,o];case 5:if(s=l.sent(),!m5e(s))throw s;return a={throttleEndTimeMillis:Date.now()+A5e(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(a)];case 6:return l.sent(),[2,this.attemptFetch(t,a)];case 7:return[2]}})})},n}(),$se="@firebase/remote-config",_5e="0.1.25";function Yse(n){n.INTERNAL.registerComponent(new KUe.Component("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),n.registerVersion($se,_5e);function t(e,i){var r=e.getProvider("app").getImmediate(),o=e.getProvider("installations").getImmediate();if(typeof window>"u")throw Fu.create("registration-window");var s=r.options,a=s.projectId,l=s.apiKey,u=s.appId;if(!a)throw Fu.create("registration-project-id");if(!l)throw Fu.create("registration-api-key");if(!u)throw Fu.create("registration-app-id");i=i||"firebase";var d=new c5e(u,r.name,i),h=new u5e(d),f=new zx.Logger($se);f.logLevel=zx.LogLevel.ERROR;var A=new ZUe(o,n.SDK_VERSION,i,a,l,u),g=new v5e(A,d),m=new zUe(g,d,h,f),b=new r5e(r,m,h,d,f);return b.ensureInitialized(),b}}Yse(WUe);R8.registerRemoteConfig=Yse});var zv=tn((Nst,Xse)=>{"use strict";function y5e(n){return n&&typeof n=="object"&&"default"in n?n.default:n}var L8=y5e(bu());PJ();Yee();Tre();Rre();Coe();Joe();Dse();Gse();Zse();var w5e="firebase",b5e="7.16.1";L8.registerVersion(w5e,b5e,"app");var C5e="firebase",E5e="7.16.1";console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import * as firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);L8.registerVersion(C5e,E5e);Xse.exports=L8});var Jse=tn(ZB=>{"use strict";(function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var d=this||t;return d._counter=1e3,d._html5AudioPool=[],d.html5PoolSize=10,d._codecs={},d._howls=[],d._muted=!1,d._volume=1,d._canPlayEvent="canplaythrough",d._navigator=typeof window<"u"&&window.navigator?window.navigator:null,d.masterGain=null,d.noAudio=!1,d.usingWebAudio=!0,d.autoSuspend=!0,d.ctx=null,d.autoUnlock=!0,d._setup(),d},volume:function(d){var h=this||t;if(d=parseFloat(d),h.ctx||u(),typeof d<"u"&&d>=0&&d<=1){if(h._volume=d,h._muted)return h;h.usingWebAudio&&h.masterGain.gain.setValueAtTime(d,t.ctx.currentTime);for(var f=0;f<h._howls.length;f++)if(!h._howls[f]._webAudio)for(var A=h._howls[f]._getSoundIds(),g=0;g<A.length;g++){var m=h._howls[f]._soundById(A[g]);m&&m._node&&(m._node.volume=m._volume*d)}return h}return h._volume},mute:function(d){var h=this||t;h.ctx||u(),h._muted=d,h.usingWebAudio&&h.masterGain.gain.setValueAtTime(d?0:h._volume,t.ctx.currentTime);for(var f=0;f<h._howls.length;f++)if(!h._howls[f]._webAudio)for(var A=h._howls[f]._getSoundIds(),g=0;g<A.length;g++){var m=h._howls[f]._soundById(A[g]);m&&m._node&&(m._node.muted=d?!0:m._muted)}return h},stop:function(){for(var d=this||t,h=0;h<d._howls.length;h++)d._howls[h].stop();return d},unload:function(){for(var d=this||t,h=d._howls.length-1;h>=0;h--)d._howls[h].unload();return d.usingWebAudio&&d.ctx&&typeof d.ctx.close<"u"&&(d.ctx.close(),d.ctx=null,u()),d},codecs:function(d){return(this||t)._codecs[d.replace(/^x-/,"")]},_setup:function(){var d=this||t;if(d.state=d.ctx&&d.ctx.state||"suspended",d._autoSuspend(),!d.usingWebAudio)if(typeof Audio<"u")try{var h=new Audio;typeof h.oncanplaythrough>"u"&&(d._canPlayEvent="canplay")}catch{d.noAudio=!0}else d.noAudio=!0;try{var h=new Audio;h.muted&&(d.noAudio=!0)}catch{}return d.noAudio||d._setupCodecs(),d},_setupCodecs:function(){var d=this||t,h=null;try{h=typeof Audio<"u"?new Audio:null}catch{return d}if(!h||typeof h.canPlayType!="function")return d;var f=h.canPlayType("audio/mpeg;").replace(/^no$/,""),A=d._navigator?d._navigator.userAgent:"",g=A.match(/OPR\/([0-6].)/g),m=g&&parseInt(g[0].split("/")[1],10)<33,b=A.indexOf("Safari")!==-1&&A.indexOf("Chrome")===-1,S=A.match(/Version\/(.*?) /),F=b&&S&&parseInt(S[1],10)<15;return d._codecs={mp3:!!(!m&&(f||h.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!f,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(h.canPlayType('audio/wav; codecs="1"')||h.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(h.canPlayType("audio/x-m4b;")||h.canPlayType("audio/m4b;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!F&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!F&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},d},_unlockAudio:function(){var d=this||t;if(!(d._audioUnlocked||!d.ctx)){d._audioUnlocked=!1,d.autoUnlock=!1,!d._mobileUnloaded&&d.ctx.sampleRate!==44100&&(d._mobileUnloaded=!0,d.unload()),d._scratchBuffer=d.ctx.createBuffer(1,1,22050);var h=function(f){for(;d._html5AudioPool.length<d.html5PoolSize;)try{var A=new Audio;A._unlocked=!0,d._releaseHtml5Audio(A)}catch{d.noAudio=!0;break}for(var g=0;g<d._howls.length;g++)if(!d._howls[g]._webAudio)for(var m=d._howls[g]._getSoundIds(),b=0;b<m.length;b++){var S=d._howls[g]._soundById(m[b]);S&&S._node&&!S._node._unlocked&&(S._node._unlocked=!0,S._node.load())}d._autoResume();var F=d.ctx.createBufferSource();F.buffer=d._scratchBuffer,F.connect(d.ctx.destination),typeof F.start>"u"?F.noteOn(0):F.start(0),typeof d.ctx.resume=="function"&&d.ctx.resume(),F.onended=function(){F.disconnect(0),d._audioUnlocked=!0,document.removeEventListener("touchstart",h,!0),document.removeEventListener("touchend",h,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",h,!0);for(var R=0;R<d._howls.length;R++)d._howls[R]._emit("unlock")}};return document.addEventListener("touchstart",h,!0),document.addEventListener("touchend",h,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",h,!0),d}},_obtainHtml5Audio:function(){var d=this||t;if(d._html5AudioPool.length)return d._html5AudioPool.pop();var h=new Audio().play();return h&&typeof Promise<"u"&&(h instanceof Promise||typeof h.then=="function")&&h.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(d){var h=this||t;return d._unlocked&&h._html5AudioPool.push(d),h},_autoSuspend:function(){var d=this;if(!(!d.autoSuspend||!d.ctx||typeof d.ctx.suspend>"u"||!t.usingWebAudio)){for(var h=0;h<d._howls.length;h++)if(d._howls[h]._webAudio){for(var f=0;f<d._howls[h]._sounds.length;f++)if(!d._howls[h]._sounds[f]._paused)return d}return d._suspendTimer&&clearTimeout(d._suspendTimer),d._suspendTimer=setTimeout(function(){if(d.autoSuspend){d._suspendTimer=null,d.state="suspending";var A=function(){d.state="suspended",d._resumeAfterSuspend&&(delete d._resumeAfterSuspend,d._autoResume())};d.ctx.suspend().then(A,A)}},3e4),d}},_autoResume:function(){var d=this;if(!(!d.ctx||typeof d.ctx.resume>"u"||!t.usingWebAudio))return d.state==="running"&&d.ctx.state!=="interrupted"&&d._suspendTimer?(clearTimeout(d._suspendTimer),d._suspendTimer=null):d.state==="suspended"||d.state==="running"&&d.ctx.state==="interrupted"?(d.ctx.resume().then(function(){d.state="running";for(var h=0;h<d._howls.length;h++)d._howls[h]._emit("resume")}),d._suspendTimer&&(clearTimeout(d._suspendTimer),d._suspendTimer=null)):d.state==="suspending"&&(d._resumeAfterSuspend=!0),d}};var t=new n,e=function(d){var h=this;if(!d.src||d.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}h.init(d)};e.prototype={init:function(d){var h=this;return t.ctx||u(),h._autoplay=d.autoplay||!1,h._format=typeof d.format!="string"?d.format:[d.format],h._html5=d.html5||!1,h._muted=d.mute||!1,h._loop=d.loop||!1,h._pool=d.pool||5,h._preload=typeof d.preload=="boolean"||d.preload==="metadata"?d.preload:!0,h._rate=d.rate||1,h._sprite=d.sprite||{},h._src=typeof d.src!="string"?d.src:[d.src],h._volume=d.volume!==void 0?d.volume:1,h._xhr={method:d.xhr&&d.xhr.method?d.xhr.method:"GET",headers:d.xhr&&d.xhr.headers?d.xhr.headers:null,withCredentials:d.xhr&&d.xhr.withCredentials?d.xhr.withCredentials:!1},h._duration=0,h._state="unloaded",h._sounds=[],h._endTimers={},h._queue=[],h._playLock=!1,h._onend=d.onend?[{fn:d.onend}]:[],h._onfade=d.onfade?[{fn:d.onfade}]:[],h._onload=d.onload?[{fn:d.onload}]:[],h._onloaderror=d.onloaderror?[{fn:d.onloaderror}]:[],h._onplayerror=d.onplayerror?[{fn:d.onplayerror}]:[],h._onpause=d.onpause?[{fn:d.onpause}]:[],h._onplay=d.onplay?[{fn:d.onplay}]:[],h._onstop=d.onstop?[{fn:d.onstop}]:[],h._onmute=d.onmute?[{fn:d.onmute}]:[],h._onvolume=d.onvolume?[{fn:d.onvolume}]:[],h._onrate=d.onrate?[{fn:d.onrate}]:[],h._onseek=d.onseek?[{fn:d.onseek}]:[],h._onunlock=d.onunlock?[{fn:d.onunlock}]:[],h._onresume=[],h._webAudio=t.usingWebAudio&&!h._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(h),h._autoplay&&h._queue.push({event:"play",action:function(){h.play()}}),h._preload&&h._preload!=="none"&&h.load(),h},load:function(){var d=this,h=null;if(t.noAudio){d._emit("loaderror",null,"No audio support.");return}typeof d._src=="string"&&(d._src=[d._src]);for(var f=0;f<d._src.length;f++){var A,g;if(d._format&&d._format[f])A=d._format[f];else{if(g=d._src[f],typeof g!="string"){d._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}A=/^data:audio\/([^;,]+);/i.exec(g),A||(A=/\.([^.]+)$/.exec(g.split("?",1)[0])),A&&(A=A[1].toLowerCase())}if(A||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),A&&t.codecs(A)){h=d._src[f];break}}if(!h){d._emit("loaderror",null,"No codec support for selected audio sources.");return}return d._src=h,d._state="loading",window.location.protocol==="https:"&&h.slice(0,5)==="http:"&&(d._html5=!0,d._webAudio=!1),new i(d),d._webAudio&&o(d),d},play:function(d,h){var f=this,A=null;if(typeof d=="number")A=d,d=null;else{if(typeof d=="string"&&f._state==="loaded"&&!f._sprite[d])return null;if(typeof d>"u"&&(d="__default",!f._playLock)){for(var g=0,m=0;m<f._sounds.length;m++)f._sounds[m]._paused&&!f._sounds[m]._ended&&(g++,A=f._sounds[m]._id);g===1?d=null:A=null}}var b=A?f._soundById(A):f._inactiveSound();if(!b)return null;if(A&&!d&&(d=b._sprite||"__default"),f._state!=="loaded"){b._sprite=d,b._ended=!1;var S=b._id;return f._queue.push({event:"play",action:function(){f.play(S)}}),S}if(A&&!b._paused)return h||f._loadQueue("play"),b._id;f._webAudio&&t._autoResume();var F=Math.max(0,b._seek>0?b._seek:f._sprite[d][0]/1e3),R=Math.max(0,(f._sprite[d][0]+f._sprite[d][1])/1e3-F),B=R*1e3/Math.abs(b._rate),P=f._sprite[d][0]/1e3,L=(f._sprite[d][0]+f._sprite[d][1])/1e3;b._sprite=d,b._ended=!1;var j=function(){b._paused=!1,b._seek=F,b._start=P,b._stop=L,b._loop=!!(b._loop||f._sprite[d][2])};if(F>=L){f._ended(b);return}var G=b._node;if(f._webAudio){var Y=function(){f._playLock=!1,j(),f._refreshBuffer(b);var qe=b._muted||f._muted?0:b._volume;G.gain.setValueAtTime(qe,t.ctx.currentTime),b._playStart=t.ctx.currentTime,typeof G.bufferSource.start>"u"?b._loop?G.bufferSource.noteGrainOn(0,F,86400):G.bufferSource.noteGrainOn(0,F,R):b._loop?G.bufferSource.start(0,F,86400):G.bufferSource.start(0,F,R),B!==1/0&&(f._endTimers[b._id]=setTimeout(f._ended.bind(f,b),B)),h||setTimeout(function(){f._emit("play",b._id),f._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?Y():(f._playLock=!0,f.once("resume",Y),f._clearTimer(b._id))}else{var Z=function(){G.currentTime=F,G.muted=b._muted||f._muted||t._muted||G.muted,G.volume=b._volume*t.volume(),G.playbackRate=b._rate;try{var qe=G.play();if(qe&&typeof Promise<"u"&&(qe instanceof Promise||typeof qe.then=="function")?(f._playLock=!0,j(),qe.then(function(){f._playLock=!1,G._unlocked=!0,h?f._loadQueue():f._emit("play",b._id)}).catch(function(){f._playLock=!1,f._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),b._ended=!0,b._paused=!0})):h||(f._playLock=!1,j(),f._emit("play",b._id)),G.playbackRate=b._rate,G.paused){f._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}d!=="__default"||b._loop?f._endTimers[b._id]=setTimeout(f._ended.bind(f,b),B):(f._endTimers[b._id]=function(){f._ended(b),G.removeEventListener("ended",f._endTimers[b._id],!1)},G.addEventListener("ended",f._endTimers[b._id],!1))}catch(ge){f._emit("playerror",b._id,ge)}};G.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(G.src=f._src,G.load());var _e=window&&window.ejecta||!G.readyState&&t._navigator.isCocoonJS;if(G.readyState>=3||_e)Z();else{f._playLock=!0,f._state="loading";var xe=function(){f._state="loaded",Z(),G.removeEventListener(t._canPlayEvent,xe,!1)};G.addEventListener(t._canPlayEvent,xe,!1),f._clearTimer(b._id)}}return b._id},pause:function(d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"pause",action:function(){h.pause(d)}}),h;for(var f=h._getSoundIds(d),A=0;A<f.length;A++){h._clearTimer(f[A]);var g=h._soundById(f[A]);if(g&&!g._paused&&(g._seek=h.seek(f[A]),g._rateSeek=0,g._paused=!0,h._stopFade(f[A]),g._node))if(h._webAudio){if(!g._node.bufferSource)continue;typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),h._cleanBuffer(g._node)}else(!isNaN(g._node.duration)||g._node.duration===1/0)&&g._node.pause();arguments[1]||h._emit("pause",g?g._id:null)}return h},stop:function(d,h){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"stop",action:function(){f.stop(d)}}),f;for(var A=f._getSoundIds(d),g=0;g<A.length;g++){f._clearTimer(A[g]);var m=f._soundById(A[g]);m&&(m._seek=m._start||0,m._rateSeek=0,m._paused=!0,m._ended=!0,f._stopFade(A[g]),m._node&&(f._webAudio?m._node.bufferSource&&(typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),f._cleanBuffer(m._node)):(!isNaN(m._node.duration)||m._node.duration===1/0)&&(m._node.currentTime=m._start||0,m._node.pause(),m._node.duration===1/0&&f._clearSound(m._node))),h||f._emit("stop",m._id))}return f},mute:function(d,h){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"mute",action:function(){f.mute(d,h)}}),f;if(typeof h>"u")if(typeof d=="boolean")f._muted=d;else return f._muted;for(var A=f._getSoundIds(h),g=0;g<A.length;g++){var m=f._soundById(A[g]);m&&(m._muted=d,m._interval&&f._stopFade(m._id),f._webAudio&&m._node?m._node.gain.setValueAtTime(d?0:m._volume,t.ctx.currentTime):m._node&&(m._node.muted=t._muted?!0:d),f._emit("mute",m._id))}return f},volume:function(){var d=this,h=arguments,f,A;if(h.length===0)return d._volume;if(h.length===1||h.length===2&&typeof h[1]>"u"){var g=d._getSoundIds(),m=g.indexOf(h[0]);m>=0?A=parseInt(h[0],10):f=parseFloat(h[0])}else h.length>=2&&(f=parseFloat(h[0]),A=parseInt(h[1],10));var b;if(typeof f<"u"&&f>=0&&f<=1){if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"volume",action:function(){d.volume.apply(d,h)}}),d;typeof A>"u"&&(d._volume=f),A=d._getSoundIds(A);for(var S=0;S<A.length;S++)b=d._soundById(A[S]),b&&(b._volume=f,h[2]||d._stopFade(A[S]),d._webAudio&&b._node&&!b._muted?b._node.gain.setValueAtTime(f,t.ctx.currentTime):b._node&&!b._muted&&(b._node.volume=f*t.volume()),d._emit("volume",b._id))}else return b=A?d._soundById(A):d._sounds[0],b?b._volume:0;return d},fade:function(d,h,f,A){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"fade",action:function(){g.fade(d,h,f,A)}}),g;d=Math.min(Math.max(0,parseFloat(d)),1),h=Math.min(Math.max(0,parseFloat(h)),1),f=parseFloat(f),g.volume(d,A);for(var m=g._getSoundIds(A),b=0;b<m.length;b++){var S=g._soundById(m[b]);if(S){if(A||g._stopFade(m[b]),g._webAudio&&!S._muted){var F=t.ctx.currentTime,R=F+f/1e3;S._volume=d,S._node.gain.setValueAtTime(d,F),S._node.gain.linearRampToValueAtTime(h,R)}g._startFadeInterval(S,d,h,f,m[b],typeof A>"u")}}return g},_startFadeInterval:function(d,h,f,A,g,m){var b=this,S=h,F=f-h,R=Math.abs(F/.01),B=Math.max(4,R>0?A/R:A),P=Date.now();d._fadeTo=f,d._interval=setInterval(function(){var L=(Date.now()-P)/A;P=Date.now(),S+=F*L,S=Math.round(S*100)/100,F<0?S=Math.max(f,S):S=Math.min(f,S),b._webAudio?d._volume=S:b.volume(S,d._id,!0),m&&(b._volume=S),(f<h&&S<=f||f>h&&S>=f)&&(clearInterval(d._interval),d._interval=null,d._fadeTo=null,b.volume(f,d._id),b._emit("fade",d._id))},B)},_stopFade:function(d){var h=this,f=h._soundById(d);return f&&f._interval&&(h._webAudio&&f._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(f._interval),f._interval=null,h.volume(f._fadeTo,d),f._fadeTo=null,h._emit("fade",d)),h},loop:function(){var d=this,h=arguments,f,A,g;if(h.length===0)return d._loop;if(h.length===1)if(typeof h[0]=="boolean")f=h[0],d._loop=f;else return g=d._soundById(parseInt(h[0],10)),g?g._loop:!1;else h.length===2&&(f=h[0],A=parseInt(h[1],10));for(var m=d._getSoundIds(A),b=0;b<m.length;b++)g=d._soundById(m[b]),g&&(g._loop=f,d._webAudio&&g._node&&g._node.bufferSource&&(g._node.bufferSource.loop=f,f&&(g._node.bufferSource.loopStart=g._start||0,g._node.bufferSource.loopEnd=g._stop,d.playing(m[b])&&(d.pause(m[b],!0),d.play(m[b],!0)))));return d},rate:function(){var d=this,h=arguments,f,A;if(h.length===0)A=d._sounds[0]._id;else if(h.length===1){var g=d._getSoundIds(),m=g.indexOf(h[0]);m>=0?A=parseInt(h[0],10):f=parseFloat(h[0])}else h.length===2&&(f=parseFloat(h[0]),A=parseInt(h[1],10));var b;if(typeof f=="number"){if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"rate",action:function(){d.rate.apply(d,h)}}),d;typeof A>"u"&&(d._rate=f),A=d._getSoundIds(A);for(var S=0;S<A.length;S++)if(b=d._soundById(A[S]),b){d.playing(A[S])&&(b._rateSeek=d.seek(A[S]),b._playStart=d._webAudio?t.ctx.currentTime:b._playStart),b._rate=f,d._webAudio&&b._node&&b._node.bufferSource?b._node.bufferSource.playbackRate.setValueAtTime(f,t.ctx.currentTime):b._node&&(b._node.playbackRate=f);var F=d.seek(A[S]),R=(d._sprite[b._sprite][0]+d._sprite[b._sprite][1])/1e3-F,B=R*1e3/Math.abs(b._rate);(d._endTimers[A[S]]||!b._paused)&&(d._clearTimer(A[S]),d._endTimers[A[S]]=setTimeout(d._ended.bind(d,b),B)),d._emit("rate",b._id)}}else return b=d._soundById(A),b?b._rate:d._rate;return d},seek:function(){var d=this,h=arguments,f,A;if(h.length===0)d._sounds.length&&(A=d._sounds[0]._id);else if(h.length===1){var g=d._getSoundIds(),m=g.indexOf(h[0]);m>=0?A=parseInt(h[0],10):d._sounds.length&&(A=d._sounds[0]._id,f=parseFloat(h[0]))}else h.length===2&&(f=parseFloat(h[0]),A=parseInt(h[1],10));if(typeof A>"u")return 0;if(typeof f=="number"&&(d._state!=="loaded"||d._playLock))return d._queue.push({event:"seek",action:function(){d.seek.apply(d,h)}}),d;var b=d._soundById(A);if(b)if(typeof f=="number"&&f>=0){var S=d.playing(A);S&&d.pause(A,!0),b._seek=f,b._ended=!1,d._clearTimer(A),!d._webAudio&&b._node&&!isNaN(b._node.duration)&&(b._node.currentTime=f);var F=function(){S&&d.play(A,!0),d._emit("seek",A)};if(S&&!d._webAudio){var R=function(){d._playLock?setTimeout(R,0):F()};setTimeout(R,0)}else F()}else if(d._webAudio){var B=d.playing(A)?t.ctx.currentTime-b._playStart:0,P=b._rateSeek?b._rateSeek-b._seek:0;return b._seek+(P+B*Math.abs(b._rate))}else return b._node.currentTime;return d},playing:function(d){var h=this;if(typeof d=="number"){var f=h._soundById(d);return f?!f._paused:!1}for(var A=0;A<h._sounds.length;A++)if(!h._sounds[A]._paused)return!0;return!1},duration:function(d){var h=this,f=h._duration,A=h._soundById(d);return A&&(f=h._sprite[A._sprite][1]/1e3),f},state:function(){return this._state},unload:function(){for(var d=this,h=d._sounds,f=0;f<h.length;f++)h[f]._paused||d.stop(h[f]._id),d._webAudio||(d._clearSound(h[f]._node),h[f]._node.removeEventListener("error",h[f]._errorFn,!1),h[f]._node.removeEventListener(t._canPlayEvent,h[f]._loadFn,!1),h[f]._node.removeEventListener("ended",h[f]._endFn,!1),t._releaseHtml5Audio(h[f]._node)),delete h[f]._node,d._clearTimer(h[f]._id);var A=t._howls.indexOf(d);A>=0&&t._howls.splice(A,1);var g=!0;for(f=0;f<t._howls.length;f++)if(t._howls[f]._src===d._src||d._src.indexOf(t._howls[f]._src)>=0){g=!1;break}return r&&g&&delete r[d._src],t.noAudio=!1,d._state="unloaded",d._sounds=[],d=null,null},on:function(d,h,f,A){var g=this,m=g["_on"+d];return typeof h=="function"&&m.push(A?{id:f,fn:h,once:A}:{id:f,fn:h}),g},off:function(d,h,f){var A=this,g=A["_on"+d],m=0;if(typeof h=="number"&&(f=h,h=null),h||f)for(m=0;m<g.length;m++){var b=f===g[m].id;if(h===g[m].fn&&b||!h&&b){g.splice(m,1);break}}else if(d)A["_on"+d]=[];else{var S=Object.keys(A);for(m=0;m<S.length;m++)S[m].indexOf("_on")===0&&Array.isArray(A[S[m]])&&(A[S[m]]=[])}return A},once:function(d,h,f){var A=this;return A.on(d,h,f,1),A},_emit:function(d,h,f){for(var A=this,g=A["_on"+d],m=g.length-1;m>=0;m--)(!g[m].id||g[m].id===h||d==="load")&&(setTimeout(function(b){b.call(this,h,f)}.bind(A,g[m].fn),0),g[m].once&&A.off(d,g[m].fn,g[m].id));return A._loadQueue(d),A},_loadQueue:function(d){var h=this;if(h._queue.length>0){var f=h._queue[0];f.event===d&&(h._queue.shift(),h._loadQueue()),d||f.action()}return h},_ended:function(d){var h=this,f=d._sprite;if(!h._webAudio&&d._node&&!d._node.paused&&!d._node.ended&&d._node.currentTime<d._stop)return setTimeout(h._ended.bind(h,d),100),h;var A=!!(d._loop||h._sprite[f][2]);if(h._emit("end",d._id),!h._webAudio&&A&&h.stop(d._id,!0).play(d._id),h._webAudio&&A){h._emit("play",d._id),d._seek=d._start||0,d._rateSeek=0,d._playStart=t.ctx.currentTime;var g=(d._stop-d._start)*1e3/Math.abs(d._rate);h._endTimers[d._id]=setTimeout(h._ended.bind(h,d),g)}return h._webAudio&&!A&&(d._paused=!0,d._ended=!0,d._seek=d._start||0,d._rateSeek=0,h._clearTimer(d._id),h._cleanBuffer(d._node),t._autoSuspend()),!h._webAudio&&!A&&h.stop(d._id,!0),h},_clearTimer:function(d){var h=this;if(h._endTimers[d]){if(typeof h._endTimers[d]!="function")clearTimeout(h._endTimers[d]);else{var f=h._soundById(d);f&&f._node&&f._node.removeEventListener("ended",h._endTimers[d],!1)}delete h._endTimers[d]}return h},_soundById:function(d){for(var h=this,f=0;f<h._sounds.length;f++)if(d===h._sounds[f]._id)return h._sounds[f];return null},_inactiveSound:function(){var d=this;d._drain();for(var h=0;h<d._sounds.length;h++)if(d._sounds[h]._ended)return d._sounds[h].reset();return new i(d)},_drain:function(){var d=this,h=d._pool,f=0,A=0;if(!(d._sounds.length<h)){for(A=0;A<d._sounds.length;A++)d._sounds[A]._ended&&f++;for(A=d._sounds.length-1;A>=0;A--){if(f<=h)return;d._sounds[A]._ended&&(d._webAudio&&d._sounds[A]._node&&d._sounds[A]._node.disconnect(0),d._sounds.splice(A,1),f--)}}},_getSoundIds:function(d){var h=this;if(typeof d>"u"){for(var f=[],A=0;A<h._sounds.length;A++)f.push(h._sounds[A]._id);return f}else return[d]},_refreshBuffer:function(d){var h=this;return d._node.bufferSource=t.ctx.createBufferSource(),d._node.bufferSource.buffer=r[h._src],d._panner?d._node.bufferSource.connect(d._panner):d._node.bufferSource.connect(d._node),d._node.bufferSource.loop=d._loop,d._loop&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop||0),d._node.bufferSource.playbackRate.setValueAtTime(d._rate,t.ctx.currentTime),h},_cleanBuffer:function(d){var h=this,f=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&d.bufferSource&&(d.bufferSource.onended=null,d.bufferSource.disconnect(0),f))try{d.bufferSource.buffer=t._scratchBuffer}catch{}return d.bufferSource=null,h},_clearSound:function(d){var h=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);h||(d.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(d){this._parent=d,this.init()};i.prototype={init:function(){var d=this,h=d._parent;return d._muted=h._muted,d._loop=h._loop,d._volume=h._volume,d._rate=h._rate,d._seek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++t._counter,h._sounds.push(d),d.create(),d},create:function(){var d=this,h=d._parent,f=t._muted||d._muted||d._parent._muted?0:d._volume;return h._webAudio?(d._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),d._node.gain.setValueAtTime(f,t.ctx.currentTime),d._node.paused=!0,d._node.connect(t.masterGain)):t.noAudio||(d._node=t._obtainHtml5Audio(),d._errorFn=d._errorListener.bind(d),d._node.addEventListener("error",d._errorFn,!1),d._loadFn=d._loadListener.bind(d),d._node.addEventListener(t._canPlayEvent,d._loadFn,!1),d._endFn=d._endListener.bind(d),d._node.addEventListener("ended",d._endFn,!1),d._node.src=h._src,d._node.preload=h._preload===!0?"auto":h._preload,d._node.volume=f*t.volume(),d._node.load()),d},reset:function(){var d=this,h=d._parent;return d._muted=h._muted,d._loop=h._loop,d._volume=h._volume,d._rate=h._rate,d._seek=0,d._rateSeek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++t._counter,d},_errorListener:function(){var d=this;d._parent._emit("loaderror",d._id,d._node.error?d._node.error.code:0),d._node.removeEventListener("error",d._errorFn,!1)},_loadListener:function(){var d=this,h=d._parent;h._duration=Math.ceil(d._node.duration*10)/10,Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue()),d._node.removeEventListener(t._canPlayEvent,d._loadFn,!1)},_endListener:function(){var d=this,h=d._parent;h._duration===1/0&&(h._duration=Math.ceil(d._node.duration*10)/10,h._sprite.__default[1]===1/0&&(h._sprite.__default[1]=h._duration*1e3),h._ended(d)),d._node.removeEventListener("ended",d._endFn,!1)}};var r={},o=function(d){var h=d._src;if(r[h]){d._duration=r[h].duration,l(d);return}if(/^data:[^;]+;base64,/.test(h)){for(var f=atob(h.split(",")[1]),A=new Uint8Array(f.length),g=0;g<f.length;++g)A[g]=f.charCodeAt(g);a(A.buffer,d)}else{var m=new XMLHttpRequest;m.open(d._xhr.method,h,!0),m.withCredentials=d._xhr.withCredentials,m.responseType="arraybuffer",d._xhr.headers&&Object.keys(d._xhr.headers).forEach(function(b){m.setRequestHeader(b,d._xhr.headers[b])}),m.onload=function(){var b=(m.status+"")[0];if(b!=="0"&&b!=="2"&&b!=="3"){d._emit("loaderror",null,"Failed loading audio file with status: "+m.status+".");return}a(m.response,d)},m.onerror=function(){d._webAudio&&(d._html5=!0,d._webAudio=!1,d._sounds=[],delete r[h],d.load())},s(m)}},s=function(d){try{d.send()}catch{d.onerror()}},a=function(d,h){var f=function(){h._emit("loaderror",null,"Decoding audio data failed.")},A=function(g){g&&h._sounds.length>0?(r[h._src]=g,l(h,g)):f()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(d).then(A).catch(f):t.ctx.decodeAudioData(d,A,f)},l=function(d,h){h&&!d._duration&&(d._duration=h.duration),Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue())},u=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var d=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),h=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),f=h?parseInt(h[1],10):null;if(d&&f&&f<9){var A=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!A&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:t,Howl:e}}),typeof ZB<"u"&&(ZB.Howler=t,ZB.Howl=e),typeof global<"u"?(global.HowlerGlobal=n,global.Howler=t,global.Howl=e,global.Sound=i):typeof window<"u"&&(window.HowlerGlobal=n,window.Howler=t,window.Howl=e,window.Sound=i)})();(function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var i=e._howls.length-1;i>=0;i--)e._howls[i].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,i){var r=this;if(!r.ctx||!r.ctx.listener)return r;if(e=typeof e!="number"?r._pos[1]:e,i=typeof i!="number"?r._pos[2]:i,typeof t=="number")r._pos=[t,e,i],typeof r.ctx.listener.positionX<"u"?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]);else return r._pos;return r},HowlerGlobal.prototype.orientation=function(t,e,i,r,o,s){var a=this;if(!a.ctx||!a.ctx.listener)return a;var l=a._orientation;if(e=typeof e!="number"?l[1]:e,i=typeof i!="number"?l[2]:i,r=typeof r!="number"?l[3]:r,o=typeof o!="number"?l[4]:o,s=typeof s!="number"?l[5]:s,typeof t=="number")a._orientation=[t,e,i,r,o,s],typeof a.ctx.listener.forwardX<"u"?(a.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(s,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(t,e,i,r,o,s);else return l;return a},Howl.prototype.init=function(t){return function(e){var i=this;return i._orientation=e.orientation||[1,0,0],i._stereo=e.stereo||null,i._pos=e.pos||null,i._pannerAttr={coneInnerAngle:typeof e.coneInnerAngle<"u"?e.coneInnerAngle:360,coneOuterAngle:typeof e.coneOuterAngle<"u"?e.coneOuterAngle:360,coneOuterGain:typeof e.coneOuterGain<"u"?e.coneOuterGain:0,distanceModel:typeof e.distanceModel<"u"?e.distanceModel:"inverse",maxDistance:typeof e.maxDistance<"u"?e.maxDistance:1e4,panningModel:typeof e.panningModel<"u"?e.panningModel:"HRTF",refDistance:typeof e.refDistance<"u"?e.refDistance:1,rolloffFactor:typeof e.rolloffFactor<"u"?e.rolloffFactor:1},i._onstereo=e.onstereo?[{fn:e.onstereo}]:[],i._onpos=e.onpos?[{fn:e.onpos}]:[],i._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,e){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(t,e)}}),i;var r=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof e>"u")if(typeof t=="number")i._stereo=t,i._pos=[t,0,0];else return i._stereo;for(var o=i._getSoundIds(e),s=0;s<o.length;s++){var a=i._soundById(o[s]);if(a)if(typeof t=="number")a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",(!a._panner||!a._panner.pan)&&n(a,r),r==="spatial"?typeof a._panner.positionX<"u"?(a._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(t,0,0):a._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",a._id);else return a._stereo}return i},Howl.prototype.pos=function(t,e,i,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(t,e,i,r)}}),o;if(e=typeof e!="number"?0:e,i=typeof i!="number"?-.5:i,typeof r>"u")if(typeof t=="number")o._pos=[t,e,i];else return o._pos;for(var s=o._getSoundIds(r),a=0;a<s.length;a++){var l=o._soundById(s[a]);if(l)if(typeof t=="number")l._pos=[t,e,i],l._node&&((!l._panner||l._panner.pan)&&n(l,"spatial"),typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setPosition(t,e,i)),o._emit("pos",l._id);else return l._pos}return o},Howl.prototype.orientation=function(t,e,i,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(t,e,i,r)}}),o;if(e=typeof e!="number"?o._orientation[1]:e,i=typeof i!="number"?o._orientation[2]:i,typeof r>"u")if(typeof t=="number")o._orientation=[t,e,i];else return o._orientation;for(var s=o._getSoundIds(r),a=0;a<s.length;a++){var l=o._soundById(s[a]);if(l)if(typeof t=="number")l._orientation=[t,e,i],l._node&&(l._panner||(l._pos||(l._pos=o._pos||[0,0,-.5]),n(l,"spatial")),typeof l._panner.orientationX<"u"?(l._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setOrientation(t,e,i)),o._emit("orientation",l._id);else return l._orientation}return o},Howl.prototype.pannerAttr=function(){var t=this,e=arguments,i,r,o;if(!t._webAudio)return t;if(e.length===0)return t._pannerAttr;if(e.length===1)if(typeof e[0]=="object")i=e[0],typeof r>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),t._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:t._panningModel});else return o=t._soundById(parseInt(e[0],10)),o?o._pannerAttr:t._pannerAttr;else e.length===2&&(i=e[0],r=parseInt(e[1],10));for(var s=t._getSoundIds(r),a=0;a<s.length;a++)if(o=t._soundById(s[a]),o){var l=o._pannerAttr;l={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:l.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:l.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:l.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:l.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:l.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:l.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:l.panningModel};var u=o._panner;u?(u.coneInnerAngle=l.coneInnerAngle,u.coneOuterAngle=l.coneOuterAngle,u.coneOuterGain=l.coneOuterGain,u.distanceModel=l.distanceModel,u.maxDistance=l.maxDistance,u.refDistance=l.refDistance,u.rolloffFactor=l.rolloffFactor,u.panningModel=l.panningModel):(o._pos||(o._pos=t._pos||[0,0,-.5]),n(o,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var e=this,i=e._parent;e._orientation=i._orientation,e._stereo=i._stereo,e._pos=i._pos,e._pannerAttr=i._pannerAttr,t.call(this),e._stereo?i.stereo(e._stereo):e._pos&&i.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,i=e._parent;return e._orientation=i._orientation,e._stereo=i._stereo,e._pos=i._pos,e._pannerAttr=i._pannerAttr,e._stereo?i.stereo(e._stereo):e._pos?i.pos(e._pos[0],e._pos[1],e._pos[2],e._id):e._panner&&(e._panner.disconnect(0),e._panner=void 0,i._refreshBuffer(e)),t.call(this)}}(Sound.prototype.reset);var n=function(t,e){e=e||"spatial",e==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()});var Cae=tn(ft=>{"use strict";var qx={};qx.userAgent=!1;var ib={};var bt=bt||function(n,t){var e={},i=e.lib={},r=i.Base=function(){function A(){}return{extend:function(g){A.prototype=this;var m=new A;return g&&m.mixIn(g),m.hasOwnProperty("init")||(m.init=function(){m.$super.init.apply(this,arguments)}),m.init.prototype=m,m.$super=this,m},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var m in g)g.hasOwnProperty(m)&&(this[m]=g[m]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=i.WordArray=r.extend({init:function(A,g){A=this.words=A||[],g!=t?this.sigBytes=g:this.sigBytes=A.length*4},toString:function(A){return(A||a).stringify(this)},concat:function(A){var g=this.words,m=A.words,b=this.sigBytes,S=A.sigBytes;if(this.clamp(),b%4)for(var F=0;F<S;F++){var R=m[F>>>2]>>>24-F%4*8&255;g[b+F>>>2]|=R<<24-(b+F)%4*8}else for(var F=0;F<S;F+=4)g[b+F>>>2]=m[F>>>2];return this.sigBytes+=S,this},clamp:function(){var A=this.words,g=this.sigBytes;A[g>>>2]&=4294967295<<32-g%4*8,A.length=n.ceil(g/4)},clone:function(){var A=r.clone.call(this);return A.words=this.words.slice(0),A},random:function(A){for(var g=[],m=0;m<A;m+=4)g.push(n.random()*4294967296|0);return new o.init(g,A)}}),s=e.enc={},a=s.Hex={stringify:function(A){for(var g=A.words,m=A.sigBytes,b=[],S=0;S<m;S++){var F=g[S>>>2]>>>24-S%4*8&255;b.push((F>>>4).toString(16)),b.push((F&15).toString(16))}return b.join("")},parse:function(A){for(var g=A.length,m=[],b=0;b<g;b+=2)m[b>>>3]|=parseInt(A.substr(b,2),16)<<24-b%8*4;return new o.init(m,g/2)}},l=s.Latin1={stringify:function(A){for(var g=A.words,m=A.sigBytes,b=[],S=0;S<m;S++){var F=g[S>>>2]>>>24-S%4*8&255;b.push(String.fromCharCode(F))}return b.join("")},parse:function(A){for(var g=A.length,m=[],b=0;b<g;b++)m[b>>>2]|=(A.charCodeAt(b)&255)<<24-b%4*8;return new o.init(m,g)}},u=s.Utf8={stringify:function(A){try{return decodeURIComponent(escape(l.stringify(A)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(A){return l.parse(unescape(encodeURIComponent(A)))}},d=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(A){typeof A=="string"&&(A=u.parse(A)),this._data.concat(A),this._nDataBytes+=A.sigBytes},_process:function(A){var g=this._data,m=g.words,b=g.sigBytes,S=this.blockSize,F=S*4,R=b/F;A?R=n.ceil(R):R=n.max((R|0)-this._minBufferSize,0);var B=R*S,P=n.min(B*4,b);if(B){for(var L=0;L<B;L+=S)this._doProcessBlock(m,L);var j=m.splice(0,B);g.sigBytes-=P}return new o.init(j,P)},clone:function(){var A=r.clone.call(this);return A._data=this._data.clone(),A},_minBufferSize:0}),h=i.Hasher=d.extend({cfg:r.extend(),init:function(A){this.cfg=this.cfg.extend(A),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(A){return this._append(A),this._process(),this},finalize:function(A){A&&this._append(A);var g=this._doFinalize();return g},blockSize:512/32,_createHelper:function(A){return function(g,m){return new A.init(m).finalize(g)}},_createHmacHelper:function(A){return function(g,m){return new f.HMAC.init(A,m).finalize(g)}}}),f=e.algo={};return e}(Math);(function(n){var r=bt,t=r.lib,e=t.Base,i=t.WordArray,r=r.x64={};r.Word=e.extend({init:function(o,s){this.high=o,this.low=s}}),r.WordArray=e.extend({init:function(o,s){o=this.words=o||[],this.sigBytes=s!=n?s:8*o.length},toX32:function(){for(var o=this.words,s=o.length,a=[],l=0;l<s;l++){var u=o[l];a.push(u.high),a.push(u.low)}return i.create(a,this.sigBytes)},clone:function(){for(var o=e.clone.call(this),s=o.words=this.words.slice(0),a=s.length,l=0;l<a;l++)s[l]=s[l].clone();return o}})})();bt.lib.Cipher||function(n){var A=bt,t=A.lib,e=t.Base,i=t.WordArray,r=t.BufferedBlockAlgorithm,o=A.enc.Base64,s=A.algo.EvpKDF,a=t.Cipher=r.extend({cfg:e.extend(),createEncryptor:function(m,b){return this.create(this._ENC_XFORM_MODE,m,b)},createDecryptor:function(m,b){return this.create(this._DEC_XFORM_MODE,m,b)},init:function(m,b,S){this.cfg=this.cfg.extend(S),this._xformMode=m,this._key=b,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(m){return this._append(m),this._process()},finalize:function(m){return m&&this._append(m),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(m){return{encrypt:function(b,S,F){return(typeof S=="string"?g:f).encrypt(m,b,S,F)},decrypt:function(b,S,F){return(typeof S=="string"?g:f).decrypt(m,b,S,F)}}}});t.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=A.mode={},l=function(m,b,S){var F=this._iv;F?this._iv=n:F=this._prevBlock;for(var R=0;R<S;R++)m[b+R]^=F[R]},u=(t.BlockCipherMode=e.extend({createEncryptor:function(m,b){return this.Encryptor.create(m,b)},createDecryptor:function(m,b){return this.Decryptor.create(m,b)},init:function(m,b){this._cipher=m,this._iv=b}})).extend();u.Encryptor=u.extend({processBlock:function(m,b){var S=this._cipher,F=S.blockSize;l.call(this,m,b,F),S.encryptBlock(m,b),this._prevBlock=m.slice(b,b+F)}}),u.Decryptor=u.extend({processBlock:function(m,b){var S=this._cipher,F=S.blockSize,R=m.slice(b,b+F);S.decryptBlock(m,b),l.call(this,m,b,F),this._prevBlock=R}}),h=h.CBC=u,u=(A.pad={}).Pkcs7={pad:function(m,b){for(var S=4*b,S=S-m.sigBytes%S,F=S<<24|S<<16|S<<8|S,R=[],B=0;B<S;B+=4)R.push(F);S=i.create(R,S),m.concat(S)},unpad:function(m){m.sigBytes-=m.words[m.sigBytes-1>>>2]&255}},t.BlockCipher=a.extend({cfg:a.cfg.extend({mode:h,padding:u}),reset:function(){a.reset.call(this);var b=this.cfg,m=b.iv,b=b.mode;if(this._xformMode==this._ENC_XFORM_MODE)var S=b.createEncryptor;else S=b.createDecryptor,this._minBufferSize=1;this._mode=S.call(b,this,m&&m.words)},_doProcessBlock:function(m,b){this._mode.processBlock(m,b)},_doFinalize:function(){var m=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){m.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),m.unpad(b);return b},blockSize:4});var d=t.CipherParams=e.extend({init:function(m){this.mixIn(m)},toString:function(m){return(m||this.formatter).stringify(this)}}),h=(A.format={}).OpenSSL={stringify:function(m){var b=m.ciphertext;return m=m.salt,(m?i.create([1398893684,1701076831]).concat(m).concat(b):b).toString(o)},parse:function(m){m=o.parse(m);var b=m.words;if(b[0]==1398893684&&b[1]==1701076831){var S=i.create(b.slice(2,4));b.splice(0,4),m.sigBytes-=16}return d.create({ciphertext:m,salt:S})}},f=t.SerializableCipher=e.extend({cfg:e.extend({format:h}),encrypt:function(m,b,S,F){F=this.cfg.extend(F);var R=m.createEncryptor(S,F);return b=R.finalize(b),R=R.cfg,d.create({ciphertext:b,key:S,iv:R.iv,algorithm:m,mode:R.mode,padding:R.padding,blockSize:m.blockSize,formatter:F.format})},decrypt:function(m,b,S,F){return F=this.cfg.extend(F),b=this._parse(b,F.format),m.createDecryptor(S,F).finalize(b.ciphertext)},_parse:function(m,b){return typeof m=="string"?b.parse(m,this):m}}),A=(A.kdf={}).OpenSSL={execute:function(m,b,S,F){return F||(F=i.random(8)),m=s.create({keySize:b+S}).compute(m,F),S=i.create(m.words.slice(b),4*S),m.sigBytes=4*b,d.create({key:m,iv:S,salt:F})}},g=t.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:A}),encrypt:function(m,b,S,F){return F=this.cfg.extend(F),S=F.kdf.execute(S,m.keySize,m.ivSize),F.iv=S.iv,m=f.encrypt.call(this,m,b,S.key,F),m.mixIn(S),m},decrypt:function(m,b,S,F){return F=this.cfg.extend(F),b=this._parse(b,F.format),S=F.kdf.execute(S,m.keySize,m.ivSize,b.salt),F.iv=S.iv,f.decrypt.call(this,m,b,S.key,F)}})}();(function(){for(var n=bt,t=n.lib.BlockCipher,L=n.algo,e=[],i=[],r=[],o=[],s=[],a=[],l=[],u=[],d=[],h=[],f=[],A=0;256>A;A++)f[A]=128>A?A<<1:A<<1^283;for(var g=0,m=0,A=0;256>A;A++){var b=m^m<<1^m<<2^m<<3^m<<4,b=b>>>8^b&255^99;e[g]=b,i[b]=g;var S=f[g],F=f[S],R=f[F],B=257*f[b]^16843008*b;r[g]=B<<24|B>>>8,o[g]=B<<16|B>>>16,s[g]=B<<8|B>>>24,a[g]=B,B=16843009*R^65537*F^257*S^16843008*g,l[b]=B<<24|B>>>8,u[b]=B<<16|B>>>16,d[b]=B<<8|B>>>24,h[b]=B,g?(g=S^f[f[f[R^S]]],m^=f[f[m]]):g=m=1}var P=[0,1,2,4,8,16,32,64,128,27,54],L=L.AES=t.extend({_doReset:function(){for(var Y=this._key,j=Y.words,G=Y.sigBytes/4,Y=4*((this._nRounds=G+6)+1),Z=this._keySchedule=[],_e=0;_e<Y;_e++)if(_e<G)Z[_e]=j[_e];else{var xe=Z[_e-1];_e%G?6<G&&_e%G==4&&(xe=e[xe>>>24]<<24|e[xe>>>16&255]<<16|e[xe>>>8&255]<<8|e[xe&255]):(xe=xe<<8|xe>>>24,xe=e[xe>>>24]<<24|e[xe>>>16&255]<<16|e[xe>>>8&255]<<8|e[xe&255],xe^=P[_e/G|0]<<24),Z[_e]=Z[_e-G]^xe}for(j=this._invKeySchedule=[],G=0;G<Y;G++)_e=Y-G,xe=G%4?Z[_e]:Z[_e-4],j[G]=4>G||4>=_e?xe:l[e[xe>>>24]]^u[e[xe>>>16&255]]^d[e[xe>>>8&255]]^h[e[xe&255]]},encryptBlock:function(j,G){this._doCryptBlock(j,G,this._keySchedule,r,o,s,a,e)},decryptBlock:function(j,G){var Y=j[G+1];j[G+1]=j[G+3],j[G+3]=Y,this._doCryptBlock(j,G,this._invKeySchedule,l,u,d,h,i),Y=j[G+1],j[G+1]=j[G+3],j[G+3]=Y},_doCryptBlock:function(j,G,Y,Z,_e,xe,qe,ge){for(var me=this._nRounds,lt=j[G]^Y[0],Le=j[G+1]^Y[1],it=j[G+2]^Y[2],xt=j[G+3]^Y[3],re=4,ue=1;ue<me;ue++)var Fe=Z[lt>>>24]^_e[Le>>>16&255]^xe[it>>>8&255]^qe[xt&255]^Y[re++],Ue=Z[Le>>>24]^_e[it>>>16&255]^xe[xt>>>8&255]^qe[lt&255]^Y[re++],Je=Z[it>>>24]^_e[xt>>>16&255]^xe[lt>>>8&255]^qe[Le&255]^Y[re++],xt=Z[xt>>>24]^_e[lt>>>16&255]^xe[Le>>>8&255]^qe[it&255]^Y[re++],lt=Fe,Le=Ue,it=Je;Fe=(ge[lt>>>24]<<24|ge[Le>>>16&255]<<16|ge[it>>>8&255]<<8|ge[xt&255])^Y[re++],Ue=(ge[Le>>>24]<<24|ge[it>>>16&255]<<16|ge[xt>>>8&255]<<8|ge[lt&255])^Y[re++],Je=(ge[it>>>24]<<24|ge[xt>>>16&255]<<16|ge[lt>>>8&255]<<8|ge[Le&255])^Y[re++],xt=(ge[xt>>>24]<<24|ge[lt>>>16&255]<<16|ge[Le>>>8&255]<<8|ge[it&255])^Y[re++],j[G]=Fe,j[G+1]=Ue,j[G+2]=Je,j[G+3]=xt},keySize:8});n.AES=t._createHelper(L)})();(function(){function n(f,A){var g=(this._lBlock>>>f^this._rBlock)&A;this._rBlock^=g,this._lBlock^=g<<f}function t(f,A){var g=(this._rBlock>>>f^this._lBlock)&A;this._lBlock^=g,this._rBlock^=g<<f}var e=bt,r=e.lib,i=r.WordArray,r=r.BlockCipher,o=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=r.extend({_doReset:function(){for(var f=this._key.words,A=[],g=0;56>g;g++){var m=s[g]-1;A[g]=f[m>>>5]>>>31-m%32&1}for(f=this._subKeys=[],m=0;16>m;m++){for(var b=f[m]=[],S=l[m],g=0;24>g;g++)b[g/6|0]|=A[(a[g]-1+S)%28]<<31-g%6,b[4+(g/6|0)]|=A[28+(a[g+24]-1+S)%28]<<31-g%6;for(b[0]=b[0]<<1|b[0]>>>31,g=1;7>g;g++)b[g]>>>=4*(g-1)+3;b[7]=b[7]<<5|b[7]>>>27}for(A=this._invSubKeys=[],g=0;16>g;g++)A[g]=f[15-g]},encryptBlock:function(f,A){this._doCryptBlock(f,A,this._subKeys)},decryptBlock:function(f,A){this._doCryptBlock(f,A,this._invSubKeys)},_doCryptBlock:function(f,A,g){this._lBlock=f[A],this._rBlock=f[A+1],n.call(this,4,252645135),n.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),n.call(this,1,1431655765);for(var m=0;16>m;m++){for(var b=g[m],S=this._lBlock,F=this._rBlock,R=0,B=0;8>B;B++)R|=u[B][((F^b[B])&d[B])>>>0];this._lBlock=F,this._rBlock=S^R}g=this._lBlock,this._lBlock=this._rBlock,this._rBlock=g,n.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),n.call(this,16,65535),n.call(this,4,252645135),f[A]=this._lBlock,f[A+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});e.DES=r._createHelper(h),o=o.TripleDES=r.extend({_doReset:function(){var f=this._key.words;this._des1=h.createEncryptor(i.create(f.slice(0,2))),this._des2=h.createEncryptor(i.create(f.slice(2,4))),this._des3=h.createEncryptor(i.create(f.slice(4,6)))},encryptBlock:function(f,A){this._des1.encryptBlock(f,A),this._des2.decryptBlock(f,A),this._des3.encryptBlock(f,A)},decryptBlock:function(f,A){this._des3.decryptBlock(f,A),this._des2.encryptBlock(f,A),this._des1.decryptBlock(f,A)},keySize:6,ivSize:2,blockSize:2}),e.TripleDES=r._createHelper(o)})();(function(){var n=bt,t=n.lib.WordArray;n.enc.Base64={stringify:function(e){var i=e.words,r=e.sigBytes,o=this._map;e.clamp(),e=[];for(var s=0;s<r;s+=3)for(var a=(i[s>>>2]>>>24-8*(s%4)&255)<<16|(i[s+1>>>2]>>>24-8*((s+1)%4)&255)<<8|i[s+2>>>2]>>>24-8*((s+2)%4)&255,l=0;4>l&&s+.75*l<r;l++)e.push(o.charAt(a>>>6*(3-l)&63));if(i=o.charAt(64))for(;e.length%4;)e.push(i);return e.join("")},parse:function(e){var i=e.length,r=this._map,o=r.charAt(64);o&&(o=e.indexOf(o),o!=-1&&(i=o));for(var o=[],s=0,a=0;a<i;a++)if(a%4){var l=r.indexOf(e.charAt(a-1))<<2*(a%4),u=r.indexOf(e.charAt(a))>>>6-2*(a%4);o[s>>>2]|=(l|u)<<24-8*(s%4),s++}return t.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(n){function t(h,f,A,g,m,b,S){return h=h+(f&A|~f&g)+m+S,(h<<b|h>>>32-b)+f}function e(h,f,A,g,m,b,S){return h=h+(f&g|A&~g)+m+S,(h<<b|h>>>32-b)+f}function i(h,f,A,g,m,b,S){return h=h+(f^A^g)+m+S,(h<<b|h>>>32-b)+f}function r(h,f,A,g,m,b,S){return h=h+(A^(f|~g))+m+S,(h<<b|h>>>32-b)+f}for(var o=bt,l=o.lib,s=l.WordArray,a=l.Hasher,l=o.algo,u=[],d=0;64>d;d++)u[d]=4294967296*n.abs(n.sin(d+1))|0;l=l.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(h,f){for(var A=0;16>A;A++){var g=f+A,m=h[g];h[g]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}var A=this._hash.words,g=h[f+0],m=h[f+1],b=h[f+2],S=h[f+3],F=h[f+4],R=h[f+5],B=h[f+6],P=h[f+7],L=h[f+8],j=h[f+9],G=h[f+10],Y=h[f+11],Z=h[f+12],_e=h[f+13],xe=h[f+14],qe=h[f+15],ge=A[0],ue=A[1],re=A[2],me=A[3],ge=t(ge,ue,re,me,g,7,u[0]),me=t(me,ge,ue,re,m,12,u[1]),re=t(re,me,ge,ue,b,17,u[2]),ue=t(ue,re,me,ge,S,22,u[3]),ge=t(ge,ue,re,me,F,7,u[4]),me=t(me,ge,ue,re,R,12,u[5]),re=t(re,me,ge,ue,B,17,u[6]),ue=t(ue,re,me,ge,P,22,u[7]),ge=t(ge,ue,re,me,L,7,u[8]),me=t(me,ge,ue,re,j,12,u[9]),re=t(re,me,ge,ue,G,17,u[10]),ue=t(ue,re,me,ge,Y,22,u[11]),ge=t(ge,ue,re,me,Z,7,u[12]),me=t(me,ge,ue,re,_e,12,u[13]),re=t(re,me,ge,ue,xe,17,u[14]),ue=t(ue,re,me,ge,qe,22,u[15]),ge=e(ge,ue,re,me,m,5,u[16]),me=e(me,ge,ue,re,B,9,u[17]),re=e(re,me,ge,ue,Y,14,u[18]),ue=e(ue,re,me,ge,g,20,u[19]),ge=e(ge,ue,re,me,R,5,u[20]),me=e(me,ge,ue,re,G,9,u[21]),re=e(re,me,ge,ue,qe,14,u[22]),ue=e(ue,re,me,ge,F,20,u[23]),ge=e(ge,ue,re,me,j,5,u[24]),me=e(me,ge,ue,re,xe,9,u[25]),re=e(re,me,ge,ue,S,14,u[26]),ue=e(ue,re,me,ge,L,20,u[27]),ge=e(ge,ue,re,me,_e,5,u[28]),me=e(me,ge,ue,re,b,9,u[29]),re=e(re,me,ge,ue,P,14,u[30]),ue=e(ue,re,me,ge,Z,20,u[31]),ge=i(ge,ue,re,me,R,4,u[32]),me=i(me,ge,ue,re,L,11,u[33]),re=i(re,me,ge,ue,Y,16,u[34]),ue=i(ue,re,me,ge,xe,23,u[35]),ge=i(ge,ue,re,me,m,4,u[36]),me=i(me,ge,ue,re,F,11,u[37]),re=i(re,me,ge,ue,P,16,u[38]),ue=i(ue,re,me,ge,G,23,u[39]),ge=i(ge,ue,re,me,_e,4,u[40]),me=i(me,ge,ue,re,g,11,u[41]),re=i(re,me,ge,ue,S,16,u[42]),ue=i(ue,re,me,ge,B,23,u[43]),ge=i(ge,ue,re,me,j,4,u[44]),me=i(me,ge,ue,re,Z,11,u[45]),re=i(re,me,ge,ue,qe,16,u[46]),ue=i(ue,re,me,ge,b,23,u[47]),ge=r(ge,ue,re,me,g,6,u[48]),me=r(me,ge,ue,re,P,10,u[49]),re=r(re,me,ge,ue,xe,15,u[50]),ue=r(ue,re,me,ge,R,21,u[51]),ge=r(ge,ue,re,me,Z,6,u[52]),me=r(me,ge,ue,re,S,10,u[53]),re=r(re,me,ge,ue,G,15,u[54]),ue=r(ue,re,me,ge,m,21,u[55]),ge=r(ge,ue,re,me,L,6,u[56]),me=r(me,ge,ue,re,qe,10,u[57]),re=r(re,me,ge,ue,B,15,u[58]),ue=r(ue,re,me,ge,_e,21,u[59]),ge=r(ge,ue,re,me,F,6,u[60]),me=r(me,ge,ue,re,Y,10,u[61]),re=r(re,me,ge,ue,b,15,u[62]),ue=r(ue,re,me,ge,j,21,u[63]);A[0]=A[0]+ge|0,A[1]=A[1]+ue|0,A[2]=A[2]+re|0,A[3]=A[3]+me|0},_doFinalize:function(){var h=this._data,f=h.words,A=8*this._nDataBytes,g=8*h.sigBytes;f[g>>>5]|=128<<24-g%32;var m=n.floor(A/4294967296);for(f[(g+64>>>9<<4)+15]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,f[(g+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,h.sigBytes=4*(f.length+1),this._process(),h=this._hash,f=h.words,A=0;4>A;A++)g=f[A],f[A]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360;return h},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}}),o.MD5=a._createHelper(l),o.HmacMD5=a._createHmacHelper(l)})(Math);(function(){var n=bt,r=n.lib,t=r.WordArray,e=r.Hasher,i=[],r=n.algo.SHA1=e.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(o,s){for(var a=this._hash.words,l=a[0],u=a[1],d=a[2],h=a[3],f=a[4],A=0;80>A;A++){if(16>A)i[A]=o[s+A]|0;else{var g=i[A-3]^i[A-8]^i[A-14]^i[A-16];i[A]=g<<1|g>>>31}g=(l<<5|l>>>27)+f+i[A],g=20>A?g+((u&d|~u&h)+1518500249):40>A?g+((u^d^h)+1859775393):60>A?g+((u&d|u&h|d&h)-1894007588):g+((u^d^h)-899497514),f=h,h=d,d=u<<30|u>>>2,u=l,l=g}a[0]=a[0]+l|0,a[1]=a[1]+u|0,a[2]=a[2]+d|0,a[3]=a[3]+h|0,a[4]=a[4]+f|0},_doFinalize:function(){var o=this._data,s=o.words,a=8*this._nDataBytes,l=8*o.sigBytes;return s[l>>>5]|=128<<24-l%32,s[(l+64>>>9<<4)+14]=Math.floor(a/4294967296),s[(l+64>>>9<<4)+15]=a,o.sigBytes=4*s.length,this._process(),this._hash},clone:function(){var o=e.clone.call(this);return o._hash=this._hash.clone(),o}});n.SHA1=e._createHelper(r),n.HmacSHA1=e._createHmacHelper(r)})();(function(n){for(var t=bt,A=t.lib,e=A.WordArray,i=A.Hasher,A=t.algo,r=[],o=[],s=function(m){return 4294967296*(m-(m|0))|0},a=2,l=0;64>l;){var u;e:{u=a;for(var d=n.sqrt(u),h=2;h<=d;h++)if(!(u%h)){u=!1;break e}u=!0}u&&(8>l&&(r[l]=s(n.pow(a,.5))),o[l]=s(n.pow(a,1/3)),l++),a++}var f=[],A=A.SHA256=i.extend({_doReset:function(){this._hash=new e.init(r.slice(0))},_doProcessBlock:function(g,m){for(var b=this._hash.words,S=b[0],F=b[1],R=b[2],B=b[3],P=b[4],L=b[5],j=b[6],G=b[7],Y=0;64>Y;Y++){if(16>Y)f[Y]=g[m+Y]|0;else{var Z=f[Y-15],_e=f[Y-2];f[Y]=((Z<<25|Z>>>7)^(Z<<14|Z>>>18)^Z>>>3)+f[Y-7]+((_e<<15|_e>>>17)^(_e<<13|_e>>>19)^_e>>>10)+f[Y-16]}Z=G+((P<<26|P>>>6)^(P<<21|P>>>11)^(P<<7|P>>>25))+(P&L^~P&j)+o[Y]+f[Y],_e=((S<<30|S>>>2)^(S<<19|S>>>13)^(S<<10|S>>>22))+(S&F^S&R^F&R),G=j,j=L,L=P,P=B+Z|0,B=R,R=F,F=S,S=Z+_e|0}b[0]=b[0]+S|0,b[1]=b[1]+F|0,b[2]=b[2]+R|0,b[3]=b[3]+B|0,b[4]=b[4]+P|0,b[5]=b[5]+L|0,b[6]=b[6]+j|0,b[7]=b[7]+G|0},_doFinalize:function(){var g=this._data,m=g.words,b=8*this._nDataBytes,S=8*g.sigBytes;return m[S>>>5]|=128<<24-S%32,m[(S+64>>>9<<4)+14]=n.floor(b/4294967296),m[(S+64>>>9<<4)+15]=b,g.sigBytes=4*m.length,this._process(),this._hash},clone:function(){var g=i.clone.call(this);return g._hash=this._hash.clone(),g}});t.SHA256=i._createHelper(A),t.HmacSHA256=i._createHmacHelper(A)})(Math);(function(){var n=bt,t=n.lib.WordArray,i=n.algo,e=i.SHA256,i=i.SHA224=e.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var r=e._doFinalize.call(this);return r.sigBytes-=4,r}});n.SHA224=e._createHelper(i),n.HmacSHA224=e._createHmacHelper(i)})();(function(){function n(){return i.create.apply(i,arguments)}for(var t=bt,e=t.lib.Hasher,o=t.x64,i=o.Word,r=o.WordArray,o=t.algo,s=[n(1116352408,3609767458),n(1899447441,602891725),n(3049323471,3964484399),n(3921009573,2173295548),n(961987163,4081628472),n(1508970993,3053834265),n(2453635748,2937671579),n(2870763221,3664609560),n(3624381080,2734883394),n(310598401,1164996542),n(607225278,1323610764),n(1426881987,3590304994),n(1925078388,4068182383),n(2162078206,991336113),n(2614888103,633803317),n(3248222580,3479774868),n(3835390401,2666613458),n(4022224774,944711139),n(264347078,2341262773),n(604807628,2007800933),n(770255983,1495990901),n(1249150122,1856431235),n(1555081692,3175218132),n(1996064986,2198950837),n(2554220882,3999719339),n(2821834349,766784016),n(2952996808,2566594879),n(3210313671,3203337956),n(3336571891,1034457026),n(3584528711,2466948901),n(113926993,3758326383),n(338241895,168717936),n(666307205,1188179964),n(773529912,1546045734),n(1294757372,1522805485),n(1396182291,2643833823),n(1695183700,2343527390),n(1986661051,1014477480),n(2177026350,1206759142),n(2456956037,344077627),n(2730485921,1290863460),n(2820302411,3158454273),n(3259730800,3505952657),n(3345764771,106217008),n(3516065817,3606008344),n(3600352804,1432725776),n(4094571909,1467031594),n(275423344,851169720),n(430227734,3100823752),n(506948616,1363258195),n(659060556,3750685593),n(883997877,3785050280),n(958139571,3318307427),n(1322822218,3812723403),n(1537002063,2003034995),n(1747873779,3602036899),n(1955562222,1575990012),n(2024104815,1125592928),n(2227730452,2716904306),n(2361852424,442776044),n(2428436474,593698344),n(2756734187,3733110249),n(3204031479,2999351573),n(3329325298,3815920427),n(3391569614,3928383900),n(3515267271,566280711),n(3940187606,3454069534),n(4118630271,4000239992),n(116418474,1914138554),n(174292421,2731055270),n(289380356,3203993006),n(460393269,320620315),n(685471733,587496836),n(852142971,1086792851),n(1017036298,365543100),n(1126000580,2618297676),n(1288033470,3409855158),n(1501505948,4234509866),n(1607167915,987167468),n(1816402316,1246189591)],a=[],l=0;80>l;l++)a[l]=n();o=o.SHA512=e.extend({_doReset:function(){this._hash=new r.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(u,d){for(var F=this._hash.words,h=F[0],f=F[1],A=F[2],g=F[3],m=F[4],b=F[5],S=F[6],F=F[7],R=h.high,B=h.low,P=f.high,L=f.low,j=A.high,G=A.low,Y=g.high,Z=g.low,_e=m.high,xe=m.low,qe=b.high,ge=b.low,me=S.high,re=S.low,ue=F.high,Fe=F.low,Ue=R,Je=B,xt=P,lt=L,Le=j,it=G,Xn=Y,Yt=Z,Jt=_e,Rt=xe,Sr=qe,Br=ge,Oo=me,Nc=re,Vu=ue,Fo=Fe,xr=0;80>xr;xr++){var ot=a[xr];if(16>xr)var yi=ot.high=u[d+2*xr]|0,Ht=ot.low=u[d+2*xr+1]|0;else{var yi=a[xr-15],Ht=yi.high,Bi=yi.low,yi=(Ht>>>1|Bi<<31)^(Ht>>>8|Bi<<24)^Ht>>>7,Bi=(Bi>>>1|Ht<<31)^(Bi>>>8|Ht<<24)^(Bi>>>7|Ht<<25),Is=a[xr-2],Ht=Is.high,Qn=Is.low,Is=(Ht>>>19|Qn<<13)^(Ht<<3|Qn>>>29)^Ht>>>6,Qn=(Qn>>>19|Ht<<13)^(Qn<<3|Ht>>>29)^(Qn>>>6|Ht<<26),Ht=a[xr-7],gl=Ht.high,Fi=a[xr-16],di=Fi.high,Fi=Fi.low,Ht=Bi+Ht.low,yi=yi+gl+(Ht>>>0<Bi>>>0?1:0),Ht=Ht+Qn,yi=yi+Is+(Ht>>>0<Qn>>>0?1:0),Ht=Ht+Fi,yi=yi+di+(Ht>>>0<Fi>>>0?1:0);ot.high=yi,ot.low=Ht}var gl=Jt&Sr^~Jt&Oo,Fi=Rt&Br^~Rt&Nc,ot=Ue&xt^Ue&Le^xt&Le,Pr=Je&lt^Je&it^lt&it,Bi=(Ue>>>28|Je<<4)^(Ue<<30|Je>>>2)^(Ue<<25|Je>>>7),Is=(Je>>>28|Ue<<4)^(Je<<30|Ue>>>2)^(Je<<25|Ue>>>7),Qn=s[xr],Rc=Qn.high,pr=Qn.low,Qn=Fo+((Rt>>>14|Jt<<18)^(Rt>>>18|Jt<<14)^(Rt<<23|Jt>>>9)),di=Vu+((Jt>>>14|Rt<<18)^(Jt>>>18|Rt<<14)^(Jt<<23|Rt>>>9))+(Qn>>>0<Fo>>>0?1:0),Qn=Qn+Fi,di=di+gl+(Qn>>>0<Fi>>>0?1:0),Qn=Qn+pr,di=di+Rc+(Qn>>>0<pr>>>0?1:0),Qn=Qn+Ht,di=di+yi+(Qn>>>0<Ht>>>0?1:0),Ht=Is+Pr,ot=Bi+ot+(Ht>>>0<Is>>>0?1:0),Vu=Oo,Fo=Nc,Oo=Sr,Nc=Br,Sr=Jt,Br=Rt,Rt=Yt+Qn|0,Jt=Xn+di+(Rt>>>0<Yt>>>0?1:0)|0,Xn=Le,Yt=it,Le=xt,it=lt,xt=Ue,lt=Je,Je=Qn+Ht|0,Ue=di+ot+(Je>>>0<Qn>>>0?1:0)|0}B=h.low=B+Je,h.high=R+Ue+(B>>>0<Je>>>0?1:0),L=f.low=L+lt,f.high=P+xt+(L>>>0<lt>>>0?1:0),G=A.low=G+it,A.high=j+Le+(G>>>0<it>>>0?1:0),Z=g.low=Z+Yt,g.high=Y+Xn+(Z>>>0<Yt>>>0?1:0),xe=m.low=xe+Rt,m.high=_e+Jt+(xe>>>0<Rt>>>0?1:0),ge=b.low=ge+Br,b.high=qe+Sr+(ge>>>0<Br>>>0?1:0),re=S.low=re+Nc,S.high=me+Oo+(re>>>0<Nc>>>0?1:0),Fe=F.low=Fe+Fo,F.high=ue+Vu+(Fe>>>0<Fo>>>0?1:0)},_doFinalize:function(){var u=this._data,d=u.words,h=8*this._nDataBytes,f=8*u.sigBytes;return d[f>>>5]|=128<<24-f%32,d[(f+128>>>10<<5)+30]=Math.floor(h/4294967296),d[(f+128>>>10<<5)+31]=h,u.sigBytes=4*d.length,this._process(),this._hash.toX32()},clone:function(){var u=e.clone.call(this);return u._hash=this._hash.clone(),u},blockSize:32}),t.SHA512=e._createHelper(o),t.HmacSHA512=e._createHmacHelper(o)})();(function(){var n=bt,r=n.x64,t=r.Word,e=r.WordArray,r=n.algo,i=r.SHA512,r=r.SHA384=i.extend({_doReset:function(){this._hash=new e.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var o=i._doFinalize.call(this);return o.sigBytes-=16,o}});n.SHA384=i._createHelper(r),n.HmacSHA384=i._createHmacHelper(r)})();(function(){var n=bt,u=n.lib,t=u.WordArray,e=u.Hasher,u=n.algo,i=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),r=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),s=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),a=t.create([0,1518500249,1859775393,2400959708,2840853838]),l=t.create([1352829926,1548603684,1836072691,2053994217,0]),u=u.RIPEMD160=e.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,h){for(var f=0;16>f;f++){var A=h+f,g=d[A];d[A]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var A=this._hash.words,g=a.words,m=l.words,b=i.words,S=r.words,F=o.words,R=s.words,B,P,L,j,G,Y,Z,_e,xe,qe;Y=B=A[0],Z=P=A[1],_e=L=A[2],xe=j=A[3],qe=G=A[4];for(var ge,f=0;80>f;f+=1)ge=B+d[h+b[f]]|0,ge=16>f?ge+((P^L^j)+g[0]):32>f?ge+((P&L|~P&j)+g[1]):48>f?ge+(((P|~L)^j)+g[2]):64>f?ge+((P&j|L&~j)+g[3]):ge+((P^(L|~j))+g[4]),ge|=0,ge=ge<<F[f]|ge>>>32-F[f],ge=ge+G|0,B=G,G=j,j=L<<10|L>>>22,L=P,P=ge,ge=Y+d[h+S[f]]|0,ge=16>f?ge+((Z^(_e|~xe))+m[0]):32>f?ge+((Z&xe|_e&~xe)+m[1]):48>f?ge+(((Z|~_e)^xe)+m[2]):64>f?ge+((Z&_e|~Z&xe)+m[3]):ge+((Z^_e^xe)+m[4]),ge|=0,ge=ge<<R[f]|ge>>>32-R[f],ge=ge+qe|0,Y=qe,qe=xe,xe=_e<<10|_e>>>22,_e=Z,Z=ge;ge=A[1]+L+xe|0,A[1]=A[2]+j+qe|0,A[2]=A[3]+G+Y|0,A[3]=A[4]+B+Z|0,A[4]=A[0]+P+_e|0,A[0]=ge},_doFinalize:function(){var d=this._data,h=d.words,f=8*this._nDataBytes,A=8*d.sigBytes;for(h[A>>>5]|=128<<24-A%32,h[(A+64>>>9<<4)+14]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,d.sigBytes=4*(h.length+1),this._process(),d=this._hash,h=d.words,f=0;5>f;f++)A=h[f],h[f]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360;return d},clone:function(){var d=e.clone.call(this);return d._hash=this._hash.clone(),d}});n.RIPEMD160=e._createHelper(u),n.HmacRIPEMD160=e._createHmacHelper(u)})(Math);(function(){var n=bt,t=n.enc.Utf8;n.algo.HMAC=n.lib.Base.extend({init:function(e,i){e=this._hasher=new e.init,typeof i=="string"&&(i=t.parse(i));var r=e.blockSize,o=4*r;i.sigBytes>o&&(i=e.finalize(i)),i.clamp();for(var s=this._oKey=i.clone(),a=this._iKey=i.clone(),l=s.words,u=a.words,d=0;d<r;d++)l[d]^=1549556828,u[d]^=909522486;s.sigBytes=a.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var i=this._hasher;return e=i.finalize(e),i.reset(),i.finalize(this._oKey.clone().concat(e))}})})();(function(){var n=bt,i=n.lib,t=i.Base,e=i.WordArray,i=n.algo,r=i.HMAC,o=i.PBKDF2=t.extend({cfg:t.extend({keySize:4,hasher:i.SHA1,iterations:1}),init:function(s){this.cfg=this.cfg.extend(s)},compute:function(s,a){for(var g=this.cfg,l=r.create(g.hasher,s),u=e.create(),d=e.create([1]),h=u.words,f=d.words,A=g.keySize,g=g.iterations;h.length<A;){var m=l.update(a).finalize(d);l.reset();for(var b=m.words,S=b.length,F=m,R=1;R<g;R++){F=l.finalize(F),l.reset();for(var B=F.words,P=0;P<S;P++)b[P]^=B[P]}u.concat(m),f[0]++}return u.sigBytes=4*A,u}});n.PBKDF2=function(s,a,l){return o.create(l).compute(s,a)}})();var rb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q8="=";function Np(n){var t,e,i="";for(t=0;t+3<=n.length;t+=3)e=parseInt(n.substring(t,t+3),16),i+=rb.charAt(e>>6)+rb.charAt(e&63);if(t+1==n.length?(e=parseInt(n.substring(t,t+1),16),i+=rb.charAt(e<<2)):t+2==n.length&&(e=parseInt(n.substring(t,t+2),16),i+=rb.charAt(e>>2)+rb.charAt((e&3)<<4)),Q8)for(;(i.length&3)>0;)i+=Q8;return i}function sb(n){var t="",e,i=0,r,o;for(e=0;e<n.length&&n.charAt(e)!=Q8;++e)o=rb.indexOf(n.charAt(e)),!(o<0)&&(i==0?(t+=kp(o>>2),r=o&3,i=1):i==1?(t+=kp(r<<2|o>>4),r=o&15,i=2):i==2?(t+=kp(r),t+=kp(o>>2),r=o&3,i=3):(t+=kp(r<<2|o>>4),t+=kp(o&15),i=0));return i==1&&(t+=kp(r<<2)),t}function oae(n){var t=sb(n),e,i=new Array;for(e=0;2*e<t.length;++e)i[e]=parseInt(t.substring(2*e,2*e+2),16);return i}var Hg,F5e=0xdeadbeefcafe,nae=(F5e&16777215)==15715070;function Ce(n,t,e){n!=null&&(typeof n=="number"?this.fromNumber(n,t,e):t==null&&typeof n!="string"?this.fromString(n,256):this.fromString(n,t))}function Yn(){return new Ce(null)}function B5e(n,t,e,i,r,o){for(;--o>=0;){var s=t*this[n++]+e[i]+r;r=Math.floor(s/67108864),e[i++]=s&67108863}return r}function P5e(n,t,e,i,r,o){for(var s=t&32767,a=t>>15;--o>=0;){var l=this[n]&32767,u=this[n++]>>15,d=a*l+u*s;l=s*l+((d&32767)<<15)+e[i]+(r&1073741823),r=(l>>>30)+(d>>>15)+a*u+(r>>>30),e[i++]=l&1073741823}return r}function k5e(n,t,e,i,r,o){for(var s=t&16383,a=t>>14;--o>=0;){var l=this[n]&16383,u=this[n++]>>14,d=a*l+u*s;l=s*l+((d&16383)<<14)+e[i]+r,r=(l>>28)+(d>>14)+a*u,e[i++]=l&268435455}return r}nae&&qx.appName=="Microsoft Internet Explorer"?(Ce.prototype.am=P5e,Hg=30):nae&&qx.appName!="Netscape"?(Ce.prototype.am=B5e,Hg=26):(Ce.prototype.am=k5e,Hg=28);Ce.prototype.DB=Hg;Ce.prototype.DM=(1<<Hg)-1;Ce.prototype.DV=1<<Hg;var K8=52;Ce.prototype.FV=Math.pow(2,K8);Ce.prototype.F1=K8-Hg;Ce.prototype.F2=2*Hg-K8;var N5e="0123456789abcdefghijklmnopqrstuvwxyz",tP=new Array,ab,Pu;ab=48;for(Pu=0;Pu<=9;++Pu)tP[ab++]=Pu;ab=97;for(Pu=10;Pu<36;++Pu)tP[ab++]=Pu;ab=65;for(Pu=10;Pu<36;++Pu)tP[ab++]=Pu;function kp(n){return N5e.charAt(n)}function sae(n,t){var e=tP[n.charCodeAt(t)];return e??-1}function R5e(n){for(var t=this.t-1;t>=0;--t)n[t]=this[t];n.t=this.t,n.s=this.s}function L5e(n){this.t=1,this.s=n<0?-1:0,n>0?this[0]=n:n<-1?this[0]=n+this.DV:this.t=0}function Ug(n){var t=Yn();return t.fromInt(n),t}function U5e(n,t){var e;if(t==16)e=4;else if(t==8)e=3;else if(t==256)e=8;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else{this.fromRadix(n,t);return}this.t=0,this.s=0;for(var i=n.length,r=!1,o=0;--i>=0;){var s=e==8?n[i]&255:sae(n,i);if(s<0){n.charAt(i)=="-"&&(r=!0);continue}r=!1,o==0?this[this.t++]=s:o+e>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,o+=e,o>=this.DB&&(o-=this.DB)}e==8&&n[0]&128&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),r&&Ce.ZERO.subTo(this,this)}function H5e(){for(var n=this.s&this.DM;this.t>0&&this[this.t-1]==n;)--this.t}function V5e(n){if(this.s<0)return"-"+this.negate().toString(n);var t;if(n==16)t=4;else if(n==8)t=3;else if(n==2)t=1;else if(n==32)t=5;else if(n==4)t=2;else return this.toRadix(n);var e=(1<<t)-1,i,r=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(i=this[s]>>a)>0&&(r=!0,o=kp(i));s>=0;)a<t?(i=(this[s]&(1<<a)-1)<<t-a,i|=this[--s]>>(a+=this.DB-t)):(i=this[s]>>(a-=t)&e,a<=0&&(a+=this.DB,--s)),i>0&&(r=!0),r&&(o+=kp(i));return r?o:"0"}function Q5e(){var n=Yn();return Ce.ZERO.subTo(this,n),n}function j5e(){return this.s<0?this.negate():this}function G5e(n){var t=this.s-n.s;if(t!=0)return t;var e=this.t;if(t=e-n.t,t!=0)return this.s<0?-t:t;for(;--e>=0;)if((t=this[e]-n[e])!=0)return t;return 0}function nP(n){var t=1,e;return(e=n>>>16)!=0&&(n=e,t+=16),(e=n>>8)!=0&&(n=e,t+=8),(e=n>>4)!=0&&(n=e,t+=4),(e=n>>2)!=0&&(n=e,t+=2),(e=n>>1)!=0&&(n=e,t+=1),t}function W5e(){return this.t<=0?0:this.DB*(this.t-1)+nP(this[this.t-1]^this.s&this.DM)}function K5e(n,t){var e;for(e=this.t-1;e>=0;--e)t[e+n]=this[e];for(e=n-1;e>=0;--e)t[e]=0;t.t=this.t+n,t.s=this.s}function z5e(n,t){for(var e=n;e<this.t;++e)t[e-n]=this[e];t.t=Math.max(this.t-n,0),t.s=this.s}function q5e(n,t){var e=n%this.DB,i=this.DB-e,r=(1<<i)-1,o=Math.floor(n/this.DB),s=this.s<<e&this.DM,a;for(a=this.t-1;a>=0;--a)t[a+o+1]=this[a]>>i|s,s=(this[a]&r)<<e;for(a=o-1;a>=0;--a)t[a]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()}function $5e(n,t){t.s=this.s;var e=Math.floor(n/this.DB);if(e>=this.t){t.t=0;return}var i=n%this.DB,r=this.DB-i,o=(1<<i)-1;t[0]=this[e]>>i;for(var s=e+1;s<this.t;++s)t[s-e-1]|=(this[s]&o)<<r,t[s-e]=this[s]>>i;i>0&&(t[this.t-e-1]|=(this.s&o)<<r),t.t=this.t-e,t.clamp()}function Y5e(n,t){for(var e=0,i=0,r=Math.min(n.t,this.t);e<r;)i+=this[e]-n[e],t[e++]=i&this.DM,i>>=this.DB;if(n.t<this.t){for(i-=n.s;e<this.t;)i+=this[e],t[e++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;e<n.t;)i-=n[e],t[e++]=i&this.DM,i>>=this.DB;i-=n.s}t.s=i<0?-1:0,i<-1?t[e++]=this.DV+i:i>0&&(t[e++]=i),t.t=e,t.clamp()}function Z5e(n,t){var e=this.abs(),i=n.abs(),r=e.t;for(t.t=r+i.t;--r>=0;)t[r]=0;for(r=0;r<i.t;++r)t[r+e.t]=e.am(0,i[r],t,r,0,e.t);t.s=0,t.clamp(),this.s!=n.s&&Ce.ZERO.subTo(t,t)}function X5e(n){for(var t=this.abs(),e=n.t=2*t.t;--e>=0;)n[e]=0;for(e=0;e<t.t-1;++e){var i=t.am(e,t[e],n,2*e,0,1);(n[e+t.t]+=t.am(e+1,2*t[e],n,2*e+1,i,t.t-e-1))>=t.DV&&(n[e+t.t]-=t.DV,n[e+t.t+1]=1)}n.t>0&&(n[n.t-1]+=t.am(e,t[e],n,2*e,0,1)),n.s=0,n.clamp()}function J5e(n,t,e){var i=n.abs();if(!(i.t<=0)){var r=this.abs();if(r.t<i.t){t?.fromInt(0),e!=null&&this.copyTo(e);return}e==null&&(e=Yn());var o=Yn(),s=this.s,a=n.s,l=this.DB-nP(i[i.t-1]);l>0?(i.lShiftTo(l,o),r.lShiftTo(l,e)):(i.copyTo(o),r.copyTo(e));var u=o.t,d=o[u-1];if(d!=0){var h=d*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),f=this.FV/h,A=(1<<this.F1)/h,g=1<<this.F2,m=e.t,b=m-u,S=t??Yn();for(o.dlShiftTo(b,S),e.compareTo(S)>=0&&(e[e.t++]=1,e.subTo(S,e)),Ce.ONE.dlShiftTo(u,S),S.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--b>=0;){var F=e[--m]==d?this.DM:Math.floor(e[m]*f+(e[m-1]+g)*A);if((e[m]+=o.am(0,F,e,b,0,u))<F)for(o.dlShiftTo(b,S),e.subTo(S,e);e[m]<--F;)e.subTo(S,e)}t!=null&&(e.drShiftTo(u,t),s!=a&&Ce.ZERO.subTo(t,t)),e.t=u,e.clamp(),l>0&&e.rShiftTo(l,e),s<0&&Ce.ZERO.subTo(e,e)}}}function eHe(n){var t=Yn();return this.abs().divRemTo(n,null,t),this.s<0&&t.compareTo(Ce.ZERO)>0&&n.subTo(t,t),t}function qv(n){this.m=n}function tHe(n){return n.s<0||n.compareTo(this.m)>=0?n.mod(this.m):n}function nHe(n){return n}function iHe(n){n.divRemTo(this.m,null,n)}function rHe(n,t,e){n.multiplyTo(t,e),this.reduce(e)}function oHe(n,t){n.squareTo(t),this.reduce(t)}qv.prototype.convert=tHe;qv.prototype.revert=nHe;qv.prototype.reduce=iHe;qv.prototype.mulTo=rHe;qv.prototype.sqrTo=oHe;function sHe(){if(this.t<1)return 0;var n=this[0];if(!(n&1))return 0;var t=n&3;return t=t*(2-(n&15)*t)&15,t=t*(2-(n&255)*t)&255,t=t*(2-((n&65535)*t&65535))&65535,t=t*(2-n*t%this.DV)%this.DV,t>0?this.DV-t:-t}function $v(n){this.m=n,this.mp=n.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<n.DB-15)-1,this.mt2=2*n.t}function aHe(n){var t=Yn();return n.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),n.s<0&&t.compareTo(Ce.ZERO)>0&&this.m.subTo(t,t),t}function lHe(n){var t=Yn();return n.copyTo(t),this.reduce(t),t}function cHe(n){for(;n.t<=this.mt2;)n[n.t++]=0;for(var t=0;t<this.m.t;++t){var e=n[t]&32767,i=e*this.mpl+((e*this.mph+(n[t]>>15)*this.mpl&this.um)<<15)&n.DM;for(e=t+this.m.t,n[e]+=this.m.am(0,i,n,t,0,this.m.t);n[e]>=n.DV;)n[e]-=n.DV,n[++e]++}n.clamp(),n.drShiftTo(this.m.t,n),n.compareTo(this.m)>=0&&n.subTo(this.m,n)}function uHe(n,t){n.squareTo(t),this.reduce(t)}function dHe(n,t,e){n.multiplyTo(t,e),this.reduce(e)}$v.prototype.convert=aHe;$v.prototype.revert=lHe;$v.prototype.reduce=cHe;$v.prototype.mulTo=dHe;$v.prototype.sqrTo=uHe;function hHe(){return(this.t>0?this[0]&1:this.s)==0}function fHe(n,t){if(n>4294967295||n<1)return Ce.ONE;var e=Yn(),i=Yn(),r=t.convert(this),o=nP(n)-1;for(r.copyTo(e);--o>=0;)if(t.sqrTo(e,i),(n&1<<o)>0)t.mulTo(i,r,e);else{var s=e;e=i,i=s}return t.revert(e)}function pHe(n,t){var e;return n<256||t.isEven()?e=new qv(t):e=new $v(t),this.exp(n,e)}Ce.prototype.copyTo=R5e;Ce.prototype.fromInt=L5e;Ce.prototype.fromString=U5e;Ce.prototype.clamp=H5e;Ce.prototype.dlShiftTo=K5e;Ce.prototype.drShiftTo=z5e;Ce.prototype.lShiftTo=q5e;Ce.prototype.rShiftTo=$5e;Ce.prototype.subTo=Y5e;Ce.prototype.multiplyTo=Z5e;Ce.prototype.squareTo=X5e;Ce.prototype.divRemTo=J5e;Ce.prototype.invDigit=sHe;Ce.prototype.isEven=hHe;Ce.prototype.exp=fHe;Ce.prototype.toString=V5e;Ce.prototype.negate=Q5e;Ce.prototype.abs=j5e;Ce.prototype.compareTo=G5e;Ce.prototype.bitLength=W5e;Ce.prototype.mod=eHe;Ce.prototype.modPowInt=pHe;Ce.ZERO=Ug(0);Ce.ONE=Ug(1);function AHe(){var n=Yn();return this.copyTo(n),n}function gHe(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function mHe(){return this.t==0?this.s:this[0]<<24>>24}function vHe(){return this.t==0?this.s:this[0]<<16>>16}function _He(n){return Math.floor(Math.LN2*this.DB/Math.log(n))}function yHe(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function wHe(n){if(n==null&&(n=10),this.signum()==0||n<2||n>36)return"0";var t=this.chunkSize(n),e=Math.pow(n,t),i=Ug(e),r=Yn(),o=Yn(),s="";for(this.divRemTo(i,r,o);r.signum()>0;)s=(e+o.intValue()).toString(n).substr(1)+s,r.divRemTo(i,r,o);return o.intValue().toString(n)+s}function bHe(n,t){this.fromInt(0),t==null&&(t=10);for(var e=this.chunkSize(t),i=Math.pow(t,e),r=!1,o=0,s=0,a=0;a<n.length;++a){var l=sae(n,a);if(l<0){n.charAt(a)=="-"&&this.signum()==0&&(r=!0);continue}s=t*s+l,++o>=e&&(this.dMultiply(i),this.dAddOffset(s,0),o=0,s=0)}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(s,0)),r&&Ce.ZERO.subTo(this,this)}function CHe(n,t,e){if(typeof t=="number")if(n<2)this.fromInt(1);else for(this.fromNumber(n,e),this.testBit(n-1)||this.bitwiseTo(Ce.ONE.shiftLeft(n-1),z8,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>n&&this.subTo(Ce.ONE.shiftLeft(n-1),this);else{var i=new Array,r=n&7;i.length=(n>>3)+1,t.nextBytes(i),r>0?i[0]&=(1<<r)-1:i[0]=0,this.fromString(i,256)}}function EHe(){var n=this.t,t=new Array;t[0]=this.s;var e=this.DB-n*this.DB%8,i,r=0;if(n-- >0)for(e<this.DB&&(i=this[n]>>e)!=(this.s&this.DM)>>e&&(t[r++]=i|this.s<<this.DB-e);n>=0;)e<8?(i=(this[n]&(1<<e)-1)<<8-e,i|=this[--n]>>(e+=this.DB-8)):(i=this[n]>>(e-=8)&255,e<=0&&(e+=this.DB,--n)),i&128&&(i|=-256),r==0&&(this.s&128)!=(i&128)&&++r,(r>0||i!=this.s)&&(t[r++]=i);return t}function SHe(n){return this.compareTo(n)==0}function xHe(n){return this.compareTo(n)<0?this:n}function IHe(n){return this.compareTo(n)>0?this:n}function THe(n,t,e){var i,r,o=Math.min(n.t,this.t);for(i=0;i<o;++i)e[i]=t(this[i],n[i]);if(n.t<this.t){for(r=n.s&this.DM,i=o;i<this.t;++i)e[i]=t(this[i],r);e.t=this.t}else{for(r=this.s&this.DM,i=o;i<n.t;++i)e[i]=t(r,n[i]);e.t=n.t}e.s=t(this.s,n.s),e.clamp()}function DHe(n,t){return n&t}function MHe(n){var t=Yn();return this.bitwiseTo(n,DHe,t),t}function z8(n,t){return n|t}function OHe(n){var t=Yn();return this.bitwiseTo(n,z8,t),t}function aae(n,t){return n^t}function FHe(n){var t=Yn();return this.bitwiseTo(n,aae,t),t}function lae(n,t){return n&~t}function BHe(n){var t=Yn();return this.bitwiseTo(n,lae,t),t}function PHe(){for(var n=Yn(),t=0;t<this.t;++t)n[t]=this.DM&~this[t];return n.t=this.t,n.s=~this.s,n}function kHe(n){var t=Yn();return n<0?this.rShiftTo(-n,t):this.lShiftTo(n,t),t}function NHe(n){var t=Yn();return n<0?this.lShiftTo(-n,t):this.rShiftTo(n,t),t}function RHe(n){if(n==0)return-1;var t=0;return n&65535||(n>>=16,t+=16),n&255||(n>>=8,t+=8),n&15||(n>>=4,t+=4),n&3||(n>>=2,t+=2),n&1||++t,t}function LHe(){for(var n=0;n<this.t;++n)if(this[n]!=0)return n*this.DB+RHe(this[n]);return this.s<0?this.t*this.DB:-1}function UHe(n){for(var t=0;n!=0;)n&=n-1,++t;return t}function HHe(){for(var n=0,t=this.s&this.DM,e=0;e<this.t;++e)n+=UHe(this[e]^t);return n}function VHe(n){var t=Math.floor(n/this.DB);return t>=this.t?this.s!=0:(this[t]&1<<n%this.DB)!=0}function QHe(n,t){var e=Ce.ONE.shiftLeft(n);return this.bitwiseTo(e,t,e),e}function jHe(n){return this.changeBit(n,z8)}function GHe(n){return this.changeBit(n,lae)}function WHe(n){return this.changeBit(n,aae)}function KHe(n,t){for(var e=0,i=0,r=Math.min(n.t,this.t);e<r;)i+=this[e]+n[e],t[e++]=i&this.DM,i>>=this.DB;if(n.t<this.t){for(i+=n.s;e<this.t;)i+=this[e],t[e++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;e<n.t;)i+=n[e],t[e++]=i&this.DM,i>>=this.DB;i+=n.s}t.s=i<0?-1:0,i>0?t[e++]=i:i<-1&&(t[e++]=this.DV+i),t.t=e,t.clamp()}function zHe(n){var t=Yn();return this.addTo(n,t),t}function qHe(n){var t=Yn();return this.subTo(n,t),t}function $He(n){var t=Yn();return this.multiplyTo(n,t),t}function YHe(){var n=Yn();return this.squareTo(n),n}function ZHe(n){var t=Yn();return this.divRemTo(n,t,null),t}function XHe(n){var t=Yn();return this.divRemTo(n,null,t),t}function JHe(n){var t=Yn(),e=Yn();return this.divRemTo(n,t,e),new Array(t,e)}function e6e(n){this[this.t]=this.am(0,n-1,this,0,0,this.t),++this.t,this.clamp()}function t6e(n,t){if(n!=0){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=n;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function Yx(){}function cae(n){return n}function n6e(n,t,e){n.multiplyTo(t,e)}function i6e(n,t){n.squareTo(t)}Yx.prototype.convert=cae;Yx.prototype.revert=cae;Yx.prototype.mulTo=n6e;Yx.prototype.sqrTo=i6e;function r6e(n){return this.exp(n,new Yx)}function o6e(n,t,e){var i=Math.min(this.t+n.t,t);for(e.s=0,e.t=i;i>0;)e[--i]=0;var r;for(r=e.t-this.t;i<r;++i)e[i+this.t]=this.am(0,n[i],e,i,0,this.t);for(r=Math.min(n.t,t);i<r;++i)this.am(0,n[i],e,i,0,t-i);e.clamp()}function s6e(n,t,e){--t;var i=e.t=this.t+n.t-t;for(e.s=0;--i>=0;)e[i]=0;for(i=Math.max(t-this.t,0);i<n.t;++i)e[this.t+i-t]=this.am(t-i,n[i],e,0,0,this.t+i-t);e.clamp(),e.drShiftTo(1,e)}function lb(n){this.r2=Yn(),this.q3=Yn(),Ce.ONE.dlShiftTo(2*n.t,this.r2),this.mu=this.r2.divide(n),this.m=n}function a6e(n){if(n.s<0||n.t>2*this.m.t)return n.mod(this.m);if(n.compareTo(this.m)<0)return n;var t=Yn();return n.copyTo(t),this.reduce(t),t}function l6e(n){return n}function c6e(n){for(n.drShiftTo(this.m.t-1,this.r2),n.t>this.m.t+1&&(n.t=this.m.t+1,n.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);n.compareTo(this.r2)<0;)n.dAddOffset(1,this.m.t+1);for(n.subTo(this.r2,n);n.compareTo(this.m)>=0;)n.subTo(this.m,n)}function u6e(n,t){n.squareTo(t),this.reduce(t)}function d6e(n,t,e){n.multiplyTo(t,e),this.reduce(e)}lb.prototype.convert=a6e;lb.prototype.revert=l6e;lb.prototype.reduce=c6e;lb.prototype.mulTo=d6e;lb.prototype.sqrTo=u6e;function h6e(n,t){var e=n.bitLength(),i,r=Ug(1),o;if(e<=0)return r;e<18?i=1:e<48?i=3:e<144?i=4:e<768?i=5:i=6,e<8?o=new qv(t):t.isEven()?o=new lb(t):o=new $v(t);var s=new Array,a=3,l=i-1,u=(1<<i)-1;if(s[1]=o.convert(this),i>1){var d=Yn();for(o.sqrTo(s[1],d);a<=u;)s[a]=Yn(),o.mulTo(d,s[a-2],s[a]),a+=2}var h=n.t-1,f,A=!0,g=Yn(),m;for(e=nP(n[h])-1;h>=0;){for(e>=l?f=n[h]>>e-l&u:(f=(n[h]&(1<<e+1)-1)<<l-e,h>0&&(f|=n[h-1]>>this.DB+e-l)),a=i;!(f&1);)f>>=1,--a;if((e-=a)<0&&(e+=this.DB,--h),A)s[f].copyTo(r),A=!1;else{for(;a>1;)o.sqrTo(r,g),o.sqrTo(g,r),a-=2;a>0?o.sqrTo(r,g):(m=r,r=g,g=m),o.mulTo(g,s[f],r)}for(;h>=0&&!(n[h]&1<<e);)o.sqrTo(r,g),m=r,r=g,g=m,--e<0&&(e=this.DB-1,--h)}return o.revert(r)}function f6e(n){var t=this.s<0?this.negate():this.clone(),e=n.s<0?n.negate():n.clone();if(t.compareTo(e)<0){var i=t;t=e,e=i}var r=t.getLowestSetBit(),o=e.getLowestSetBit();if(o<0)return t;for(r<o&&(o=r),o>0&&(t.rShiftTo(o,t),e.rShiftTo(o,e));t.signum()>0;)(r=t.getLowestSetBit())>0&&t.rShiftTo(r,t),(r=e.getLowestSetBit())>0&&e.rShiftTo(r,e),t.compareTo(e)>=0?(t.subTo(e,t),t.rShiftTo(1,t)):(e.subTo(t,e),e.rShiftTo(1,e));return o>0&&e.lShiftTo(o,e),e}function p6e(n){if(n<=0)return 0;var t=this.DV%n,e=this.s<0?n-1:0;if(this.t>0)if(t==0)e=this[0]%n;else for(var i=this.t-1;i>=0;--i)e=(t*e+this[i])%n;return e}function A6e(n){var t=n.isEven();if(this.isEven()&&t||n.signum()==0)return Ce.ZERO;for(var e=n.clone(),i=this.clone(),r=Ug(1),o=Ug(0),s=Ug(0),a=Ug(1);e.signum()!=0;){for(;e.isEven();)e.rShiftTo(1,e),t?((!r.isEven()||!o.isEven())&&(r.addTo(this,r),o.subTo(n,o)),r.rShiftTo(1,r)):o.isEven()||o.subTo(n,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),t?((!s.isEven()||!a.isEven())&&(s.addTo(this,s),a.subTo(n,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(n,a),a.rShiftTo(1,a);e.compareTo(i)>=0?(e.subTo(i,e),t&&r.subTo(s,r),o.subTo(a,o)):(i.subTo(e,i),t&&s.subTo(r,s),a.subTo(o,a))}if(i.compareTo(Ce.ONE)!=0)return Ce.ZERO;if(a.compareTo(n)>=0)return a.subtract(n);if(a.signum()<0)a.addTo(n,a);else return a;return a.signum()<0?a.add(n):a}var fl=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],g6e=(1<<26)/fl[fl.length-1];function m6e(n){var t,e=this.abs();if(e.t==1&&e[0]<=fl[fl.length-1]){for(t=0;t<fl.length;++t)if(e[0]==fl[t])return!0;return!1}if(e.isEven())return!1;for(t=1;t<fl.length;){for(var i=fl[t],r=t+1;r<fl.length&&i<g6e;)i*=fl[r++];for(i=e.modInt(i);t<r;)if(i%fl[t++]==0)return!1}return e.millerRabin(n)}function v6e(n){var t=this.subtract(Ce.ONE),e=t.getLowestSetBit();if(e<=0)return!1;var i=t.shiftRight(e);n=n+1>>1,n>fl.length&&(n=fl.length);for(var r=Yn(),o=0;o<n;++o){r.fromInt(fl[Math.floor(Math.random()*fl.length)]);var s=r.modPow(i,this);if(s.compareTo(Ce.ONE)!=0&&s.compareTo(t)!=0){for(var a=1;a++<e&&s.compareTo(t)!=0;)if(s=s.modPowInt(2,this),s.compareTo(Ce.ONE)==0)return!1;if(s.compareTo(t)!=0)return!1}}return!0}Ce.prototype.chunkSize=_He;Ce.prototype.toRadix=wHe;Ce.prototype.fromRadix=bHe;Ce.prototype.fromNumber=CHe;Ce.prototype.bitwiseTo=THe;Ce.prototype.changeBit=QHe;Ce.prototype.addTo=KHe;Ce.prototype.dMultiply=e6e;Ce.prototype.dAddOffset=t6e;Ce.prototype.multiplyLowerTo=o6e;Ce.prototype.multiplyUpperTo=s6e;Ce.prototype.modInt=p6e;Ce.prototype.millerRabin=v6e;Ce.prototype.clone=AHe;Ce.prototype.intValue=gHe;Ce.prototype.byteValue=mHe;Ce.prototype.shortValue=vHe;Ce.prototype.signum=yHe;Ce.prototype.toByteArray=EHe;Ce.prototype.equals=SHe;Ce.prototype.min=xHe;Ce.prototype.max=IHe;Ce.prototype.and=MHe;Ce.prototype.or=OHe;Ce.prototype.xor=FHe;Ce.prototype.andNot=BHe;Ce.prototype.not=PHe;Ce.prototype.shiftLeft=kHe;Ce.prototype.shiftRight=NHe;Ce.prototype.getLowestSetBit=LHe;Ce.prototype.bitCount=HHe;Ce.prototype.testBit=VHe;Ce.prototype.setBit=jHe;Ce.prototype.clearBit=GHe;Ce.prototype.flipBit=WHe;Ce.prototype.add=zHe;Ce.prototype.subtract=qHe;Ce.prototype.multiply=$He;Ce.prototype.divide=ZHe;Ce.prototype.remainder=XHe;Ce.prototype.divideAndRemainder=JHe;Ce.prototype.modPow=h6e;Ce.prototype.modInverse=A6e;Ce.prototype.pow=r6e;Ce.prototype.gcd=f6e;Ce.prototype.isProbablePrime=m6e;Ce.prototype.square=YHe;function q8(){this.i=0,this.j=0,this.S=new Array}function _6e(n){var t,e,i;for(t=0;t<256;++t)this.S[t]=t;for(e=0,t=0;t<256;++t)e=e+this.S[t]+n[t%n.length]&255,i=this.S[t],this.S[t]=this.S[e],this.S[e]=i;this.i=0,this.j=0}function y6e(){var n;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,n=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=n,this.S[n+this.S[this.i]&255]}q8.prototype.init=_6e;q8.prototype.next=y6e;function w6e(){return new q8}var j8=256;var JB,Mc,Ss;function b6e(n){Mc[Ss++]^=n&255,Mc[Ss++]^=n>>8&255,Mc[Ss++]^=n>>16&255,Mc[Ss++]^=n>>24&255,Ss>=j8&&(Ss-=j8)}function $8(){b6e(new Date().getTime())}if(Mc==null){if(Mc=new Array,Ss=0,ib!==void 0&&(ib.crypto!==void 0||ib.msCrypto!==void 0)){if(U8=ib.crypto||ib.msCrypto,U8.getRandomValues)for(H8=new Uint8Array(32),U8.getRandomValues(H8),Bu=0;Bu<32;++Bu)Mc[Ss++]=H8[Bu];else if(qx.appName=="Netscape"&&qx.appVersion<"5")for(V8=ib.crypto.random(32),Bu=0;Bu<V8.length;++Bu)Mc[Ss++]=V8.charCodeAt(Bu)&255}for(;Ss<j8;)Bu=Math.floor(65536*Math.random()),Mc[Ss++]=Bu>>>8,Mc[Ss++]=Bu&255;Ss=0,$8()}var Bu,U8,H8,V8;function C6e(){if(JB==null){for($8(),JB=w6e(),JB.init(Mc),Ss=0;Ss<Mc.length;++Ss)Mc[Ss]=0;Ss=0}return JB.next()}function E6e(n){var t;for(t=0;t<n.length;++t)n[t]=C6e()}function Vg(){}Vg.prototype.nextBytes=E6e;function Ba(n,t){return new Ce(n,t)}function S6e(n,t){if(t<n.length+11)throw"Message too long for RSA";for(var e=new Array,i=n.length-1;i>=0&&t>0;){var r=n.charCodeAt(i--);r<128?e[--t]=r:r>127&&r<2048?(e[--t]=r&63|128,e[--t]=r>>6|192):(e[--t]=r&63|128,e[--t]=r>>6&63|128,e[--t]=r>>12|224)}e[--t]=0;for(var o=new Vg,s=new Array;t>2;){for(s[0]=0;s[0]==0;)o.nextBytes(s);e[--t]=s[0]}return e[--t]=2,e[--t]=0,new Ce(e)}function iae(n,t,e){for(var i="",r=0;i.length<t;)i+=e(String.fromCharCode.apply(String,n.concat([(r&4278190080)>>24,(r&16711680)>>16,(r&65280)>>8,r&255]))),r+=1;return i}function x6e(n,t,e,i){var r=T.crypto.MessageDigest,o=T.crypto.Util,s=null;if(e||(e="sha1"),typeof e=="string"&&(s=r.getCanonicalAlgName(e),i=r.getHashLength(s),e=function(m){return Pa(o.hashHex(ku(m),s))}),n.length+2*i+2>t)throw"Message too long for RSA";var a="",l;for(l=0;l<t-n.length-2*i-2;l+=1)a+="\0";var u=e("")+a+""+n,d=new Array(i);new Vg().nextBytes(d);var h=iae(d,u.length,e),f=[];for(l=0;l<u.length;l+=1)f[l]=u.charCodeAt(l)^h.charCodeAt(l);var A=iae(f,d.length,e),g=[0];for(l=0;l<d.length;l+=1)g[l+1]=d[l]^A.charCodeAt(l);return new Ce(g.concat(f))}function Nt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function I6e(n,t){if(this.isPublic=!0,this.isPrivate=!1,typeof n!="string")this.n=n,this.e=t;else if(n!=null&&t!=null&&n.length>0&&t.length>0)this.n=Ba(n,16),this.e=parseInt(t,16);else throw"Invalid RSA public key"}function T6e(n){return n.modPowInt(this.e,this.n)}function D6e(n){var t=S6e(n,this.n.bitLength()+7>>3);if(t==null)return null;var e=this.doPublic(t);if(e==null)return null;var i=e.toString(16);return i.length&1?"0"+i:i}function M6e(n,t,e){var i=x6e(n,this.n.bitLength()+7>>3,t,e);if(i==null)return null;var r=this.doPublic(i);if(r==null)return null;var o=r.toString(16);return o.length&1?"0"+o:o}Nt.prototype.doPublic=T6e;Nt.prototype.setPublic=I6e;Nt.prototype.encrypt=D6e;Nt.prototype.encryptOAEP=M6e;Nt.prototype.type="RSA";function O6e(n,t){for(var e=n.toByteArray(),i=0;i<e.length&&e[i]==0;)++i;if(e.length-i!=t-1||e[i]!=2)return null;for(++i;e[i]!=0;)if(++i>=e.length)return null;for(var r="";++i<e.length;){var o=e[i]&255;o<128?r+=String.fromCharCode(o):o>191&&o<224?(r+=String.fromCharCode((o&31)<<6|e[i+1]&63),++i):(r+=String.fromCharCode((o&15)<<12|(e[i+1]&63)<<6|e[i+2]&63),i+=2)}return r}function rae(n,t,e){for(var i="",r=0;i.length<t;)i+=e(n+String.fromCharCode.apply(String,[(r&4278190080)>>24,(r&16711680)>>16,(r&65280)>>8,r&255])),r+=1;return i}function F6e(n,t,e,i){var r=T.crypto.MessageDigest,o=T.crypto.Util,s=null;e||(e="sha1"),typeof e=="string"&&(s=r.getCanonicalAlgName(e),i=r.getHashLength(s),e=function(b){return Pa(o.hashHex(ku(b),s))}),n=n.toByteArray();var h;for(h=0;h<n.length;h+=1)n[h]&=255;for(;n.length<t;)n.unshift(0);if(n=String.fromCharCode.apply(String,n),n.length<2*i+2)throw"Cipher too short";var a=n.substr(1,i),l=n.substr(i+1),u=rae(l,i,e),d=[],h;for(h=0;h<a.length;h+=1)d[h]=a.charCodeAt(h)^u.charCodeAt(h);var f=rae(String.fromCharCode.apply(String,d),n.length-i,e),A=[];for(h=0;h<l.length;h+=1)A[h]=l.charCodeAt(h)^f.charCodeAt(h);if(A=String.fromCharCode.apply(String,A),A.substr(0,i)!==e(""))throw"Hash mismatch";A=A.substr(i);var g=A.indexOf(""),m=g!=-1?A.substr(0,g).lastIndexOf("\0"):-1;if(m+1!=g)throw"Malformed data";return A.substr(g+1)}function B6e(n,t,e){if(this.isPrivate=!0,typeof n!="string")this.n=n,this.e=t,this.d=e;else if(n!=null&&t!=null&&n.length>0&&t.length>0)this.n=Ba(n,16),this.e=parseInt(t,16),this.d=Ba(e,16);else throw"Invalid RSA private key"}function P6e(n,t,e,i,r,o,s,a){if(this.isPrivate=!0,this.isPublic=!1,n==null)throw"RSASetPrivateEx N == null";if(t==null)throw"RSASetPrivateEx E == null";if(n.length==0)throw"RSASetPrivateEx N.length == 0";if(t.length==0)throw"RSASetPrivateEx E.length == 0";if(n!=null&&t!=null&&n.length>0&&t.length>0)this.n=Ba(n,16),this.e=parseInt(t,16),this.d=Ba(e,16),this.p=Ba(i,16),this.q=Ba(r,16),this.dmp1=Ba(o,16),this.dmq1=Ba(s,16),this.coeff=Ba(a,16);else throw"Invalid RSA private key in RSASetPrivateEx"}function k6e(n,t){var e=new Vg,i=n>>1;this.e=parseInt(t,16);for(var r=new Ce(t,16);;){for(;this.p=new Ce(n-i,1,e),!(this.p.subtract(Ce.ONE).gcd(r).compareTo(Ce.ONE)==0&&this.p.isProbablePrime(10)););for(;this.q=new Ce(i,1,e),!(this.q.subtract(Ce.ONE).gcd(r).compareTo(Ce.ONE)==0&&this.q.isProbablePrime(10)););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var s=this.p.subtract(Ce.ONE),a=this.q.subtract(Ce.ONE),l=s.multiply(a);if(l.gcd(r).compareTo(Ce.ONE)==0&&(this.n=this.p.multiply(this.q),this.n.bitLength()==n)){this.d=r.modInverse(l),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0}function N6e(n){if(this.p==null||this.q==null)return n.modPow(this.d,this.n);for(var t=n.mod(this.p).modPow(this.dmp1,this.p),e=n.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(e)<0;)t=t.add(this.p);return t.subtract(e).multiply(this.coeff).mod(this.p).multiply(this.q).add(e)}function R6e(n){if(n.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var t=Ba(n,16),e=this.doPrivate(t);return e==null?null:O6e(e,this.n.bitLength()+7>>3)}function L6e(n,t,e){if(n.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var i=Ba(n,16),r=this.doPrivate(i);return r==null?null:F6e(r,this.n.bitLength()+7>>3,t,e)}Nt.prototype.doPrivate=N6e;Nt.prototype.setPrivate=B6e;Nt.prototype.setPrivateEx=P6e;Nt.prototype.generate=k6e;Nt.prototype.decrypt=R6e;Nt.prototype.decryptOAEP=L6e;function na(n,t){this.x=t,this.q=n}function U6e(n){return n==this?!0:this.q.equals(n.q)&&this.x.equals(n.x)}function H6e(){return this.x}function V6e(){return new na(this.q,this.x.negate().mod(this.q))}function Q6e(n){return new na(this.q,this.x.add(n.toBigInteger()).mod(this.q))}function j6e(n){return new na(this.q,this.x.subtract(n.toBigInteger()).mod(this.q))}function G6e(n){return new na(this.q,this.x.multiply(n.toBigInteger()).mod(this.q))}function W6e(){return new na(this.q,this.x.square().mod(this.q))}function K6e(n){return new na(this.q,this.x.multiply(n.toBigInteger().modInverse(this.q)).mod(this.q))}na.prototype.equals=U6e;na.prototype.toBigInteger=H6e;na.prototype.negate=V6e;na.prototype.add=Q6e;na.prototype.subtract=j6e;na.prototype.multiply=G6e;na.prototype.square=W6e;na.prototype.divide=K6e;function gi(n,t,e,i){this.curve=n,this.x=t,this.y=e,i==null?this.z=Ce.ONE:this.z=i,this.zinv=null}function z6e(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function q6e(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function $6e(n){if(n==this)return!0;if(this.isInfinity())return n.isInfinity();if(n.isInfinity())return this.isInfinity();var t,e;return t=n.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(n.z)).mod(this.curve.q),t.equals(Ce.ZERO)?(e=n.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(n.z)).mod(this.curve.q),e.equals(Ce.ZERO)):!1}function Y6e(){return this.x==null&&this.y==null?!0:this.z.equals(Ce.ZERO)&&!this.y.toBigInteger().equals(Ce.ZERO)}function Z6e(){return new gi(this.curve,this.x,this.y.negate(),this.z)}function X6e(n){if(this.isInfinity())return n;if(n.isInfinity())return this;var t=n.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(n.z)).mod(this.curve.q),e=n.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(n.z)).mod(this.curve.q);if(Ce.ZERO.equals(e))return Ce.ZERO.equals(t)?this.twice():this.curve.getInfinity();var i=new Ce("3"),r=this.x.toBigInteger(),o=this.y.toBigInteger(),s=n.x.toBigInteger(),a=n.y.toBigInteger(),l=e.square(),u=l.multiply(e),d=r.multiply(l),h=t.square().multiply(this.z),f=h.subtract(d.shiftLeft(1)).multiply(n.z).subtract(u).multiply(e).mod(this.curve.q),A=d.multiply(i).multiply(t).subtract(o.multiply(u)).subtract(h.multiply(t)).multiply(n.z).add(t.multiply(u)).mod(this.curve.q),g=u.multiply(this.z).multiply(n.z).mod(this.curve.q);return new gi(this.curve,this.curve.fromBigInteger(f),this.curve.fromBigInteger(A),g)}function J6e(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var n=new Ce("3"),t=this.x.toBigInteger(),e=this.y.toBigInteger(),i=e.multiply(this.z),r=i.multiply(e).mod(this.curve.q),o=this.curve.a.toBigInteger(),s=t.square().multiply(n);Ce.ZERO.equals(o)||(s=s.add(this.z.square().multiply(o))),s=s.mod(this.curve.q);var a=s.square().subtract(t.shiftLeft(3).multiply(r)).shiftLeft(1).multiply(i).mod(this.curve.q),l=s.multiply(n).multiply(t).subtract(r.shiftLeft(1)).shiftLeft(2).multiply(r).subtract(s.square().multiply(s)).mod(this.curve.q),u=i.square().multiply(i).shiftLeft(3).mod(this.curve.q);return new gi(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(l),u)}function eVe(n){if(this.isInfinity())return this;if(n.signum()==0)return this.curve.getInfinity();var t=n,e=t.multiply(new Ce("3")),i=this.negate(),r=this,o=this.curve.q.subtract(n),s=o.multiply(new Ce("3")),a=new gi(this.curve,this.x,this.y),l=a.negate(),u;for(u=e.bitLength()-2;u>0;--u){r=r.twice();var d=e.testBit(u),h=t.testBit(u);d!=h&&(r=r.add(d?this:i))}for(u=s.bitLength()-2;u>0;--u){a=a.twice();var f=s.testBit(u),A=o.testBit(u);f!=A&&(a=a.add(f?a:l))}return r}function tVe(n,t,e){var i;n.bitLength()>e.bitLength()?i=n.bitLength()-1:i=e.bitLength()-1;for(var r=this.curve.getInfinity(),o=this.add(t);i>=0;)r=r.twice(),n.testBit(i)?e.testBit(i)?r=r.add(o):r=r.add(this):e.testBit(i)&&(r=r.add(t)),--i;return r}gi.prototype.getX=z6e;gi.prototype.getY=q6e;gi.prototype.equals=$6e;gi.prototype.isInfinity=Y6e;gi.prototype.negate=Z6e;gi.prototype.add=X6e;gi.prototype.twice=J6e;gi.prototype.multiply=eVe;gi.prototype.multiplyTwo=tVe;function Rp(n,t,e){this.q=n,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(e),this.infinity=new gi(this,null,null)}function nVe(){return this.q}function iVe(){return this.a}function rVe(){return this.b}function oVe(n){return n==this?!0:this.q.equals(n.q)&&this.a.equals(n.a)&&this.b.equals(n.b)}function sVe(){return this.infinity}function aVe(n){return new na(this.q,n)}function lVe(n){switch(parseInt(n.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(n.length-2)/2,e=n.substr(2,t),i=n.substr(t+2,t);return new gi(this,this.fromBigInteger(new Ce(e,16)),this.fromBigInteger(new Ce(i,16)));default:return null}}Rp.prototype.getQ=nVe;Rp.prototype.getA=iVe;Rp.prototype.getB=rVe;Rp.prototype.equals=oVe;Rp.prototype.getInfinity=sVe;Rp.prototype.fromBigInteger=aVe;Rp.prototype.decodePointHex=lVe;na.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)};gi.prototype.getEncoded=function(n){var t=function(o,s){var a=o.toByteArrayUnsigned();if(s<a.length)a=a.slice(a.length-s);else for(;s>a.length;)a.unshift(0);return a},e=this.getX().toBigInteger(),i=this.getY().toBigInteger(),r=t(e,32);return n?i.isEven()?r.unshift(2):r.unshift(3):(r.unshift(4),r=r.concat(t(i,32))),r};gi.decodeFrom=function(n,t){var e=t[0],i=t.length-1,r=t.slice(1,1+i/2),o=t.slice(1+i/2,1+i);r.unshift(0),o.unshift(0);var s=new Ce(r),a=new Ce(o);return new gi(n,n.fromBigInteger(s),n.fromBigInteger(a))};gi.decodeFromHex=function(n,t){var e=t.substr(0,2),i=t.length-2,r=t.substr(2,i/2),o=t.substr(2+i/2,i/2),s=new Ce(r,16),a=new Ce(o,16);return new gi(n,n.fromBigInteger(s),n.fromBigInteger(a))};gi.prototype.add2D=function(n){if(this.isInfinity())return n;if(n.isInfinity())return this;if(this.x.equals(n.x))return this.y.equals(n.y)?this.twice():this.curve.getInfinity();var t=n.x.subtract(this.x),e=n.y.subtract(this.y),i=e.divide(t),r=i.square().subtract(this.x).subtract(n.x),o=i.multiply(this.x.subtract(r)).subtract(this.y);return new gi(this.curve,r,o)};gi.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var n=this.curve.fromBigInteger(Ce.valueOf(2)),t=this.curve.fromBigInteger(Ce.valueOf(3)),e=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(n)),i=e.square().subtract(this.x.multiply(n)),r=e.multiply(this.x.subtract(i)).subtract(this.y);return new gi(this.curve,i,r)};gi.prototype.multiply2D=function(n){if(this.isInfinity())return this;if(n.signum()==0)return this.curve.getInfinity();var t=n,e=t.multiply(new Ce("3")),i=this.negate(),r=this,o;for(o=e.bitLength()-2;o>0;--o){r=r.twice();var s=e.testBit(o),a=t.testBit(o);s!=a&&(r=r.add2D(s?this:i))}return r};gi.prototype.isOnCurve=function(){var n=this.getX().toBigInteger(),t=this.getY().toBigInteger(),e=this.curve.getA().toBigInteger(),i=this.curve.getB().toBigInteger(),r=this.curve.getQ(),o=t.multiply(t).mod(r),s=n.multiply(n).multiply(n).add(e.multiply(n)).add(i).mod(r);return o.equals(s)};gi.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"};gi.prototype.validate=function(){var n=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),e=this.getY().toBigInteger();if(t.compareTo(Ce.ONE)<0||t.compareTo(n.subtract(Ce.ONE))>0)throw new Error("x coordinate out of bounds");if(e.compareTo(Ce.ONE)<0||e.compareTo(n.subtract(Ce.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(n).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var uae=function(){var n="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)",t='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))',e='(?:"'+t+'*")',i=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+n+"|"+e+")","g"),r=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),o={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function s(h,f,A){return f?o[f]:String.fromCharCode(parseInt(A,16))}var a=new String(""),l="\\",u={"{":Object,"[":Array},d=Object.hasOwnProperty;return function(h,f){var A=h.match(i),g,m=A[0],b=!1;m==="{"?g={}:m==="["?g=[]:(g=[],b=!0);for(var S,F=[g],R=1-b,B=A.length;R<B;++R){m=A[R];var P;switch(m.charCodeAt(0)){default:P=F[0],P[S||P.length]=+m,S=void 0;break;case 34:if(m=m.substring(1,m.length-1),m.indexOf(l)!==-1&&(m=m.replace(r,s)),P=F[0],!S)if(P instanceof Array)S=P.length;else{S=m||a;break}P[S]=m,S=void 0;break;case 91:P=F[0],F.unshift(P[S||P.length]=[]),S=void 0;break;case 93:F.shift();break;case 102:P=F[0],P[S||P.length]=!1,S=void 0;break;case 110:P=F[0],P[S||P.length]=null,S=void 0;break;case 116:P=F[0],P[S||P.length]=!0,S=void 0;break;case 123:P=F[0],F.unshift(P[S||P.length]={}),S=void 0;break;case 125:F.shift();break}}if(b){if(F.length!==1)throw new Error;g=g[0]}else if(F.length)throw new Error;if(f){var L=function(j,G){var Y=j[G];if(Y&&typeof Y=="object"){var Z=null;for(var _e in Y)if(d.call(Y,_e)&&Y!==j){var xe=L(Y,_e);xe!==void 0?Y[_e]=xe:(Z||(Z=[]),Z.push(_e))}if(Z)for(var qe=Z.length;--qe>=0;)delete Y[Z[qe]]}return f.call(j,G,Y)};g=L({"":g},"")}return g}}();(typeof T>"u"||!T)&&(T={});(typeof T.asn1>"u"||!T.asn1)&&(T.asn1={});T.asn1.ASN1Util=new function(){this.integerToByteHex=function(n){var t=n.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(n){var t=n.toString(16);if(t.substr(0,1)!="-")t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var e=t.substr(1),i=e.length;i%2==1?i+=1:t.match(/^[0-7]/)||(i+=2);for(var r="",o=0;o<i;o++)r+="f";var s=new Ce(r,16),a=s.xor(n).add(Ce.ONE);t=a.toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(n,t){return Es(n,t)},this.newObject=function(n){var t=T,e=t.asn1,i=e.ASN1Object,r=e.DERBoolean,o=e.DERInteger,s=e.DERBitString,a=e.DEROctetString,l=e.DERNull,u=e.DERObjectIdentifier,d=e.DEREnumerated,h=e.DERUTF8String,f=e.DERNumericString,A=e.DERPrintableString,g=e.DERTeletexString,m=e.DERIA5String,b=e.DERUTCTime,S=e.DERGeneralizedTime,F=e.DERVisibleString,R=e.DERBMPString,B=e.DERSequence,P=e.DERSet,L=e.DERTaggedObject,j=e.ASN1Util.newObject;if(n instanceof e.ASN1Object)return n;var G=Object.keys(n);if(G.length!=1)throw new Error("key of param shall be only one.");var Y=G[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Y+":")==-1)throw new Error("undefined key: "+Y);if(Y=="bool")return new r(n[Y]);if(Y=="int")return new o(n[Y]);if(Y=="bitstr")return new s(n[Y]);if(Y=="octstr")return new a(n[Y]);if(Y=="null")return new l(n[Y]);if(Y=="oid")return new u(n[Y]);if(Y=="enum")return new d(n[Y]);if(Y=="utf8str")return new h(n[Y]);if(Y=="numstr")return new f(n[Y]);if(Y=="prnstr")return new A(n[Y]);if(Y=="telstr")return new g(n[Y]);if(Y=="ia5str")return new m(n[Y]);if(Y=="utctime")return new b(n[Y]);if(Y=="gentime")return new S(n[Y]);if(Y=="visstr")return new F(n[Y]);if(Y=="bmpstr")return new R(n[Y]);if(Y=="asn1")return new i(n[Y]);if(Y=="seq"){for(var Z=n[Y],_e=[],xe=0;xe<Z.length;xe++){var qe=j(Z[xe]);_e.push(qe)}return new B({array:_e})}if(Y=="set"){for(var Z=n[Y],_e=[],xe=0;xe<Z.length;xe++){var qe=j(Z[xe]);_e.push(qe)}return new P({array:_e})}if(Y=="tag"){var ge=n[Y];if(Object.prototype.toString.call(ge)==="[object Array]"&&ge.length==3){var me=j(ge[2]);return new L({tag:ge[0],explicit:ge[1],obj:me})}else return new L(ge)}},this.jsonToASN1HEX=function(n){var t=this.newObject(n);return t.getEncodedHex()}};T.asn1.ASN1Util.oidHexToInt=function(n){for(var r="",t=parseInt(n.substr(0,2),16),e=Math.floor(t/40),i=t%40,r=e+"."+i,o="",s=2;s<n.length;s+=2){var a=parseInt(n.substr(s,2),16),l=("00000000"+a.toString(2)).slice(-8);if(o=o+l.substr(1,7),l.substr(0,1)=="0"){var u=new Ce(o,2);r=r+"."+u.toString(10),o=""}}return r};T.asn1.ASN1Util.oidIntToHex=function(n){var t=function(a){var l=a.toString(16);return l.length==1&&(l="0"+l),l},e=function(a){var l="",u=new Ce(a,10),d=u.toString(2),h=7-d.length%7;h==7&&(h=0);for(var f="",A=0;A<h;A++)f+="0";d=f+d;for(var A=0;A<d.length-1;A+=7){var g=d.substr(A,7);A!=d.length-7&&(g="1"+g),l+=t(parseInt(g,2))}return l};if(!n.match(/^[0-9.]+$/))throw"malformed oid string: "+n;var i="",r=n.split("."),o=parseInt(r[0])*40+parseInt(r[1]);i+=t(o),r.splice(0,2);for(var s=0;s<r.length;s++)i+=e(r[s]);return i};T.asn1.ASN1Object=function(n){var t=!0,e=null,i="00",r="00",o="";this.params=null,this.getLengthHexFromValue=function(){if(typeof this.hV>"u"||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+o.length+",v="+this.hV);var s=this.hV.length/2,a=s.toString(16);if(a.length%2==1&&(a="0"+a),s<128)return a;var l=a.length/2;if(l>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+s.toString(16));var u=128+l;return u.toString(16)+a},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(s){this.params=s},n!=null&&n.tlv!=null&&(this.hTLV=n.tlv,this.isModified=!1)};T.asn1.DERAbstractString=function(n){T.asn1.DERAbstractString.superclass.constructor.call(this);var t=null,e=null;this.getString=function(){return this.s},this.setString=function(i){this.hTLV=null,this.isModified=!0,this.s=i,this.hV=rP(this.s).toLowerCase()},this.setStringHex=function(i){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n=="string"?this.setString(n):typeof n.str<"u"?this.setString(n.str):typeof n.hex<"u"&&this.setStringHex(n.hex))};Ne(T.asn1.DERAbstractString,T.asn1.ASN1Object);T.asn1.DERAbstractTime=function(n){T.asn1.DERAbstractTime.superclass.constructor.call(this);var t=null,e=null;this.localDateToUTC=function(i){var r=i.getTime()+i.getTimezoneOffset()*6e4,o=new Date(r);return o},this.formatDate=function(i,r,o){var s=this.zeroPadding,a=this.localDateToUTC(i),l=String(a.getFullYear());r=="utc"&&(l=l.substr(2,2));var u=s(String(a.getMonth()+1),2),d=s(String(a.getDate()),2),h=s(String(a.getHours()),2),f=s(String(a.getMinutes()),2),A=s(String(a.getSeconds()),2),g=l+u+d+h+f+A;if(o===!0){var m=a.getMilliseconds();if(m!=0){var b=s(String(m),3);b=b.replace(/[0]+$/,""),g=g+"."+b}}return g+"Z"},this.zeroPadding=function(i,r){return i.length>=r?i:new Array(r-i.length+1).join("0")+i},this.setByParam=function(i){this.hV=null,this.hTLV=null,this.params=i},this.getString=function(){},this.setString=function(i){this.hTLV=null,this.isModified=!0,this.params==null&&(this.params={}),this.params.str=i},this.setByDate=function(i){this.hTLV=null,this.isModified=!0,this.params==null&&(this.params={}),this.params.date=i},this.setByDateValue=function(i,r,o,s,a,l){var u=new Date(Date.UTC(i,r-1,o,s,a,l,0));this.setByDate(u)},this.getFreshValueHex=function(){return this.hV}};Ne(T.asn1.DERAbstractTime,T.asn1.ASN1Object);T.asn1.DERAbstractStructured=function(n){T.asn1.DERAbstractString.superclass.constructor.call(this);var t=null;this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,typeof n<"u"&&typeof n.array<"u"&&(this.asn1Array=n.array)};Ne(T.asn1.DERAbstractStructured,T.asn1.ASN1Object);T.asn1.DERBoolean=function(n){T.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",n==!1?this.hTLV="010100":this.hTLV="0101ff"};Ne(T.asn1.DERBoolean,T.asn1.ASN1Object);T.asn1.DERInteger=function(n){T.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=T.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new Ce(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n.bigint<"u"?this.setByBigInteger(n.bigint):typeof n.int<"u"?this.setByInteger(n.int):typeof n=="number"?this.setByInteger(n):typeof n.hex<"u"&&this.setValueHex(n.hex))};Ne(T.asn1.DERInteger,T.asn1.ASN1Object);T.asn1.DERBitString=function(n){if(n!==void 0&&typeof n.obj<"u"){var t=T.asn1.ASN1Util.newObject(n.obj);n.hex="00"+t.getEncodedHex()}T.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,i){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var r="0"+e;this.hTLV=null,this.isModified=!0,this.hV=r+i},this.setByBinaryString=function(e){e=e.replace(/0+$/,"");var i=8-e.length%8;i==8&&(i=0);for(var r=0;r<=i;r++)e+="0";for(var o="",r=0;r<e.length-1;r+=8){var s=e.substr(r,8),a=parseInt(s,2).toString(16);a.length==1&&(a="0"+a),o+=a}this.hTLV=null,this.isModified=!0,this.hV="0"+i+o},this.setByBooleanArray=function(e){for(var i="",r=0;r<e.length;r++)e[r]==!0?i+="1":i+="0";this.setByBinaryString(i)},this.newFalseArray=function(e){for(var i=new Array(e),r=0;r<e;r++)i[r]=!1;return i},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n=="string"&&n.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(n):typeof n.hex<"u"?this.setHexValueIncludingUnusedBits(n.hex):typeof n.bin<"u"?this.setByBinaryString(n.bin):typeof n.array<"u"&&this.setByBooleanArray(n.array))};Ne(T.asn1.DERBitString,T.asn1.ASN1Object);T.asn1.DEROctetString=function(n){if(n!==void 0&&typeof n.obj<"u"){var t=T.asn1.ASN1Util.newObject(n.obj);n.hex=t.getEncodedHex()}T.asn1.DEROctetString.superclass.constructor.call(this,n),this.hT="04"};Ne(T.asn1.DEROctetString,T.asn1.DERAbstractString);T.asn1.DERNull=function(){T.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"};Ne(T.asn1.DERNull,T.asn1.ASN1Object);T.asn1.DERObjectIdentifier=function(n){T.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){var e=_ae(t);if(e==null)throw new Error("malformed oid string: "+t);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueName=function(t){var e=T.asn1.x509.OID.name2oid(t);if(e!=="")this.setValueOidString(e);else throw new Error("DERObjectIdentifier oidName undefined: "+t)},this.setValueNameOrOid=function(t){t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(t){typeof t=="string"?this.setValueNameOrOid(t):t.oid!==void 0?this.setValueNameOrOid(t.oid):t.name!==void 0?this.setValueNameOrOid(t.name):t.hex!==void 0&&this.setValueHex(t.hex)},n!==void 0&&this.setByParam(n)};Ne(T.asn1.DERObjectIdentifier,T.asn1.ASN1Object);T.asn1.DEREnumerated=function(n){T.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=T.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new Ce(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n.int<"u"?this.setByInteger(n.int):typeof n=="number"?this.setByInteger(n):typeof n.hex<"u"&&this.setValueHex(n.hex))};Ne(T.asn1.DEREnumerated,T.asn1.ASN1Object);T.asn1.DERUTF8String=function(n){T.asn1.DERUTF8String.superclass.constructor.call(this,n),this.hT="0c"};Ne(T.asn1.DERUTF8String,T.asn1.DERAbstractString);T.asn1.DERNumericString=function(n){T.asn1.DERNumericString.superclass.constructor.call(this,n),this.hT="12"};Ne(T.asn1.DERNumericString,T.asn1.DERAbstractString);T.asn1.DERPrintableString=function(n){T.asn1.DERPrintableString.superclass.constructor.call(this,n),this.hT="13"};Ne(T.asn1.DERPrintableString,T.asn1.DERAbstractString);T.asn1.DERTeletexString=function(n){T.asn1.DERTeletexString.superclass.constructor.call(this,n),this.hT="14"};Ne(T.asn1.DERTeletexString,T.asn1.DERAbstractString);T.asn1.DERIA5String=function(n){T.asn1.DERIA5String.superclass.constructor.call(this,n),this.hT="16"};Ne(T.asn1.DERIA5String,T.asn1.DERAbstractString);T.asn1.DERVisibleString=function(n){T.asn1.DERIA5String.superclass.constructor.call(this,n),this.hT="1a"};Ne(T.asn1.DERVisibleString,T.asn1.DERAbstractString);T.asn1.DERBMPString=function(n){T.asn1.DERBMPString.superclass.constructor.call(this,n),this.hT="1e"};Ne(T.asn1.DERBMPString,T.asn1.DERAbstractString);T.asn1.DERUTCTime=function(n){T.asn1.DERUTCTime.superclass.constructor.call(this,n),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var t=this.params;if(this.params==null&&(t={date:new Date}),typeof t=="string")if(t.match(/^[0-9]{12}Z$/)||t.match(/^[0-9]{12}\.[0-9]+Z$/))this.hV=zl(t);else throw new Error("malformed string for GeneralizedTime: "+t);else if(t.str!=null)this.hV=zl(t.str);else if(t.date==null&&t.millis==!0){var e=new Date;this.hV=zl(this.formatDate(e,"utc",!0))}else if(t.date!=null&&t.date instanceof Date){var i=t.millis===!0;this.hV=zl(this.formatDate(t.date,"utc",i))}else t instanceof Date&&(this.hV=zl(this.formatDate(t,"utc")));if(this.hV==null)throw new Error("parameter not specified properly for UTCTime");return this.hV},n!=null&&this.setByParam(n)};Ne(T.asn1.DERUTCTime,T.asn1.DERAbstractTime);T.asn1.DERGeneralizedTime=function(n){T.asn1.DERGeneralizedTime.superclass.constructor.call(this,n),this.hT="18",this.params=n,this.getFreshValueHex=function(){var t=this.params;if(this.params==null&&(t={date:new Date}),typeof t=="string")if(t.match(/^[0-9]{14}Z$/)||t.match(/^[0-9]{14}\.[0-9]+Z$/))this.hV=zl(t);else throw new Error("malformed string for GeneralizedTime: "+t);else if(t.str!=null)this.hV=zl(t.str);else if(t.date==null&&t.millis==!0){var e=new Date;this.hV=zl(this.formatDate(e,"gen",!0))}else if(t.date!=null&&t.date instanceof Date){var i=t.millis===!0;this.hV=zl(this.formatDate(t.date,"gen",i))}else t instanceof Date&&(this.hV=zl(this.formatDate(t,"gen")));if(this.hV==null)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},n!=null&&this.setByParam(n)};Ne(T.asn1.DERGeneralizedTime,T.asn1.DERAbstractTime);T.asn1.DERSequence=function(n){T.asn1.DERSequence.superclass.constructor.call(this,n),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){var i=this.asn1Array[e];t+=i.getEncodedHex()}return this.hV=t,this.hV}};Ne(T.asn1.DERSequence,T.asn1.DERAbstractStructured);T.asn1.DERSet=function(n){T.asn1.DERSet.superclass.constructor.call(this,n),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var i=this.asn1Array[e];t.push(i.getEncodedHex())}return this.sortFlag==!0&&t.sort(),this.hV=t.join(""),this.hV},typeof n<"u"&&typeof n.sortflag<"u"&&n.sortflag==!1&&(this.sortFlag=!1)};Ne(T.asn1.DERSet,T.asn1.DERAbstractStructured);T.asn1.DERTaggedObject=function(n){T.asn1.DERTaggedObject.superclass.constructor.call(this);var t=T.asn1,e=je,i=e.getV,r=e.isASN1HEX,o=t.ASN1Util.newObject;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(s,a,l){this.params={tag:a,explicit:s,obj:l}},this.getFreshValueHex=function(){var s=this.params;if(s.explicit==null&&(s.explicit=!0),s.tage!=null&&(s.tag=s.tage,s.explicit=!0),s.tagi!=null&&(s.tag=s.tagi,s.explicit=!1),s.str!=null)this.hV=rP(s.str);else if(s.hex!=null)this.hV=s.hex;else if(s.obj!=null){var a;s.obj instanceof t.ASN1Object?a=s.obj.getEncodedHex():typeof s.obj=="object"&&(a=o(s.obj).getEncodedHex()),s.explicit?this.hV=a:this.hV=i(a,0)}else throw new Error("str, hex nor obj not specified");return s.tag==null&&(s.tag="a0"),this.hT=s.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(s){this.params=s},n!==void 0&&this.setByParam(n)};Ne(T.asn1.DERTaggedObject,T.asn1.ASN1Object);var je=new function(){};je.getLblen=function(n,t){if(n.substr(t+2,1)!="8")return 1;var e=parseInt(n.substr(t+3,1));return e==0?-1:0<e&&e<10?e+1:-2};je.getL=function(n,t){var e=je.getLblen(n,t);return e<1?"":n.substr(t+2,e*2)};je.getVblen=function(n,t){var e,i;return e=je.getL(n,t),e==""?-1:(e.substr(0,1)==="8"?i=new Ce(e.substr(2),16):i=new Ce(e,16),i.intValue())};je.getVidx=function(n,t){var e=je.getLblen(n,t);return e<0?e:t+(e+1)*2};je.getV=function(n,t){var e=je.getVidx(n,t),i=je.getVblen(n,t);return n.substr(e,i*2)};je.getTLV=function(n,t){return n.substr(t,2)+je.getL(n,t)+je.getV(n,t)};je.getTLVblen=function(n,t){return 2+je.getLblen(n,t)*2+je.getVblen(n,t)*2};je.getNextSiblingIdx=function(n,t){var e=je.getVidx(n,t),i=je.getVblen(n,t);return e+i*2};je.getChildIdx=function(n,t){var e=je,i=[],r,o,s;r=e.getVidx(n,t),o=e.getVblen(n,t)*2,n.substr(t,2)=="03"&&(r+=2,o-=2),s=0;for(var a=r;s<=o;){var l=e.getTLVblen(n,a);if(s+=l,s<=o&&i.push(a),a+=l,s>=o)break}return i};je.getNthChildIdx=function(n,t,e){var i=je.getChildIdx(n,t);return i[e]};je.getIdxbyList=function(n,t,e,i){var r=je,o,s;return e.length==0?i!==void 0&&n.substr(t,2)!==i?-1:t:(o=e.shift(),s=r.getChildIdx(n,t),o>=s.length?-1:r.getIdxbyList(n,s[o],e,i))};je.getIdxbyListEx=function(n,t,e,i){var r=je,o,s;if(e.length==0)return i!==void 0&&n.substr(t,2)!==i?-1:t;o=e.shift(),s=r.getChildIdx(n,t);for(var a=0,l=0;l<s.length;l++){var u=n.substr(s[l],2);if(typeof o=="number"&&!r.isContextTag(u)&&a==o||typeof o=="string"&&r.isContextTag(u,o))return r.getIdxbyListEx(n,s[l],e,i);r.isContextTag(u)||a++}return-1};je.getTLVbyList=function(n,t,e,i){var r=je,o=r.getIdxbyList(n,t,e,i);return o==-1||o>=n.length?null:r.getTLV(n,o)};je.getTLVbyListEx=function(n,t,e,i){var r=je,o=r.getIdxbyListEx(n,t,e,i);return o==-1?null:r.getTLV(n,o)};je.getVbyList=function(n,t,e,i,r){var o=je,s,a;return s=o.getIdxbyList(n,t,e,i),s==-1||s>=n.length?null:(a=o.getV(n,s),r===!0&&(a=a.substr(2)),a)};je.getVbyListEx=function(n,t,e,i,r){var o=je,s,a,l;return s=o.getIdxbyListEx(n,t,e,i),s==-1?null:(l=o.getV(n,s),n.substr(s,2)=="03"&&r!==!1&&(l=l.substr(2)),l)};je.getInt=function(n,t,e){e==null&&(e=-1);try{var i=n.substr(t,2);if(i!="02"&&i!="03")return e;var r=je.getV(n,t);return i=="02"?parseInt(r,16):J8(r)}catch{return e}};je.getOID=function(n,t,e){e==null&&(e=null);try{if(n.substr(t,2)!="06")return e;var i=je.getV(n,t);return cP(i)}catch{return e}};je.getOIDName=function(n,t,e){e==null&&(e=null);try{var i=je.getOID(n,t,e);if(i==e)return e;var r=T.asn1.x509.OID.oid2name(i);return r==""?i:r}catch{return e}};je.getString=function(n,t,e){e==null&&(e=null);try{var i=je.getV(n,t);return Pa(i)}catch{return e}};je.hextooidstr=function(n){var t=function(h,f){return h.length>=f?h:new Array(f-h.length+1).join("0")+h},e=[],i=n.substr(0,2),r=parseInt(i,16);e[0]=new String(Math.floor(r/40)),e[1]=new String(r%40);for(var o=n.substr(2),s=[],a=0;a<o.length/2;a++)s.push(parseInt(o.substr(a*2,2),16));for(var l=[],u="",a=0;a<s.length;a++)s[a]&128?u=u+t((s[a]&127).toString(2),7):(u=u+t((s[a]&127).toString(2),7),l.push(new String(parseInt(u,2))),u="");var d=e.join(".");return l.length>0&&(d=d+"."+l.join(".")),d};je.dump=function(n,t,e,i){var r=je,o=r.getV,s=r.dump,a=r.getChildIdx,l=n;n instanceof T.asn1.ASN1Object&&(l=n.getEncodedHex());var u=function(j,G){if(j.length<=G*2)return j;var Y=j.substr(0,G)+"..(total "+j.length/2+"bytes).."+j.substr(j.length-G,G);return Y};t===void 0&&(t={ommit_long_octet:32}),e===void 0&&(e=0),i===void 0&&(i="");var d=t.ommit_long_octet,P=l.substr(e,2);if(P=="01"){var h=o(l,e);return h=="00"?i+`BOOLEAN FALSE
`:i+`BOOLEAN TRUE
`}if(P=="02"){var h=o(l,e);return i+"INTEGER "+u(h,d)+`
`}if(P=="03"){var h=o(l,e);if(r.isASN1HEX(h.substr(2))){var f=i+`BITSTRING, encapsulates
`;return f=f+s(h.substr(2),t,0,i+"  "),f}else return i+"BITSTRING "+u(h,d)+`
`}if(P=="04"){var h=o(l,e);if(r.isASN1HEX(h)){var f=i+`OCTETSTRING, encapsulates
`;return f=f+s(h,t,0,i+"  "),f}else return i+"OCTETSTRING "+u(h,d)+`
`}if(P=="05")return i+`NULL
`;if(P=="06"){var A=o(l,e),g=T.asn1.ASN1Util.oidHexToInt(A),m=T.asn1.x509.OID.oid2name(g),b=g.replace(/\./g," ");return m!=""?i+"ObjectIdentifier "+m+" ("+b+`)
`:i+"ObjectIdentifier ("+b+`)
`}if(P=="0a")return i+"ENUMERATED "+parseInt(o(l,e))+`
`;if(P=="0c")return i+"UTF8String '"+xi(o(l,e))+`'
`;if(P=="13")return i+"PrintableString '"+xi(o(l,e))+`'
`;if(P=="14")return i+"TeletexString '"+xi(o(l,e))+`'
`;if(P=="16")return i+"IA5String '"+xi(o(l,e))+`'
`;if(P=="17")return i+"UTCTime "+xi(o(l,e))+`
`;if(P=="18")return i+"GeneralizedTime "+xi(o(l,e))+`
`;if(P=="1a")return i+"VisualString '"+xi(o(l,e))+`'
`;if(P=="1e")return i+"BMPString '"+Z8(o(l,e))+`'
`;if(P=="30"){if(l.substr(e,4)=="3000")return i+`SEQUENCE {}
`;var f=i+`SEQUENCE
`,S=a(l,e),F=t;if((S.length==2||S.length==3)&&l.substr(S[0],2)=="06"&&l.substr(S[S.length-1],2)=="04"){var m=r.oidname(o(l,S[0])),R=JSON.parse(JSON.stringify(t));R.x509ExtName=m,F=R}for(var B=0;B<S.length;B++)f=f+s(l,F,S[B],i+"  ");return f}if(P=="31"){for(var f=i+`SET
`,S=a(l,e),B=0;B<S.length;B++)f=f+s(l,t,S[B],i+"  ");return f}var P=parseInt(P,16);if(P&128){var L=P&31;if(P&32){for(var f=i+"["+L+`]
`,S=a(l,e),B=0;B<S.length;B++)f=f+s(l,t,S[B],i+"  ");return f}else{var h=o(l,e);if(je.isASN1HEX(h)){var f=i+"["+L+`]
`;return f=f+s(h,t,0,i+"  "),f}else(h.substr(0,8)=="68747470"||t.x509ExtName==="subjectAltName"&&L==2)&&(h=xi(h));var f=i+"["+L+"] "+h+`
`;return f}}return i+"UNKNOWN("+P+") "+o(l,e)+`
`};je.parse=function(n){var t=je,e=t.parse,i=t.isASN1HEX,r=t.getV,o=t.getTLV,s=t.getChildIdx,a=T.asn1,l=a.ASN1Util.oidHexToInt,u=a.x509.OID.oid2name,d=xi,h={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},f=function(j){for(var G=[],Y=s(j,0),Z=0;Z<Y.length;Z++){var _e=Y[Z],xe=o(j,_e),qe=e(xe);G.push(qe)}return G},A=n.substr(0,2),g={},m=r(n,0);if(A=="01")return n=="0101ff"?{bool:!0}:{bool:!1};if(A=="02")return{int:{hex:m}};if(A=="03")try{if(m.substr(0,2)!="00")throw"not encap";var b=m.substr(2);if(!i(b))throw"not encap";return{bitstr:{obj:e(b)}}}catch{var S=null;return m.length<=6&&(S=CVe(m)),S==null?{bitstr:{hex:m}}:{bitstr:{bin:S}}}else if(A=="04")try{if(!i(m))throw"not encap";return{octstr:{obj:e(m)}}}catch{return{octstr:{hex:m}}}else{if(A=="05")return{null:""};if(A=="06"){var F=l(m),R=u(F);return R==""?{oid:F}:{oid:R}}else{if(A=="0a")return m.length>4?{enum:{hex:m}}:{enum:parseInt(m,16)};if(A=="30"||A=="31")return g[h[A]]=f(n),g;if(":0c:12:13:14:16:17:18:1a:1e:".indexOf(A)!=-1){var B=d(m);return g[h[A]]={str:B},g}else if(A.match(/^8[0-9]$/)){var B=d(m);return B==null|B==""?{tag:{tag:A,explicit:!1,hex:m}}:B.match(/[\x00-\x1F\x7F-\x9F]/)!=null||B.match(/[\u0000-\u001F\u0080\u009F]/)!=null?{tag:{tag:A,explicit:!1,hex:m}}:{tag:{tag:A,explicit:!1,str:B}}}else if(A.match(/^a[0-9]$/))try{if(!i(m))throw new Error("not encap");return{tag:{tag:A,explicit:!0,obj:e(m)}}}catch{return{tag:{tag:A,explicit:!0,hex:m}}}else{var P=new T.asn1.ASN1Object;P.hV=m;var L=P.getLengthHexFromValue();return{asn1:{tlv:A+L+m}}}}}};je.isContextTag=function(n,t){n=n.toLowerCase();var e,i;try{e=parseInt(n,16)}catch{return-1}if(t===void 0)return(e&192)==128;try{var r=t.match(/^\[[0-9]+\]$/);return r==null||(i=parseInt(t.substr(1,t.length-1),10),i>31)?!1:(e&192)==128&&(e&31)==i}catch{return!1}};je.isASN1HEX=function(n){var t=je;if(n.length%2==1)return!1;var e=t.getVblen(n,0),i=n.substr(0,2),r=t.getL(n,0),o=n.length-i.length-r.length;return o==e*2};je.checkStrictDER=function(n,t,e,i,r){var o=je;if(e===void 0){if(typeof n!="string")throw new Error("not hex string");if(n=n.toLowerCase(),!T.lang.String.isHex(n))throw new Error("not hex string");e=n.length,i=n.length/2,i<128?r=1:r=Math.ceil(i.toString(16))+1}var s=o.getL(n,t);if(s.length>r*2)throw new Error("L of TLV too long: idx="+t);var a=o.getVblen(n,t);if(a>i)throw new Error("value of L too long than hex: idx="+t);var l=o.getTLV(n,t),u=l.length-2-o.getL(n,t).length;if(u!==a*2)throw new Error("V string length and L's value not the same:"+u+"/"+a*2);if(t===0&&n.length!=l.length)throw new Error("total length and TLV length unmatch:"+n.length+"!="+l.length);var d=n.substr(t,2);if(d==="02"){var h=o.getVidx(n,t);if(n.substr(h,2)=="00"&&n.charCodeAt(h+2)<56)throw new Error("not least zeros for DER INTEGER")}if(parseInt(d,16)&32){for(var f=o.getVblen(n,t),A=0,g=o.getChildIdx(n,t),m=0;m<g.length;m++){var b=o.getTLV(n,g[m]);A+=b.length,o.checkStrictDER(n,g[m],e,i,r)}if(f*2!=A)throw new Error("sum of children's TLV length and L unmatch: "+f*2+"!="+A)}};je.oidname=function(n){var t=T.asn1;T.lang.String.isHex(n)&&(n=t.ASN1Util.oidHexToInt(n));var e=t.x509.OID.oid2name(n);return e===""&&(e=n),e};(typeof T>"u"||!T)&&(T={});(typeof T.asn1>"u"||!T.asn1)&&(T.asn1={});(typeof T.asn1.x509>"u"||!T.asn1.x509)&&(T.asn1.x509={});T.asn1.x509.Certificate=function(n){T.asn1.x509.Certificate.superclass.constructor.call(this);var t=T,e=t.asn1,i=e.DERBitString,r=e.DERSequence,o=e.x509,s=o.TBSCertificate,a=o.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(l){this.params=l},this.sign=function(){var l=this.params,u=l.sigalg;l.sigalg.name!=null&&(u=l.sigalg.name);var d=l.tbsobj.getEncodedHex(),h=new T.crypto.Signature({alg:u});h.init(l.cakey),h.updateHex(d),l.sighex=h.sign()},this.getPEM=function(){return Es(this.getEncodedHex(),"CERTIFICATE")},this.getEncodedHex=function(){var l=this.params;if((l.tbsobj==null||l.tbsobj==null)&&(l.tbsobj=new s(l)),l.sighex==null&&l.cakey!=null&&this.sign(),l.sighex==null)throw new Error("sighex or cakey parameter not defined");var u=[];u.push(l.tbsobj),u.push(new a({name:l.sigalg})),u.push(new i({hex:"00"+l.sighex}));var d=new r({array:u});return d.getEncodedHex()},n!=null&&(this.params=n)};Ne(T.asn1.x509.Certificate,T.asn1.ASN1Object);T.asn1.x509.TBSCertificate=function(n){T.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=T,e=t.asn1,i=e.x509,r=e.DERTaggedObject,o=e.DERInteger,s=e.DERSequence,a=i.AlgorithmIdentifier,l=i.Time,u=i.X500Name,d=i.Extensions,h=i.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(f){this.params=f},this.getEncodedHex=function(){var f=[],A=this.params;if(A.version!=null||A.version!=1){var g=2;A.version!=null&&(g=A.version-1);var m=new r({obj:new o({int:g})});f.push(m)}f.push(new o(A.serial)),f.push(new a({name:A.sigalg})),f.push(new u(A.issuer)),f.push(new s({array:[new l(A.notbefore),new l(A.notafter)]})),f.push(new u(A.subject)),f.push(new h(ai.getKey(A.sbjpubkey))),A.ext!==void 0&&A.ext.length>0&&f.push(new r({tag:"a3",obj:new d(A.ext)}));var b=new T.asn1.DERSequence({array:f});return b.getEncodedHex()},n!==void 0&&this.setByParam(n)};Ne(T.asn1.x509.TBSCertificate,T.asn1.ASN1Object);T.asn1.x509.Extensions=function(n){T.asn1.x509.Extensions.superclass.constructor.call(this);var t=T,e=t.asn1,i=e.DERSequence,r=e.x509;this.aParam=[],this.setByParam=function(o){this.aParam=o},this.getEncodedHex=function(){for(var o=[],s=0;s<this.aParam.length;s++){var a=this.aParam[s],l=a.extname,u=null;if(a.extn!=null)u=new r.PrivateExtension(a);else if(l=="subjectKeyIdentifier")u=new r.SubjectKeyIdentifier(a);else if(l=="keyUsage")u=new r.KeyUsage(a);else if(l=="subjectAltName")u=new r.SubjectAltName(a);else if(l=="issuerAltName")u=new r.IssuerAltName(a);else if(l=="basicConstraints")u=new r.BasicConstraints(a);else if(l=="cRLDistributionPoints")u=new r.CRLDistributionPoints(a);else if(l=="certificatePolicies")u=new r.CertificatePolicies(a);else if(l=="authorityKeyIdentifier")u=new r.AuthorityKeyIdentifier(a);else if(l=="extKeyUsage")u=new r.ExtKeyUsage(a);else if(l=="authorityInfoAccess")u=new r.AuthorityInfoAccess(a);else if(l=="cRLNumber")u=new r.CRLNumber(a);else if(l=="cRLReason")u=new r.CRLReason(a);else if(l=="ocspNonce")u=new r.OCSPNonce(a);else if(l=="ocspNoCheck")u=new r.OCSPNoCheck(a);else if(l=="adobeTimeStamp")u=new r.AdobeTimeStamp(a);else if(l=="subjectDirectoryAttributes")u=new r.SubjectDirectoryAttributes(a);else throw new Error("extension not supported:"+JSON.stringify(a));u!=null&&o.push(u)}var d=new i({array:o});return d.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.x509.Extensions,T.asn1.ASN1Object);T.asn1.x509.Extension=function(n){T.asn1.x509.Extension.superclass.constructor.call(this);var t=null,e=T,i=e.asn1,r=i.DERObjectIdentifier,o=i.DEROctetString,s=i.DERBitString,a=i.DERBoolean,l=i.DERSequence;this.getEncodedHex=function(){var u=new r({oid:this.oid}),d=new o({hex:this.getExtnValueHex()}),h=new Array;h.push(u),this.critical&&h.push(new a),h.push(d);var f=new l({array:h});return f.getEncodedHex()},this.critical=!1,n!==void 0&&n.critical!==void 0&&(this.critical=n.critical)};Ne(T.asn1.x509.Extension,T.asn1.ASN1Object);T.asn1.x509.KeyUsage=function(n){T.asn1.x509.KeyUsage.superclass.constructor.call(this,n);var t=Xt.KEYUSAGE_NAME;if(this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",n!==void 0&&(n.bin!==void 0&&(this.asn1ExtnValue=new T.asn1.DERBitString(n)),n.names!==void 0&&n.names.length!==void 0)){for(var e=n.names,i="000000000",r=0;r<e.length;r++)for(var o=0;o<t.length;o++)e[r]===t[o]&&(i=i.substring(0,o)+"1"+i.substring(o+1,i.length));this.asn1ExtnValue=new T.asn1.DERBitString({bin:i})}};Ne(T.asn1.x509.KeyUsage,T.asn1.x509.Extension);T.asn1.x509.BasicConstraints=function(n){T.asn1.x509.BasicConstraints.superclass.constructor.call(this,n);var t=T.asn1,e=t.DERBoolean,i=t.DERInteger,r=t.DERSequence,o=!1,s=-1;this.getExtnValueHex=function(){var a=new Array;this.cA&&a.push(new e),this.pathLen>-1&&a.push(new i({int:this.pathLen}));var l=new r({array:a});return this.asn1ExtnValue=l,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,n!==void 0&&(n.cA!==void 0&&(this.cA=n.cA),n.pathLen!==void 0&&(this.pathLen=n.pathLen))};Ne(T.asn1.x509.BasicConstraints,T.asn1.x509.Extension);T.asn1.x509.CRLDistributionPoints=function(n){T.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,n);var t=T,e=t.asn1,i=e.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(r){for(var o=[],s=0;s<r.length;s++)if(r[s]instanceof T.asn1.ASN1Object)o.push(r[s]);else{var a=new i.DistributionPoint(r[s]);o.push(a)}this.asn1ExtnValue=new e.DERSequence({array:o})},this.setByOneURI=function(r){var o=new i.DistributionPoint({fulluri:r});this.setByDPArray([o])},this.oid="2.5.29.31",n!==void 0&&(n.array!==void 0?this.setByDPArray(n.array):n.uri!==void 0&&this.setByOneURI(n.uri))};Ne(T.asn1.x509.CRLDistributionPoints,T.asn1.x509.Extension);T.asn1.x509.DistributionPoint=function(n){T.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=null,e=T,i=e.asn1,r=i.x509.DistributionPointName;this.getEncodedHex=function(){var o=new i.DERSequence;if(this.asn1DP!=null){var s=new i.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});o.appendASN1Object(s)}return this.hTLV=o.getEncodedHex(),this.hTLV},n!==void 0&&(n.dpobj!==void 0?this.asn1DP=n.dpobj:n.dpname!==void 0?this.asn1DP=new r(n.dpname):n.fulluri!==void 0&&(this.asn1DP=new r({full:[{uri:n.fulluri}]})))};Ne(T.asn1.x509.DistributionPoint,T.asn1.ASN1Object);T.asn1.x509.DistributionPointName=function(n){T.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=null,e=null,i=null,r=null,o=T,s=o.asn1,a=s.DERTaggedObject;if(this.getEncodedHex=function(){if(this.type!="full")throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new a({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},n!==void 0)if(s.x509.GeneralNames.prototype.isPrototypeOf(n))this.type="full",this.tag="a0",this.asn1V=n;else if(n.full!==void 0)this.type="full",this.tag="a0",this.asn1V=new s.x509.GeneralNames(n.full);else throw new Error("This class supports GeneralNames only as argument")};Ne(T.asn1.x509.DistributionPointName,T.asn1.ASN1Object);T.asn1.x509.CertificatePolicies=function(n){T.asn1.x509.CertificatePolicies.superclass.constructor.call(this,n);var t=T,e=t.asn1,i=e.x509,r=e.DERSequence,o=i.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var s=[],a=0;a<this.params.array.length;a++)s.push(new o(this.params.array[a]));var l=new r({array:s});return this.asn1ExtnValue=l,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.32",n!==void 0&&(this.params=n)};Ne(T.asn1.x509.CertificatePolicies,T.asn1.x509.Extension);T.asn1.x509.PolicyInformation=function(n){T.asn1.x509.PolicyInformation.superclass.constructor.call(this,n);var t=T.asn1,e=t.DERSequence,i=t.DERObjectIdentifier,r=t.x509.PolicyQualifierInfo;this.params=null,this.getEncodedHex=function(){if(this.params.policyoid===void 0&&this.params.array===void 0)throw new Error("parameter oid and array missing");var o=[new i(this.params.policyoid)];if(this.params.array!==void 0){for(var s=[],a=0;a<this.params.array.length;a++)s.push(new r(this.params.array[a]));s.length>0&&o.push(new e({array:s}))}var l=new e({array:o});return l.getEncodedHex()},n!==void 0&&(this.params=n)};Ne(T.asn1.x509.PolicyInformation,T.asn1.ASN1Object);T.asn1.x509.PolicyQualifierInfo=function(n){T.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,n);var t=T.asn1,e=t.DERSequence,i=t.DERIA5String,r=t.DERObjectIdentifier,o=t.x509.UserNotice;this.params=null,this.getEncodedHex=function(){if(this.params.cps!==void 0){var s=new e({array:[new r({oid:"1.3.6.1.5.5.7.2.1"}),new i({str:this.params.cps})]});return s.getEncodedHex()}if(this.params.unotice!=null){var s=new e({array:[new r({oid:"1.3.6.1.5.5.7.2.2"}),new o(this.params.unotice)]});return s.getEncodedHex()}},n!==void 0&&(this.params=n)};Ne(T.asn1.x509.PolicyQualifierInfo,T.asn1.ASN1Object);T.asn1.x509.UserNotice=function(n){T.asn1.x509.UserNotice.superclass.constructor.call(this,n);var t=T.asn1.DERSequence,e=T.asn1.DERInteger,i=T.asn1.x509.DisplayText,r=T.asn1.x509.NoticeReference;this.params=null,this.getEncodedHex=function(){var o=[];this.params.noticeref!==void 0&&o.push(new r(this.params.noticeref)),this.params.exptext!==void 0&&o.push(new i(this.params.exptext));var s=new t({array:o});return s.getEncodedHex()},n!==void 0&&(this.params=n)};Ne(T.asn1.x509.UserNotice,T.asn1.ASN1Object);T.asn1.x509.NoticeReference=function(n){T.asn1.x509.NoticeReference.superclass.constructor.call(this,n);var t=T.asn1.DERSequence,e=T.asn1.DERInteger,i=T.asn1.x509.DisplayText;this.params=null,this.getEncodedHex=function(){var r=[];if(this.params.org!==void 0&&r.push(new i(this.params.org)),this.params.noticenum!==void 0){for(var o=[],s=this.params.noticenum,a=0;a<s.length;a++)o.push(new e(s[a]));r.push(new t({array:o}))}if(r.length==0)throw new Error("parameter is empty");var l=new t({array:r});return l.getEncodedHex()},n!==void 0&&(this.params=n)};Ne(T.asn1.x509.NoticeReference,T.asn1.ASN1Object);T.asn1.x509.DisplayText=function(n){T.asn1.x509.DisplayText.superclass.constructor.call(this,n),this.hT="0c",n!==void 0&&(n.type==="ia5"?this.hT="16":n.type==="vis"?this.hT="1a":n.type==="bmp"&&(this.hT="1e"))};Ne(T.asn1.x509.DisplayText,T.asn1.DERAbstractString);T.asn1.x509.ExtKeyUsage=function(n){T.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,n);var t=T,e=t.asn1;this.setPurposeArray=function(i){this.asn1ExtnValue=new e.DERSequence;for(var r=0;r<i.length;r++){var o=new e.DERObjectIdentifier(i[r]);this.asn1ExtnValue.appendASN1Object(o)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",n!==void 0&&n.array!==void 0&&this.setPurposeArray(n.array)};Ne(T.asn1.x509.ExtKeyUsage,T.asn1.x509.Extension);T.asn1.x509.AuthorityKeyIdentifier=function(n){T.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,n);var t=T,e=t.asn1,i=e.DERTaggedObject,r=e.x509.GeneralNames,o=t.crypto.Util.isKey;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var s=new Array;this.asn1KID&&s.push(new i({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&s.push(new i({explicit:!1,tag:"a1",obj:new r([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&s.push(new i({explicit:!1,tag:"82",obj:this.asn1CertSN}));var a=new e.DERSequence({array:s});return this.asn1ExtnValue=a,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(s){if(s.str!==void 0||s.hex!==void 0)this.asn1KID=new T.asn1.DEROctetString(s);else if(typeof s=="object"&&T.crypto.Util.isKey(s)||typeof s=="string"&&s.indexOf("BEGIN ")!=-1){var a=s;typeof s=="string"&&(a=ai.getKey(s));var l=ai.getKeyID(a);this.asn1KID=new T.asn1.DEROctetString({hex:l})}},this.setCertIssuerByParam=function(s){s.str!==void 0||s.ldapstr!==void 0||s.hex!==void 0||s.certsubject!==void 0||s.certissuer!==void 0?this.asn1CertIssuer=new T.asn1.x509.X500Name(s):typeof s=="string"&&s.indexOf("BEGIN ")!=-1&&s.indexOf("CERTIFICATE")!=-1&&(this.asn1CertIssuer=new T.asn1.x509.X500Name({certissuer:s}))},this.setCertSNByParam=function(s){if(s.str!==void 0||s.bigint!==void 0||s.hex!==void 0)this.asn1CertSN=new T.asn1.DERInteger(s);else if(typeof s=="string"&&s.indexOf("BEGIN ")!=-1&&s.indexOf("CERTIFICATE")){var a=new Xt;a.readCertPEM(s);var l=a.getSerialNumberHex();this.asn1CertSN=new T.asn1.DERInteger({hex:l})}},this.oid="2.5.29.35",n!==void 0&&(n.kid!==void 0&&this.setKIDByParam(n.kid),n.issuer!==void 0&&this.setCertIssuerByParam(n.issuer),n.sn!==void 0&&this.setCertSNByParam(n.sn),n.issuersn!==void 0&&typeof n.issuersn=="string"&&n.issuersn.indexOf("BEGIN ")!=-1&&n.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(n.issuersn),this.setCertIssuerByParam(n.issuersn)))};Ne(T.asn1.x509.AuthorityKeyIdentifier,T.asn1.x509.Extension);T.asn1.x509.SubjectKeyIdentifier=function(n){T.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,n);var t=T,e=t.asn1,i=e.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(r){if(r.str!==void 0||r.hex!==void 0)this.asn1KID=new i(r);else if(typeof r=="object"&&T.crypto.Util.isKey(r)||typeof r=="string"&&r.indexOf("BEGIN")!=-1){var o=r;typeof r=="string"&&(o=ai.getKey(r));var s=ai.getKeyID(o);this.asn1KID=new T.asn1.DEROctetString({hex:s})}},this.oid="2.5.29.14",n!==void 0&&n.kid!==void 0&&this.setKIDByParam(n.kid)};Ne(T.asn1.x509.SubjectKeyIdentifier,T.asn1.x509.Extension);T.asn1.x509.AuthorityInfoAccess=function(n){T.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,n),this.setAccessDescriptionArray=function(t){for(var e=new Array,i=T,r=i.asn1,o=r.DERSequence,s=r.DERObjectIdentifier,a=r.x509.GeneralName,l=0;l<t.length;l++){var u,d=t[l];if(d.ocsp!==void 0)u=new o({array:[new s({oid:"1.3.6.1.5.5.7.48.1"}),new a({uri:d.ocsp})]});else if(d.caissuer!==void 0)u=new o({array:[new s({oid:"1.3.6.1.5.5.7.48.2"}),new a({uri:d.caissuer})]});else throw new Error("unknown AccessMethod parameter: "+JSON.stringify(d));e.push(u)}this.asn1ExtnValue=new o({array:e})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",n!==void 0&&n.array!==void 0&&this.setAccessDescriptionArray(n.array)};Ne(T.asn1.x509.AuthorityInfoAccess,T.asn1.x509.Extension);T.asn1.x509.SubjectAltName=function(n){T.asn1.x509.SubjectAltName.superclass.constructor.call(this,n),this.setNameArray=function(t){this.asn1ExtnValue=new T.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",n!==void 0&&n.array!==void 0&&this.setNameArray(n.array)};Ne(T.asn1.x509.SubjectAltName,T.asn1.x509.Extension);T.asn1.x509.IssuerAltName=function(n){T.asn1.x509.IssuerAltName.superclass.constructor.call(this,n),this.setNameArray=function(t){this.asn1ExtnValue=new T.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",n!==void 0&&n.array!==void 0&&this.setNameArray(n.array)};Ne(T.asn1.x509.IssuerAltName,T.asn1.x509.Extension);T.asn1.x509.SubjectDirectoryAttributes=function(n){T.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,n);var t=T.asn1,e=t.DERSequence,i=t.ASN1Util.newObject,r=t.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var o=[],s=0;s<this.params.array.length;s++){var a=this.params.array[s],l={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if(a.attr=="dateOfBirth")l.seq[0].oid=r(a.attr),l.seq[1].set[0]={gentime:a.str};else if(a.attr=="placeOfBirth")l.seq[0].oid=r(a.attr),l.seq[1].set[0]={utf8str:a.str};else if(a.attr=="gender")l.seq[0].oid=r(a.attr),l.seq[1].set[0]={prnstr:a.str};else if(a.attr=="countryOfCitizenship")l.seq[0].oid=r(a.attr),l.seq[1].set[0]={prnstr:a.str};else if(a.attr=="countryOfResidence")l.seq[0].oid=r(a.attr),l.seq[1].set[0]={prnstr:a.str};else throw new Error("unsupported attribute: "+a.attr);o.push(new i(l))}var u=new e({array:o});return this.asn1ExtnValue=u,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.9",n!==void 0&&(this.params=n)};Ne(T.asn1.x509.SubjectDirectoryAttributes,T.asn1.x509.Extension);T.asn1.x509.PrivateExtension=function(n){T.asn1.x509.PrivateExtension.superclass.constructor.call(this,n);var t=T,e=t.lang.String.isHex,i=t.asn1,r=i.x509.OID.name2oid,o=i.ASN1Util.newObject;this.params=null,this.setByParam=function(s){this.oid=r(s.extname),this.params=s},this.getExtnValueHex=function(){if(this.params.extname==null||this.params.extn==null)throw new Error("extname or extnhex not specified");var s=this.params.extn;if(typeof s=="string"&&e(s))return s;if(typeof s=="object")try{return o(s).getEncodedHex()}catch{}throw new Error("unsupported extn value")},n!=null&&this.setByParam(n)};Ne(T.asn1.x509.PrivateExtension,T.asn1.x509.Extension);T.asn1.x509.CRL=function(n){T.asn1.x509.CRL.superclass.constructor.call(this);var t=T,e=t.asn1,i=e.DERSequence,r=e.DERBitString,o=e.x509,s=o.AlgorithmIdentifier,a=o.TBSCertList;this.params=void 0,this.setByParam=function(l){this.params=l},this.sign=function(){var l=new a(this.params).getEncodedHex(),u=new T.crypto.Signature({alg:this.params.sigalg});u.init(this.params.cakey),u.updateHex(l);var d=u.sign();this.params.sighex=d},this.getPEM=function(){return Es(this.getEncodedHex(),"X509 CRL")},this.getEncodedHex=function(){var l=this.params;if(l.tbsobj==null&&(l.tbsobj=new a(l)),l.sighex==null&&l.cakey!=null&&this.sign(),l.sighex==null)throw new Error("sighex or cakey parameter not defined");var u=[];u.push(l.tbsobj),u.push(new s({name:l.sigalg})),u.push(new r({hex:"00"+l.sighex}));var d=new i({array:u});return d.getEncodedHex()},n!=null&&(this.params=n)};Ne(T.asn1.x509.CRL,T.asn1.ASN1Object);T.asn1.x509.TBSCertList=function(n){T.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=T,e=t.asn1,i=e.DERInteger,r=e.DERSequence,o=e.DERTaggedObject,s=e.DERObjectIdentifier,a=e.x509,l=a.AlgorithmIdentifier,u=a.Time,d=a.Extensions,h=a.X500Name;this.params=null,this.setByParam=function(f){this.params=f},this.getRevCertSequence=function(){for(var f=[],A=this.params.revcert,g=0;g<A.length;g++){var m=[new i(A[g].sn),new u(A[g].date)];A[g].ext!=null&&m.push(new d(A[g].ext)),f.push(new r({array:m}))}return new r({array:f})},this.getEncodedHex=function(){var f=[],A=this.params;if(A.version!=null){var g=A.version-1,m=new i({int:g});f.push(m)}if(f.push(new l({name:A.sigalg})),f.push(new h(A.issuer)),f.push(new u(A.thisupdate)),A.nextupdate!=null&&f.push(new u(A.nextupdate)),A.revcert!=null&&f.push(this.getRevCertSequence()),A.ext!=null){var b=new d(A.ext);f.push(new o({tag:"a0",explicit:!0,obj:b}))}var S=new r({array:f});return S.getEncodedHex()},n!==void 0&&this.setByParam(n)};Ne(T.asn1.x509.TBSCertList,T.asn1.ASN1Object);T.asn1.x509.CRLEntry=function(n){T.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=null,e=null,i=T,r=i.asn1;this.setCertSerial=function(o){this.sn=new r.DERInteger(o)},this.setRevocationDate=function(o){this.time=new r.x509.Time(o)},this.getEncodedHex=function(){var o=new r.DERSequence({array:[this.sn,this.time]});return this.TLV=o.getEncodedHex(),this.TLV},n!==void 0&&(n.time!==void 0&&this.setRevocationDate(n.time),n.sn!==void 0&&this.setCertSerial(n.sn))};Ne(T.asn1.x509.CRLEntry,T.asn1.ASN1Object);T.asn1.x509.CRLNumber=function(n){T.asn1.x509.CRLNumber.superclass.constructor.call(this,n),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new T.asn1.DERInteger(this.params.num),this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.20",n!=null&&(this.params=n)};Ne(T.asn1.x509.CRLNumber,T.asn1.x509.Extension);T.asn1.x509.CRLReason=function(n){T.asn1.x509.CRLReason.superclass.constructor.call(this,n),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new T.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.21",n!=null&&(this.params=n)};Ne(T.asn1.x509.CRLReason,T.asn1.x509.Extension);T.asn1.x509.OCSPNonce=function(n){T.asn1.x509.OCSPNonce.superclass.constructor.call(this,n),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new T.asn1.DEROctetString(this.params),this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.48.1.2",n!=null&&(this.params=n)};Ne(T.asn1.x509.OCSPNonce,T.asn1.x509.Extension);T.asn1.x509.OCSPNoCheck=function(n){T.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,n),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new T.asn1.DERNull,this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.48.1.5",n!=null&&(this.params=n)};Ne(T.asn1.x509.OCSPNoCheck,T.asn1.x509.Extension);T.asn1.x509.AdobeTimeStamp=function(n){T.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,n);var t=T,e=t.asn1,i=e.DERInteger,r=e.DERBoolean,o=e.DERSequence,s=e.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var a=this.params,l=[new i(1)];return l.push(new s({uri:a.uri})),a.reqauth!=null&&l.push(new r(a.reqauth)),this.asn1ExtnValue=new o({array:l}),this.asn1ExtnValue.getEncodedHex()},this.oid="1.2.840.113583.1.1.9.1",n!==void 0&&this.setByParam(n)};Ne(T.asn1.x509.AdobeTimeStamp,T.asn1.x509.Extension);T.asn1.x509.X500Name=function(n){T.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=T,e=t.asn1,i=e.x509,r=i.RDN,o=zr;this.setByString=function(s,a){a!==void 0&&(this.sRule=a);var l=s.split("/");l.shift();for(var u=[],d=0;d<l.length;d++)if(l[d].match(/^[^=]+=.+$/))u.push(l[d]);else{var h=u.length-1;u[h]=u[h]+"/"+l[d]}for(var d=0;d<u.length;d++)this.asn1Array.push(new r({str:u[d],rule:this.sRule}))},this.setByLdapString=function(s,a){a!==void 0&&(this.sRule=a);var l=i.X500Name.ldapToCompat(s);this.setByString(l,a)},this.setByObject=function(s,a){a!==void 0&&(this.sRule=a);for(var l in s)if(s.hasOwnProperty(l)){var u=new r({str:l+"="+s[l],rule:this.sRule});this.asn1Array?this.asn1Array.push(u):this.asn1Array=[u]}},this.setByParam=function(s){if(s.rule!==void 0&&(this.sRule=s.rule),s.array!==void 0)this.paramArray=s.array;else if(s.str!==void 0)this.setByString(s.str);else if(s.ldapstr!==void 0)this.setByLdapString(s.ldapstr);else if(s.hex!==void 0)this.hTLV=s.hex;else if(s.certissuer!==void 0){var a=new Xt;a.readCertPEM(s.certissuer),this.hTLV=a.getIssuerHex()}else if(s.certsubject!==void 0){var a=new Xt;a.readCertPEM(s.certsubject),this.hTLV=a.getSubjectHex()}else typeof s=="object"&&s.certsubject===void 0&&s.certissuer===void 0&&this.setByObject(s)},this.getEncodedHex=function(){if(typeof this.hTLV=="string")return this.hTLV;if(this.asn1Array.length==0&&this.paramArray.length>0)for(var s=0;s<this.paramArray.length;s++){var a={array:this.paramArray[s]};this.sRule!="utf8"&&(a.rule=this.sRule);var l=new r(a);this.asn1Array.push(l)}var u=new e.DERSequence({array:this.asn1Array});return this.hTLV=u.getEncodedHex(),this.hTLV},n!==void 0&&this.setByParam(n)};Ne(T.asn1.x509.X500Name,T.asn1.ASN1Object);T.asn1.x509.X500Name.compatToLDAP=function(n){if(n.substr(0,1)!=="/")throw"malformed input";var t="";n=n.substr(1);var e=n.split("/");return e.reverse(),e=e.map(function(i){return i.replace(/,/,"\\,")}),e.join(",")};T.asn1.x509.X500Name.onelineToLDAP=function(n){return T.asn1.x509.X500Name.compatToLDAP(n)};T.asn1.x509.X500Name.ldapToCompat=function(n){for(var t=n.split(","),e=!1,i=[],r=0;t.length>0;r++){var o=t.shift();if(e===!0){var s=i.pop(),a=(s+","+o).replace(/\\,/g,",");i.push(a),e=!1}else i.push(o);o.substr(-1,1)==="\\"&&(e=!0)}return i=i.map(function(l){return l.replace("/","\\/")}),i.reverse(),"/"+i.join("/")};T.asn1.x509.X500Name.ldapToOneline=function(n){return T.asn1.x509.X500Name.ldapToCompat(n)};T.asn1.x509.RDN=function(n){T.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=T.asn1.x509.AttributeTypeAndValue;this.setByParam=function(e){e.rule!==void 0&&(this.sRule=e.rule),e.str!==void 0&&this.addByMultiValuedString(e.str),e.array!==void 0&&(this.paramArray=e.array)},this.addByString=function(e){this.asn1Array.push(new T.asn1.x509.AttributeTypeAndValue({str:e,rule:this.sRule}))},this.addByMultiValuedString=function(e){for(var i=T.asn1.x509.RDN.parseString(e),r=0;r<i.length;r++)this.addByString(i[r])},this.getEncodedHex=function(){if(this.asn1Array.length==0&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var i=this.paramArray[e];i.rule!==void 0&&this.sRule!="utf8"&&(i.rule=this.sRule);var r=new t(i);this.asn1Array.push(r)}var o=new T.asn1.DERSet({array:this.asn1Array});return this.TLV=o.getEncodedHex(),this.TLV},n!==void 0&&this.setByParam(n)};Ne(T.asn1.x509.RDN,T.asn1.ASN1Object);T.asn1.x509.RDN.parseString=function(n){for(var t=n.split(/\+/),e=!1,i=[],r=0;t.length>0;r++){var o=t.shift();if(e===!0){var s=i.pop(),a=(s+"+"+o).replace(/\\\+/g,"+");i.push(a),e=!1}else i.push(o);o.substr(-1,1)==="\\"&&(e=!0)}for(var l=!1,u=[],r=0;i.length>0;r++){var o=i.shift();if(l===!0){var d=u.pop();if(o.match(/"$/)){var a=(d+"+"+o).replace(/^([^=]+)="(.*)"$/,"$1=$2");u.push(a),l=!1}else u.push(d+"+"+o)}else u.push(o);o.match(/^[^=]+="/)&&(l=!0)}return u};T.asn1.x509.AttributeTypeAndValue=function(n){T.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var t=T,e=t.asn1,i=e.DERSequence,r=e.DERUTF8String,o=e.DERPrintableString,s=e.DERTeletexString,a=e.DERIA5String,l=e.DERVisibleString,u=e.DERBMPString,d=t.lang.String.isMail,h=t.lang.String.isPrintable;this.setByParam=function(f){if(f.rule!==void 0&&(this.sRule=f.rule),f.ds!==void 0&&(this.dsType=f.ds),f.value===void 0&&f.str!==void 0){var A=f.str,g=A.match(/^([^=]+)=(.+)$/);if(g)this.sType=g[1],this.sValue=g[2];else throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr)}else this.sType=f.type,this.sValue=f.value},this.setByString=function(f,A){A!==void 0&&(this.sRule=A);var g=f.match(/^([^=]+)=(.+)$/);if(g)this.setByAttrTypeAndValueStr(g[1],g[2]);else throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr)},this._getDsType=function(){var f=this.sType,A=this.sValue,g=this.sRule;return g==="prn"?f=="CN"&&d(A)?"ia5":h(A)?"prn":"utf8":g==="utf8"?f=="CN"&&d(A)?"ia5":f=="C"?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(f,A,g){g!==void 0&&(this.sRule=g),this.sType=f,this.sValue=A},this.getValueObj=function(f,A){if(f=="utf8")return new r({str:A});if(f=="prn")return new o({str:A});if(f=="tel")return new s({str:A});if(f=="ia5")return new a({str:A});if(f=="vis")return new l({str:A});if(f=="bmp")return new u({str:A});throw new Error("unsupported directory string type: type="+f+" value="+A)},this.getEncodedHex=function(){this.dsType==null&&(this.dsType=this._getDsType());var f=T.asn1.x509.OID.atype2obj(this.sType),A=this.getValueObj(this.dsType,this.sValue),g=new i({array:[f,A]});return this.TLV=g.getEncodedHex(),this.TLV},n!==void 0&&this.setByParam(n)};Ne(T.asn1.x509.AttributeTypeAndValue,T.asn1.ASN1Object);T.asn1.x509.SubjectPublicKeyInfo=function(n){T.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=null,e=null,i=T,r=i.asn1,o=r.DERInteger,s=r.DERBitString,a=r.DERObjectIdentifier,l=r.DERSequence,u=r.ASN1Util.newObject,d=r.x509,h=d.AlgorithmIdentifier,f=i.crypto,A=f.ECDSA,g=f.DSA;this.getASN1Object=function(){if(this.asn1AlgId==null||this.asn1SubjPKey==null)throw"algId and/or subjPubKey not set";var m=new l({array:[this.asn1AlgId,this.asn1SubjPKey]});return m},this.getEncodedHex=function(){var m=this.getASN1Object();return this.hTLV=m.getEncodedHex(),this.hTLV},this.setPubKey=function(m){try{if(m instanceof Nt){var b=u({seq:[{int:{bigint:m.n}},{int:{int:m.e}}]}),S=b.getEncodedHex();this.asn1AlgId=new h({name:"rsaEncryption"}),this.asn1SubjPKey=new s({hex:"00"+S})}}catch{}try{if(m instanceof T.crypto.ECDSA){var F=new a({name:m.curveName});this.asn1AlgId=new h({name:"ecPublicKey",asn1params:F}),this.asn1SubjPKey=new s({hex:"00"+m.pubKeyHex})}}catch{}try{if(m instanceof T.crypto.DSA){var F=new u({seq:[{int:{bigint:m.p}},{int:{bigint:m.q}},{int:{bigint:m.g}}]});this.asn1AlgId=new h({name:"dsa",asn1params:F});var R=new o({bigint:m.y});this.asn1SubjPKey=new s({hex:"00"+R.getEncodedHex()})}}catch{}},n!==void 0&&this.setPubKey(n)};Ne(T.asn1.x509.SubjectPublicKeyInfo,T.asn1.ASN1Object);T.asn1.x509.Time=function(n){T.asn1.x509.Time.superclass.constructor.call(this);var t=null,e=null,i=T,r=i.asn1,o=r.DERUTCTime,s=r.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(a){this.timeParams=a},this.setByParam=function(a){this.params=a},this.getType=function(a){return a.match(/^[0-9]{12}Z$/)?"utc":a.match(/^[0-9]{14}Z$/)?"gen":a.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":a.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.getEncodedHex=function(){var a=this.params,l=null;if(typeof a=="string"&&(a={str:a}),a!=null&&a.str&&(a.type==null||a.type==null)&&(a.type=this.getType(a.str)),a!=null&&a.str?(a.type=="utc"&&(l=new o(a.str)),a.type=="gen"&&(l=new s(a.str))):this.type=="gen"?l=new s:l=new o,l==null)throw new Error("wrong setting for Time");return this.TLV=l.getEncodedHex(),this.TLV},n!=null&&this.setByParam(n)};T.asn1.x509.Time_bak=function(n){T.asn1.x509.Time_bak.superclass.constructor.call(this);var t=null,e=null,i=T,r=i.asn1,o=r.DERUTCTime,s=r.DERGeneralizedTime;this.setTimeParams=function(a){this.timeParams=a},this.getEncodedHex=function(){var a=null;return this.timeParams!=null?this.type=="utc"?a=new o(this.timeParams):a=new s(this.timeParams):this.type=="utc"?a=new o:a=new s,this.TLV=a.getEncodedHex(),this.TLV},this.type="utc",n!==void 0&&(n.type!==void 0?this.type=n.type:n.str!==void 0&&(n.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),n.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=n)};Ne(T.asn1.x509.Time,T.asn1.ASN1Object);T.asn1.x509.AlgorithmIdentifier=function(n){T.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=T,e=t.asn1,i=e.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.getEncodedHex=function(){if(this.nameAlg===null&&this.asn1Alg===null)throw new Error("algorithm not specified");if(this.nameAlg!==null){var o=null;for(var s in i)s===this.nameAlg&&(o=i[s]);if(o!==null)return this.hTLV=o,this.hTLV}this.nameAlg!==null&&this.asn1Alg===null&&(this.asn1Alg=e.x509.OID.name2obj(this.nameAlg));var a=[this.asn1Alg];this.asn1Params!==null&&a.push(this.asn1Params);var l=new e.DERSequence({array:a});return this.hTLV=l.getEncodedHex(),this.hTLV},n!==void 0&&(n.name!==void 0&&(this.nameAlg=n.name),n.asn1params!==void 0&&(this.asn1Params=n.asn1params),n.paramempty!==void 0&&(this.paramEmpty=n.paramempty)),this.asn1Params===null&&this.paramEmpty===!1&&this.nameAlg!==null){this.nameAlg.name!==void 0&&(this.nameAlg=this.nameAlg.name);var r=this.nameAlg.toLowerCase();r.substr(-7,7)!=="withdsa"&&r.substr(-9,9)!=="withecdsa"&&(this.asn1Params=new e.DERNull)}};Ne(T.asn1.x509.AlgorithmIdentifier,T.asn1.ASN1Object);T.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"};T.asn1.x509.GeneralName=function(n){T.asn1.x509.GeneralName.superclass.constructor.call(this);var t={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87",otherName:"a0"},e=T,i=e.asn1,r=i.x509,o=r.X500Name,s=r.OtherName,a=i.DERIA5String,l=i.DERPrintableString,u=i.DEROctetString,d=i.DERTaggedObject,h=i.ASN1Object,f=Error;this.params=null,this.setByParam=function(A){this.params=A},this.getEncodedHex=function(){var A=this.params,g,b,m,b=!1;if(A.other!==void 0)g="a0",m=new s(A.other);else if(A.rfc822!==void 0)g="81",m=new a({str:A.rfc822});else if(A.dns!==void 0)g="82",m=new a({str:A.dns});else if(A.dn!==void 0)g="a4",b=!0,typeof A.dn=="string"?m=new o({str:A.dn}):A.dn instanceof T.asn1.x509.X500Name?m=A.dn:m=new o(A.dn);else if(A.ldapdn!==void 0)g="a4",b=!0,m=new o({ldapstr:A.ldapdn});else if(A.certissuer!==void 0||A.certsubj!==void 0){g="a4",b=!0;var S,F,R=null;if(A.certsubj!==void 0?(S=!1,F=A.certsubj):(S=!0,F=A.certissuer),F.match(/^[0-9A-Fa-f]+$/)&&R==F,F.indexOf("-----BEGIN ")!=-1&&(R=zr(F)),R==null)throw new Error("certsubj/certissuer not cert");var B=new Xt;B.hex=R;var P;S?P=B.getIssuerHex():P=B.getSubjectHex(),m=new h,m.hTLV=P}else if(A.uri!==void 0)g="86",m=new a({str:A.uri});else if(A.ip!==void 0){g="87";var L=A.ip,j,G="malformed IP address";if(L.match(/^[0-9.]+[.][0-9.]+$/)){if(j=X8("["+L.split(".").join(",")+"]"),j.length!==8)throw new f(G)}else if(L.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/))j=aP(L);else if(L.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))j=L;else throw new f(G);m=new u({hex:j})}else throw new f("improper params");var Y=new d({tag:g,explicit:b,obj:m});return Y.getEncodedHex()},n!==void 0&&this.setByParam(n)};T.asn1.x509.GeneralName_bak=function(n){T.asn1.x509.GeneralName.superclass.constructor.call(this);var t=null,e=null,i={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87",otherName:"a0"},r=T,o=r.asn1,s=_KJURd_asn1.x509,a=o.DERObjectIdentifier,l=o.DERSequence,u=o.DEROctetString,d=o.DERPrintableString,h=o.DERIA5String,f=o.DERTaggedObject,A=o.ASN1Object,g=s.X500Name,m=s.OtherName,b=o.ASN1Util.newObject,S=zr;this.explicit=!1,this.setByParam=function(F){var R=null,B=null;if(F!==void 0){if(F.rfc822!==void 0&&(this.type="rfc822",B=new h({str:F[this.type]})),F.other!==void 0){this.type="otherName";var P=new a({oid:F[this.type].oid}),L=b(F[this.type].obj),j=new Array;j.push(P),j.push(L),B=new l({array:j})}if(F.dns!==void 0&&(this.type="dns",B=new h({str:F[this.type]})),F.uri!==void 0&&(this.type="uri",B=new h({str:F[this.type]})),F.dn!==void 0&&(this.type="dn",this.explicit=!0,typeof F.dn=="string"?B=new g({str:F.dn}):F.dn instanceof T.asn1.x509.X500Name?B=F.dn:B=new g(F.dn)),F.ldapdn!==void 0&&(this.type="dn",this.explicit=!0,B=new g({ldapstr:F.ldapdn})),F.certissuer!==void 0){this.type="dn",this.explicit=!0;var G=F.certissuer,Y=null;if(G.match(/^[0-9A-Fa-f]+$/)&&Y==G,G.indexOf("-----BEGIN ")!=-1&&(Y=S(G)),Y==null)throw"certissuer param not cert";var Z=new Xt;Z.hex=Y;var _e=Z.getIssuerHex();B=new A,B.hTLV=_e}if(F.certsubj!==void 0){this.type="dn",this.explicit=!0;var G=F.certsubj,Y=null;if(G.match(/^[0-9A-Fa-f]+$/)&&Y==G,G.indexOf("-----BEGIN ")!=-1&&(Y=S(G)),Y==null)throw"certsubj param not cert";var Z=new Xt;Z.hex=Y;var _e=Z.getSubjectHex();B=new A,B.hTLV=_e}if(F.ip!==void 0){this.type="ip",this.explicit=!1;var xe=F.ip,qe,ge="malformed IP address";if(xe.match(/^[0-9.]+[.][0-9.]+$/)){if(qe=X8("["+xe.split(".").join(",")+"]"),qe.length!==8)throw ge}else if(xe.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/))qe=aP(xe);else if(xe.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))qe=xe;else throw ge;B=new u({hex:qe})}if(this.type==null)throw"unsupported type in params="+F;this.asn1Obj=new f({explicit:this.explicit,tag:i[this.type],obj:B})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},n!==void 0&&this.setByParam(n)};Ne(T.asn1.x509.GeneralName,T.asn1.ASN1Object);T.asn1.x509.GeneralNames=function(n){T.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=null,e=T,i=e.asn1;this.setByParamArray=function(r){for(var o=0;o<r.length;o++){var s=new i.x509.GeneralName(r[o]);this.asn1Array.push(s)}},this.getEncodedHex=function(){var r=new i.DERSequence({array:this.asn1Array});return r.getEncodedHex()},this.asn1Array=new Array,typeof n<"u"&&this.setByParamArray(n)};Ne(T.asn1.x509.GeneralNames,T.asn1.ASN1Object);T.asn1.x509.OtherName=function(n){T.asn1.x509.OtherName.superclass.constructor.call(this);var t=null,e=null,i=T,r=i.asn1,o=r.DERObjectIdentifier,s=r.DERSequence,a=r.ASN1Util.newObject;this.params=null,this.setByParam=function(l){this.params=l},this.getEncodedHex=function(){var l=this.params;if(l.oid==null||l.value==null)throw new Error("oid or value not specified");var u=new o({oid:l.oid}),d=a({tag:{tag:"a0",explicit:!0,obj:l.value}}),h=new s({array:[u,d]});return h.getEncodedHex()},n!==void 0&&this.setByParam(n)};Ne(T.asn1.x509.OtherName,T.asn1.ASN1Object);T.asn1.x509.OID=new function(){var n=T.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(t){if(typeof this.objCache[t]<"u")return this.objCache[t];if(typeof this.name2oidList[t]>"u")throw"Name of ObjectIdentifier not defined: "+t;var e=this.name2oidList[t],i=new n({oid:e});return this.objCache[t]=i,i},this.atype2obj=function(t){if(this.objCache[t]!==void 0)return this.objCache[t];var e;if(t.match(/^\d+\.\d+\.[0-9.]+$/))e=t;else if(this.atype2oidList[t]!==void 0)e=this.atype2oidList[t];else if(this.name2oidList[t]!==void 0)e=this.name2oidList[t];else throw new Error("AttributeType name undefined: "+t);var i=new n({oid:e});return this.objCache[t]=i,i},this.registerOIDs=function(t){if(this.checkOIDs(t))for(var e in t)this.name2oidList[e]=t[e]},this.checkOIDs=function(t){try{var e=Object.keys(t);return e.length==0?!1:(e.map(function(i,r,o){var s=this[i];if(!s.match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")},t),!0)}catch{return!1}}};T.asn1.x509.OID.oid2name=function(n){var t=T.asn1.x509.OID.name2oidList;for(var e in t)if(t[e]==n)return e;return""};T.asn1.x509.OID.oid2atype=function(n){var t=T.asn1.x509.OID.atype2oidList;for(var e in t)if(t[e]==n)return e;return n};T.asn1.x509.OID.name2oid=function(n){if(n.match(/^[0-9.]+$/))return n;var t=T.asn1.x509.OID.name2oidList;return t[n]===void 0?"":t[n]};T.asn1.x509.X509Util={};T.asn1.x509.X509Util.newCertPEM=function(n){var t=T.asn1.x509,e=t.TBSCertificate,i=t.Certificate,r=new i(n);return r.getPEM()};(typeof T>"u"||!T)&&(T={});(typeof T.asn1>"u"||!T.asn1)&&(T.asn1={});(typeof T.asn1.cms>"u"||!T.asn1.cms)&&(T.asn1.cms={});T.asn1.cms.Attribute=function(n){var t=Error,e=T,i=e.asn1,r=i.DERSequence,o=i.DERSet,s=i.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(a){this.params=a},this.getValueArray=function(){throw new t("not yet implemented abstract")},this.getEncodedHex=function(){var a=new s({oid:this.typeOid}),l=new o({array:this.getValueArray()}),u=new r({array:[a,l]});return u.getEncodedHex()}};Ne(T.asn1.cms.Attribute,T.asn1.ASN1Object);T.asn1.cms.ContentType=function(n){var t=T,e=t.asn1;e.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){var i=new e.DERObjectIdentifier(this.params.type);return[i]},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.ContentType,T.asn1.cms.Attribute);T.asn1.cms.MessageDigest=function(n){var t=T,e=t.asn1,i=e.DEROctetString,r=e.cms;r.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){var o=new i(this.params);return[o]},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.MessageDigest,T.asn1.cms.Attribute);T.asn1.cms.SigningTime=function(n){var t=T,e=t.asn1;e.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){var i=new e.x509.Time(this.params);return[i]},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.SigningTime,T.asn1.cms.Attribute);T.asn1.cms.SigningCertificate=function(n){var t=Error,e=T,i=e.asn1,r=i.DERSequence,o=i.cms,s=o.ESSCertID,a=e.crypto;o.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(this.params==null||this.params==null||this.params.array==null)throw new t("parameter 'array' not specified");for(var l=this.params.array,u=[],d=0;d<l.length;d++){var h=l[d];n.hasis==!1&&typeof h=="string"&&(h.indexOf("-----BEGIN")!=-1||je.isASN1HEX(h))&&(h={cert:h}),h.hasis!=!1&&n.hasis==!1&&(h.hasis=!1),u.push(new s(h))}var f=new r({array:u}),A=new r({array:[f]});return[A]},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.SigningCertificate,T.asn1.cms.Attribute);T.asn1.cms.ESSCertID=function(n){T.asn1.cms.ESSCertID.superclass.constructor.call(this);var t=Error,e=T,i=e.asn1,r=i.DEROctetString,o=i.DERSequence,s=i.cms.IssuerSerial;this.params=null,this.getCertHash=function(a,l){if(a.hash!=null)return a.hash;if(typeof a=="string"&&a.indexOf("-----BEGIN")==-1&&!je.isASN1HEX(a))return a;var u;if(typeof a=="string")u=a;else if(a.cert!=null)u=a.cert;else throw new t("hash nor cert unspecified");var d;u.indexOf("-----BEGIN")!=-1?d=zr(u):d=u,typeof a=="string"&&(a.indexOf("-----BEGIN")!=-1?d=zr(a):je.isASN1HEX(a)&&(d=a));var h;if(a.alg!=null)h=a.alg;else if(l!=null)h=l;else throw new t("hash alg unspecified");return e.crypto.Util.hashHex(d,h)},this.getEncodedHex=function(){var a=this.params,l=this.getCertHash(a,"sha1"),u=[];u.push(new r({hex:l})),(typeof a=="string"&&a.indexOf("-----BEGIN")!=-1||a.cert!=null&&a.hasis!=!1||a.issuer!=null&&a.serial!=null)&&u.push(new s(a));var d=new o({array:u});return d.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.ESSCertID,T.asn1.ASN1Object);T.asn1.cms.SigningCertificateV2=function(n){var t=Error,e=T,i=e.asn1,r=i.DERSequence,o=i.x509,s=i.cms,a=s.ESSCertIDv2,l=e.crypto;s.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(this.params==null||this.params==null||this.params.array==null)throw new t("parameter 'array' not specified");for(var u=this.params.array,d=[],h=0;h<u.length;h++){var f=u[h];(n.alg!=null||n.hasis==!1)&&typeof f=="string"&&(f.indexOf("-----BEGIN")!=-1||je.isASN1HEX(f))&&(f={cert:f}),f.alg==null&&n.alg!=null&&(f.alg=n.alg),f.hasis!=!1&&n.hasis==!1&&(f.hasis=!1),d.push(new a(f))}var A=new r({array:d}),g=new r({array:[A]});return[g]},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.SigningCertificateV2,T.asn1.cms.Attribute);T.asn1.cms.ESSCertIDv2=function(n){T.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);var t=Error,e=T,i=e.asn1,r=i.DEROctetString,o=i.DERSequence,s=i.cms.IssuerSerial,a=i.x509.AlgorithmIdentifier;this.params=null,this.getEncodedHex=function(){var l=this.params,u=this.getCertHash(l,"sha256"),d=[];l.alg!=null&&l.alg!="sha256"&&d.push(new a({name:l.alg})),d.push(new r({hex:u})),(typeof l=="string"&&l.indexOf("-----BEGIN")!=-1||l.cert!=null&&l.hasis!=!1||l.issuer!=null&&l.serial!=null)&&d.push(new s(l));var h=new o({array:d});return h.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.ESSCertIDv2,T.asn1.cms.ESSCertID);T.asn1.cms.IssuerSerial=function(n){var t=Error,e=T,i=e.asn1,r=i.DERInteger,o=i.DERSequence,s=i.cms,a=i.x509,l=a.GeneralNames,u=Xt;s.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(d){this.params=d},this.getEncodedHex=function(){var d=this.params,h,f;if(typeof d=="string"&&d.indexOf("-----BEGIN")!=-1||d.cert!=null){var A;d.cert!=null?A=d.cert:A=d;var g=new u;g.readCertPEM(A),h=g.getIssuer(),f={hex:g.getSerialNumberHex()}}else if(d.issuer!=null&&d.serial)h=d.issuer,f=d.serial;else throw new t("cert or issuer and serial parameter not specified");var m=new l([{dn:h}]),b=new r(f),S=new o({array:[m,b]});return S.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.IssuerSerial,T.asn1.ASN1Object);T.asn1.cms.SignerIdentifier=function(n){var t=T,e=t.asn1,i=e.DERInteger,r=e.DERSequence,o=e.cms,s=o.IssuerAndSerialNumber,a=o.SubjectKeyIdentifier,l=e.x509,u=l.X500Name,d=Xt,h=Error;o.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var f=this.params;if(f.type=="isssn"){var A=new s(f);return A.getEncodedHex()}else if(f.type=="skid"){var g=new a(f);return g.getEncodedHex()}else throw new Error("wrong property for isssn or skid")},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.SignerIdentifier,T.asn1.ASN1Object);T.asn1.cms.IssuerAndSerialNumber=function(n){var t=T,e=t.asn1,i=e.DERInteger,r=e.DERSequence,o=e.cms,s=e.x509,a=s.X500Name,l=Xt,u=Error;o.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var d=this.params,h,f;if(typeof d=="string"&&d.indexOf("-----BEGIN")!=-1||d.cert!=null){var A;d.cert!=null?A=d.cert:A=d;var g=new l;g.readCertPEM(A),h=g.getIssuer(),f={hex:g.getSerialNumberHex()}}else if(d.issuer!=null&&d.serial)h=d.issuer,f=d.serial;else throw new u("cert or issuer and serial parameter not specified");var m=new a(h),b=new i(f),S=new r({array:[m,b]});return S.getEncodedHex()},this.setByParam=function(d){this.params=d},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.IssuerAndSerialNumber,T.asn1.ASN1Object);T.asn1.cms.SubjectKeyIdentifier=function(n){var t=T,e=t.asn1,i=e.DERInteger,r=e.DERSequence,o=e.ASN1Util.newObject,s=e.cms,a=s.IssuerAndSerialName,l=s.SubjectKeyIdentifier,u=e.x509,d=u.X500Name,h=Xt,f=Error;s.SubjectKeyIdentifier.superclass.constructor.call(this),this.getEncodedHex=function(){var A=this.params;if(A.cert==null&&A.skid==null)throw new f("property cert nor skid undefined");var g;if(A.cert!=null){var m=new h(A.cert),b=m.getExtSubjectKeyIdentifier();g=b.kid.hex}else A.skid!=null&&(g=A.skid);var S=o({tag:{tage:"a0",obj:{octstr:{hex:g}}}});return S.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.SubjectKeyIdentifier,T.asn1.ASN1Object);T.asn1.cms.AttributeList=function(n){var t=Error,e=T,i=e.asn1,r=i.DERSet,o=i.cms;o.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(s){this.params=s},this.getEncodedHex=function(){var s=this.params;if(this.hTLV!=null)return this.hTLV;var a=!0;s.sortflag!=null&&(a=s.sortflag);for(var l=s.array,u=[],d=0;d<l.length;d++){var h=l[d],f=h.attr;if(f=="contentType")u.push(new o.ContentType(h));else if(f=="messageDigest")u.push(new o.MessageDigest(h));else if(f=="signingTime")u.push(new o.SigningTime(h));else if(f=="signingCertificate")u.push(new o.SigningCertificate(h));else if(f=="signingCertificateV2")u.push(new o.SigningCertificateV2(h));else if(f=="signaturePolicyIdentifier")u.push(new T.asn1.cades.SignaturePolicyIdentifier(h));else if(f=="signatureTimeStamp"||f=="timeStampToken")u.push(new T.asn1.cades.SignatureTimeStamp(h));else throw new t("unknown attr: "+f)}var A=new r({array:u,sortflag:a});return this.hTLV=A.getEncodedHex(),this.hTLV},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.AttributeList,T.asn1.ASN1Object);T.asn1.cms.SignerInfo=function(n){var t=Error,e=T,i=e.asn1,r=i.DERInteger,o=i.DEROctetString,s=i.DERSequence,a=i.DERTaggedObject,l=i.cms,u=l.SignerIdentifier,d=l.AttributeList,h=l.ContentType,f=l.EncapsulatedContentInfo,A=l.MessageDigest,g=l.SignedData,m=i.x509,b=m.AlgorithmIdentifier,S=e.crypto,F=ai;l.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var R=this.params,B=R.sigalg,P=new d(R.sattrs).getEncodedHex(),L=F.getKey(R.signkey),j=new S.Signature({alg:B});j.init(L),j.updateHex(P);var G=j.sign();R.sighex=G},this.getEncodedHex=function(){var R=this.params,B=[];if(B.push(new r({int:R.version})),B.push(new u(R.id)),B.push(new b({name:R.hashalg})),R.sattrs!=null){var P=new d(R.sattrs);try{B.push(new a({tag:"a0",explicit:!1,obj:P}))}catch(j){throw new t("si sattr error: "+j)}}if(R.sigalgfield!=null?B.push(new b({name:R.sigalgfield})):B.push(new b({name:R.sigalg})),R.sighex==null&&R.signkey!=null&&this.sign(),B.push(new o({hex:R.sighex})),R.uattrs!=null){var P=new d(R.uattrs);try{B.push(new a({tag:"a1",explicit:!1,obj:P}))}catch(G){throw new t("si uattr error: "+G)}}var L=new s({array:B});return L.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.SignerInfo,T.asn1.ASN1Object);T.asn1.cms.EncapsulatedContentInfo=function(n){var t=T,e=t.asn1,i=e.DERTaggedObject,r=e.DERSequence,o=e.DERObjectIdentifier,s=e.DEROctetString,a=e.cms;a.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var l=this.params,u=[];if(u.push(new o(l.type)),l.content!=null&&(l.content.hex!=null||l.content.str!=null)&&l.isDetached!=!0){var d=new s(l.content),h=new i({tag:"a0",explicit:!0,obj:d});u.push(h)}var f=new r({array:u});return f.getEncodedHex()},this.setByParam=function(l){this.params=l},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.EncapsulatedContentInfo,T.asn1.ASN1Object);T.asn1.cms.ContentInfo=function(n){var t=T,e=t.asn1,i=e.DERTaggedObject,r=e.DERSequence,o=e.DERObjectIdentifier,s=e.x509,a=s.OID.name2obj;T.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var l=this.params,u=[];u.push(new o(l.type));var d=new i({tag:"a0",explicit:!0,obj:l.obj});u.push(d);var h=new r({array:u});return h.getEncodedHex()},this.setByParam=function(l){this.params=l},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.ContentInfo,T.asn1.ASN1Object);T.asn1.cms.SignedData=function(n){var t=Error,e=T,i=e.asn1,r=i.ASN1Object,o=i.DERInteger,s=i.DERSet,a=i.DERSequence,l=i.DERTaggedObject,u=i.cms,d=u.EncapsulatedContentInfo,h=u.SignerInfo,f=u.ContentInfo,A=u.CertificateSet,g=u.RevocationInfoChoices,m=i.x509,b=m.AlgorithmIdentifier;T.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var S=this.params;this._setDigestAlgs(S),this._setContentTypeByEContent(S),this._setMessageDigestByEContent(S),this._setSignerInfoVersion(S),this._setSignedDataVersion(S)},this._setDigestAlgs=function(S){for(var F={},R=S.sinfos,B=0;B<R.length;B++){var P=R[B];F[P.hashalg]=1}S.hashalgs=Object.keys(F).sort()},this._setContentTypeByEContent=function(S){for(var F=S.econtent.type,R=S.sinfos,B=0;B<R.length;B++){var P=R[B],L=this._getAttrParamByName(P,"contentType");L.type=F}},this._setMessageDigestByEContent=function(S){var F=S.econtent,R=S.econtent.type,B=F.content.hex;B==null&&F.type=="data"&&F.content.str!=null&&(B=ku(F.content.str));for(var P=S.sinfos,L=0;L<P.length;L++){var j=P[L],G=j.hashalg,Y=this._getAttrParamByName(j,"messageDigest"),Z=T.crypto.Util.hashHex(B,G);Y.hex=Z}},this._getAttrParamByName=function(S,F){for(var R=S.sattrs.array,B=0;B<R.length;B++)if(R[B].attr==F)return R[B]},this._setSignerInfoVersion=function(S){for(var F=S.sinfos,R=0;R<F.length;R++){var B=F[R],P=1;B.id.type=="skid"&&(P=3),B.version=P}},this._setSignedDataVersion=function(S){var F=this._getSignedDataVersion(S);S.version=F},this._getSignedDataVersion=function(S){if(S.revinfos!=null)for(var F=S.revinfos,R=0;R<F.length;R++){var B=F[R];if(B.ocsp!=null)return 5}for(var P=S.sinfos,R=0;R<P.length;R++){var L=S.sinfos[R];if(L.version==3)return 3}return S.econtent.type!="data"?3:1},this.getEncodedHex=function(){var S=this.params;this.getEncodedHexPrepare!=null&&this.getEncodedHexPrepare(),S.fixed!=!0&&this.checkAndFixParam();var F=[];F.push(new o({int:S.version}));for(var R=[],B=0;B<S.hashalgs.length;B++){var P=S.hashalgs[B];R.push(new b({name:P}))}F.push(new s({array:R})),F.push(new d(S.econtent)),S.certs!=null&&F.push(new A(S.certs)),S.revinfos!=null&&F.push(new g(S.revinfos));for(var L=[],B=0;B<S.sinfos.length;B++){var j=S.sinfos[B];L.push(new h(j))}F.push(new s({array:L}));var G=new a({array:F});return G.getEncodedHex()},this.getContentInfo=function(){var S=new f({type:"signed-data",obj:this});return S},this.getContentInfoEncodedHex=function(){return this.getContentInfo().getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.SignedData,T.asn1.ASN1Object);T.asn1.cms.CertificateSet=function(n){T.asn1.cms.CertificateSet.superclass.constructor.call(this);var t=Error,e=T.asn1,i=e.DERTaggedObject,r=e.DERSet,o=e.ASN1Object;this.params=null,this.getEncodedHex=function(){var s=this.params,a=[],l;if(s instanceof Array)l=s;else if(s.array!=null)l=s.array;else throw new t("cert array not specified");for(var u=0;u<l.length;u++){var d=l[u],h=zr(d),f=new o;f.hTLV=h,a.push(f)}var A={array:a};s.sortflag==!1&&(A.sortflag=!1);var g=new r(A),m=new i({tag:"a0",explicit:!1,obj:g});return m.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.CertificateSet,T.asn1.ASN1Object);T.asn1.cms.RevocationInfoChoices=function(n){T.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var t=this.params;if(!t instanceof Array)throw new Error("params is not array");for(var e=[],i=0;i<t.length;i++)e.push(new T.asn1.cms.RevocationInfoChoice(t[i]));var r=T.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:e}}});return r.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.RevocationInfoChoices,T.asn1.ASN1Object);T.asn1.cms.RevocationInfoChoice=function(n){T.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var t=this.params;if(t.crl!=null&&typeof t.crl=="string"){var e=t.crl;return t.crl.indexOf("-----BEGIN")!=-1&&(e=zr(t.crl)),e}else if(t.ocsp!=null){var i=T.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new T.asn1.cms.OtherRevocationFormat(t)}});return i.getEncodedHex()}else throw new Error("property crl or ocsp undefined")},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.RevocationInfoChoice,T.asn1.ASN1Object);T.asn1.cms.OtherRevocationFormat=function(n){T.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var t=Error,e=T,i=e.asn1,r=i.ASN1Util.newObject,o=e.lang.String.isHex;this.params=null,this.getEncodedHex=function(){var s=this.params;if(s.ocsp==null)throw new t("property ocsp not specified");if(!o(s.ocsp)||!je.isASN1HEX(s.ocsp))throw new t("ocsp value not ASN.1 hex string");var a=r({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:s.ocsp}}]});return a.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.cms.OtherRevocationFormat,T.asn1.ASN1Object);T.asn1.cms.CMSUtil=new function(){};T.asn1.cms.CMSUtil.newSignedData=function(n){return new T.asn1.cms.SignedData(n)};T.asn1.cms.CMSUtil.verifySignedData=function(n){var t=T,e=t.asn1,i=e.cms,r=i.SignerInfo,o=i.SignedData,s=i.SigningTime,a=i.SigningCertificate,l=i.SigningCertificateV2,u=e.cades,d=u.SignaturePolicyIdentifier,h=t.lang.String.isHex,f=je,A=f.getVbyList,g=f.getTLVbyList,m=f.getIdxbyList,b=f.getChildIdx,S=f.getTLV,F=f.oidname,R=t.crypto.Util.hashHex;n.cms===void 0&&h(n.cms);var B=n.cms,P=function(me,re){for(var ue,Fe=3;Fe<6;Fe++)if(ue=m(me,0,[1,0,Fe]),ue!==void 0){var Ue=me.substr(ue,2);Ue==="a0"&&(re.certsIdx=ue),Ue==="a1"&&(re.revinfosIdx=ue),Ue==="31"&&(re.signerinfosIdx=ue)}},L=function(me,re){var ue=re.signerinfosIdx;if(ue!==void 0){var Fe=b(me,ue);re.signerInfoIdxList=Fe;for(var Ue=0;Ue<Fe.length;Ue++){var Je=Fe[Ue],xt={idx:Je};j(me,xt),re.signerInfos.push(xt)}}},j=function(me,re){var ue=re.idx;re.signerid_issuer1=g(me,ue,[1,0],"30"),re.signerid_serial1=A(me,ue,[1,1],"02"),re.hashalg=F(A(me,ue,[2,0],"06"));var Fe=m(me,ue,[3],"a0");re.idxSignedAttrs=Fe,G(me,re,Fe);var Ue=b(me,ue),Je=Ue.length;if(Je<6)throw"malformed SignerInfo";re.sigalg=F(A(me,ue,[Je-2,0],"06")),re.sigval=A(me,ue,[Je-1],"04")},G=function(me,re,ue){var Fe=b(me,ue);re.signedAttrIdxList=Fe;for(var Ue=0;Ue<Fe.length;Ue++){var Je=Fe[Ue],xt=A(me,Je,[0],"06"),lt;xt==="2a864886f70d010905"?(lt=xi(A(me,Je,[1,0])),re.saSigningTime=lt):xt==="2a864886f70d010904"&&(lt=A(me,Je,[1,0],"04"),re.saMessageDigest=lt)}},Y=function(me,re){if(A(me,0,[0],"06")!=="2a864886f70d010702")return re;re.cmsType="signedData",re.econtent=A(me,0,[1,0,2,1,0]),P(me,re),re.signerInfos=[],L(me,re)},Z=function(me,re){for(var ue=re.parse.signerInfos,Fe=ue.length,Ue=!0,Je=0;Je<Fe;Je++){var xt=ue[Je];xe(me,re,xt,Je),xt.isValid||(Ue=!1)}re.isValid=Ue},_e=function(me,re,ue,Fe){var Ue=re.parse.certsIdx,Je;if(re.certs===void 0){Je=[],re.certkeys=[];for(var xt=b(me,Ue),lt=0;lt<xt.length;lt++){var Le=S(me,xt[lt]),it=new Xt;it.readCertHex(Le),Je[lt]=it,re.certkeys[lt]=it.getPublicKey()}re.certs=Je}else Je=re.certs;re.cccc=Je.length,re.cccci=xt.length;for(var lt=0;lt<Je.length;lt++){var Xn=it.getIssuerHex(),Yt=it.getSerialNumberHex();ue.signerid_issuer1===Xn&&ue.signerid_serial1===Yt&&(ue.certkey_idx=lt)}},xe=function(me,re,ue,Fe){ue.verifyDetail={};var Ue=ue.verifyDetail,Je=re.parse.econtent,xt=ue.hashalg,lt=ue.saMessageDigest;Ue.validMessageDigest=!1,R(Je,xt)===lt&&(Ue.validMessageDigest=!0),_e(me,re,ue,Fe),Ue.validSignatureValue=!1;var Le=ue.sigalg,it="31"+S(me,ue.idxSignedAttrs).substr(2);ue.signedattrshex=it;var Xn=re.certs[ue.certkey_idx].getPublicKey(),Yt=new T.crypto.Signature({alg:Le});Yt.init(Xn),Yt.updateHex(it);var Jt=Yt.verify(ue.sigval);Ue.validSignatureValue_isValid=Jt,Jt===!0&&(Ue.validSignatureValue=!0),ue.isValid=!1,Ue.validMessageDigest&&Ue.validSignatureValue&&(ue.isValid=!0)},qe=function(){},ge={isValid:!1,parse:{}};return Y(B,ge.parse),Z(B,ge),ge};T.asn1.cms.CMSParser=function(){var n=Error,t=Xt,e=new t,i=je,r=i.getV,o=i.getTLV,s=i.getIdxbyList,a=i.getTLVbyList,l=i.getTLVbyListEx,u=i.getVbyList,d=i.getVbyListEx,h=i.getChildIdx;this.getCMSSignedData=function(f){var A=a(f,0,[1,0]),g=this.getSignedData(A);return g},this.getSignedData=function(f){var A=h(f,0),g={},m=r(f,A[0]),b=parseInt(m,16);g.version=b;var S=o(f,A[1]);g.hashalgs=this.getHashAlgArray(S);var F=o(f,A[2]);g.econtent=this.getEContent(F);var R=l(f,0,["[0]"]);R!=null&&(g.certs=this.getCertificateSet(R));var B=l(f,0,["[1]"]);B!=null;var P=l(f,0,[3]);return g.sinfos=this.getSignerInfos(P),g},this.getHashAlgArray=function(f){for(var A=h(f,0),g=new t,m=[],b=0;b<A.length;b++){var S=o(f,A[b]),F=g.getAlgorithmIdentifierName(S);m.push(F)}return m},this.getEContent=function(f){var A={},g=u(f,0,[0]),m=u(f,0,[1,0]);return A.type=T.asn1.x509.OID.oid2name(je.hextooidstr(g)),A.content={hex:m},A},this.getSignerInfos=function(f){for(var A=[],g=h(f,0),m=0;m<g.length;m++){var b=o(f,g[m]),S=this.getSignerInfo(b);A.push(S)}return A},this.getSignerInfo=function(f){var A={},g=h(f,0),m=i.getInt(f,g[0],-1);m!=-1&&(A.version=m);var b=o(f,g[1]),S=this.getIssuerAndSerialNumber(b);A.id=S;var F=o(f,g[2]),R=e.getAlgorithmIdentifierName(F);A.hashalg=R;var B=l(f,0,["[0]"]);if(B!=null){var P=this.getAttributeList(B);A.sattrs=P}var L=l(f,0,[3]),j=e.getAlgorithmIdentifierName(L);A.sigalg=j;var G=d(f,0,[4]);A.sighex=G;var Y=l(f,0,["[1]"]);if(Y!=null){var Z=this.getAttributeList(Y);A.uattrs=Z}return A},this.getSignerIdentifier=function(f){if(f.substr(0,2)=="30")return this.getIssuerAndSerialNumber(f);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(f){var A={type:"isssn"},g=h(f,0),m=o(f,g[0]);A.issuer=e.getX500Name(m);var b=r(f,g[1]);return A.serial={hex:b},A},this.getAttributeList=function(f){for(var A=[],g=h(f,0),m=0;m<g.length;m++){var b=o(f,g[m]),S=this.getAttribute(b);A.push(S)}return{array:A}},this.getAttribute=function(f){var A={},g=h(f,0),m=i.getOID(f,g[0]),b=T.asn1.x509.OID.oid2name(m);A.attr=b;var S=o(f,g[1]),F=h(S,0);if(F.length==1)A.valhex=o(S,F[0]);else{for(var R=[],B=0;B<F.length;B++)R.push(o(S,F[B]));A.valhex=R}return b=="contentType"?this.setContentType(A):b=="messageDigest"?this.setMessageDigest(A):b=="signingTime"?this.setSigningTime(A):b=="signingCertificate"?this.setSigningCertificate(A):b=="signingCertificateV2"?this.setSigningCertificateV2(A):b=="signaturePolicyIdentifier"&&this.setSignaturePolicyIdentifier(A),A},this.setContentType=function(f){var A=i.getOIDName(f.valhex,0,null);A!=null&&(f.type=A,delete f.valhex)},this.setSigningTime=function(f){var A=r(f.valhex,0),g=xi(A);f.str=g,delete f.valhex},this.setMessageDigest=function(f){var A=r(f.valhex,0);f.hex=A,delete f.valhex},this.setSigningCertificate=function(f){var A=h(f.valhex,0);if(A.length>0){for(var g=o(f.valhex,A[0]),m=h(g,0),b=[],S=0;S<m.length;S++){var F=o(g,m[S]),R=this.getESSCertID(F);b.push(R)}f.array=b}if(A.length>1){var B=o(f.valhex,A[1]);f.polhex=B}delete f.valhex},this.setSignaturePolicyIdentifier=function(f){var A=h(f.valhex,0);if(A.length>0){var g=i.getOID(f.valhex,A[0]);f.oid=g}if(A.length>1){var m=new t,b=h(f.valhex,A[1]),S=o(f.valhex,b[0]),F=m.getAlgorithmIdentifierName(S);f.alg=F;var R=r(f.valhex,b[1]);f.hash=R}delete f.valhex},this.setSigningCertificateV2=function(f){var A=h(f.valhex,0);if(A.length>0){for(var g=o(f.valhex,A[0]),m=h(g,0),b=[],S=0;S<m.length;S++){var F=o(g,m[S]),R=this.getESSCertIDv2(F);b.push(R)}f.array=b}if(A.length>1){var B=o(f.valhex,A[1]);f.polhex=B}delete f.valhex},this.getESSCertID=function(f){var A={},g=h(f,0);if(g.length>0){var m=r(f,g[0]);A.hash=m}if(g.length>1){var b=o(f,g[1]),S=this.getIssuerSerial(b);S.serial!=null&&(A.serial=S.serial),S.issuer!=null&&(A.issuer=S.issuer)}return A},this.getESSCertIDv2=function(f){var A={},g=h(f,0);if(g.length<1||3<g.length)throw new n("wrong number of elements");var m=0;if(f.substr(g[0],2)=="30"){var b=o(f,g[0]);A.alg=e.getAlgorithmIdentifierName(b),m++}else A.alg="sha256";var S=r(f,g[m]);if(A.hash=S,g.length>m+1){var F=o(f,g[m+1]),R=this.getIssuerSerial(F);A.issuer=R.issuer,A.serial=R.serial}return A},this.getIssuerSerial=function(f){var A={},g=h(f,0),m=o(f,g[0]),b=e.getGeneralNames(m),S=b[0].dn;A.issuer=S;var F=r(f,g[1]);return A.serial={hex:F},A},this.getCertificateSet=function(f){for(var A=h(f,0),g=[],m=0;m<A.length;m++){var b=o(f,A[m]);if(b.substr(0,2)=="30"){var S=Es(b,"CERTIFICATE");g.push(S)}}return{array:g,sortflag:!1}}};(typeof T>"u"||!T)&&(T={});(typeof T.asn1>"u"||!T.asn1)&&(T.asn1={});(typeof T.asn1.tsp>"u"||!T.asn1.tsp)&&(T.asn1.tsp={});T.asn1.tsp.TimeStampToken=function(n){var t=T,e=t.asn1,i=e.tsp;i.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var r=new i.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=r.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.tsp.TimeStampToken,T.asn1.cms.SignedData);T.asn1.tsp.TSTInfo=function(n){var t=Error,e=T,i=e.asn1,r=i.DERSequence,o=i.DERInteger,s=i.DERBoolean,a=i.DERGeneralizedTime,l=i.DERObjectIdentifier,u=i.DERTaggedObject,d=i.tsp,h=d.MessageImprint,f=d.Accuracy,A=i.x509.X500Name,g=i.x509.GeneralName;if(d.TSTInfo.superclass.constructor.call(this),this.dVersion=new o({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var m=[this.dVersion];if(this.dPolicy==null)throw new Error("policy shall be specified.");if(m.push(this.dPolicy),this.dMessageImprint==null)throw new Error("messageImprint shall be specified.");if(m.push(this.dMessageImprint),this.dSerial==null)throw new Error("serialNumber shall be specified.");if(m.push(this.dSerial),this.dGenTime==null)throw new Error("genTime shall be specified.");m.push(this.dGenTime),this.dAccuracy!=null&&m.push(this.dAccuracy),this.dOrdering!=null&&m.push(this.dOrdering),this.dNonce!=null&&m.push(this.dNonce),this.dTsa!=null&&m.push(this.dTsa);var b=new r({array:m});return this.hTLV=b.getEncodedHex(),this.hTLV},n!==void 0){if(typeof n.policy=="string"){if(!n.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new l({oid:n.policy})}n.messageImprint!==void 0&&(this.dMessageImprint=new h(n.messageImprint)),n.serial!==void 0&&(this.dSerial=new o(n.serial)),n.genTime!==void 0&&(this.dGenTime=new a(n.genTime)),n.accuracy!==void 0&&(this.dAccuracy=new f(n.accuracy)),n.ordering!==void 0&&n.ordering==!0&&(this.dOrdering=new s),n.nonce!==void 0&&(this.dNonce=new o(n.nonce)),n.tsa!==void 0&&(this.dTsa=new u({tag:"a0",explicit:!0,obj:new g({dn:n.tsa})}))}};Ne(T.asn1.tsp.TSTInfo,T.asn1.ASN1Object);T.asn1.tsp.Accuracy=function(n){var t=T,e=t.asn1,i=e.ASN1Util.newObject;e.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var r=this.params,o=[];return r.seconds!=null&&typeof r.seconds=="number"&&o.push({int:r.seconds}),r.millis!=null&&typeof r.millis=="number"&&o.push({tag:{tagi:"80",obj:{int:r.millis}}}),r.micros!=null&&typeof r.micros=="number"&&o.push({tag:{tagi:"81",obj:{int:r.micros}}}),i({seq:o}).getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.tsp.Accuracy,T.asn1.ASN1Object);T.asn1.tsp.MessageImprint=function(n){var t=T,e=t.asn1,i=e.DERSequence,r=e.DEROctetString,o=e.x509,s=o.AlgorithmIdentifier;e.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var a=this.params,l=new s({name:a.alg}),u=new r({hex:a.hash}),d=new i({array:[l,u]});return d.getEncodedHex()},n!==void 0&&this.setByParam(n)};Ne(T.asn1.tsp.MessageImprint,T.asn1.ASN1Object);T.asn1.tsp.TimeStampReq=function(n){var t=T,e=t.asn1,i=e.DERSequence,r=e.DERInteger,o=e.DERBoolean,s=e.ASN1Object,a=e.DERObjectIdentifier,l=e.tsp,u=l.MessageImprint;l.TimeStampReq.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var d=this.params,h=[];h.push(new r({int:1})),d.messageImprint instanceof T.asn1.ASN1Object?h.push(d.messageImprint):h.push(new u(d.messageImprint)),d.policy!=null&&h.push(new a(d.policy)),d.nonce!=null&&h.push(new r(d.nonce)),d.certreq==!0&&h.push(new o);var f=new i({array:h});return f.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.tsp.TimeStampReq,T.asn1.ASN1Object);T.asn1.tsp.TimeStampResp=function(n){var t=T,e=t.asn1,i=e.DERSequence,r=e.ASN1Object,o=e.tsp,s=o.PKIStatusInfo;o.TimeStampResp.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var a=this.params,l=[new s(a.statusinfo)];a.econtent!=null&&l.push(new o.TimeStampToken(a).getContentInfo()),a.tst!=null&&a.tst instanceof e.ASN1Object&&l.push(a.tst);var u=new i({array:l});return u.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.tsp.TimeStampResp,T.asn1.ASN1Object);T.asn1.tsp.PKIStatusInfo=function(n){var t=Error,e=T,i=e.asn1,r=i.DERSequence,o=i.tsp,s=o.PKIStatus,a=o.PKIFreeText,l=o.PKIFailureInfo;o.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var u=this.params,d=[];if(typeof u=="string")d.push(new s(u));else{if(u.status==null)throw new t("property 'status' unspecified");d.push(new s(u.status)),u.statusstr!=null&&d.push(new a(u.statusstr)),u.failinfo!=null&&d.push(new l(u.failinfo))}var h=new r({array:d});return h.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.tsp.PKIStatusInfo,T.asn1.ASN1Object);T.asn1.tsp.PKIStatus=function(n){var t=Error,e=T,i=e.asn1,r=i.DERInteger,o=i.tsp;o.PKIStatus.superclass.constructor.call(this);var s={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.getEncodedHex=function(){var a=this.params,l,u;if(typeof a=="string")try{u=s[a]}catch{throw new t("undefined name: "+a)}else if(typeof a=="number")u=a;else throw new t("unsupported params");return new r({int:u}).getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.tsp.PKIStatus,T.asn1.ASN1Object);T.asn1.tsp.PKIFreeText=function(n){var t=Error,e=T,i=e.asn1,r=i.DERSequence,o=i.DERUTF8String,s=i.tsp;s.PKIFreeText.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var a=this.params;if(!a instanceof Array)throw new t("wrong params: not array");for(var l=[],u=0;u<a.length;u++)l.push(new o({str:a[u]}));var d=new r({array:l});return d.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.tsp.PKIFreeText,T.asn1.ASN1Object);T.asn1.tsp.PKIFailureInfo=function(n){var t=Error,e=T,i=e.asn1,r=i.DERBitString,o=i.tsp,s=o.PKIFailureInfo,a={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};s.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var l=this.params,u;if(typeof l=="string")try{u=a[l]}catch{throw new t("undefined name: "+l)}else if(typeof l=="number")u=l;else throw new t("wrong params");return new r({bin:u.toString(2)}).getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.tsp.PKIFailureInfo,T.asn1.ASN1Object);T.asn1.tsp.AbstractTSAAdapter=function(n){this.getTSTHex=function(t,e){throw"not implemented yet"}};T.asn1.tsp.SimpleTSAAdapter=function(n){var t=T,e=t.asn1,i=e.tsp,r=t.crypto.Util.hashHex;i.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(o,s){var a=r(o,s);this.params.econtent.content.messageImprint={alg:s,hash:a},this.params.econtent.content.serial={int:this.serial++};var l=Math.floor(Math.random()*1e9);this.params.econtent.content.nonce={int:l};var u=new i.TimeStampToken(this.params);return u.getContentInfoEncodedHex()},n!==void 0&&(this.params=n)};Ne(T.asn1.tsp.SimpleTSAAdapter,T.asn1.tsp.AbstractTSAAdapter);T.asn1.tsp.FixedTSAAdapter=function(n){var t=T,e=t.asn1,i=e.tsp,r=t.crypto.Util.hashHex;i.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(o,s){var a=r(o,s);this.params.econtent.content.messageImprint={alg:s,hash:a};var l=new i.TimeStampToken(this.params);return l.getContentInfoEncodedHex()},n!==void 0&&(this.params=n)};Ne(T.asn1.tsp.FixedTSAAdapter,T.asn1.tsp.AbstractTSAAdapter);T.asn1.tsp.TSPUtil=new function(){};T.asn1.tsp.TSPUtil.newTimeStampToken=function(n){return new T.asn1.tsp.TimeStampToken(n)};T.asn1.tsp.TSPUtil.parseTimeStampReq=function(n){var t=je,e=t.getChildIdx,i=t.getV,r=t.getTLV,o={};o.certreq=!1;var s=e(n,0);if(s.length<2)throw"TimeStampReq must have at least 2 items";var a=r(n,s[1]);o.messageImprint=T.asn1.tsp.TSPUtil.parseMessageImprint(a);for(var l=2;l<s.length;l++){var u=s[l],d=n.substr(u,2);if(d=="06"){var h=i(n,u);o.policy=t.hextooidstr(h)}d=="02"&&(o.nonce=i(n,u)),d=="01"&&(o.certreq=!0)}return o};T.asn1.tsp.TSPUtil.parseMessageImprint=function(n){var t=je,e=t.getChildIdx,i=t.getV,r=t.getIdxbyList,o={};if(n.substr(0,2)!="30")throw"head of messageImprint hex shall be '30'";var s=e(n,0),a=r(n,0,[0,0]),l=i(n,a),u=t.hextooidstr(l),d=T.asn1.x509.OID.oid2name(u);if(d=="")throw"hashAlg name undefined: "+u;var h=d,f=r(n,0,[1]);return o.alg=h,o.hash=i(n,f),o};T.asn1.tsp.TSPParser=function(){var n=Error,t=Xt,e=new t,i=je,r=i.getV,o=i.getTLV,s=i.getIdxbyList,a=i.getTLVbyListEx,l=i.getChildIdx,u=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],d={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(h){var f=l(h,0);if(f.length==1)return this.getPKIStatusInfo(o(h,f[0]));if(f.length>1){var A=this.getPKIStatusInfo(o(h,f[0])),g=o(h,f[1]),m=this.getToken(g);return m.statusinfo=A,m}},this.getToken=function(h){var f=new T.asn1.cms.CMSParser,A=f.getCMSSignedData(h);return this.setTSTInfo(A),A},this.setTSTInfo=function(h){var f=h.econtent;if(f.type=="tstinfo"){var A=f.content.hex,g=this.getTSTInfo(A);f.content=g}},this.getTSTInfo=function(h){var f={},A=l(h,0),g=r(h,A[1]);f.policy=cP(g);var m=o(h,A[2]);f.messageImprint=this.getMessageImprint(m);var b=r(h,A[3]);f.serial={hex:b};var S=r(h,A[4]);f.genTime={str:xi(S)};var F=0;if(A.length>5&&h.substr(A[5],2)=="30"){var R=o(h,A[5]);f.accuracy=this.getAccuracy(R),F++}if(A.length>5+F&&h.substr(A[5+F],2)=="01"){var B=r(h,A[5+F]);B=="ff"&&(f.ordering=!0),F++}if(A.length>5+F&&h.substr(A[5+F],2)=="02"){var P=r(h,A[5+F]);f.nonce={hex:P},F++}if(A.length>5+F&&h.substr(A[5+F],2)=="a0"){var L=o(h,A[5+F]);L="30"+L.substr(2),pGeneralNames=e.getGeneralNames(L);var j=pGeneralNames[0].dn;f.tsa=j,F++}if(A.length>5+F&&h.substr(A[5+F],2)=="a1"){var G=o(h,A[5+F]);G="30"+G.substr(2);var Y=e.getExtParamArray(G);f.ext=Y,F++}return f},this.getAccuracy=function(h){for(var f={},A=l(h,0),g=0;g<A.length;g++){var m=h.substr(A[g],2),b=r(h,A[g]),S=parseInt(b,16);m=="02"?f.seconds=S:m=="80"?f.millis=S:m=="81"&&(f.micros=S)}return f},this.getMessageImprint=function(h){if(h.substr(0,2)!="30")throw new Error("head of messageImprint hex shall be x30");var f={},A=l(h,0),g=s(h,0,[0,0]),m=r(h,g),b=i.hextooidstr(m),S=T.asn1.x509.OID.oid2name(b);if(S=="")throw new Error("hashAlg name undefined: "+b);var F=S,R=s(h,0,[1]);return f.alg=F,f.hash=r(h,R),f},this.getPKIStatusInfo=function(h){var f={},A=l(h,0),g=0;try{var m=r(h,A[0]),b=parseInt(m,16);f.status=u[b]}catch{}if(A.length>1&&h.substr(A[1],2)=="30"){var S=o(h,A[1]);f.statusstr=this.getPKIFreeText(S),g++}if(A.length>g&&h.substr(A[1+g],2)=="03"){var F=o(h,A[1+g]);f.failinfo=this.getPKIFailureInfo(F)}return f},this.getPKIFreeText=function(h){for(var f=[],A=l(h,0),g=0;g<A.length;g++)f.push(i.getString(h,A[g]));return f},this.getPKIFailureInfo=function(h){var f=i.getInt(h,0);return d[f]!=null?d[f]:f}};(typeof T>"u"||!T)&&(T={});(typeof T.asn1>"u"||!T.asn1)&&(T.asn1={});(typeof T.asn1.cades>"u"||!T.asn1.cades)&&(T.asn1.cades={});T.asn1.cades.SignaturePolicyIdentifier=function(n){var t=T,e=t.asn1,i=e.cades,r=i.SignaturePolicyId;i.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new r(this.params)]},this.setByParam=function(o){this.params=o},n!=null&&this.setByParam(n)};Ne(T.asn1.cades.SignaturePolicyIdentifier,T.asn1.cms.Attribute);T.asn1.cades.SignaturePolicyId=function(n){var t=T,e=t.asn1,i=e.DERSequence,r=e.DERObjectIdentifier,o=e.x509,s=o.AlgorithmIdentifier,a=e.cades,l=a.SignaturePolicyId,u=a.OtherHashAlgAndValue;l.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var d=this.params,h=[];h.push(new r(d.oid)),h.push(new u(d));var f=new i({array:h});return f.getEncodedHex()},this.setByParam=function(d){this.params=d},n!=null&&this.setByParam(n)};Ne(T.asn1.cades.SignaturePolicyId,T.asn1.ASN1Object);T.asn1.cades.OtherHashAlgAndValue=function(n){var t=Error,e=T,i=e.asn1,r=i.DERSequence,o=i.DEROctetString,s=i.x509,a=s.AlgorithmIdentifier,l=i.cades,u=l.OtherHashAlgAndValue;u.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var d=this.params;if(d.alg==null)throw new t("property 'alg' not specified");if(d.hash==null&&d.cert==null)throw new t("property 'hash' nor 'cert' not specified");var h=null;if(d.hash!=null)h=d.hash;else if(d.cert!=null){if(typeof d.cert!="string")throw new t("cert not string");var f=d.cert;d.cert.indexOf("-----BEGIN")!=-1&&(f=zr(d.cert)),h=T.crypto.Util.hashHex(f,d.alg)}var A=[];A.push(new a({name:d.alg})),A.push(new o({hex:h}));var g=new r({array:A});return g.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.cades.OtherHashAlgAndValue,T.asn1.ASN1Object);T.asn1.cades.OtherHashValue=function(n){T.asn1.cades.OtherHashValue.superclass.constructor.call(this);var t=Error,e=T,i=e.lang.String.isHex,r=e.asn1,o=r.DEROctetString,s=e.crypto.Util.hashHex;this.params=null,this.getEncodedHex=function(){var a=this.params;if(a.hash==null&&a.cert==null)throw new t("hash or cert not specified");var l=null;if(a.hash!=null)l=a.hash;else if(a.cert!=null){if(typeof a.cert!="string")throw new t("cert not string");var u=a.cert;a.cert.indexOf("-----BEGIN")!=-1&&(u=zr(a.cert)),l=T.crypto.Util.hashHex(u,"sha1")}return new o({hex:l}).getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.cades.OtherHashValue,T.asn1.ASN1Object);T.asn1.cades.SignatureTimeStamp=function(n){var t=Error,e=T,i=e.lang.String.isHex,r=e.asn1,o=r.ASN1Object,s=r.x509,a=r.cades;a.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var l=this.params;if(l.tst!=null)if(i(l.tst)){var u=new o;return u.hTLV=l.tst,[u]}else{if(l.tst instanceof o)return[l.tst];throw new t("params.tst has wrong value")}else if(l.res!=null){var d=l.res;if(d instanceof o&&(d=d.getEncodedHex()),typeof d!="string"||!i(d))throw new t("params.res has wrong value");var h=je.getTLVbyList(d,0,[1]),u=new o;return u.hTLV=l.tst,[u]}},n!=null&&this.setByParam(n)};Ne(T.asn1.cades.SignatureTimeStamp,T.asn1.cms.Attribute);T.asn1.cades.CompleteCertificateRefs=function(n){var t=Error,e=T,i=e.asn1,r=i.DERSequence,o=i.cades,s=o.OtherCertID,a=e.lang.String.isHex;o.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var l=this.params,u=[],d=0;d<l.array.length;d++){var h=l.array[d];if(typeof h=="string")if(h.indexOf("-----BEGIN")!=-1)h={cert:h};else if(a(h))h={hash:h};else throw new t("unsupported value: "+h);l.alg!=null&&h.alg==null&&(h.alg=l.alg),l.hasis!=null&&h.hasis==null&&(h.hasis=l.hasis);var f=new s(h);u.push(f)}var A=new r({array:u});return[A]},n!=null&&this.setByParam(n)};Ne(T.asn1.cades.CompleteCertificateRefs,T.asn1.cms.Attribute);T.asn1.cades.OtherCertID=function(n){var t=T,e=t.asn1,i=e.DERSequence,r=e.cms,o=r.IssuerSerial,s=e.cades,a=s.OtherHashValue,l=s.OtherHashAlgAndValue;s.OtherCertID.superclass.constructor.call(this),this.params=n,this.getEncodedHex=function(){var u=this.params;typeof u=="string"&&(u.indexOf("-----BEGIN")!=-1?u={cert:u}:_isHex(u)&&(u={hash:u}));var d=[],h=null;if(u.alg!=null?h=new l(u):h=new a(u),d.push(h),u.cert!=null&&u.hasis==!0||u.issuer!=null&&u.serial!=null){var f=new o(u);d.push(f)}var A=new i({array:d});return A.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.cades.OtherCertID,T.asn1.ASN1Object);T.asn1.cades.OtherHash=function(n){var t=Error,e=T,i=e.asn1,r=i.cms,o=i.cades,s=o.OtherHashAlgAndValue,a=o.OtherHashValue,l=e.crypto.Util.hashHex,u=e.lang.String.isHex;o.OtherHash.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var d=this.params;typeof d=="string"&&(d.indexOf("-----BEGIN")!=-1?d={cert:d}:u(d)&&(d={hash:d}));var h=null;return d.alg!=null?h=new s(d):h=new a(d),h.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.cades.OtherHash,T.asn1.ASN1Object);T.asn1.cades.CAdESUtil=new function(){};T.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(n){var t=new T.asn1.cms.CMSParser,e=t.getCMSSignedData(n);return e};T.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(n,t,e){var i=je,r=i.getChildIdx,o=i.getTLV,s=i.getV,a=T,l=a.asn1,u=l.ASN1Object,d=l.cms,h=d.AttributeList,f=d.SignerInfo,A={},g=r(n,t);if(g.length!=6)throw"not supported items for SignerInfo (!=6)";var m=g.shift();A.version=o(n,m);var b=g.shift();A.si=o(n,b);var S=g.shift();A.digalg=o(n,S);var F=g.shift();A.sattrs=o(n,F);var R=g.shift();A.sigalg=o(n,R);var B=g.shift();A.sig=o(n,B),A.sigval=s(n,B);var P=null;return A.obj=new f,P=new u,P.hTLV=A.version,A.obj.dCMSVersion=P,P=new u,P.hTLV=A.si,A.obj.dSignerIdentifier=P,P=new u,P.hTLV=A.digalg,A.obj.dDigestAlgorithm=P,P=new u,P.hTLV=A.sattrs,A.obj.dSignedAttrs=P,P=new u,P.hTLV=A.sigalg,A.obj.dSigAlg=P,P=new u,P.hTLV=A.sig,A.obj.dSig=P,A.obj.dUnsignedAttrs=new h,A};(typeof T.asn1.csr>"u"||!T.asn1.csr)&&(T.asn1.csr={});T.asn1.csr.CertificationRequest=function(n){var t=T,e=t.asn1,i=e.DERBitString,r=e.DERSequence,o=e.csr,s=e.x509,a=o.CertificationRequestInfo;o.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(l){this.params=l},this.sign=function(){var l=new a(this.params).getEncodedHex(),u=new T.crypto.Signature({alg:this.params.sigalg});u.init(this.params.sbjprvkey),u.updateHex(l);var d=u.sign();this.params.sighex=d},this.getPEM=function(){return Es(this.getEncodedHex(),"CERTIFICATE REQUEST")},this.getEncodedHex=function(){var l=this.params,u=new T.asn1.csr.CertificationRequestInfo(this.params),d=new T.asn1.x509.AlgorithmIdentifier({name:l.sigalg});if(l.sighex==null&&l.sbjprvkey!=null&&this.sign(),l.sighex==null)throw new Error("sighex or sbjprvkey parameter not defined");var h=new i({hex:"00"+l.sighex}),f=new r({array:[u,d,h]});return f.getEncodedHex()},n!==void 0&&this.setByParam(n)};Ne(T.asn1.csr.CertificationRequest,T.asn1.ASN1Object);T.asn1.csr.CertificationRequestInfo=function(n){var t=T,e=t.asn1,i=e.DERBitString,r=e.DERSequence,o=e.DERInteger,s=e.DERUTF8String,a=e.DERTaggedObject,l=e.ASN1Util.newObject,u=e.csr,d=e.x509,h=d.X500Name,f=d.Extensions,A=d.SubjectPublicKeyInfo;u.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(g){g!=null&&(this.params=g)},this.getEncodedHex=function(){var g=this.params,m=[];if(m.push(new o({int:0})),m.push(new h(g.subject)),m.push(new A(ai.getKey(g.sbjpubkey))),g.extreq!=null){var b=new f(g.extreq),S=l({tag:{tag:"a0",explict:!0,obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[b]}]}}});m.push(S)}else m.push(new a({tag:"a0",explicit:!1,obj:new s({str:""})}));var F=new r({array:m});return F.getEncodedHex()},n!=null&&this.setByParam(n)};Ne(T.asn1.csr.CertificationRequestInfo,T.asn1.ASN1Object);T.asn1.csr.CSRUtil=new function(){};T.asn1.csr.CSRUtil.newCSRPEM=function(n){var t=ai,e=T.asn1.csr,i=new e.CertificationRequest(n),r=i.getPEM();return r};T.asn1.csr.CSRUtil.getParam=function(n){var t=je,e=t.getV,i=t.getIdxbyList,r=t.getTLVbyList,o=t.getTLVbyListEx,s=t.getVbyListEx,a=function(S){var F=i(S,0,[0,3,0,0],"06");return e(S,F)!="2a864886f70d01090e"?null:r(S,0,[0,3,0,1,0],"30")},l={};if(n.indexOf("-----BEGIN CERTIFICATE REQUEST")==-1)throw new Error("argument is not PEM file");var u=zr(n,"CERTIFICATE REQUEST");try{var d=o(u,0,[0,1]);if(d=="3000")l.subject={};else{var g=new Xt;l.subject=g.getX500Name(d)}}catch{}var h=o(u,0,[0,2]),f=ai.getKey(h,null,"pkcs8pub");l.sbjpubkey=ai.getPEM(f,"PKCS8PUB");var A=a(u),g=new Xt;A!=null&&(l.extreq=g.getExtParamArray(A));try{var m=o(u,0,[1],"30"),g=new Xt;l.sigalg=g.getAlgorithmIdentifierName(m)}catch{}try{var b=s(u,0,[2]);l.sighex=b}catch{}return l};(typeof T>"u"||!T)&&(T={});(typeof T.asn1>"u"||!T.asn1)&&(T.asn1={});(typeof T.asn1.ocsp>"u"||!T.asn1.ocsp)&&(T.asn1.ocsp={});T.asn1.ocsp.DEFAULT_HASH="sha1";T.asn1.ocsp.OCSPResponse=function(n){T.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);var t=T.asn1.DEREnumerated,e=T.asn1.ASN1Util.newObject,i=T.asn1.ocsp.ResponseBytes,r=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var o=this.params.resstatus;return typeof o=="number"?o:typeof o!="string"?-1:r.indexOf(o)},this.setByParam=function(o){this.params=o},this.getEncodedHex=function(){var o=this.params,s=this._getStatusCode();if(s==-1)throw new Error("responseStatus not supported: "+o.resstatus);if(s!=0)return e({seq:[{enum:{int:s}}]}).getEncodedHex();var a=new i(o);return e({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:a}}]}).getEncodedHex()},n!==void 0&&this.setByParam(n)};Ne(T.asn1.ocsp.OCSPResponse,T.asn1.ASN1Object);T.asn1.ocsp.ResponseBytes=function(n){T.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var t=T.asn1,e=t.DERSequence,i=t.DERObjectIdentifier,r=t.DEROctetString,o=t.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(s){this.params=s},this.getEncodedHex=function(){var s=this.params;if(s.restype!="ocspBasic")throw new Error("not supported responseType: "+s.restype);var a=new o(s),l=[];l.push(new i({name:"ocspBasic"})),l.push(new r({hex:a.getEncodedHex()}));var u=new e({array:l});return u.getEncodedHex()},n!==void 0&&this.setByParam(n)};Ne(T.asn1.ocsp.ResponseBytes,T.asn1.ASN1Object);T.asn1.ocsp.BasicOCSPResponse=function(n){T.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var t=Error,e=T.asn1,i=e.ASN1Object,r=e.DERSequence,o=e.DERGeneralizedTime,s=e.DERTaggedObject,a=e.DERBitString,l=e.x509.Extensions,u=e.x509.AlgorithmIdentifier,d=e.ocsp,h=d.ResponderID;_SingleResponseList=d.SingleResponseList,_ResponseData=d.ResponseData,this.params=null,this.setByParam=function(f){this.params=f},this.sign=function(){var f=this.params,A=f.tbsresp.getEncodedHex(),g=new T.crypto.Signature({alg:f.sigalg});g.init(f.reskey),g.updateHex(A),f.sighex=g.sign()},this.getEncodedHex=function(){var f=this.params;f.tbsresp==null&&(f.tbsresp=new _ResponseData(f)),f.sighex==null&&f.reskey!=null&&this.sign();var A=[];if(A.push(f.tbsresp),A.push(new u({name:f.sigalg})),A.push(new a({hex:"00"+f.sighex})),f.certs!=null&&f.certs.length!=null){for(var g=[],m=0;m<f.certs.length;m++){var b=f.certs[m],S=null;if(je.isASN1HEX(b))S=b;else if(b.match(/-----BEGIN/))S=zr(b);else throw new t("certs["+m+"] not hex or PEM");g.push(new i({tlv:S}))}var F=new r({array:g});A.push(new s({tag:"a0",explicit:!0,obj:F}))}var R=new r({array:A});return R.getEncodedHex()},n!==void 0&&this.setByParam(n)};Ne(T.asn1.ocsp.BasicOCSPResponse,T.asn1.ASN1Object);T.asn1.ocsp.ResponseData=function(n){T.asn1.ocsp.ResponseData.superclass.constructor.call(this);var t=Error,e=T.asn1,i=e.DERSequence,r=e.DERGeneralizedTime,o=e.DERTaggedObject,s=e.x509.Extensions,a=e.ocsp,l=a.ResponderID;_SingleResponseList=a.SingleResponseList,this.params=null,this.getEncodedHex=function(){var u=this.params;u.respid!=null&&new t("respid not specified"),u.prodat!=null&&new t("prodat not specified"),u.array!=null&&new t("array not specified");var d=[];if(d.push(new l(u.respid)),d.push(new r(u.prodat)),d.push(new _SingleResponseList(u.array)),u.ext!=null){var h=new s(u.ext);d.push(new o({tag:"a1",explicit:!0,obj:h}))}var f=new i({array:d});return f.getEncodedHex()},this.setByParam=function(u){this.params=u},n!==void 0&&this.setByParam(n)};Ne(T.asn1.ocsp.ResponseData,T.asn1.ASN1Object);T.asn1.ocsp.ResponderID=function(n){T.asn1.ocsp.ResponderID.superclass.constructor.call(this);var t=T.asn1,e=t.ASN1Util.newObject,i=t.x509.X500Name;this.params=null,this.getEncodedHex=function(){var r=this.params;if(r.key!=null){var o=e({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:r.key}}}});return o.getEncodedHex()}else if(r.name!=null){var o=e({tag:{tag:"a1",explicit:!0,obj:new i(r.name)}});return o.getEncodedHex()}throw new Error("key or name not specified")},this.setByParam=function(r){this.params=r},n!==void 0&&this.setByParam(n)};Ne(T.asn1.ocsp.ResponderID,T.asn1.ASN1Object);T.asn1.ocsp.SingleResponseList=function(n){T.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var t=T.asn1,e=t.DERSequence,i=t.ocsp.SingleResponse;this.params=null,this.getEncodedHex=function(){var r=this.params;if(typeof r!="object"||r.length==null)throw new Error("params not specified properly");for(var o=[],s=0;s<r.length;s++)o.push(new i(r[s]));var a=new e({array:o});return a.getEncodedHex()},this.setByParam=function(r){this.params=r},n!==void 0&&this.setByParam(n)};Ne(T.asn1.ocsp.SingleResponseList,T.asn1.ASN1Object);T.asn1.ocsp.SingleResponse=function(n){var t=Error,e=T,i=e.asn1,r=i.DERSequence,o=i.DERGeneralizedTime,s=i.DERTaggedObject,a=i.ocsp,l=a.CertID,u=a.CertStatus,d=i.x509,h=d.Extensions;a.SingleResponse.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var f=this.params,A=[];if(f.certid==null)throw new t("certid unspecified");if(f.status==null)throw new t("status unspecified");if(f.thisupdate==null)throw new t("thisupdate unspecified");if(A.push(new l(f.certid)),A.push(new u(f.status)),A.push(new o(f.thisupdate)),f.nextupdate!=null){var g=new o(f.nextupdate);A.push(new s({tag:"a0",explicit:!0,obj:g}))}if(f.ext!=null){var m=new h(f.ext);A.push(new s({tag:"a1",explicit:!0,obj:m}))}var b=new r({array:A});return b.getEncodedHex()},this.setByParam=function(f){this.params=f},n!==void 0&&this.setByParam(n)};Ne(T.asn1.ocsp.SingleResponse,T.asn1.ASN1Object);T.asn1.ocsp.CertID=function(n){var t=T,e=t.asn1,i=e.DEROctetString,r=e.DERInteger,o=e.DERSequence,s=e.x509,a=s.AlgorithmIdentifier,l=e.ocsp,u=l.DEFAULT_HASH,d=t.crypto,h=d.Util.hashHex,f=Xt,A=je,g=A.getVbyList;l.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(m,b,S,F){F==null&&(F=this.DEFAULT_HASH),this.params={alg:F,issname:m,isskey:b,sbjsn:S}},this.setByCert=function(m,b,S){S==null&&(S=this.DEFAULT_HASH),this.params={alg:S,issuerCert:m,subjectCert:b}},this.getParamByCerts=function(m,b,S){S==null&&(S=this.DEFAULT_HASH);var F=new f(m),R=new f(b),B=h(F.getSubjectHex(),S),P=F.getPublicKeyHex(),L=h(g(P,0,[1],"03",!0),S),j=R.getSerialNumberHex(),G={alg:S,issname:B,isskey:L,sbjsn:j};return G},this.getEncodedHex=function(){if(typeof this.params!="object")throw new Error("params not set");var m=this.params,b,S,F,R;if(m.alg==null?R=this.DEFAULT_HASH:R=m.alg,m.issuerCert!=null&&m.subjectCert!=null){var B=this.getParamByCerts(m.issuerCert,m.subjectCert,R);b=B.issname,S=B.isskey,F=B.sbjsn}else if(m.issname!=null&&m.isskey!=null&&m.sbjsn!=null)b=m.issname,S=m.isskey,F=m.sbjsn;else throw new Error("required param members not defined");var P=new a({name:R}),L=new i({hex:b}),j=new i({hex:S}),G=new r({hex:F}),Y=new o({array:[P,L,j,G]});return this.hTLV=Y.getEncodedHex(),this.hTLV},n!==void 0&&this.setByParam(n)};Ne(T.asn1.ocsp.CertID,T.asn1.ASN1Object);T.asn1.ocsp.CertStatus=function(n){T.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.getEncodedHex=function(){var t=this.params;if(t.status=="good")return"8000";if(t.status=="unknown")return"8200";if(t.status=="revoked"){var e=[{gentime:{str:t.time}}];t.reason!=null&&e.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:t.reason}}}});var i={tag:"a1",explicit:!1,obj:{seq:e}};return T.asn1.ASN1Util.newObject({tag:i}).getEncodedHex()}throw new Error("bad status")},this.setByParam=function(t){this.params=t},n!==void 0&&this.setByParam(n)};Ne(T.asn1.ocsp.CertStatus,T.asn1.ASN1Object);T.asn1.ocsp.Request=function(n){var t=T,e=t.asn1,i=e.DERSequence,r=e.ocsp;if(r.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.getEncodedHex=function(){var s=[];if(this.dReqCert===null)throw"reqCert not set";s.push(this.dReqCert);var a=new i({array:s});return this.hTLV=a.getEncodedHex(),this.hTLV},typeof n<"u"){var o=new r.CertID(n);this.dReqCert=o}};Ne(T.asn1.ocsp.Request,T.asn1.ASN1Object);T.asn1.ocsp.TBSRequest=function(n){var t=T,e=t.asn1,i=e.DERSequence,r=e.ocsp;r.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(o){for(var s=[],a=0;a<o.length;a++){var l=new r.Request(o[0]);s.push(l)}this.dRequestList=s},this.getEncodedHex=function(){var o=[];if(this.version!==0)throw"not supported version: "+this.version;if(this.dRequestorName!==null)throw"requestorName not supported";var s=new i({array:this.dRequestList});if(o.push(s),this.dRequestExt!==null)throw"requestExtensions not supported";var a=new i({array:o});return this.hTLV=a.getEncodedHex(),this.hTLV},n!==void 0&&n.reqList!==void 0&&this.setRequestListByParam(n.reqList)};Ne(T.asn1.ocsp.TBSRequest,T.asn1.ASN1Object);T.asn1.ocsp.OCSPRequest=function(n){var t=T,e=t.asn1,i=e.DERSequence,r=e.ocsp;if(r.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.getEncodedHex=function(){var s=[];if(this.dTbsRequest!==null)s.push(this.dTbsRequest);else throw"tbsRequest not set";if(this.dOptionalSignature!==null)throw"optionalSignature not supported";var a=new i({array:s});return this.hTLV=a.getEncodedHex(),this.hTLV},n!==void 0&&n.reqList!==void 0){var o=new r.TBSRequest(n);this.dTbsRequest=o}};Ne(T.asn1.ocsp.OCSPRequest,T.asn1.ASN1Object);T.asn1.ocsp.OCSPUtil={};T.asn1.ocsp.OCSPUtil.getRequestHex=function(n,t,e){var i=T,r=i.asn1,o=r.ocsp;e===void 0&&(e=o.DEFAULT_HASH);var s={alg:e,issuerCert:n,subjectCert:t},a=new o.OCSPRequest({reqList:[s]});return a.getEncodedHex()};T.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(n){var t=je,e=t.getVbyList,i=t.getVbyListEx,r=t.getIdxbyList,o=t.getIdxbyListEx,s=t.getV,a={};try{var l=i(n,0,[0],"0a");a.responseStatus=parseInt(l,16)}catch{}if(a.responseStatus!==0)return a;try{var u=r(n,0,[1,0,1,0,0,2,0,1]);n.substr(u,2)==="80"?a.certStatus="good":n.substr(u,2)==="a1"?(a.certStatus="revoked",a.revocationTime=xi(e(n,u,[0]))):n.substr(u,2)==="82"&&(a.certStatus="unknown")}catch{}try{var d=r(n,0,[1,0,1,0,0,2,0,2]);a.thisUpdate=xi(s(n,d))}catch{}try{var h=r(n,0,[1,0,1,0,0,2,0,3]);n.substr(h,2)==="a0"&&(a.nextUpdate=xi(e(n,h,[0])))}catch{}return a};T.asn1.ocsp.OCSPParser=function(){var n=Error,t=Xt,e=new t,i=je,r=i.getV,o=i.getTLV,s=i.getIdxbyList,a=i.getVbyList,l=i.getTLVbyList,u=i.getVbyListEx,d=i.getTLVbyListEx,h=i.getChildIdx;this.getOCSPRequest=function(f){var A=h(f,0);if(A.length!=1&&A.length!=2)throw new n("wrong number elements: "+A.length);var g=this.getTBSRequest(o(f,A[0]));return g},this.getTBSRequest=function(f){var A={},g=d(f,0,[0],"30");A.array=this.getRequestList(g);var m=d(f,0,["[2]",0],"30");return m!=null&&(A.ext=e.getExtParamArray(m)),A},this.getRequestList=function(f){for(var A=[],g=h(f,0),m=0;m<g.length;m++){var f=o(f,g[m]);A.push(this.getRequest(f))}return A},this.getRequest=function(f){var A=h(f,0);if(A.length!=1&&A.length!=2)throw new n("wrong number elements: "+A.length);var g=this.getCertID(o(f,A[0]));if(A.length==2){var m=s(f,0,[1,0]);g.ext=e.getExtParamArray(o(f,m))}return g},this.getCertID=function(f){var A=h(f,0);if(A.length!=4)throw new n("wrong number elements: "+A.length);var g=new t,m={};return m.alg=g.getAlgorithmIdentifierName(o(f,A[0])),m.issname=r(f,A[1]),m.isskey=r(f,A[2]),m.sbjsn=r(f,A[3]),m},this.getOCSPResponse=function(f){var A=h(f,0),g,m=r(f,A[0]),b=parseInt(m);if(A.length==1)return{resstatus:b};var S=l(f,0,[1,0]);return g=this.getResponseBytes(S),g.resstatus=b,g},this.getResponseBytes=function(f){var A=h(f,0),g,m=l(f,0,[1,0]);g=this.getBasicOCSPResponse(m);var b=r(f,A[0]);return g.restype=T.asn1.x509.OID.oid2name(cP(b)),g},this.getBasicOCSPResponse=function(f){var A=h(f,0),g;g=this.getResponseData(o(f,A[0]));var m=new Xt;g.alg=m.getAlgorithmIdentifierName(o(f,A[1]));var b=r(f,A[2]);g.sighex=b.substr(2);var S=u(f,0,["[0]"]);if(S!=null){for(var F=h(S,0),R=[],B=0;B<F.length;B++){var P=o(S,F[B]);R.push(P)}g.certs=R}return g},this.getResponseData=function(f){var A=h(f,0),g=A.length,m={},b=0;f.substr(A[0],2)=="a0"&&b++,m.respid=this.getResponderID(o(f,A[b++]));var S=r(f,A[b++]);if(m.prodat=xi(S),m.array=this.getSingleResponseList(o(f,A[b++])),f.substr(A[g-1],2)=="a1"){var F=l(f,A[g-1],[0]),R=new Xt;m.ext=R.getExtParamArray(F)}return m},this.getResponderID=function(f){var A={};if(f.substr(0,2)=="a2"){var g=a(f,0,[0]);A.key=g}if(f.substr(0,2)=="a1"){var m=l(f,0,[0]),b=new Xt;A.name=b.getX500Name(m)}return A},this.getSingleResponseList=function(f){for(var A=h(f,0),g=[],m=0;m<A.length;m++){var b=this.getSingleResponse(o(f,A[m]));g.push(b)}return g},this.getSingleResponse=function(f){var A=h(f,0),g={},m=this.getCertID(o(f,A[0]));g.certid=m;var b=this.getCertStatus(o(f,A[1]));if(g.status=b,f.substr(A[2],2)=="18"){var S=r(f,A[2]);g.thisupdate=xi(S)}for(var F=3;F<A.length;F++){if(f.substr(A[F],2)=="a0"){var R=a(f,A[F],[0],"18");g.nextupdate=xi(R)}if(f.substr(A[F],2)=="a1"){var B=new Xt,P=l(f,0,[F,0]);g.ext=B.getExtParamArray(P)}}return g},this.getCertStatus=function(f){var A={};if(f=="8000")return{status:"good"};if(f=="8200")return{status:"unknown"};if(f.substr(0,2)=="a1"){A.status="revoked";var g=a(f,0,[0]),m=xi(g);A.time=m}return A}};var T;(typeof T>"u"||!T)&&(T={});(typeof T.lang>"u"||!T.lang)&&(T.lang={});T.lang.String=function(){};function dae(n){for(var t=new Array,e=0;e<n.length;e++)t[e]=n.charCodeAt(e);return t}function hae(n){for(var t="",e=0;e<n.length;e++)t=t+String.fromCharCode(n[e]);return t}function iP(n){for(var t="",e=0;e<n.length;e++){var i=n[e].toString(16);i.length==1&&(i="0"+i),t=t+i}return t}function zl(n){return iP(dae(n))}function cVe(n){return Np(zl(n))}function uVe(n){return ob(Np(zl(n)))}function dVe(n){return hae(oae(Zx(n)))}function ob(n){return n=n.replace(/\=/g,""),n=n.replace(/\+/g,"-"),n=n.replace(/\//g,"_"),n}function Zx(n){return n.length%4==2?n=n+"==":n.length%4==3&&(n=n+"="),n=n.replace(/-/g,"+"),n=n.replace(/_/g,"/"),n}function ss(n){return n.length%2==1&&(n="0"+n),ob(Np(n))}function Er(n){return sb(Zx(n))}var $x,Rd;typeof Buffer=="function"?($x=function(n){return ob(Buffer.from(n,"utf8").toString("base64"))},Rd=function(n){return Buffer.from(Zx(n),"base64").toString("utf8")}):($x=function(n){return ss(oP(lP(n)))},Rd=function(n){return decodeURIComponent(sP(Er(n)))});function hVe(n){return Np(oP(lP(n)))}function fVe(n){return decodeURIComponent(sP(sb(n)))}function rP(n){return oP(lP(n)).toLowerCase()}function xi(n){try{return decodeURIComponent(sP(n))}catch{return null}}function Pa(n){for(var t="",e=0;e<n.length-1;e+=2)t+=String.fromCharCode(parseInt(n.substr(e,2),16));return t}function ku(n){for(var t="",e=0;e<n.length;e++)t+=("0"+n.charCodeAt(e).toString(16)).slice(-2);return t}function fae(n){return Np(n)}function pae(n){var t=fae(n),e=t.replace(/(.{64})/g,`$1\r
`);return e=e.replace(/\r\n$/,""),e}function Aae(n){var t=n.replace(/[^0-9A-Za-z\/+=]*/g,""),e=sb(t);return e}function Es(n,t){var e=pae(n);return"-----BEGIN "+t+`-----\r
`+e+`\r
-----END `+t+`-----\r
`}function zr(n,t){if(n.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+t;return t!==void 0?(n=n.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),""),n=n.replace(new RegExp("-----END "+t+"-----[^]*$"),"")):(n=n.replace(/^[^]*-----BEGIN [^-]+-----/,""),n=n.replace(/-----END [^-]+-----[^]*$/,"")),Aae(n)}function pVe(n){if(n.length%2!=0)throw"input is not even length";if(n.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var t=new ArrayBuffer(n.length/2),e=new DataView(t),i=0;i<n.length/2;i++)e.setUint8(i,parseInt(n.substr(i*2,2),16));return t}function AVe(n){for(var t="",e=new DataView(n),i=0;i<n.byteLength;i++)t+=("00"+e.getUint8(i).toString(16)).slice(-2);return t}function Y8(n){var t,e,i,r,o,s,a,l,u,d,h,f;if(f=n.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/),f)return u=f[1],t=parseInt(u),u.length===2&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),e=parseInt(f[2])-1,i=parseInt(f[3]),r=parseInt(f[4]),o=parseInt(f[5]),s=parseInt(f[6]),a=0,d=f[7],d!==""&&(h=(d.substr(1)+"00").substr(0,3),a=parseInt(h)),Date.UTC(t,e,i,r,o,s,a);throw new Error("unsupported zulu format: "+n)}function gae(n){return Math.round(Y8(n)/1e3)}function gVe(n){return new Date(Y8(n))}function mVe(n,t,e){var i,r=n.getUTCFullYear();if(t){if(r<1950||2049<r)throw"not proper year for UTCTime: "+r;i=(""+r).slice(-2)}else i=("000"+r).slice(-4);if(i+=("0"+(n.getUTCMonth()+1)).slice(-2),i+=("0"+n.getUTCDate()).slice(-2),i+=("0"+n.getUTCHours()).slice(-2),i+=("0"+n.getUTCMinutes()).slice(-2),i+=("0"+n.getUTCSeconds()).slice(-2),e){var o=n.getUTCMilliseconds();o!==0&&(o=("00"+o).slice(-3),o=o.replace(/0+$/g,""),i+="."+o)}return i+="Z",i}function oP(n){return n.replace(/%/g,"")}function sP(n){return n.replace(/(..)/g,"%$1")}function aP(n){var t="malformed IPv6 address";if(!n.match(/^[0-9A-Fa-f:]+$/))throw t;n=n.toLowerCase();var e=n.split(":").length-1;if(e<2)throw t;var i=":".repeat(7-e+2);n=n.replace("::",i);var r=n.split(":");if(r.length!=8)throw t;for(var o=0;o<8;o++)r[o]=("0000"+r[o]).slice(-4);return r.join("")}function mae(n){if(!n.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+n);n=n.toLowerCase();var t=n.match(/.{1,4}/g);t=t.map(function(r){r.replace(/^0+/,"")}),t=t.map(function(r){r==""}),n=":"+t.join(":")+":";var e=n.match(/:(0:){2,}/g);if(e==null)return n.slice(1,-1);var i=e.sort().slice(-1)[0];return n=n.replace(i.substr(0,i.length-1),":"),n.substr(0,2)!="::"&&(n=n.substr(1)),n.substr(-2,2)!="::"&&(n=n.substr(0,n.length-1)),n}function G8(n){var t="malformed hex value";if(!n.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(n.length==8){var e;try{return e=parseInt(n.substr(0,2),16)+"."+parseInt(n.substr(2,2),16)+"."+parseInt(n.substr(4,2),16)+"."+parseInt(n.substr(6,2),16),e}catch{throw t}}else return n.length==32?mae(n):n}function vVe(n){var t="malformed IP address";if(n=n.toLowerCase(n),n.match(/^[0-9.]+$/)){var e=n.split(".");if(e.length!==4)throw t;var i="";try{for(var r=0;r<4;r++){var o=parseInt(e[r]);i+=("0"+o.toString(16)).slice(-2)}return i}catch{throw t}}else{if(n.match(/^[0-9a-f:]+$/)&&n.indexOf(":")!==-1)return aP(n);throw t}}function Z8(n){function t(r){var o=parseInt(r.substr(0,2),16),s=parseInt(r.substr(2),16);if(o==0&s<128)return String.fromCharCode(s);if(o<8){var a=192|(o&7)<<3|(s&192)>>6,l=128|s&63;return xi(a.toString(16)+l.toString(16))}var a=224|(o&240)>>4,l=128|(o&15)<<2|(s&192)>>6,u=128|s&63;return xi(a.toString(16)+l.toString(16)+u.toString(16))}var e=n.match(/.{4}/g),i=e.map(t);return i.join("")}function lP(n){for(var t=encodeURIComponent(n),e="",i=0;i<t.length;i++)t[i]=="%"?(e=e+t.substr(i,3),i=i+2):e=e+"%"+zl(t[i]);return e}function _Ve(n){return n=n.replace(/\r\n/mg,`
`),n}function yVe(n){return n=n.replace(/\r\n/mg,`
`),n=n.replace(/\n/mg,`\r
`),n}T.lang.String.isInteger=function(n){return n.match(/^[0-9]+$/)?!0:!!n.match(/^-[0-9]+$/)};T.lang.String.isHex=function(n){return vae(n)};function vae(n){return!!(n.length%2==0&&(n.match(/^[0-9a-f]+$/)||n.match(/^[0-9A-F]+$/)))}T.lang.String.isBase64=function(n){return n=n.replace(/\s+/g,""),!!(n.match(/^[0-9A-Za-z+\/]+={0,3}$/)&&n.length%4==0)};T.lang.String.isBase64URL=function(n){return n.match(/[+/=]/)?!1:(n=Zx(n),T.lang.String.isBase64(n))};T.lang.String.isIntegerArray=function(n){return n=n.replace(/\s+/g,""),!!n.match(/^\[[0-9,]+\]$/)};T.lang.String.isPrintable=function(n){return n.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null};T.lang.String.isIA5=function(n){return n.match(/^[\x20-\x21\x23-\x7f]*$/)!==null};T.lang.String.isMail=function(n){return n.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};function W8(n){return n.length%2==1?"0"+n:n.substr(0,1)>"7"?"00"+n:n}function X8(n){n=n.replace(/^\s*\[\s*/,""),n=n.replace(/\s*\]\s*$/,""),n=n.replace(/\s*/g,"");try{var t=n.split(/,/).map(function(e,i,r){var o=parseInt(e);if(o<0||255<o)throw"integer not in range 0-255";var s=("00"+o.toString(16)).slice(-2);return s}).join("");return t}catch(e){throw"malformed integer array string: "+e}}var wVe=function(n,t){var e=n.length;n.length>t.length&&(e=t.length);for(var i=0;i<e;i++)if(n.charCodeAt(i)!=t.charCodeAt(i))return i;return n.length!=t.length?e:-1};function _ae(n){var t=function(a){var l=a.toString(16);return l.length==1&&(l="0"+l),l},e=function(a){var l="",u=parseInt(a,10),d=u.toString(2),h=7-d.length%7;h==7&&(h=0);for(var f="",A=0;A<h;A++)f+="0";d=f+d;for(var A=0;A<d.length-1;A+=7){var g=d.substr(A,7);A!=d.length-7&&(g="1"+g),l+=t(parseInt(g,2))}return l};try{if(!n.match(/^[0-9.]+$/))return null;var i="",r=n.split("."),o=parseInt(r[0],10)*40+parseInt(r[1],10);i+=t(o),r.splice(0,2);for(var s=0;s<r.length;s++)i+=e(r[s]);return i}catch{return null}}function cP(n){if(!vae(n))return null;try{var t=[],e=n.substr(0,2),i=parseInt(e,16);t[0]=new String(Math.floor(i/40)),t[1]=new String(i%40);for(var r=n.substr(2),o=[],s=0;s<r.length/2;s++)o.push(parseInt(r.substr(s*2,2),16));for(var a=[],l="",s=0;s<o.length;s++)o[s]&128?l=l+eP((o[s]&127).toString(2),7):(l=l+eP((o[s]&127).toString(2),7),a.push(new String(parseInt(l,2))),l="");var u=t.join(".");return a.length>0&&(u=u+"."+a.join(".")),u}catch{return null}}var eP=function(n,t,e){return e==null&&(e="0"),n.length>=t?n:new Array(t-n.length+1).join(e)+n};function J8(n){if(n.length%2!=0||(n=n.toLowerCase(),n.match(/^[0-9a-f]+$/)==null))return-1;try{var t=n.substr(0,2);if(t=="00")return parseInt(n.substr(2),16);var e=parseInt(t,16);if(e>7)return-1;var i=n.substr(2),r=parseInt(i,16).toString(2);r=="0"&&(r="00000000"),r=r.slice(0,0-e);var o=parseInt(r,2);return o==NaN?-1:o}catch{return-1}}function bVe(n){if(typeof n!="number"||n<0)return null;var t=Number(n).toString(2),e=8-t.length%8;e==8&&(e=0),t=t+eP("",e,"0");var i=parseInt(t,2).toString(16);i.length%2==1&&(i="0"+i);var r="0"+e;return r+i}function CVe(n){var t=J8(n);return t==-1?null:t.toString(2)}function Ne(n,t){var e=function(){};e.prototype=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}(typeof T>"u"||!T)&&(T={});(typeof T.crypto>"u"||!T.crypto)&&(T.crypto={});T.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:bt.algo.MD5,sha1:bt.algo.SHA1,sha224:bt.algo.SHA224,sha256:bt.algo.SHA256,sha384:bt.algo.SHA384,sha512:bt.algo.SHA512,ripemd160:bt.algo.RIPEMD160},this.getDigestInfoHex=function(n,t){if(typeof this.DIGESTINFOHEAD[t]>"u")throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+n},this.getPaddedDigestInfoHex=function(n,t,e){var i=this.getDigestInfoHex(n,t),r=e/4;if(i.length+22>r)throw"key is too short for SigAlg: keylen="+e+","+t;for(var o="0001",s="00"+i,a="",l=r-o.length-s.length,u=0;u<l;u+=2)a+="ff";var d=o+a+s;return d},this.hashString=function(n,t){var e=new T.crypto.MessageDigest({alg:t});return e.digestString(n)},this.hashHex=function(n,t){var e=new T.crypto.MessageDigest({alg:t});return e.digestHex(n)},this.sha1=function(n){return this.hashString(n,"sha1")},this.sha256=function(n){return this.hashString(n,"sha256")},this.sha256Hex=function(n){return this.hashHex(n,"sha256")},this.sha512=function(n){return this.hashString(n,"sha512")},this.sha512Hex=function(n){return this.hashHex(n,"sha512")},this.isKey=function(n){return n instanceof Nt||n instanceof T.crypto.DSA||n instanceof T.crypto.ECDSA}};T.crypto.Util.md5=function(n){var t=new T.crypto.MessageDigest({alg:"md5",prov:"cryptojs"});return t.digestString(n)};T.crypto.Util.ripemd160=function(n){var t=new T.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return t.digestString(n)};T.crypto.Util.SECURERANDOMGEN=new Vg;T.crypto.Util.getRandomHexOfNbytes=function(n){var t=new Array(n);return T.crypto.Util.SECURERANDOMGEN.nextBytes(t),iP(t)};T.crypto.Util.getRandomBigIntegerOfNbytes=function(n){return new Ce(T.crypto.Util.getRandomHexOfNbytes(n),16)};T.crypto.Util.getRandomHexOfNbits=function(n){var t=n%8,e=(n-t)/8,i=new Array(e+1);return T.crypto.Util.SECURERANDOMGEN.nextBytes(i),i[0]=(255<<t&255^255)&i[0],iP(i)};T.crypto.Util.getRandomBigIntegerOfNbits=function(n){return new Ce(T.crypto.Util.getRandomHexOfNbits(n),16)};T.crypto.Util.getRandomBigIntegerZeroToMax=function(n){for(var t=n.bitLength();;){var e=T.crypto.Util.getRandomBigIntegerOfNbits(t);if(n.compareTo(e)!=-1)return e}};T.crypto.Util.getRandomBigIntegerMinToMax=function(n,t){var e=n.compareTo(t);if(e==1)throw"biMin is greater than biMax";if(e==0)return n;var i=t.subtract(n),r=T.crypto.Util.getRandomBigIntegerZeroToMax(i);return r.add(n)};T.crypto.MessageDigest=function(n){var t=null,e=null,i=null;this.setAlgAndProvider=function(r,o){if(r=T.crypto.MessageDigest.getCanonicalAlgName(r),r!==null&&o===void 0&&(o=T.crypto.Util.DEFAULTPROVIDER[r]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)!=-1&&o=="cryptojs"){try{this.md=T.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r].create()}catch(s){throw"setAlgAndProvider hash alg set fail alg="+r+"/"+s}this.updateString=function(s){this.md.update(s)},this.updateHex=function(s){var a=bt.enc.Hex.parse(s);this.md.update(a)},this.digest=function(){var s=this.md.finalize();return s.toString(bt.enc.Hex)},this.digestString=function(s){return this.updateString(s),this.digest()},this.digestHex=function(s){return this.updateHex(s),this.digest()}}if(":sha256:".indexOf(r)!=-1&&o=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(s){throw"setAlgAndProvider hash alg set fail alg="+r+"/"+s}this.updateString=function(s){this.md.update(s)},this.updateHex=function(s){var a=sjcl.codec.hex.toBits(s);this.md.update(a)},this.digest=function(){var s=this.md.finalize();return sjcl.codec.hex.fromBits(s)},this.digestString=function(s){return this.updateString(s),this.digest()},this.digestHex=function(s){return this.updateHex(s),this.digest()}}},this.updateString=function(r){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(r){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(r){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(r){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},n!==void 0&&n.alg!==void 0&&(this.algName=n.alg,n.prov===void 0&&(this.provName=T.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))};T.crypto.MessageDigest.getCanonicalAlgName=function(n){return typeof n=="string"&&(n=n.toLowerCase(),n=n.replace(/-/,"")),n};T.crypto.MessageDigest.getHashLength=function(n){var t=T.crypto.MessageDigest,e=t.getCanonicalAlgName(n);if(t.HASHLENGTH[e]===void 0)throw"not supported algorithm: "+n;return t.HASHLENGTH[e]};T.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20};T.crypto.Mac=function(n){var t=null,e=null,i=null,r=null,o=null;this.setAlgAndProvider=function(s,a){if(s=s.toLowerCase(),s==null&&(s="hmacsha1"),s=s.toLowerCase(),s.substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+s;a===void 0&&(a=T.crypto.Util.DEFAULTPROVIDER[s]),this.algProv=s+"/"+a;var l=s.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(l)!=-1&&a=="cryptojs"){try{var u=T.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[l];this.mac=bt.algo.HMAC.create(u,this.pass)}catch(d){throw"setAlgAndProvider hash alg set fail hashAlg="+l+"/"+d}this.updateString=function(d){this.mac.update(d)},this.updateHex=function(d){var h=bt.enc.Hex.parse(d);this.mac.update(h)},this.doFinal=function(){var d=this.mac.finalize();return d.toString(bt.enc.Hex)},this.doFinalString=function(d){return this.updateString(d),this.doFinal()},this.doFinalHex=function(d){return this.updateHex(d),this.doFinal()}}},this.updateString=function(s){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(s){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(s){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(s){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(s){if(typeof s=="string"){var a=s;(s.length%2==1||!s.match(/^[0-9A-Fa-f]+$/))&&(a=ku(s)),this.pass=bt.enc.Hex.parse(a);return}if(typeof s!="object")throw"KJUR.crypto.Mac unsupported password type: "+s;var a=null;if(s.hex!==void 0){if(s.hex.length%2!=0||!s.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+s.hex;a=s.hex}if(s.utf8!==void 0&&(a=rP(s.utf8)),s.rstr!==void 0&&(a=ku(s.rstr)),s.b64!==void 0&&(a=sb(s.b64)),s.b64u!==void 0&&(a=Er(s.b64u)),a==null)throw"KJUR.crypto.Mac unsupported password type: "+s;this.pass=bt.enc.Hex.parse(a)},n!==void 0&&(n.pass!==void 0&&this.setPassword(n.pass),n.alg!==void 0&&(this.algName=n.alg,n.prov===void 0&&(this.provName=T.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))};T.crypto.Signature=function(n){var t=null,e=null,i=null,r=null,o=null,s=null,a=null,l=null,u=null,d=null,h=-1,f=null,A=null,g=null,m=null,b=null;if(this._setAlgNames=function(){var S=this.algName.match(/^(.+)with(.+)$/);S&&(this.mdAlgName=S[1].toLowerCase(),this.pubkeyAlgName=S[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(S,F){for(var R="",B=F/4-S.length,P=0;P<B;P++)R=R+"0";return R+S},this.setAlgAndProvider=function(S,F){if(this._setAlgNames(),F!="cryptojs/jsrsa")throw new Error("provider not supported: "+F);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new T.crypto.MessageDigest({alg:this.mdAlgName})}catch(R){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+R)}this.init=function(R,B){var P=null;try{B===void 0?P=ai.getKey(R):P=ai.getKey(R,B)}catch(L){throw"init failed:"+L}if(P.isPrivate===!0)this.prvKey=P,this.state="SIGN";else if(P.isPublic===!0)this.pubKey=P,this.state="VERIFY";else throw"init failed.:"+P},this.updateString=function(R){this.md.updateString(R)},this.updateHex=function(R){this.md.updateHex(R)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&T.crypto.ECDSA!==void 0&&(this.prvKey=new T.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Nt&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Nt&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof T.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else if(this.prvKey instanceof T.crypto.DSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;return this.hSign},this.signString=function(R){return this.updateString(R),this.sign()},this.signHex=function(R){return this.updateHex(R),this.sign()},this.verify=function(R){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&T.crypto.ECDSA!==void 0&&(this.pubKey=new T.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Nt&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,R,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Nt&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,R);if(T.crypto.ECDSA!==void 0&&this.pubKey instanceof T.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,R);if(T.crypto.DSA!==void 0&&this.pubKey instanceof T.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,R);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(S,F){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(S){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(S){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(S){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(S){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(S){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=n,n!==void 0&&(n.alg!==void 0&&(this.algName=n.alg,n.prov===void 0?this.provName=T.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=n.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),n.psssaltlen!==void 0&&(this.pssSaltLen=n.psssaltlen),n.prvkeypem!==void 0)){if(n.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{var t=ai.getKey(n.prvkeypem);this.init(t)}catch(S){throw"fatal error to load pem private key: "+S}}};T.crypto.Cipher=function(n){};T.crypto.Cipher.encrypt=function(n,t,e){if(t instanceof Nt&&t.isPublic){var i=T.crypto.Cipher.getAlgByKeyAndName(t,e);if(i==="RSA")return t.encrypt(n);if(i==="RSAOAEP")return t.encryptOAEP(n,"sha1");var r=i.match(/^RSAOAEP(\d+)$/);if(r!==null)return t.encryptOAEP(n,"sha"+r[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+e}else throw"Cipher.encrypt: unsupported key or algorithm"};T.crypto.Cipher.decrypt=function(n,t,e){if(t instanceof Nt&&t.isPrivate){var i=T.crypto.Cipher.getAlgByKeyAndName(t,e);if(i==="RSA")return t.decrypt(n);if(i==="RSAOAEP")return t.decryptOAEP(n,"sha1");var r=i.match(/^RSAOAEP(\d+)$/);if(r!==null)return t.decryptOAEP(n,"sha"+r[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+e}else throw"Cipher.decrypt: unsupported key or algorithm"};T.crypto.Cipher.getAlgByKeyAndName=function(n,t){if(n instanceof Nt){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t)!=-1)return t;if(t==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t};T.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};(typeof T>"u"||!T)&&(T={});(typeof T.crypto>"u"||!T.crypto)&&(T.crypto={});T.crypto.ECDSA=function(n){var t="secp256r1",e=null,i=null,r=null,o=Error,s=Ce,a=gi,l=T.crypto.ECDSA,u=T.crypto.ECParameterDB,d=l.getName,h=je,f=h.getVbyListEx,A=h.isASN1HEX,g=new Vg,m=null;this.type="EC",this.isPrivate=!1,this.isPublic=!1;function b(S,F,R,B){for(var P=Math.max(F.bitLength(),B.bitLength()),L=S.add2D(R),j=S.curve.getInfinity(),G=P-1;G>=0;--G)j=j.twice2D(),j.z=s.ONE,F.testBit(G)?B.testBit(G)?j=j.add2D(L):j=j.add2D(S):B.testBit(G)&&(j=j.add2D(R));return j}this.getBigRandom=function(S){return new s(S.bitLength(),g).mod(S.subtract(s.ONE)).add(s.ONE)},this.setNamedCurve=function(S){this.ecparams=u.getByName(S),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=S},this.setPrivateKeyHex=function(S){this.isPrivate=!0,this.prvKeyHex=S},this.setPublicKeyHex=function(S){this.isPublic=!0,this.pubKeyHex=S},this.getPublicKeyXYHex=function(){var S=this.pubKeyHex;if(S.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var F=this.ecparams.keycharlen;if(S.length!==2+F*2)throw"malformed public key hex length";var R={};return R.x=S.substr(2,F),R.y=S.substr(2+F),R},this.getShortNISTPCurveName=function(){var S=this.curveName;return S==="secp256r1"||S==="NIST P-256"||S==="P-256"||S==="prime256v1"?"P-256":S==="secp384r1"||S==="NIST P-384"||S==="P-384"?"P-384":S==="secp521r1"||S==="NIST P-521"||S==="P-521"?"P-521":null},this.generateKeyPairHex=function(){var S=this.ecparams.n,F=this.getBigRandom(S),R=this.ecparams.keycharlen,B=("0000000000"+F.toString(16)).slice(-R);this.setPrivateKeyHex(B);var P=this.generatePublicKeyHex();return{ecprvhex:B,ecpubhex:P}},this.generatePublicKeyHex=function(){var S=new s(this.prvKeyHex,16),F=this.ecparams.G.multiply(S),R=F.getX().toBigInteger(),B=F.getY().toBigInteger(),P=this.ecparams.keycharlen,L=("0000000000"+R.toString(16)).slice(-P),j=("0000000000"+B.toString(16)).slice(-P),G="04"+L+j;return this.setPublicKeyHex(G),G},this.signWithMessageHash=function(S){return this.signHex(S,this.prvKeyHex)},this.signHex=function(S,F){var R=new s(F,16),B=this.ecparams.n,P=new s(S.substring(0,this.ecparams.keycharlen),16);do var L=this.getBigRandom(B),j=this.ecparams.G,G=j.multiply(L),Y=G.getX().toBigInteger().mod(B);while(Y.compareTo(s.ZERO)<=0);var Z=L.modInverse(B).multiply(P.add(R.multiply(Y))).mod(B);return l.biRSSigToASN1Sig(Y,Z)},this.sign=function(S,F){var R=F,B=this.ecparams.n,P=s.fromByteArrayUnsigned(S);do var L=this.getBigRandom(B),j=this.ecparams.G,G=j.multiply(L),Y=G.getX().toBigInteger().mod(B);while(Y.compareTo(Ce.ZERO)<=0);var Z=L.modInverse(B).multiply(P.add(R.multiply(Y))).mod(B);return this.serializeSig(Y,Z)},this.verifyWithMessageHash=function(S,F){return this.verifyHex(S,F,this.pubKeyHex)},this.verifyHex=function(S,F,R){try{var B,P,L=l.parseSigHex(F);B=L.r,P=L.s;var j=a.decodeFromHex(this.ecparams.curve,R),G=new s(S.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(G,B,P,j)}catch{return!1}},this.verify=function(S,F,R){var B,P;if(Bitcoin.Util.isArray(F)){var L=this.parseSig(F);B=L.r,P=L.s}else if(typeof F=="object"&&F.r&&F.s)B=F.r,P=F.s;else throw"Invalid value for signature";var j;if(R instanceof gi)j=R;else if(Bitcoin.Util.isArray(R))j=a.decodeFrom(this.ecparams.curve,R);else throw"Invalid format for pubkey value, must be byte array or ECPointFp";var G=s.fromByteArrayUnsigned(S);return this.verifyRaw(G,B,P,j)},this.verifyRaw=function(S,F,R,B){var P=this.ecparams.n,L=this.ecparams.G;if(F.compareTo(s.ONE)<0||F.compareTo(P)>=0||R.compareTo(s.ONE)<0||R.compareTo(P)>=0)return!1;var j=R.modInverse(P),G=S.multiply(j).mod(P),Y=F.multiply(j).mod(P),Z=L.multiply(G).add(B.multiply(Y)),_e=Z.getX().toBigInteger().mod(P);return _e.equals(F)},this.serializeSig=function(S,F){var R=S.toByteArraySigned(),B=F.toByteArraySigned(),P=[];return P.push(2),P.push(R.length),P=P.concat(R),P.push(2),P.push(B.length),P=P.concat(B),P.unshift(P.length),P.unshift(48),P},this.parseSig=function(S){var F;if(S[0]!=48)throw new Error("Signature not a valid DERSequence");if(F=2,S[F]!=2)throw new Error("First element in signature must be a DERInteger");var R=S.slice(F+2,F+2+S[F+1]);if(F+=2+S[F+1],S[F]!=2)throw new Error("Second element in signature must be a DERInteger");var B=S.slice(F+2,F+2+S[F+1]);F+=2+S[F+1];var P=s.fromByteArrayUnsigned(R),L=s.fromByteArrayUnsigned(B);return{r:P,s:L}},this.parseSigCompact=function(S){if(S.length!==65)throw"Signature has the wrong length";var F=S[0]-27;if(F<0||F>7)throw"Invalid signature type";var R=this.ecparams.n,B=s.fromByteArrayUnsigned(S.slice(1,33)).mod(R),P=s.fromByteArrayUnsigned(S.slice(33,65)).mod(R);return{r:B,s:P,i:F}},this.readPKCS5PrvKeyHex=function(S){if(A(S)===!1)throw new Error("not ASN.1 hex string");var F,R,B;try{F=f(S,0,["[0]",0],"06"),R=f(S,0,[1],"04");try{B=f(S,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=d(F),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(B),this.setPrivateKeyHex(R),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(S){if(A(S)===!1)throw new o("not ASN.1 hex string");var F,R,B,P;try{F=f(S,0,[1,0],"06"),R=f(S,0,[1,1],"06"),B=f(S,0,[2,0,1],"04");try{P=f(S,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new o("malformed PKCS#8 plain ECC private key")}if(this.curveName=d(R),this.curveName===void 0)throw new o("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(P),this.setPrivateKeyHex(B),this.isPublic=!1},this.readPKCS8PubKeyHex=function(S){if(A(S)===!1)throw new o("not ASN.1 hex string");var F,R,B;try{F=f(S,0,[0,0],"06"),R=f(S,0,[0,1],"06"),B=f(S,0,[1],"03")}catch{throw new o("malformed PKCS#8 ECC public key")}if(this.curveName=d(R),this.curveName===null)throw new o("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(B)},this.readCertPubKeyHex=function(S,F){if(A(S)===!1)throw new o("not ASN.1 hex string");var R,B;try{R=f(S,0,[0,5,0,1],"06"),B=f(S,0,[0,5,1],"03")}catch{throw new o("malformed X.509 certificate ECC public key")}if(this.curveName=d(R),this.curveName===null)throw new o("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(B)},n!==void 0&&n.curve!==void 0&&(this.curveName=n.curve),this.curveName===void 0&&(this.curveName=t),this.setNamedCurve(this.curveName),n!==void 0&&(n.prv!==void 0&&this.setPrivateKeyHex(n.prv),n.pub!==void 0&&this.setPublicKeyHex(n.pub))};T.crypto.ECDSA.parseSigHex=function(n){var t=T.crypto.ECDSA.parseSigHexInHexRS(n),e=new Ce(t.r,16),i=new Ce(t.s,16);return{r:e,s:i}};T.crypto.ECDSA.parseSigHexInHexRS=function(n){var t=je,e=t.getChildIdx,i=t.getV;if(t.checkStrictDER(n,0),n.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var r=e(n,0);if(r.length!=2)throw new Error("signature shall have two elements");var o=r[0],s=r[1];if(n.substr(o,2)!="02")throw new Error("1st item not ASN.1 integer");if(n.substr(s,2)!="02")throw new Error("2nd item not ASN.1 integer");var a=i(n,o),l=i(n,s);return{r:a,s:l}};T.crypto.ECDSA.asn1SigToConcatSig=function(n){var t=T.crypto.ECDSA.parseSigHexInHexRS(n),e=t.r,i=t.s;if(e.length>=130&&e.length<=134){if(e.length%2!=0)throw Error("unknown ECDSA sig r length error");if(i.length%2!=0)throw Error("unknown ECDSA sig s length error");e.substr(0,2)=="00"&&(e=e.substr(2)),i.substr(0,2)=="00"&&(i=i.substr(2));var r=Math.max(e.length,i.length);return e=("000000"+e).slice(-r),i=("000000"+i).slice(-r),e+i}if(e.substr(0,2)=="00"&&e.length%32==2&&(e=e.substr(2)),i.substr(0,2)=="00"&&i.length%32==2&&(i=i.substr(2)),e.length%32==30&&(e="00"+e),i.length%32==30&&(i="00"+i),e.length%32!=0)throw Error("unknown ECDSA sig r length error");if(i.length%32!=0)throw Error("unknown ECDSA sig s length error");return e+i};T.crypto.ECDSA.concatSigToASN1Sig=function(n){if(n.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var t=n.substr(0,n.length/2),e=n.substr(n.length/2);return T.crypto.ECDSA.hexRSSigToASN1Sig(t,e)};T.crypto.ECDSA.hexRSSigToASN1Sig=function(n,t){var e=new Ce(n,16),i=new Ce(t,16);return T.crypto.ECDSA.biRSSigToASN1Sig(e,i)};T.crypto.ECDSA.biRSSigToASN1Sig=function(n,t){var e=T.asn1,i=new e.DERInteger({bigint:n}),r=new e.DERInteger({bigint:t}),o=new e.DERSequence({array:[i,r]});return o.getEncodedHex()};T.crypto.ECDSA.getName=function(n){return n==="2b8104001f"?"secp192k1":n==="2a8648ce3d030107"?"secp256r1":n==="2b8104000a"?"secp256k1":n==="2b81040021"?"secp224r1":n==="2b81040022"?"secp384r1":n==="2b81040023"?"secp521r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(n)!==-1?"secp256r1":"|secp256k1|".indexOf(n)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(n)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(n)!==-1?"secp384r1":"|secp521r1|NIST P-521|P-521|".indexOf(n)!==-1?"secp521r1":null};(typeof T>"u"||!T)&&(T={});(typeof T.crypto>"u"||!T.crypto)&&(T.crypto={});T.crypto.ECParameterDB=new function(){var n={},t={};function e(i){return new Ce(i,16)}this.getByName=function(i){var r=i;if(typeof t[r]<"u"&&(r=t[i]),typeof n[r]<"u")return n[r];throw"unregistered EC curve name: "+r},this.regist=function(i,r,o,s,a,l,u,d,h,f,A,g){n[i]={};var m=e(o),b=e(s),S=e(a),F=e(l),R=e(u),B=new Rp(m,b,S),P=B.decodePointHex("04"+d+h);n[i].name=i,n[i].keylen=r,n[i].keycharlen=Math.ceil(r/8)*2,n[i].curve=B,n[i].G=P,n[i].n=F,n[i].h=R,n[i].oid=A,n[i].info=g;for(var L=0;L<f.length;L++)t[f[L]]=i}};T.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field");T.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field");T.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field");T.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]);T.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]);T.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]);T.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]);T.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]);T.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]);T.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);(typeof T>"u"||!T)&&(T={});(typeof T.crypto>"u"||!T.crypto)&&(T.crypto={});T.crypto.DSA=function(){var n=je,t=n.getVbyList,e=n.getVbyListEx,i=n.isASN1HEX,r=Ce;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(o,s,a,l,u){this.isPrivate=!0,this.p=o,this.q=s,this.g=a,this.y=l,this.x=u},this.setPrivateHex=function(o,s,a,l,u){var d,h,f,A,g;d=new Ce(o,16),h=new Ce(s,16),f=new Ce(a,16),typeof l=="string"&&l.length>1?A=new Ce(l,16):A=null,g=new Ce(u,16),this.setPrivate(d,h,f,A,g)},this.setPublic=function(o,s,a,l){this.isPublic=!0,this.p=o,this.q=s,this.g=a,this.y=l,this.x=null},this.setPublicHex=function(o,s,a,l){var u,d,h,f;u=new Ce(o,16),d=new Ce(s,16),h=new Ce(a,16),f=new Ce(l,16),this.setPublic(u,d,h,f)},this.signWithMessageHash=function(o){var s=this.p,a=this.q,l=this.g,u=this.y,d=this.x,h=T.crypto.Util.getRandomBigIntegerMinToMax(Ce.ONE.add(Ce.ONE),a.subtract(Ce.ONE)),f=o.substr(0,a.bitLength()/4),A=new Ce(f,16),g=l.modPow(h,s).mod(a),m=h.modInverse(a).multiply(A.add(d.multiply(g))).mod(a),b=T.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:g}},{int:{bigint:m}}]});return b},this.verifyWithMessageHash=function(o,s){var a=this.p,l=this.q,u=this.g,d=this.y,h=this.parseASN1Signature(s),f=h[0],A=h[1],g=o.substr(0,l.bitLength()/4),m=new Ce(g,16);if(Ce.ZERO.compareTo(f)>0||f.compareTo(l)>0||Ce.ZERO.compareTo(A)>=0||A.compareTo(l)>0)throw"invalid DSA signature";var b=A.modInverse(l),S=m.multiply(b).mod(l),F=f.multiply(b).mod(l),R=u.modPow(S,a).multiply(d.modPow(F,a)).mod(a).mod(l);return R.compareTo(f)==0},this.parseASN1Signature=function(o){try{var s=new r(e(o,0,[0],"02"),16),a=new r(e(o,0,[1],"02"),16);return[s,a]}catch{throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(o){var s,a,l,u,d;if(i(o)===!1)throw new Error("not ASN.1 hex string");try{s=e(o,0,[1],"02"),a=e(o,0,[2],"02"),l=e(o,0,[3],"02"),u=e(o,0,[4],"02"),d=e(o,0,[5],"02")}catch{throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(s,a,l,u,d)},this.readPKCS8PrvKeyHex=function(o){var s,a,l,u;if(i(o)===!1)throw new Error("not ASN.1 hex string");try{s=e(o,0,[1,1,0],"02"),a=e(o,0,[1,1,1],"02"),l=e(o,0,[1,1,2],"02"),u=e(o,0,[2,0],"02")}catch{throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(s,a,l,null,u)},this.readPKCS8PubKeyHex=function(o){var s,a,l,u;if(i(o)===!1)throw new Error("not ASN.1 hex string");try{s=e(o,0,[0,1,0],"02"),a=e(o,0,[0,1,1],"02"),l=e(o,0,[0,1,2],"02"),u=e(o,0,[1,0],"02")}catch{throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(s,a,l,u)},this.readCertPubKeyHex=function(o,s){var a,l,u,d;if(i(o)===!1)throw new Error("not ASN.1 hex string");try{a=e(o,0,[0,5,0,1,0],"02"),l=e(o,0,[0,5,0,1,1],"02"),u=e(o,0,[0,5,0,1,2],"02"),d=e(o,0,[0,5,1,0],"02")}catch{throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(a,l,u,d)}};var ai=function(){var n=function(m,b,S){return i(bt.AES,m,b,S)},t=function(m,b,S){return i(bt.TripleDES,m,b,S)},e=function(m,b,S){return i(bt.DES,m,b,S)},i=function(m,b,S,F){var R=bt.enc.Hex.parse(b),B=bt.enc.Hex.parse(S),P=bt.enc.Hex.parse(F),L={};L.key=B,L.iv=P,L.ciphertext=R;var j=m.decrypt(L,B,{iv:P});return bt.enc.Hex.stringify(j)},r=function(m,b,S){return a(bt.AES,m,b,S)},o=function(m,b,S){return a(bt.TripleDES,m,b,S)},s=function(m,b,S){return a(bt.DES,m,b,S)},a=function(m,b,S,F){var R=bt.enc.Hex.parse(b),B=bt.enc.Hex.parse(S),P=bt.enc.Hex.parse(F),L=m.encrypt(R,B,{iv:P}),j=bt.enc.Hex.parse(L.toString()),G=bt.enc.Base64.stringify(j);return G},l={"AES-256-CBC":{proc:n,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:n,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:n,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:t,eproc:o,keylen:24,ivlen:8},"DES-CBC":{proc:e,eproc:s,keylen:8,ivlen:8}},u=function(m){return l[m].proc},d=function(m){var b=bt.lib.WordArray.random(m),S=bt.enc.Hex.stringify(b);return S},h=function(m){var b={},S=m.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));S&&(b.cipher=S[1],b.ivsalt=S[2]);var F=m.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));F&&(b.type=F[1]);var R=-1,B=0;m.indexOf(`\r
\r
`)!=-1&&(R=m.indexOf(`\r
\r
`),B=2),m.indexOf(`

`)!=-1&&(R=m.indexOf(`

`),B=1);var P=m.indexOf("-----END");if(R!=-1&&P!=-1){var L=m.substring(R+B*2,P-B);L=L.replace(/\s+/g,""),b.data=L}return b},f=function(m,b,S){for(var F=S.substring(0,16),R=bt.enc.Hex.parse(F),B=bt.enc.Utf8.parse(b),P=l[m].keylen+l[m].ivlen,L="",j=null;;){var G=bt.algo.MD5.create();if(j!=null&&G.update(j),G.update(B),G.update(R),j=G.finalize(),L=L+bt.enc.Hex.stringify(j),L.length>=P*2)break}var Y={};return Y.keyhex=L.substr(0,l[m].keylen*2),Y.ivhex=L.substr(l[m].keylen*2,l[m].ivlen*2),Y},A=function(m,b,S,F){var R=bt.enc.Base64.parse(m),B=bt.enc.Hex.stringify(R),P=l[b].proc,L=P(B,S,F);return L},g=function(m,b,S,F){var R=l[b].eproc,B=R(m,S,F);return B};return{version:"1.0.0",parsePKCS5PEM:function(m){return h(m)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(m,b,S){return f(m,b,S)},decryptKeyB64:function(m,b,S,F){return A(m,b,S,F)},getDecryptedKeyHex:function(m,b){var S=h(m),F=S.type,R=S.cipher,B=S.ivsalt,P=S.data,L=f(R,b,B),j=L.keyhex,G=A(P,R,j,B);return G},getEncryptedPKCS5PEMFromPrvKeyHex:function(m,b,S,F,R){var Z="";if((typeof F>"u"||F==null)&&(F="AES-256-CBC"),typeof l[F]>"u")throw new Error("KEYUTIL unsupported algorithm: "+F);if(typeof R>"u"||R==null){var B=l[F].ivlen,P=d(B);R=P.toUpperCase()}var L=f(F,S,R),j=L.keyhex,G=g(b,F,j,R),Y=G.replace(/(.{64})/g,`$1\r
`),Z="-----BEGIN "+m+` PRIVATE KEY-----\r
`;return Z+=`Proc-Type: 4,ENCRYPTED\r
`,Z+="DEK-Info: "+F+","+R+`\r
`,Z+=`\r
`,Z+=Y,Z+=`\r
-----END `+m+` PRIVATE KEY-----\r
`,Z},parseHexOfEncryptedPKCS8:function(m){var b=je,S=b.getChildIdx,F=b.getV,R={},B=S(m,0);if(B.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+B.length);R.ciphertext=F(m,B[1]);var P=S(m,B[0]);if(P.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+P.length);if(F(m,P[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var L=S(m,P[1]);if(P.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+L.length);var j=S(m,L[1]);if(j.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+j.length);if(F(m,j[0])!="2a864886f70d0307")throw"this only supports TripleDES";R.encryptionSchemeAlg="TripleDES",R.encryptionSchemeIV=F(m,j[1]);var G=S(m,L[0]);if(G.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+G.length);if(F(m,G[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Y=S(m,G[1]);if(Y.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Y.length);R.pbkdf2Salt=F(m,Y[0]);var Z=F(m,Y[1]);try{R.pbkdf2Iter=parseInt(Z,16)}catch{throw new Error("malformed format pbkdf2Iter: "+Z)}return R},getPBKDF2KeyHexFromParam:function(m,b){var S=bt.enc.Hex.parse(m.pbkdf2Salt),F=m.pbkdf2Iter,R=bt.PBKDF2(b,S,{keySize:192/32,iterations:F}),B=bt.enc.Hex.stringify(R);return B},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(m,b){var S=zr(m,"ENCRYPTED PRIVATE KEY"),F=this.parseHexOfEncryptedPKCS8(S),R=ai.getPBKDF2KeyHexFromParam(F,b),B={};B.ciphertext=bt.enc.Hex.parse(F.ciphertext);var P=bt.enc.Hex.parse(R),L=bt.enc.Hex.parse(F.encryptionSchemeIV),j=bt.TripleDES.decrypt(B,P,{iv:L}),G=bt.enc.Hex.stringify(j);return G},getKeyFromEncryptedPKCS8PEM:function(m,b){var S=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(m,b),F=this.getKeyFromPlainPrivatePKCS8Hex(S);return F},parsePlainPrivatePKCS8Hex:function(m){var b=je,S=b.getChildIdx,F=b.getV,R={};if(R.algparam=null,m.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var B=S(m,0);if(B.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(m.substr(B[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var P=S(m,B[1]);if(P.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(m.substr(P[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(R.algoid=F(m,P[0]),m.substr(P[1],2)=="06"&&(R.algparam=F(m,P[1])),m.substr(B[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return R.keyidx=b.getVidx(m,B[2]),R},getKeyFromPlainPrivatePKCS8PEM:function(m){var b=zr(m,"PRIVATE KEY"),S=this.getKeyFromPlainPrivatePKCS8Hex(b);return S},getKeyFromPlainPrivatePKCS8Hex:function(m){var b=this.parsePlainPrivatePKCS8Hex(m),S;if(b.algoid=="2a864886f70d010101")S=new Nt;else if(b.algoid=="2a8648ce380401")S=new T.crypto.DSA;else if(b.algoid=="2a8648ce3d0201")S=new T.crypto.ECDSA;else throw new Error("unsupported private key algorithm");return S.readPKCS8PrvKeyHex(m),S},_getKeyFromPublicPKCS8Hex:function(m){var b,S=je.getVbyList(m,0,[0,0],"06");if(S==="2a864886f70d010101")b=new Nt;else if(S==="2a8648ce380401")b=new T.crypto.DSA;else if(S==="2a8648ce3d0201")b=new T.crypto.ECDSA;else throw new Error("unsupported PKCS#8 public key hex");return b.readPKCS8PubKeyHex(m),b},parsePublicRawRSAKeyHex:function(m){var b=je,S=b.getChildIdx,F=b.getV,R={};if(m.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var B=S(m,0);if(B.length!=2)throw new Error("malformed RSA key(code:002)");if(m.substr(B[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(R.n=F(m,B[0]),m.substr(B[1],2)!="02")throw new Error("malformed RSA key(code:004)");return R.e=F(m,B[1]),R},parsePublicPKCS8Hex:function(m){var b=je,S=b.getChildIdx,F=b.getV,R={};R.algparam=null;var B=S(m,0);if(B.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+B.length);var P=B[0];if(m.substr(P,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var L=S(m,P);if(L.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(m.substr(L[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(R.algoid=F(m,L[0]),m.substr(L[1],2)=="06"?R.algparam=F(m,L[1]):m.substr(L[1],2)=="30"&&(R.algparam={},R.algparam.p=b.getVbyList(m,L[1],[0],"02"),R.algparam.q=b.getVbyList(m,L[1],[1],"02"),R.algparam.g=b.getVbyList(m,L[1],[2],"02")),m.substr(B[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return R.key=F(m,B[1]).substr(2),R}}}();ai.getKey=function(n,t,e){var i=je,r=i.getChildIdx,o=i.getV,s=i.getVbyList,a=T.crypto,l=a.ECDSA,u=a.DSA,d=Nt,h=zr,f=ai;if(typeof d<"u"&&n instanceof d||typeof l<"u"&&n instanceof l||typeof u<"u"&&n instanceof u)return n;if(n.curve!==void 0&&n.xy!==void 0&&n.d===void 0)return new l({pub:n.xy,curve:n.curve});if(n.curve!==void 0&&n.d!==void 0)return new l({prv:n.d,curve:n.curve});if(n.kty===void 0&&n.n!==void 0&&n.e!==void 0&&n.d===void 0){var A=new d;return A.setPublic(n.n,n.e),A}if(n.kty===void 0&&n.n!==void 0&&n.e!==void 0&&n.d!==void 0&&n.p!==void 0&&n.q!==void 0&&n.dp!==void 0&&n.dq!==void 0&&n.co!==void 0&&n.qi===void 0){var A=new d;return A.setPrivateEx(n.n,n.e,n.d,n.p,n.q,n.dp,n.dq,n.co),A}if(n.kty===void 0&&n.n!==void 0&&n.e!==void 0&&n.d!==void 0&&n.p===void 0){var A=new d;return A.setPrivate(n.n,n.e,n.d),A}if(n.p!==void 0&&n.q!==void 0&&n.g!==void 0&&n.y!==void 0&&n.x===void 0){var A=new u;return A.setPublic(n.p,n.q,n.g,n.y),A}if(n.p!==void 0&&n.q!==void 0&&n.g!==void 0&&n.y!==void 0&&n.x!==void 0){var A=new u;return A.setPrivate(n.p,n.q,n.g,n.y,n.x),A}if(n.kty==="RSA"&&n.n!==void 0&&n.e!==void 0&&n.d===void 0){var A=new d;return A.setPublic(Er(n.n),Er(n.e)),A}if(n.kty==="RSA"&&n.n!==void 0&&n.e!==void 0&&n.d!==void 0&&n.p!==void 0&&n.q!==void 0&&n.dp!==void 0&&n.dq!==void 0&&n.qi!==void 0){var A=new d;return A.setPrivateEx(Er(n.n),Er(n.e),Er(n.d),Er(n.p),Er(n.q),Er(n.dp),Er(n.dq),Er(n.qi)),A}if(n.kty==="RSA"&&n.n!==void 0&&n.e!==void 0&&n.d!==void 0){var A=new d;return A.setPrivate(Er(n.n),Er(n.e),Er(n.d)),A}if(n.kty==="EC"&&n.crv!==void 0&&n.x!==void 0&&n.y!==void 0&&n.d===void 0){var g=new l({curve:n.crv}),m=g.ecparams.keycharlen,b=("0000000000"+Er(n.x)).slice(-m),S=("0000000000"+Er(n.y)).slice(-m),F="04"+b+S;return g.setPublicKeyHex(F),g}if(n.kty==="EC"&&n.crv!==void 0&&n.x!==void 0&&n.y!==void 0&&n.d!==void 0){var g=new l({curve:n.crv}),m=g.ecparams.keycharlen,b=("0000000000"+Er(n.x)).slice(-m),S=("0000000000"+Er(n.y)).slice(-m),F="04"+b+S,R=("0000000000"+Er(n.d)).slice(-m);return g.setPublicKeyHex(F),g.setPrivateKeyHex(R),g}if(e==="pkcs5prv"){var B=n,i=je,P,A;if(P=r(B,0),P.length===9)A=new d,A.readPKCS5PrvKeyHex(B);else if(P.length===6)A=new u,A.readPKCS5PrvKeyHex(B);else if(P.length>2&&B.substr(P[1],2)==="04")A=new l,A.readPKCS5PrvKeyHex(B);else throw new Error("unsupported PKCS#1/5 hexadecimal key");return A}if(e==="pkcs8prv"){var A=f.getKeyFromPlainPrivatePKCS8Hex(n);return A}if(e==="pkcs8pub")return f._getKeyFromPublicPKCS8Hex(n);if(e==="x509pub")return Xt.getPublicKeyFromCertHex(n);if(n.indexOf("-END CERTIFICATE-",0)!=-1||n.indexOf("-END X509 CERTIFICATE-",0)!=-1||n.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Xt.getPublicKeyFromCertPEM(n);if(n.indexOf("-END PUBLIC KEY-")!=-1){var L=zr(n,"PUBLIC KEY");return f._getKeyFromPublicPKCS8Hex(L)}if(n.indexOf("-END RSA PRIVATE KEY-")!=-1&&n.indexOf("4,ENCRYPTED")==-1){var j=h(n,"RSA PRIVATE KEY");return f.getKey(j,null,"pkcs5prv")}if(n.indexOf("-END DSA PRIVATE KEY-")!=-1&&n.indexOf("4,ENCRYPTED")==-1){var G=h(n,"DSA PRIVATE KEY"),Y=s(G,0,[1],"02"),Z=s(G,0,[2],"02"),_e=s(G,0,[3],"02"),xe=s(G,0,[4],"02"),qe=s(G,0,[5],"02"),A=new u;return A.setPrivate(new Ce(Y,16),new Ce(Z,16),new Ce(_e,16),new Ce(xe,16),new Ce(qe,16)),A}if(n.indexOf("-END EC PRIVATE KEY-")!=-1&&n.indexOf("4,ENCRYPTED")==-1){var j=h(n,"EC PRIVATE KEY");return f.getKey(j,null,"pkcs5prv")}if(n.indexOf("-END PRIVATE KEY-")!=-1)return f.getKeyFromPlainPrivatePKCS8PEM(n);if(n.indexOf("-END RSA PRIVATE KEY-")!=-1&&n.indexOf("4,ENCRYPTED")!=-1){var ge=f.getDecryptedKeyHex(n,t),me=new Nt;return me.readPKCS5PrvKeyHex(ge),me}if(n.indexOf("-END EC PRIVATE KEY-")!=-1&&n.indexOf("4,ENCRYPTED")!=-1){var G=f.getDecryptedKeyHex(n,t),A=s(G,0,[1],"04"),re=s(G,0,[2,0],"06"),ue=s(G,0,[3,0],"03").substr(2),Fe="";if(T.crypto.OID.oidhex2name[re]!==void 0)Fe=T.crypto.OID.oidhex2name[re];else throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+re);var g=new l({curve:Fe});return g.setPublicKeyHex(ue),g.setPrivateKeyHex(A),g.isPublic=!1,g}if(n.indexOf("-END DSA PRIVATE KEY-")!=-1&&n.indexOf("4,ENCRYPTED")!=-1){var G=f.getDecryptedKeyHex(n,t),Y=s(G,0,[1],"02"),Z=s(G,0,[2],"02"),_e=s(G,0,[3],"02"),xe=s(G,0,[4],"02"),qe=s(G,0,[5],"02"),A=new u;return A.setPrivate(new Ce(Y,16),new Ce(Z,16),new Ce(_e,16),new Ce(xe,16),new Ce(qe,16)),A}if(n.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return f.getKeyFromEncryptedPKCS8PEM(n,t);throw new Error("not supported argument")};ai.generateKeypair=function(n,t){if(n=="RSA"){var e=t,i=new Nt;i.generate(e,"10001"),i.isPrivate=!0,i.isPublic=!0;var r=new Nt,o=i.n.toString(16),s=i.e.toString(16);r.setPublic(o,s),r.isPrivate=!1,r.isPublic=!0;var a={};return a.prvKeyObj=i,a.pubKeyObj=r,a}else if(n=="EC"){var l=t,u=new T.crypto.ECDSA({curve:l}),d=u.generateKeyPairHex(),i=new T.crypto.ECDSA({curve:l});i.setPublicKeyHex(d.ecpubhex),i.setPrivateKeyHex(d.ecprvhex),i.isPrivate=!0,i.isPublic=!1;var r=new T.crypto.ECDSA({curve:l});r.setPublicKeyHex(d.ecpubhex),r.isPrivate=!1,r.isPublic=!0;var a={};return a.prvKeyObj=i,a.pubKeyObj=r,a}else throw new Error("unknown algorithm: "+n)};ai.getPEM=function(n,t,e,i,r,o){var s=T,a=s.asn1,l=a.DERObjectIdentifier,u=a.DERInteger,d=a.ASN1Util.newObject,h=a.x509,f=h.SubjectPublicKeyInfo,A=s.crypto,g=A.DSA,m=A.ECDSA,b=Nt;function S(me){var re=d({seq:[{int:0},{int:{bigint:me.n}},{int:me.e},{int:{bigint:me.d}},{int:{bigint:me.p}},{int:{bigint:me.q}},{int:{bigint:me.dmp1}},{int:{bigint:me.dmq1}},{int:{bigint:me.coeff}}]});return re}function F(me){var re=d({seq:[{int:1},{octstr:{hex:me.prvKeyHex}},{tag:["a0",!0,{oid:{name:me.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+me.pubKeyHex}}]}]});return re}function R(me){var re=d({seq:[{int:0},{int:{bigint:me.p}},{int:{bigint:me.q}},{int:{bigint:me.g}},{int:{bigint:me.y}},{int:{bigint:me.x}}]});return re}if((b!==void 0&&n instanceof b||g!==void 0&&n instanceof g||m!==void 0&&n instanceof m)&&n.isPublic==!0&&(t===void 0||t=="PKCS8PUB")){var B=new f(n),P=B.getEncodedHex();return Es(P,"PUBLIC KEY")}if(t=="PKCS1PRV"&&b!==void 0&&n instanceof b&&(e===void 0||e==null)&&n.isPrivate==!0){var B=S(n),P=B.getEncodedHex();return Es(P,"RSA PRIVATE KEY")}if(t=="PKCS1PRV"&&m!==void 0&&n instanceof m&&(e===void 0||e==null)&&n.isPrivate==!0){var L=new l({name:n.curveName}),j=L.getEncodedHex(),G=F(n),Y=G.getEncodedHex(),Z="";return Z+=Es(j,"EC PARAMETERS"),Z+=Es(Y,"EC PRIVATE KEY"),Z}if(t=="PKCS1PRV"&&g!==void 0&&n instanceof g&&(e===void 0||e==null)&&n.isPrivate==!0){var B=R(n),P=B.getEncodedHex();return Es(P,"DSA PRIVATE KEY")}if(t=="PKCS5PRV"&&b!==void 0&&n instanceof b&&e!==void 0&&e!=null&&n.isPrivate==!0){var B=S(n),P=B.getEncodedHex();return i===void 0&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",P,e,i,o)}if(t=="PKCS5PRV"&&m!==void 0&&n instanceof m&&e!==void 0&&e!=null&&n.isPrivate==!0){var B=F(n),P=B.getEncodedHex();return i===void 0&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",P,e,i,o)}if(t=="PKCS5PRV"&&g!==void 0&&n instanceof g&&e!==void 0&&e!=null&&n.isPrivate==!0){var B=R(n),P=B.getEncodedHex();return i===void 0&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",P,e,i,o)}var _e=function(me,re){var ue=xe(me,re),Fe=new d({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:ue.pbkdf2Salt}},{int:ue.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:ue.encryptionSchemeIV}}]}]}]},{octstr:{hex:ue.ciphertext}}]});return Fe.getEncodedHex()},xe=function(me,re){var ue=100,Fe=bt.lib.WordArray.random(8),Ue="DES-EDE3-CBC",Je=bt.lib.WordArray.random(8),xt=bt.PBKDF2(re,Fe,{keySize:192/32,iterations:ue}),lt=bt.enc.Hex.parse(me),Le=bt.TripleDES.encrypt(lt,xt,{iv:Je})+"",it={};return it.ciphertext=Le,it.pbkdf2Salt=bt.enc.Hex.stringify(Fe),it.pbkdf2Iter=ue,it.encryptionSchemeAlg=Ue,it.encryptionSchemeIV=bt.enc.Hex.stringify(Je),it};if(t=="PKCS8PRV"&&b!=null&&n instanceof b&&n.isPrivate==!0){var qe=S(n),ge=qe.getEncodedHex(),B=d({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:ge}}]}),P=B.getEncodedHex();if(e===void 0||e==null)return Es(P,"PRIVATE KEY");var Y=_e(P,e);return Es(Y,"ENCRYPTED PRIVATE KEY")}if(t=="PKCS8PRV"&&m!==void 0&&n instanceof m&&n.isPrivate==!0){var qe=new d({seq:[{int:1},{octstr:{hex:n.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+n.pubKeyHex}}]}]}),ge=qe.getEncodedHex(),B=d({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:n.curveName}}]},{octstr:{hex:ge}}]}),P=B.getEncodedHex();if(e===void 0||e==null)return Es(P,"PRIVATE KEY");var Y=_e(P,e);return Es(Y,"ENCRYPTED PRIVATE KEY")}if(t=="PKCS8PRV"&&g!==void 0&&n instanceof g&&n.isPrivate==!0){var qe=new u({bigint:n.x}),ge=qe.getEncodedHex(),B=d({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:n.p}},{int:{bigint:n.q}},{int:{bigint:n.g}}]}]},{octstr:{hex:ge}}]}),P=B.getEncodedHex();if(e===void 0||e==null)return Es(P,"PRIVATE KEY");var Y=_e(P,e);return Es(Y,"ENCRYPTED PRIVATE KEY")}throw new Error("unsupported object nor format")};ai.getKeyFromCSRPEM=function(n){var t=zr(n,"CERTIFICATE REQUEST"),e=ai.getKeyFromCSRHex(t);return e};ai.getKeyFromCSRHex=function(n){var t=ai.parseCSRHex(n),e=ai.getKey(t.p8pubkeyhex,null,"pkcs8pub");return e};ai.parseCSRHex=function(n){var t=je,e=t.getChildIdx,i=t.getTLV,r={},o=n;if(o.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var s=e(o,0);if(s.length<1)throw new Error("malformed CSR(code:002)");if(o.substr(s[0],2)!="30")throw new Error("malformed CSR(code:003)");var a=e(o,s[0]);if(a.length<3)throw new Error("malformed CSR(code:004)");return r.p8pubkeyhex=i(o,a[2]),r};ai.getKeyID=function(n){var t=ai,e=je;typeof n=="string"&&n.indexOf("BEGIN ")!=-1&&(n=t.getKey(n));var i=zr(t.getPEM(n)),r=e.getIdxbyList(i,0,[1]),o=e.getV(i,r).substring(2);return T.crypto.Util.hashHex(o,"sha1")};ai.getJWK=function(n,t,e,i,r){var o,s={},a,l=T.crypto.Util.hashHex;if(typeof n=="string")o=ai.getKey(n),n.indexOf("CERTIFICATE")!=-1&&(a=zr(n));else if(typeof n=="object")n instanceof Xt?(o=n.getPublicKey(),a=n.hex):o=n;else throw new Error("unsupported keyinfo type");if(o instanceof Nt&&o.isPrivate)s.kty="RSA",s.n=ss(o.n.toString(16)),s.e=ss(o.e.toString(16)),s.d=ss(o.d.toString(16)),s.p=ss(o.p.toString(16)),s.q=ss(o.q.toString(16)),s.dp=ss(o.dmp1.toString(16)),s.dq=ss(o.dmq1.toString(16)),s.qi=ss(o.coeff.toString(16));else if(o instanceof Nt&&o.isPublic)s.kty="RSA",s.n=ss(o.n.toString(16)),s.e=ss(o.e.toString(16));else if(o instanceof T.crypto.ECDSA&&o.isPrivate){var u=o.getShortNISTPCurveName();if(u!=="P-256"&&u!=="P-384"&&u!=="P-521")throw new Error("unsupported curve name for JWT: "+u);var d=o.getPublicKeyXYHex();s.kty="EC",s.crv=u,s.x=ss(d.x),s.y=ss(d.y),s.d=ss(o.prvKeyHex)}else if(o instanceof T.crypto.ECDSA&&o.isPublic){var u=o.getShortNISTPCurveName();if(u!=="P-256"&&u!=="P-384"&&u!=="P-521")throw new Error("unsupported curve name for JWT: "+u);var d=o.getPublicKeyXYHex();s.kty="EC",s.crv=u,s.x=ss(d.x),s.y=ss(d.y)}if(s.kty==null)throw new Error("unsupported keyinfo");return!o.isPrivate&&t!=!0&&(s.kid=T.jws.JWS.getJWKthumbprint(s)),a!=null&&e!=!0&&(s.x5c=[Np(a)]),a!=null&&i!=!0&&(s.x5t=ob(Np(l(a,"sha1")))),a!=null&&r!=!0&&(s["x5t#S256"]=ob(Np(l(a,"sha256")))),s};ai.getJWKFromKey=function(n){return ai.getJWK(n,!0,!0,!0,!0)};Nt.getPosArrayOfChildrenFromHex=function(n){return je.getChildIdx(n,0)};Nt.getHexValueArrayOfChildrenFromHex=function(n){var t=je,e=t.getV,f=Nt.getPosArrayOfChildrenFromHex(n),i=e(n,f[0]),r=e(n,f[1]),o=e(n,f[2]),s=e(n,f[3]),a=e(n,f[4]),l=e(n,f[5]),u=e(n,f[6]),d=e(n,f[7]),h=e(n,f[8]),f=new Array;return f.push(i,r,o,s,a,l,u,d,h),f};Nt.prototype.readPrivateKeyFromPEMString=function(n){var t=zr(n),e=Nt.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])};Nt.prototype.readPKCS5PrvKeyHex=function(n){var t=Nt.getHexValueArrayOfChildrenFromHex(n);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])};Nt.prototype.readPKCS8PrvKeyHex=function(n){var t,e,i,r,o,s,a,l,u=je,d=u.getVbyListEx;if(u.isASN1HEX(n)===!1)throw new Error("not ASN.1 hex string");try{t=d(n,0,[2,0,1],"02"),e=d(n,0,[2,0,2],"02"),i=d(n,0,[2,0,3],"02"),r=d(n,0,[2,0,4],"02"),o=d(n,0,[2,0,5],"02"),s=d(n,0,[2,0,6],"02"),a=d(n,0,[2,0,7],"02"),l=d(n,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,e,i,r,o,s,a,l)};Nt.prototype.readPKCS5PubKeyHex=function(n){var t=je,e=t.getV;if(t.isASN1HEX(n)===!1)throw new Error("keyHex is not ASN.1 hex string");var i=t.getChildIdx(n,0);if(i.length!==2||n.substr(i[0],2)!=="02"||n.substr(i[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var r=e(n,i[0]),o=e(n,i[1]);this.setPublic(r,o)};Nt.prototype.readPKCS8PubKeyHex=function(n){var t=je;if(t.isASN1HEX(n)===!1)throw new Error("not ASN.1 hex string");if(t.getTLVbyListEx(n,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var e=t.getTLVbyListEx(n,0,[1,0]);this.readPKCS5PubKeyHex(e)};Nt.prototype.readCertPubKeyHex=function(n,t){var e,i;e=new Xt,e.readCertHex(n),i=e.getPublicKeyHex(),this.readPKCS8PubKeyHex(i)};var Wst=new RegExp("[^0-9a-f]","gi");function yae(n,t){for(var e="",i=t/4-n.length,r=0;r<i;r++)e=e+"0";return e+n}Nt.prototype.sign=function(n,t){var e=function(r){return T.crypto.Util.hashString(r,t)},i=e(n);return this.signWithMessageHash(i,t)};Nt.prototype.signWithMessageHash=function(n,t){var e=T.crypto.Util.getPaddedDigestInfoHex(n,t,this.n.bitLength()),i=Ba(e,16),r=this.doPrivate(i),o=r.toString(16);return yae(o,this.n.bitLength())};function wae(n,t,e){for(var i="",r=0;i.length<t;)i+=Pa(e(ku(n+String.fromCharCode.apply(String,[(r&4278190080)>>24,(r&16711680)>>16,(r&65280)>>8,r&255])))),r+=1;return i}Nt.prototype.signPSS=function(n,t,e){var i=function(o){return T.crypto.Util.hashHex(o,t)},r=i(ku(n));return e===void 0&&(e=-1),this.signWithMessageHashPSS(r,t,e)};Nt.prototype.signWithMessageHashPSS=function(n,t,e){var i=Pa(n),r=i.length,o=this.n.bitLength()-1,s=Math.ceil(o/8),a,l=function(b){return T.crypto.Util.hashHex(b,t)};if(e===-1||e===void 0)e=r;else if(e===-2)e=s-r-2;else if(e<-2)throw new Error("invalid salt length");if(s<r+e+2)throw new Error("data too long");var u="";e>0&&(u=new Array(e),new Vg().nextBytes(u),u=String.fromCharCode.apply(String,u));var d=Pa(l(ku("\0\0\0\0\0\0\0\0"+i+u))),h=[];for(a=0;a<s-e-r-2;a+=1)h[a]=0;var f=String.fromCharCode.apply(String,h)+""+u,A=wae(d,f.length,l),g=[];for(a=0;a<f.length;a+=1)g[a]=f.charCodeAt(a)^A.charCodeAt(a);var m=65280>>8*s-o&255;for(g[0]&=~m,a=0;a<r;a++)g.push(d.charCodeAt(a));return g.push(188),yae(this.doPrivate(new Ce(g)).toString(16),this.n.bitLength())};function bae(n){for(var t in T.crypto.Util.DIGESTINFOHEAD){var e=T.crypto.Util.DIGESTINFOHEAD[t],i=e.length;if(n.substring(0,i)==e){var r=[t,n.substring(i)];return r}}return[]}Nt.prototype.verify=function(n,t){if(t=t.toLowerCase(),t.match(/^[0-9a-f]+$/)==null)return!1;var e=Ba(t,16),i=this.n.bitLength();if(e.bitLength()>i)return!1;var r=this.doPublic(e),o=r.toString(16);if(o.length+3!=i/4)return!1;var s=o.replace(/^1f+00/,""),a=bae(s);if(a.length==0)return!1;var l=a[0],u=a[1],d=function(f){return T.crypto.Util.hashString(f,l)},h=d(n);return u==h};Nt.prototype.verifyWithMessageHash=function(n,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var e=Ba(t,16);if(e.bitLength()>this.n.bitLength())return 0;var i=this.doPublic(e),r=i.toString(16).replace(/^1f+00/,""),o=bae(r);if(o.length==0)return!1;var s=o[0],a=o[1];return a==n};Nt.prototype.verifyPSS=function(n,t,e,i){var r=function(s){return T.crypto.Util.hashHex(s,e)},o=r(ku(n));return i===void 0&&(i=-1),this.verifyWithMessageHashPSS(o,t,e,i)};Nt.prototype.verifyWithMessageHashPSS=function(n,t,e,i){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=new Ce(t,16),o=function(F){return T.crypto.Util.hashHex(F,e)},s=Pa(n),a=s.length,l=this.n.bitLength()-1,u=Math.ceil(l/8),d;if(i===-1||i===void 0)i=a;else if(i===-2)i=u-a-2;else if(i<-2)throw new Error("invalid salt length");if(u<a+i+2)throw new Error("data too long");var h=this.doPublic(r).toByteArray();for(d=0;d<h.length;d+=1)h[d]&=255;for(;h.length<u;)h.unshift(0);if(h[u-1]!==188)throw new Error("encoded message does not end in 0xbc");h=String.fromCharCode.apply(String,h);var f=h.substr(0,u-a-1),A=h.substr(f.length,a),g=65280>>8*u-l&255;if(f.charCodeAt(0)&g)throw new Error("bits beyond keysize not zero");var m=wae(A,f.length,o),b=[];for(d=0;d<f.length;d+=1)b[d]=f.charCodeAt(d)^m.charCodeAt(d);b[0]&=~g;var S=u-a-i-2;for(d=0;d<S;d+=1)if(b[d]!==0)throw new Error("leftmost octets not zero");if(b[S]!==1)throw new Error("0x01 marker not found");return A===Pa(o(ku("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,b.slice(-i)))))};Nt.SALT_LEN_HLEN=-1;Nt.SALT_LEN_MAX=-2;Nt.SALT_LEN_RECOVER=-2;function Xt(n){var t=je,e=t.getChildIdx,i=t.getV,r=t.dump,o=t.parse,s=t.getTLV,a=t.getVbyList,l=t.getVbyListEx,u=t.getTLVbyList,d=t.getTLVbyListEx,h=t.getIdxbyList,f=t.getIdxbyListEx,A=t.getVidx,g=t.getInt,m=t.oidname,b=t.hextooidstr,S=Xt,F=zr,R;try{R=T.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var B=u(this.hex,0,[0,0]);if(B.substr(0,2)=="a0"){var P=u(B,0,[0]),L=g(P,0);if(L<0||2<L)throw new Error("malformed version field");return this.version=L+1,this.version}else return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return l(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var B=d(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(B)},this.getAlgorithmIdentifierName=function(B){for(var P in R)if(B===R[P])return P;return m(l(B,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){var B=this.getIssuer();return B.str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){var B=this.getSubject();return B.str},this.getNotBefore=function(){var B=a(this.hex,0,[0,4+this.foffset,0]);return B=B.replace(/(..)/g,"%$1"),B=decodeURIComponent(B),B},this.getNotAfter=function(){var B=a(this.hex,0,[0,4+this.foffset,1]);return B=B.replace(/(..)/g,"%$1"),B=decodeURIComponent(B),B},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return u(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var B=this.getSPKI();return B==null?null:a(B,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return h(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var B=this.getPublicKeyIdx();return h(this.hex,B,[1,0],"30")},this.getPublicKey=function(){return ai.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var B=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(B)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(B){var P=this.getSignatureAlgorithmField(),L=this.getSignatureValueHex(),j=u(this.hex,0,[0],"30"),G=new T.crypto.Signature({alg:P});return G.init(B),G.updateHex(j),G.verify(L)},this.parseExt=function(B){var P,L,j;if(B===void 0){if(j=this.hex,this.version!==3)return-1;P=h(j,0,[0,7,0],"30"),L=e(j,P)}else{j=zr(B);var G=h(j,0,[0,3,0,0],"06");if(i(j,G)!="2a864886f70d01090e"){this.aExtInfo=new Array;return}P=h(j,0,[0,3,0,1,0],"30"),L=e(j,P),this.hex=j}this.aExtInfo=new Array;for(var Y=0;Y<L.length;Y++){var Z={};Z.critical=!1;var _e=e(j,L[Y]),xe=0;_e.length===3&&(Z.critical=!0,xe=1),Z.oid=t.hextooidstr(a(j,L[Y],[0],"06"));var qe=h(j,L[Y],[1+xe]);Z.vidx=A(j,qe),this.aExtInfo.push(Z)}},this.getExtInfo=function(B){var P=this.aExtInfo,L=B;if(B.match(/^[0-9.]+$/)||(L=T.asn1.x509.OID.name2oid(B)),L!==""){for(var j=0;j<P.length;j++)if(P[j].oid===L)return P[j]}},this.getExtBasicConstraints=function(B,P){if(B===void 0&&P===void 0){var L=this.getExtInfo("basicConstraints");if(L===void 0)return;B=s(this.hex,L.vidx),P=L.critical}var j={extname:"basicConstraints"};if(P&&(j.critical=!0),B==="3000")return j;if(B==="30030101ff")return j.cA=!0,j;if(B.substr(0,12)==="30060101ff02"){var G=i(B,10),Y=parseInt(G,16);return j.cA=!0,j.pathLen=Y,j}throw new Error("hExtV parse error: "+B)},this.getExtKeyUsage=function(B,P){if(B===void 0&&P===void 0){var L=this.getExtInfo("keyUsage");if(L===void 0)return;B=s(this.hex,L.vidx),P=L.critical}var j={extname:"keyUsage"};return P&&(j.critical=!0),j.names=this.getExtKeyUsageString(B).split(","),j},this.getExtKeyUsageBin=function(B){if(B===void 0){var P=this.getExtInfo("keyUsage");if(P===void 0)return"";B=s(this.hex,P.vidx)}if(B.length!=8&&B.length!=10)throw new Error("malformed key usage value: "+B);var L="000000000000000"+parseInt(B.substr(6),16).toString(2);return B.length==8&&(L=L.slice(-8)),B.length==10&&(L=L.slice(-16)),L=L.replace(/0+$/,""),L==""&&(L="0"),L},this.getExtKeyUsageString=function(B){for(var P=this.getExtKeyUsageBin(B),L=new Array,j=0;j<P.length;j++)P.substr(j,1)=="1"&&L.push(Xt.KEYUSAGE_NAME[j]);return L.join(",")},this.getExtSubjectKeyIdentifier=function(B,P){if(B===void 0&&P===void 0){var L=this.getExtInfo("subjectKeyIdentifier");if(L===void 0)return;B=s(this.hex,L.vidx),P=L.critical}var j={extname:"subjectKeyIdentifier"};P&&(j.critical=!0);var G=i(B,0);return j.kid={hex:G},j},this.getExtAuthorityKeyIdentifier=function(B,P){if(B===void 0&&P===void 0){var L=this.getExtInfo("authorityKeyIdentifier");if(L===void 0)return;B=s(this.hex,L.vidx),P=L.critical}var j={extname:"authorityKeyIdentifier"};P&&(j.critical=!0);for(var G=e(B,0),Y=0;Y<G.length;Y++){var Z=B.substr(G[Y],2);if(Z==="80"&&(j.kid={hex:i(B,G[Y])}),Z==="a1"){var _e=s(B,G[Y]),xe=this.getGeneralNames(_e);j.issuer=xe[0].dn}Z==="82"&&(j.sn={hex:i(B,G[Y])})}return j},this.getExtExtKeyUsage=function(B,P){if(B===void 0&&P===void 0){var L=this.getExtInfo("extKeyUsage");if(L===void 0)return;B=s(this.hex,L.vidx),P=L.critical}var j={extname:"extKeyUsage",array:[]};P&&(j.critical=!0);for(var G=e(B,0),Y=0;Y<G.length;Y++)j.array.push(m(i(B,G[Y])));return j},this.getExtExtKeyUsageName=function(){var B=this.getExtInfo("extKeyUsage");if(B===void 0)return B;var P=new Array,L=s(this.hex,B.vidx);if(L==="")return P;for(var j=e(L,0),G=0;G<j.length;G++)P.push(m(i(L,j[G])));return P},this.getExtSubjectAltName=function(B,P){if(B===void 0&&P===void 0){var L=this.getExtInfo("subjectAltName");if(L===void 0)return;B=s(this.hex,L.vidx),P=L.critical}var j={extname:"subjectAltName",array:[]};return P&&(j.critical=!0),j.array=this.getGeneralNames(B),j},this.getExtIssuerAltName=function(B,P){if(B===void 0&&P===void 0){var L=this.getExtInfo("issuerAltName");if(L===void 0)return;B=s(this.hex,L.vidx),P=L.critical}var j={extname:"issuerAltName",array:[]};return P&&(j.critical=!0),j.array=this.getGeneralNames(B),j},this.getGeneralNames=function(B){for(var P=e(B,0),L=[],j=0;j<P.length;j++){var G=this.getGeneralName(s(B,P[j]));G!==void 0&&L.push(G)}return L},this.getGeneralName=function(B){var P=B.substr(0,2),L=i(B,0),j=Pa(L);if(P=="81")return{rfc822:j};if(P=="82")return{dns:j};if(P=="86")return{uri:j};if(P=="87")return{ip:G8(L)};if(P=="a4")return{dn:this.getX500Name(L)};if(P=="a0")return{other:this.getOtherName(B)}},this.getExtSubjectAltName2=function(){var B,P,L,j=this.getExtInfo("subjectAltName");if(j===void 0)return j;for(var G=new Array,Y=s(this.hex,j.vidx),Z=e(Y,0),_e=0;_e<Z.length;_e++)L=Y.substr(Z[_e],2),B=i(Y,Z[_e]),L==="81"&&(P=xi(B),G.push(["MAIL",P])),L==="82"&&(P=xi(B),G.push(["DNS",P])),L==="84"&&(P=Xt.hex2dn(B,0),G.push(["DN",P])),L==="86"&&(P=xi(B),G.push(["URI",P])),L==="87"&&(P=G8(B),G.push(["IP",P]));return G},this.getExtCRLDistributionPoints=function(B,P){if(B===void 0&&P===void 0){var L=this.getExtInfo("cRLDistributionPoints");if(L===void 0)return;B=s(this.hex,L.vidx),P=L.critical}var j={extname:"cRLDistributionPoints",array:[]};P&&(j.critical=!0);for(var G=e(B,0),Y=0;Y<G.length;Y++){var Z=s(B,G[Y]);j.array.push(this.getDistributionPoint(Z))}return j},this.getDistributionPoint=function(B){for(var P={},L=e(B,0),j=0;j<L.length;j++){var G=B.substr(L[j],2),Y=s(B,L[j]);G=="a0"&&(P.dpname=this.getDistributionPointName(Y))}return P},this.getDistributionPointName=function(B){for(var P={},L=e(B,0),j=0;j<L.length;j++){var G=B.substr(L[j],2),Y=s(B,L[j]);G=="a0"&&(P.full=this.getGeneralNames(Y))}return P},this.getExtCRLDistributionPointsURI=function(){for(var B=this.getExtCRLDistributionPoints(),P=B.array,L=[],j=0;j<P.length;j++)try{P[j].dpname.full[0].uri!=null&&L.push(P[j].dpname.full[0].uri)}catch{}return L},this.getExtAIAInfo=function(){var B=this.getExtInfo("authorityInfoAccess");if(B===void 0)return B;for(var P={ocsp:[],caissuer:[]},L=e(this.hex,B.vidx),j=0;j<L.length;j++){var G=a(this.hex,L[j],[0],"06"),Y=a(this.hex,L[j],[1],"86");G==="2b06010505073001"&&P.ocsp.push(xi(Y)),G==="2b06010505073002"&&P.caissuer.push(xi(Y))}return P},this.getExtAuthorityInfoAccess=function(B,P){if(B===void 0&&P===void 0){var L=this.getExtInfo("authorityInfoAccess");if(L===void 0)return;B=s(this.hex,L.vidx),P=L.critical}var j={extname:"authorityInfoAccess",array:[]};P&&(j.critical=!0);for(var G=e(B,0),Y=0;Y<G.length;Y++){var Z=l(B,G[Y],[0],"06"),_e=a(B,G[Y],[1],"86"),xe=xi(_e);if(Z=="2b06010505073001")j.array.push({ocsp:xe});else if(Z=="2b06010505073002")j.array.push({caissuer:xe});else throw new Error("unknown method: "+Z)}return j},this.getExtCertificatePolicies=function(B,P){if(B===void 0&&P===void 0){var L=this.getExtInfo("certificatePolicies");if(L===void 0)return;B=s(this.hex,L.vidx),P=L.critical}var j={extname:"certificatePolicies",array:[]};P&&(j.critical=!0);for(var G=e(B,0),Y=0;Y<G.length;Y++){var Z=s(B,G[Y]),_e=this.getPolicyInformation(Z);j.array.push(_e)}return j},this.getPolicyInformation=function(B){var P={},L=a(B,0,[0],"06");P.policyoid=m(L);var j=f(B,0,[1],"30");if(j!=-1){P.array=[];for(var G=e(B,j),Y=0;Y<G.length;Y++){var Z=s(B,G[Y]),_e=this.getPolicyQualifierInfo(Z);P.array.push(_e)}}return P},this.getOtherName=function(B){var P={},L=e(B,0),j=a(B,L[0],[],"06"),G=a(B,L[1],[]);return P.oid=T.asn1.ASN1Util.oidHexToInt(j),P.obj=o(G),P},this.getPolicyQualifierInfo=function(B){var P={},L=a(B,0,[0],"06");if(L==="2b06010505070201"){var j=l(B,0,[1],"16");P.cps=Pa(j)}else if(L==="2b06010505070202"){var G=u(B,0,[1],"30");P.unotice=this.getUserNotice(G)}return P},this.getUserNotice=function(B){for(var P={},L=e(B,0),j=0;j<L.length;j++){var G=s(B,L[j]);G.substr(0,2)!="30"&&(P.exptext=this.getDisplayText(G))}return P},this.getDisplayText=function(B){var P={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"},L={};return L.type=P[B.substr(0,2)],L.str=Pa(i(B,0)),L},this.getExtCRLNumber=function(B,P){var L={extname:"cRLNumber"};if(P&&(L.critical=!0),B.substr(0,2)=="02")return L.num={hex:i(B,0)},L;throw new Error("hExtV parse error: "+B)},this.getExtCRLReason=function(B,P){var L={extname:"cRLReason"};if(P&&(L.critical=!0),B.substr(0,2)=="0a")return L.code=parseInt(i(B,0),16),L;throw new Error("hExtV parse error: "+B)},this.getExtOcspNonce=function(B,P){var L={extname:"ocspNonce"};P&&(L.critical=!0);var j=i(B,0);return L.hex=j,L},this.getExtOcspNoCheck=function(B,P){var L={extname:"ocspNoCheck"};return P&&(L.critical=!0),L},this.getExtAdobeTimeStamp=function(B,P){if(B===void 0&&P===void 0){var L=this.getExtInfo("adobeTimeStamp");if(L===void 0)return;B=s(this.hex,L.vidx),P=L.critical}var j={extname:"adobeTimeStamp"};P&&(j.critical=!0);var G=e(B,0);if(G.length>1){var Y=s(B,G[1]),Z=this.getGeneralName(Y);Z.uri!=null&&(j.uri=Z.uri)}if(G.length>2){var _e=s(B,G[2]);_e=="0101ff"&&(j.reqauth=!0),_e=="010100"&&(j.reqauth=!1)}return j},this.getX500NameRule=function(B){for(var P=!0,L=!0,j=!1,G="",Y="",Z=null,_e=[],xe=0;xe<B.length;xe++)for(var qe=B[xe],ge=0;ge<qe.length;ge++)_e.push(qe[ge]);for(var xe=0;xe<_e.length;xe++){var me=_e[xe],re=me.ds,ue=me.value,Fe=me.type;if(G+=":"+re,re!="prn"&&re!="utf8"&&re!="ia5")return"mixed";if(re=="ia5"){if(Fe!="CN")return"mixed";if(T.lang.String.isMail(ue))continue;return"mixed"}if(Fe=="C"){if(re=="prn")continue;return"mixed"}if(Y+=":"+re,Z==null)Z=re;else if(Z!==re)return"mixed"}return Z??"prn"},this.getX500Name=function(B){var P=this.getX500NameArray(B),L=this.dnarraytostr(P);return{array:P,str:L}},this.getX500NameArray=function(B){for(var P=[],L=e(B,0),j=0;j<L.length;j++)P.push(this.getRDN(s(B,L[j])));return P},this.getRDN=function(B){for(var P=[],L=e(B,0),j=0;j<L.length;j++)P.push(this.getAttrTypeAndValue(s(B,L[j])));return P},this.getAttrTypeAndValue=function(B){var P={type:null,value:null,ds:null},L=e(B,0),j=a(B,L[0],[],"06"),G=a(B,L[1],[]),Y=T.asn1.ASN1Util.oidHexToInt(j);return P.type=T.asn1.x509.OID.oid2atype(Y),P.ds=this.HEX2STAG[B.substr(L[1],2)],P.ds!="bmp"?P.value=xi(G):P.value=Z8(G),P},this.readCertPEM=function(B){this.readCertHex(F(B))},this.readCertHex=function(B){this.hex=B,this.getVersion();try{h(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var B={};return B.version=this.getVersion(),B.serial={hex:this.getSerialNumberHex()},B.sigalg=this.getSignatureAlgorithmField(),B.issuer=this.getIssuer(),B.notbefore=this.getNotBefore(),B.notafter=this.getNotAfter(),B.subject=this.getSubject(),B.sbjpubkey=Es(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(B.ext=this.getExtParamArray()),B.sighex=this.getSignatureValueHex(),B},this.getExtParamArray=function(B){if(B==null){var P=f(this.hex,0,[0,"[3]"]);P!=-1&&(B=d(this.hex,0,[0,"[3]",0],"30"))}for(var L=[],j=e(B,0),G=0;G<j.length;G++){var Y=s(B,j[G]),Z=this.getExtParam(Y);Z!=null&&L.push(Z)}return L},this.getExtParam=function(B){var P={},L=e(B,0),j=L.length;if(j!=2&&j!=3)throw new Error("wrong number elements in Extension: "+j+" "+B);var G=b(a(B,0,[0],"06")),Y=!1;j==3&&u(B,0,[1])=="0101ff"&&(Y=!0);var Z=u(B,0,[j-1,0]),_e=void 0;if(G=="2.5.29.14"?_e=this.getExtSubjectKeyIdentifier(Z,Y):G=="2.5.29.15"?_e=this.getExtKeyUsage(Z,Y):G=="2.5.29.17"?_e=this.getExtSubjectAltName(Z,Y):G=="2.5.29.18"?_e=this.getExtIssuerAltName(Z,Y):G=="2.5.29.19"?_e=this.getExtBasicConstraints(Z,Y):G=="2.5.29.31"?_e=this.getExtCRLDistributionPoints(Z,Y):G=="2.5.29.32"?_e=this.getExtCertificatePolicies(Z,Y):G=="2.5.29.35"?_e=this.getExtAuthorityKeyIdentifier(Z,Y):G=="2.5.29.37"?_e=this.getExtExtKeyUsage(Z,Y):G=="1.3.6.1.5.5.7.1.1"?_e=this.getExtAuthorityInfoAccess(Z,Y):G=="2.5.29.20"?_e=this.getExtCRLNumber(Z,Y):G=="2.5.29.21"?_e=this.getExtCRLReason(Z,Y):G=="1.3.6.1.5.5.7.48.1.2"?_e=this.getExtOcspNonce(Z,Y):G=="1.3.6.1.5.5.7.48.1.5"?_e=this.getExtOcspNoCheck(Z,Y):G=="1.2.840.113583.1.1.9.1"&&(_e=this.getExtAdobeTimeStamp(Z,Y)),_e!=null)return _e;var xe={extname:G,extn:Z};return Y&&(xe.critical=!0),xe},this.findExt=function(B,P){for(var L=0;L<B.length;L++)if(B[L].extname==P)return B[L];return null},this.updateExtCDPFullURI=function(B,P){var L=this.findExt(B,"cRLDistributionPoints");if(L!=null&&L.array!=null){for(var j=L.array,G=0;G<j.length;G++)if(j[G].dpname!=null&&j[G].dpname.full!=null)for(var Y=j[G].dpname.full,Z=0;Z<Y.length;Z++){var _e=Y[G];_e.uri!=null&&(_e.uri=P)}}},this.updateExtAIAOCSP=function(B,P){var L=this.findExt(B,"authorityInfoAccess");if(L!=null&&L.array!=null)for(var j=L.array,G=0;G<j.length;G++)j[G].ocsp!=null&&(j[G].ocsp=P)},this.updateExtAIACAIssuer=function(B,P){var L=this.findExt(B,"authorityInfoAccess");if(L!=null&&L.array!=null)for(var j=L.array,G=0;G<j.length;G++)j[G].caissuer!=null&&(j[G].caissuer=P)},this.dnarraytostr=function(B){function P(j){return j.map(function(G){return L(G).replace(/\+/,"\\+")}).join("+")}function L(j){return j.type+"="+j.value}return"/"+B.map(function(j){return P(j).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var B=function(lt){var Le=JSON.stringify(lt.array).replace(/[\[\]\{\}\"]/g,"");return Le},P=function(lt){for(var Le="",it=lt.array,Xn=0;Xn<it.length;Xn++){var Yt=it[Xn];if(Le+="    policy oid: "+Yt.policyoid+`
`,Yt.array!==void 0)for(var Jt=0;Jt<Yt.array.length;Jt++){var Rt=Yt.array[Jt];Rt.cps!==void 0&&(Le+="    cps: "+Rt.cps+`
`)}}return Le},L=function(lt){for(var Le="",it=lt.array,Xn=0;Xn<it.length;Xn++){var Yt=it[Xn];try{Yt.dpname.full[0].uri!==void 0&&(Le+="    "+Yt.dpname.full[0].uri+`
`)}catch{}try{Yt.dname.full[0].dn.hex!==void 0&&(Le+="    "+Xt.hex2dn(Yt.dpname.full[0].dn.hex)+`
`)}catch{}}return Le},j=function(lt){for(var Le="",it=lt.array,Xn=0;Xn<it.length;Xn++){var Yt=it[Xn];Yt.caissuer!==void 0&&(Le+="    caissuer: "+Yt.caissuer+`
`),Yt.ocsp!==void 0&&(Le+="    ocsp: "+Yt.ocsp+`
`)}return Le},G=Xt,Y,Z,_e;if(Y=`Basic Fields
`,Y+="  serial number: "+this.getSerialNumberHex()+`
`,Y+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,Y+="  issuer: "+this.getIssuerString()+`
`,Y+="  notBefore: "+this.getNotBefore()+`
`,Y+="  notAfter: "+this.getNotAfter()+`
`,Y+="  subject: "+this.getSubjectString()+`
`,Y+=`  subject public key info: 
`,Z=this.getPublicKey(),Y+="    key algorithm: "+Z.type+`
`,Z.type==="RSA"&&(Y+="    n="+W8(Z.n.toString(16)).substr(0,16)+`...
`,Y+="    e="+W8(Z.e.toString(16))+`
`),_e=this.aExtInfo,_e!=null){Y+=`X509v3 Extensions:
`;for(var xe=0;xe<_e.length;xe++){var qe=_e[xe],ge=T.asn1.x509.OID.oid2name(qe.oid);ge===""&&(ge=qe.oid);var me="";if(qe.critical===!0&&(me="CRITICAL"),Y+="  "+ge+" "+me+`:
`,ge==="basicConstraints"){var re=this.getExtBasicConstraints();re.cA===void 0?Y+=`    {}
`:(Y+="    cA=true",re.pathLen!==void 0&&(Y+=", pathLen="+re.pathLen),Y+=`
`)}else if(ge==="keyUsage")Y+="    "+this.getExtKeyUsageString()+`
`;else if(ge==="subjectKeyIdentifier")Y+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(ge==="authorityKeyIdentifier"){var ue=this.getExtAuthorityKeyIdentifier();ue.kid!==void 0&&(Y+="    kid="+ue.kid.hex+`
`)}else if(ge==="extKeyUsage"){var Fe=this.getExtExtKeyUsage().array;Y+="    "+Fe.join(", ")+`
`}else if(ge==="subjectAltName"){var Ue=B(this.getExtSubjectAltName());Y+="    "+Ue+`
`}else if(ge==="cRLDistributionPoints"){var Je=this.getExtCRLDistributionPoints();Y+=L(Je)}else if(ge==="authorityInfoAccess"){var xt=this.getExtAuthorityInfoAccess();Y+=j(xt)}else ge==="certificatePolicies"&&(Y+=P(this.getExtCertificatePolicies()))}}return Y+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,Y+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`,Y},typeof n=="string"&&(n.indexOf("-----BEGIN")!=-1?this.readCertPEM(n):T.lang.String.isHex(n)&&this.readCertHex(n))}Xt.hex2dn=function(n,t){t===void 0&&(t=0);var e=new Xt,i=je.getTLV(n,t),r=e.getX500Name(n);return r.str};Xt.hex2rdn=function(n,t){if(t===void 0&&(t=0),n.substr(t,2)!=="31")throw new Error("malformed RDN");for(var e=new Array,i=je.getChildIdx(n,t),r=0;r<i.length;r++)e.push(Xt.hex2attrTypeValue(n,i[r]));return e=e.map(function(o){return o.replace("+","\\+")}),e.join("+")};Xt.hex2attrTypeValue=function(n,t){var e=je,i=e.getV;if(t===void 0&&(t=0),n.substr(t,2)!=="30")throw new Error("malformed attribute type and value");var r=e.getChildIdx(n,t);r.length!==2||n.substr(r[0],2);var o=i(n,r[0]),s=T.asn1.ASN1Util.oidHexToInt(o),a=T.asn1.x509.OID.oid2atype(s),l=i(n,r[1]),u=Pa(l);return a+"="+u};Xt.getPublicKeyFromCertHex=function(n){var t=new Xt;return t.readCertHex(n),t.getPublicKey()};Xt.getPublicKeyFromCertPEM=function(n){var t=new Xt;return t.readCertPEM(n),t.getPublicKey()};Xt.getPublicKeyInfoPropOfCertPEM=function(n){var t=je,e=t.getVbyList,i={},r,o,s;return i.algparam=null,r=new Xt,r.readCertPEM(n),o=r.getPublicKeyHex(),i.keyhex=e(o,0,[1],"03").substr(2),i.algoid=e(o,0,[0,0],"06"),i.algoid==="2a8648ce3d0201"&&(i.algparam=e(o,0,[0,1],"06")),i};Xt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];var EVe=function(n){var t=T,e=t.lang.String.isHex,i=je,r=i.getV,o=i.getTLV,s=i.getVbyList,a=i.getTLVbyList,l=i.getTLVbyListEx,u=i.getIdxbyList,d=i.getIdxbyListEx,h=i.getChildIdx,f=new Xt;this.hex=null,this.posSigAlg=null,this.posRevCert=null,this.parsed=null,this._setPos=function(){var A=u(this.hex,0,[0,0]),g=this.hex.substr(A,2);if(g=="02")this.posSigAlg=1;else if(g=="30")this.posSigAlg=0;else throw new Error("malformed 1st item of TBSCertList: "+g);var m=u(this.hex,0,[0,this.posSigAlg+3]),b=this.hex.substr(m,2);if(b=="17"||b=="18"){var S,F;S=u(this.hex,0,[0,this.posSigAlg+4]),this.posRevCert=null,S!=-1&&(F=this.hex.substr(S,2),F=="30"&&(this.posRevCert=this.posSigAlg+4))}else if(b=="30")this.posRevCert=this.posSigAlg+3;else if(b=="a0")this.posRevCert=null;else throw new Error("malformed nextUpdate or revCert tag: "+b)},this.getVersion=function(){return this.posSigAlg==0?null:parseInt(s(this.hex,0,[0,0],"02"),16)+1},this.getSignatureAlgorithmField=function(){var A=a(this.hex,0,[0,this.posSigAlg],"30");return f.getAlgorithmIdentifierName(A)},this.getIssuer=function(){return f.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return a(this.hex,0,[0,this.posSigAlg+1],"30")},this.getThisUpdate=function(){var A=s(this.hex,0,[0,this.posSigAlg+2]);return result=Pa(A)},this.getNextUpdate=function(){var A=u(this.hex,0,[0,this.posSigAlg+3]),g=this.hex.substr(A,2);return g!="17"&&g!="18"?null:Pa(r(this.hex,A))},this.getRevCertArray=function(){if(this.posRevCert==null)return null;for(var A=[],g=u(this.hex,0,[0,this.posRevCert]),m=h(this.hex,g),b=0;b<m.length;b++){var S=o(this.hex,m[b]);A.push(this.getRevCert(S))}return A},this.getRevCert=function(A){var g={},m=h(A,0);return g.sn={hex:s(A,0,[0],"02")},g.date=Pa(s(A,0,[1])),m.length==3&&(g.ext=f.getExtParamArray(a(A,0,[2]))),g},this.findRevCert=function(A){var g=new Xt(A),m=g.getSerialNumberHex();return this.findRevCertBySN(m)},this.findRevCertBySN=function(A){if(this.parsed==null&&this.getParam(),this.parsed.revcert==null)return null;for(var g=this.parsed.revcert,m=0;m<g.length;m++)if(A==g[m].sn.hex)return g[m];return null},this.getSignatureValueHex=function(){return s(this.hex,0,[2],"03",!0)},this.verifySignature=function(A){var g=this.getSignatureAlgorithmField(),m=this.getSignatureValueHex(),b=a(this.hex,0,[0],"30"),S=new T.crypto.Signature({alg:g});return S.init(A),S.updateHex(b),S.verify(m)},this.getParam=function(){var A={},g=this.getVersion();g!=null&&(A.version=g),A.sigalg=this.getSignatureAlgorithmField(),A.issuer=this.getIssuer(),A.thisupdate=this.getThisUpdate();var m=this.getNextUpdate();m!=null&&(A.nextupdate=m);var b=this.getRevCertArray();b!=null&&(A.revcert=b);var S=d(this.hex,0,[0,"[0]"]);if(S!=-1){var F=l(this.hex,0,[0,"[0]",0]);A.ext=f.getExtParamArray(F)}return A.sighex=this.getSignatureValueHex(),this.parsed=A,A},typeof n=="string"&&(e(n)?this.hex=n:n.match(/-----BEGIN X509 CRL/)&&(this.hex=zr(n)),this._setPos())};(typeof T>"u"||!T)&&(T={});(typeof T.jws>"u"||!T.jws)&&(T.jws={});T.jws.JWS=function(){var n=T,t=n.jws.JWS,e=t.isSafeJSONString;this.parseJWS=function(i,r){if(!(this.parsedJWS!==void 0&&(r||this.parsedJWS.sigvalH!==void 0))){var o=i.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(o==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var s=o[1],a=o[2],l=o[3],u=s+"."+a;if(this.parsedJWS={},this.parsedJWS.headB64U=s,this.parsedJWS.payloadB64U=a,this.parsedJWS.sigvalB64U=l,this.parsedJWS.si=u,!r){var d=Er(l),h=Ba(d,16);this.parsedJWS.sigvalH=d,this.parsedJWS.sigvalBI=h}var f=Rd(s),A=Rd(a);if(this.parsedJWS.headS=f,this.parsedJWS.payloadS=A,!e(f,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+f}}};T.jws.JWS.sign=function(n,t,e,i,r){var o=T,s=o.jws,a=s.JWS,l=a.readSafeJSONString,u=a.isSafeJSONString,d=o.crypto,h=d.ECDSA,f=d.Mac,A=d.Signature,g=JSON,m,b,S;if(typeof t!="string"&&typeof t!="object")throw"spHeader must be JSON string or object: "+t;if(typeof t=="object"&&(b=t,m=g.stringify(b)),typeof t=="string"){if(m=t,!u(m))throw"JWS Head is not safe JSON string: "+m;b=l(m)}if(S=e,typeof e=="object"&&(S=g.stringify(e)),(n==""||n==null)&&b.alg!==void 0&&(n=b.alg),n!=""&&n!=null&&b.alg===void 0&&(b.alg=n,m=g.stringify(b)),n!==b.alg)throw"alg and sHeader.alg doesn't match: "+n+"!="+b.alg;var F=null;if(a.jwsalg2sigalg[n]===void 0)throw"unsupported alg name: "+n;F=a.jwsalg2sigalg[n];var R=$x(m),B=$x(S),P=R+"."+B,L="";if(F.substr(0,4)=="Hmac"){if(i===void 0)throw"mac key shall be specified for HS* alg";var j=new f({alg:F,prov:"cryptojs",pass:i});j.updateString(P),L=j.doFinal()}else if(F.indexOf("withECDSA")!=-1){var G=new A({alg:F});G.init(i,r),G.updateString(P);var Y=G.sign();L=T.crypto.ECDSA.asn1SigToConcatSig(Y)}else if(F!="none"){var G=new A({alg:F});G.init(i,r),G.updateString(P),L=G.sign()}var Z=ss(L);return P+"."+Z};T.jws.JWS.verify=function(n,t,e){var i=T,r=i.jws,o=r.JWS,s=o.readSafeJSONString,a=i.crypto,l=a.ECDSA,u=a.Mac,d=a.Signature,h;typeof Nt!==void 0&&(h=Nt);var f=n.split(".");if(f.length!==3)return!1;var A=f[0],g=f[1],m=A+"."+g,b=Er(f[2]),S=s(Rd(f[0])),F=null,R=null;if(S.alg===void 0)throw"algorithm not specified in header";if(F=S.alg,R=F.substr(0,2),e!=null&&Object.prototype.toString.call(e)==="[object Array]"&&e.length>0){var B=":"+e.join(":")+":";if(B.indexOf(":"+F+":")==-1)throw"algorithm '"+F+"' not accepted in the list"}if(F!="none"&&t===null)throw"key shall be specified to verify.";if(typeof t=="string"&&t.indexOf("-----BEGIN ")!=-1&&(t=ai.getKey(t)),(R=="RS"||R=="PS")&&!(t instanceof h))throw"key shall be a RSAKey obj for RS* and PS* algs";if(R=="ES"&&!(t instanceof l))throw"key shall be a ECDSA obj for ES* algs";F=="none";var P=null;if(o.jwsalg2sigalg[S.alg]===void 0)throw"unsupported alg name: "+F;if(P=o.jwsalg2sigalg[F],P=="none")throw"not supported";if(P.substr(0,4)=="Hmac"){var L=null;if(t===void 0)throw"hexadecimal key shall be specified for HMAC";var j=new u({alg:P,pass:t});return j.updateString(m),L=j.doFinal(),b==L}else if(P.indexOf("withECDSA")!=-1){var G=null;try{G=l.concatSigToASN1Sig(b)}catch{return!1}var Y=new d({alg:P});return Y.init(t),Y.updateString(m),Y.verify(G)}else{var Y=new d({alg:P});return Y.init(t),Y.updateString(m),Y.verify(b)}};T.jws.JWS.parse=function(n){var t=n.split("."),e={},i,r,o;if(t.length!=2&&t.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return i=t[0],r=t[1],t.length==3&&(o=t[2]),e.headerObj=T.jws.JWS.readSafeJSONString(Rd(i)),e.payloadObj=T.jws.JWS.readSafeJSONString(Rd(r)),e.headerPP=JSON.stringify(e.headerObj,null,"  "),e.payloadObj==null?e.payloadPP=Rd(r):e.payloadPP=JSON.stringify(e.payloadObj,null,"  "),o!==void 0&&(e.sigHex=Er(o)),e};T.jws.JWS.verifyJWT=function(n,t,e){var i=T,r=i.jws,o=r.JWS,s=o.readSafeJSONString,a=o.inArray,l=o.includedArray,u=n.split("."),d=u[0],h=u[1],f=d+"."+h,A=Er(u[2]),g=s(Rd(d)),m=s(Rd(h));if(g.alg===void 0)return!1;if(e.alg===void 0)throw"acceptField.alg shall be specified";if(!a(g.alg,e.alg)||m.iss!==void 0&&typeof e.iss=="object"&&!a(m.iss,e.iss)||m.sub!==void 0&&typeof e.sub=="object"&&!a(m.sub,e.sub))return!1;if(m.aud!==void 0&&typeof e.aud=="object"){if(typeof m.aud=="string"){if(!a(m.aud,e.aud))return!1}else if(typeof m.aud=="object"&&!l(m.aud,e.aud))return!1}var b=r.IntDate.getNow();return e.verifyAt!==void 0&&typeof e.verifyAt=="number"&&(b=e.verifyAt),(e.gracePeriod===void 0||typeof e.gracePeriod!="number")&&(e.gracePeriod=0),!(m.exp!==void 0&&typeof m.exp=="number"&&m.exp+e.gracePeriod<b||m.nbf!==void 0&&typeof m.nbf=="number"&&b<m.nbf-e.gracePeriod||m.iat!==void 0&&typeof m.iat=="number"&&b<m.iat-e.gracePeriod||m.jti!==void 0&&e.jti!==void 0&&m.jti!==e.jti||!o.verify(n,t,e.alg))};T.jws.JWS.includedArray=function(n,t){var e=T.jws.JWS.inArray;if(n===null||typeof n!="object"||typeof n.length!="number")return!1;for(var i=0;i<n.length;i++)if(!e(n[i],t))return!1;return!0};T.jws.JWS.inArray=function(n,t){if(t===null||typeof t!="object"||typeof t.length!="number")return!1;for(var e=0;e<t.length;e++)if(t[e]==n)return!0;return!1};T.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"};T.jws.JWS.isSafeJSONString=function(n,t,e){var i=null;try{return i=uae(n),typeof i!="object"||i.constructor===Array?0:(t&&(t[e]=i),1)}catch{return 0}};T.jws.JWS.readSafeJSONString=function(n){var t=null;try{return t=uae(n),typeof t!="object"||t.constructor===Array?null:t}catch{return null}};T.jws.JWS.getEncodedSignatureValueFromJWS=function(n){var t=n.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(t==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]};T.jws.JWS.getJWKthumbprint=function(n){if(n.kty!=="RSA"&&n.kty!=="EC"&&n.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var t="{";if(n.kty==="RSA"){if(typeof n.n!="string"||typeof n.e!="string")throw"wrong n and e value for RSA key";t+='"e":"'+n.e+'",',t+='"kty":"'+n.kty+'",',t+='"n":"'+n.n+'"}'}else if(n.kty==="EC"){if(typeof n.crv!="string"||typeof n.x!="string"||typeof n.y!="string")throw"wrong crv, x and y value for EC key";t+='"crv":"'+n.crv+'",',t+='"kty":"'+n.kty+'",',t+='"x":"'+n.x+'",',t+='"y":"'+n.y+'"}'}else if(n.kty==="oct"){if(typeof n.k!="string")throw"wrong k value for oct(symmetric) key";t+='"kty":"'+n.kty+'",',t+='"k":"'+n.k+'"}'}var e=ku(t),i=T.crypto.Util.hashHex(e,"sha256"),r=ss(i);return r};T.jws.IntDate={};T.jws.IntDate.get=function(n){var t=T.jws.IntDate,e=t.getNow,i=t.getZulu;if(n=="now")return e();if(n=="now + 1hour")return e()+60*60;if(n=="now + 1day")return e()+60*60*24;if(n=="now + 1month")return e()+60*60*24*30;if(n=="now + 1year")return e()+60*60*24*365;if(n.match(/Z$/))return i(n);if(n.match(/^[0-9]+$/))return parseInt(n);throw"unsupported format: "+n};T.jws.IntDate.getZulu=function(n){return gae(n)};T.jws.IntDate.getNow=function(){var n=~~(new Date/1e3);return n};T.jws.IntDate.intDate2UTCString=function(n){var t=new Date(n*1e3);return t.toUTCString()};T.jws.IntDate.intDate2Zulu=function(n){var t=new Date(n*1e3),e=("0000"+t.getUTCFullYear()).slice(-4),i=("00"+(t.getUTCMonth()+1)).slice(-2),r=("00"+t.getUTCDate()).slice(-2),o=("00"+t.getUTCHours()).slice(-2),s=("00"+t.getUTCMinutes()).slice(-2),a=("00"+t.getUTCSeconds()).slice(-2);return e+i+r+o+s+a+"Z"};(typeof T>"u"||!T)&&(T={});(typeof T.jws>"u"||!T.jws)&&(T.jws={});T.jws.JWSJS=function(){var n=T,t=n.jws,e=t.JWS,i=e.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(r){this.init();var o=r.split(".");if(o.length!=3)throw"malformed input JWS";this.aHeader.push(o[0]),this.sPayload=o[1],this.aSignature.push(o[2])},this.addSignature=function(r,o,s,a){if(this.sPayload===void 0||this.sPayload===null)throw"there's no JSON-JS signature to add.";var l=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var u=T.jws.JWS.sign(r,o,this.sPayload,s,a),d=u.split("."),h=d[0],f=d[2];this.aHeader.push(d[0]),this.aSignature.push(d[2])}catch(A){throw this.aHeader.length>l&&this.aHeader.pop(),this.aSignature.length>l&&this.aSignature.pop(),"addSignature failed: "+A}},this.verifyAll=function(r){if(this.aHeader.length!==r.length||this.aSignature.length!==r.length)return!1;for(var o=0;o<r.length;o++){var s=r[o];if(s.length!==2)return!1;var a=this.verifyNth(o,s[0],s[1]);if(a===!1)return!1}return!0},this.verifyNth=function(r,o,s){if(this.aHeader.length<=r||this.aSignature.length<=r)return!1;var a=this.aHeader[r],l=this.aSignature[r],u=a+"."+this.sPayload+"."+l,d=!1;try{d=e.verify(u,o,s)}catch{return!1}return d},this.readJWSJS=function(r){if(typeof r=="string"){var o=i(r);if(o==null)throw"argument is not safe JSON object string";this.aHeader=o.headers,this.sPayload=o.payload,this.aSignature=o.signatures}else try{if(r.headers.length>0)this.aHeader=r.headers;else throw"malformed header";if(typeof r.payload=="string")this.sPayload=r.payload;else throw"malformed signatures";if(r.signatures.length>0)this.aSignature=r.signatures;else throw"malformed signatures"}catch(s){throw"malformed JWS-JS JSON object: "+s}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return this.aHeader.length==0?1:0}};ft.SecureRandom=Vg;ft.rng_seed_time=$8;ft.BigInteger=Ce;ft.RSAKey=Nt;ft.ECDSA=T.crypto.ECDSA;ft.DSA=T.crypto.DSA;ft.Signature=T.crypto.Signature;ft.MessageDigest=T.crypto.MessageDigest;ft.Mac=T.crypto.Mac;ft.Cipher=T.crypto.Cipher;ft.KEYUTIL=ai;ft.ASN1HEX=je;ft.X509=Xt;ft.X509CRL=EVe;ft.CryptoJS=bt;ft.b64tohex=sb;ft.b64toBA=oae;ft.ECFieldElementFp=na;ft.ECPointFp=gi;ft.ECCurveFp=Rp;ft.stoBA=dae;ft.BAtos=hae;ft.BAtohex=iP;ft.stohex=zl;ft.stob64=cVe;ft.stob64u=uVe;ft.b64utos=dVe;ft.b64tob64u=ob;ft.b64utob64=Zx;ft.hex2b64=Np;ft.hextob64u=ss;ft.b64utohex=Er;ft.utf8tob64u=$x;ft.b64utoutf8=Rd;ft.utf8tob64=hVe;ft.b64toutf8=fVe;ft.utf8tohex=rP;ft.hextoutf8=xi;ft.hextorstr=Pa;ft.rstrtohex=ku;ft.hextob64=fae;ft.hextob64nl=pae;ft.b64nltohex=Aae;ft.hextopem=Es;ft.pemtohex=zr;ft.hextoArrayBuffer=pVe;ft.ArrayBuffertohex=AVe;ft.zulutomsec=Y8;ft.zulutosec=gae;ft.zulutodate=gVe;ft.datetozulu=mVe;ft.uricmptohex=oP;ft.hextouricmp=sP;ft.ipv6tohex=aP;ft.hextoipv6=mae;ft.hextoip=G8;ft.iptohex=vVe;ft.ucs2hextoutf8=Z8;ft.encodeURIComponentAll=lP;ft.newline_toUnix=_Ve;ft.newline_toDos=yVe;ft.hextoposhex=W8;ft.intarystrtohex=X8;ft.strdiffidx=wVe;ft.oidtohex=_ae;ft.hextooid=cP;ft.strpad=eP;ft.bitstrtoint=J8;ft.inttobitstr=bVe;ft.KJUR=T;ft.crypto=T.crypto;ft.asn1=T.asn1;ft.jws=T.jws;ft.lang=T.lang});var Eae=tn(()=>{"use strict"});var xae=tn((tQ,Sae)=>{"use strict";var eQ=function(){Array.isArray||(Array.isArray=function(i){return Object.prototype.toString.call(i)==="[object Array]"}),Number.isInteger||(Number.isInteger=function(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i}),typeof String.prototype.utf8Encode>"u"&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),typeof String.prototype.utf8Decode>"u"&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch{return this}});var n={VERSION:"2.2.1",DEBUG:!1,log:{trace:function(){n.DEBUG&&console.log.apply(console,arguments)},info:function(){console.info.apply(console,arguments)},warn:function(){console.warn.apply(console,arguments)},allay:function(){n.DEBUG&&console.warn.apply(console,arguments)},error:function(){console.error.apply(console,arguments)}},streams:{serial:"SERIAL",usb:"USB",hid:"HID",printer:"PRINTER",file:"FILE",socket:"SOCKET"},websocket:{connection:null,connectConfig:{host:["localhost","localhost.qz.io"],hostIndex:0,usingSecure:!0,protocol:{secure:"wss://",insecure:"ws://"},port:{secure:[8181,8282,8383,8484],insecure:[8182,8283,8384,8485],portIndex:0},keepAlive:60,retries:0,delay:0},setup:{findConnection:function(i,r,o){if(i.port.secure.length)!i.port.insecure.length&&!i.usingSecure&&(n.log.trace("No insecure ports specified - forcing secure connection"),i.usingSecure=!0);else if(i.port.insecure.length)i.usingSecure&&(n.log.error("No secure ports specified - forcing insecure connection"),i.usingSecure=!1);else{o(new Error("No ports have been specified to connect over"));return}var s=function(){if(i.port.portIndex++,i.usingSecure&&i.port.portIndex>=i.port.secure.length||!i.usingSecure&&i.port.portIndex>=i.port.insecure.length)if(i.hostIndex>=i.host.length-1){o(new Error("Unable to establish connection with QZ"));return}else i.hostIndex++,i.port.portIndex=0;n.websocket.setup.findConnection(i,r,o)},a;i.usingSecure?a=i.protocol.secure+i.host[i.hostIndex]+":"+i.port.secure[i.port.portIndex]:a=i.protocol.insecure+i.host[i.hostIndex]+":"+i.port.insecure[i.port.portIndex];try{n.log.trace("Attempting connection",a),n.websocket.connection=new n.tools.ws(a)}catch(l){n.log.error(l),s();return}n.websocket.connection!=null?(n.websocket.connection.established=!1,n.websocket.connection.onopen=function(l){if(!n.websocket.connection.established&&(n.log.trace(l),n.log.info("Established connection with QZ Tray on "+a),n.websocket.setup.openConnection({resolve:r,reject:o}),i.keepAlive>0))var u=setInterval(function(){if(!n.tools.isActive()){clearInterval(u);return}n.websocket.connection.send("ping")},i.keepAlive*1e3)},n.websocket.connection.onclose=function(){n.websocket.connection&&typeof navigator<"u"&&navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1&&n.websocket.connection.onerror()},n.websocket.connection.onerror=function(l){n.log.trace(l),n.websocket.connection=null,s()}):o(new Error("Unable to create a websocket connection"))},openConnection:function(i){n.websocket.connection.established=!0,n.websocket.connection.onclose=function(o){n.log.trace(o),n.websocket.connection=null,n.websocket.callClose(o),n.log.info("Closed connection with QZ Tray");for(var s in n.websocket.pendingCalls)n.websocket.pendingCalls.hasOwnProperty(s)&&n.websocket.pendingCalls[s].reject(new Error("Connection closed before response received"));this.promise!=null&&this.promise.resolve()},n.websocket.connection.onerror=function(o){n.websocket.callError(o)},n.websocket.connection.sendData=function(o){n.log.trace("Preparing object for websocket",o),o.timestamp==null&&(o.timestamp=Date.now(),typeof o.timestamp!="number"&&(o.timestamp=new Date().getTime())),o.promise!=null&&(o.uid=n.websocket.setup.newUID(),n.websocket.pendingCalls[o.uid]=o.promise),o.signAlgorithm=n.security.signAlgorithm,o.position={x:typeof screen<"u"?(screen.availWidth||screen.width)/2+(screen.left||screen.availLeft):0,y:typeof screen<"u"?(screen.availHeight||screen.height)/2+(screen.top||screen.availTop):0};try{if(o.call!=null&&o.signature==null){var s={call:o.call,params:o.params,timestamp:o.timestamp},a=n.tools.hash(n.tools.stringify(s));a.then||(a=n.tools.promise(function(l){l(a)})),a.then(function(l){return n.security.callSign(l)}).then(function(l){n.log.trace("Signature for call",l),o.signature=l,n.signContent=void 0,n.websocket.connection.send(n.tools.stringify(o))})}else n.log.trace("Signature for call",o.signature),n.websocket.connection.send(n.tools.stringify(o))}catch(l){n.log.error(l),o.promise!=null&&(o.promise.reject(l),delete n.websocket.pendingCalls[o.uid])}},n.websocket.connection.onmessage=function(o){var s=JSON.parse(o.data);if(s.uid==null){if(s.type==null)n.websocket.connection.close(4003,"Connected to incompatible QZ Tray version");else switch(s.type){case n.streams.serial:s.event||(s.event=JSON.stringify({portName:s.key,output:s.data})),n.serial.callSerial(JSON.parse(s.event));break;case n.streams.socket:n.socket.callSocket(JSON.parse(s.event));break;case n.streams.usb:s.event||(s.event=JSON.stringify({vendorId:s.key[0],productId:s.key[1],output:s.data})),n.usb.callUsb(JSON.parse(s.event));break;case n.streams.hid:n.hid.callHid(JSON.parse(s.event));break;case n.streams.printer:n.printers.callPrinter(JSON.parse(s.event));break;case n.streams.file:n.file.callFile(JSON.parse(s.event));break;default:n.log.allay("Cannot determine stream type for callback",s);break}return}n.log.trace("Received response from websocket",s);var a=n.websocket.pendingCalls[s.uid];a==null?n.log.allay("No promise found for returned response"):s.error!=null?a.reject(new Error(s.error)):a.resolve(s.result),delete n.websocket.pendingCalls[s.uid]};function r(o){o===void 0&&(o=null),e.api.getVersion().then(function(s){n.websocket.connection.version=s,n.websocket.connection.semver=s.toLowerCase().replace(/-rc\./g,"-rc").split(/[\\+\\.-]/g);for(var a=0;a<n.websocket.connection.semver.length;a++){try{if(a==3&&n.websocket.connection.semver[a].toLowerCase().indexOf("rc")==0){n.websocket.connection.semver[a]=-n.websocket.connection.semver[a].replace(/\D/g,"");continue}n.websocket.connection.semver[a]=parseInt(n.websocket.connection.semver[a])}catch{}n.websocket.connection.semver.length<4&&(n.websocket.connection.semver[3]=0)}n.compatible.algorithm(!0)}).then(function(){n.websocket.connection.sendData({certificate:o,promise:i})})}n.security.callCert().then(r).catch(function(o){n.log.warn("Failed to get certificate:",o),r(null)})},newUID:function(){var i=6;return(new Array(i+1).join("0")+(Math.random()*Math.pow(36,i)<<0).toString(36)).slice(-i)}},dataPromise:function(i,r,o,s){return n.tools.promise(function(a,l){var u={call:i,promise:{resolve:a,reject:l},params:r,signature:o,timestamp:s};n.websocket.connection.sendData(u)})},pendingCalls:{},errorCallbacks:[],callError:function(i){if(Array.isArray(n.websocket.errorCallbacks))for(var r=0;r<n.websocket.errorCallbacks.length;r++)n.websocket.errorCallbacks[r](i);else n.websocket.errorCallbacks(i)},closedCallbacks:[],callClose:function(i){if(Array.isArray(n.websocket.closedCallbacks))for(var r=0;r<n.websocket.closedCallbacks.length;r++)n.websocket.closedCallbacks[r](i);else n.websocket.closedCallbacks(i)}},printing:{defaultConfig:{bounds:null,colorType:"color",copies:1,density:0,duplex:!1,fallbackDensity:null,interpolation:"bicubic",jobName:null,legacy:!1,margins:0,orientation:null,paperThickness:null,printerTray:null,rasterize:!1,rotation:0,scaleContent:!0,size:null,units:"in",forceRaw:!1,encoding:null,spool:null}},serial:{serialCallbacks:[],callSerial:function(i){if(Array.isArray(n.serial.serialCallbacks))for(var r=0;r<n.serial.serialCallbacks.length;r++)n.serial.serialCallbacks[r](i);else n.serial.serialCallbacks(i)}},socket:{socketCallbacks:[],callSocket:function(i){if(Array.isArray(n.socket.socketCallbacks))for(var r=0;r<n.socket.socketCallbacks.length;r++)n.socket.socketCallbacks[r](i);else n.socket.socketCallbacks(i)}},usb:{usbCallbacks:[],callUsb:function(i){if(Array.isArray(n.usb.usbCallbacks))for(var r=0;r<n.usb.usbCallbacks.length;r++)n.usb.usbCallbacks[r](i);else n.usb.usbCallbacks(i)}},hid:{hidCallbacks:[],callHid:function(i){if(Array.isArray(n.hid.hidCallbacks))for(var r=0;r<n.hid.hidCallbacks.length;r++)n.hid.hidCallbacks[r](i);else n.hid.hidCallbacks(i)}},printers:{printerCallbacks:[],callPrinter:function(i){if(Array.isArray(n.printers.printerCallbacks))for(var r=0;r<n.printers.printerCallbacks.length;r++)n.printers.printerCallbacks[r](i);else n.printers.printerCallbacks(i)}},file:{fileCallbacks:[],callFile:function(i){if(Array.isArray(n.file.fileCallbacks))for(var r=0;r<n.file.fileCallbacks.length;r++)n.file.fileCallbacks[r](i);else n.file.fileCallbacks(i)}},security:{certHandler:function(i,r){r()},callCert:function(){return typeof n.security.certHandler.then=="function"||n.security.certHandler.constructor.name==="AsyncFunction"?n.security.certHandler():n.tools.promise(n.security.certHandler)},signatureFactory:function(){return function(i){i()}},callSign:function(i){return typeof n.security.signatureFactory.then=="function"||n.security.signatureFactory.constructor.name==="AsyncFunction"?n.security.signatureFactory(i):n.tools.promise(n.security.signatureFactory(i))},signAlgorithm:"SHA1"},tools:{promise:function(i){if(typeof RSVP<"u")return new RSVP.Promise(i);if(typeof Promise<"u")return new Promise(i);n.log.error("Promise/A+ support is required.  See qz.api.setPromiseType(...)")},stringify:function(i){var r=Array.prototype.toJSON;delete Array.prototype.toJSON;var o=JSON.stringify(i);return r&&(Array.prototype.toJSON=r),o},hash:function(i){return typeof Sha256<"u"?Sha256.hash(i):n.SHA.hash(i)},ws:typeof WebSocket<"u"?WebSocket:null,absolute:function(i){if(typeof window<"u"&&typeof document.createElement=="function"){var r=document.createElement("a");return r.href=i,r.href}else typeof tQ=="object"&&Eae().resolve(i);return i},relative:function(i){for(var r=0;r<i.length;r++)if(i[r].constructor===Object){var o=!1;i[r].data&&i[r].data.search(/data:image\/\w+;base64,/)===0?(i[r].flavor="base64",i[r].data=i[r].data.replace(/^data:image\/\w+;base64,/,"")):i[r].flavor?["FILE","XML"].indexOf(i[r].flavor.toUpperCase())>-1&&(o=!0):(i[r].format&&["HTML","IMAGE","PDF","FILE","XML"].indexOf(i[r].format.toUpperCase())>-1||i[r].type&&(["PIXEL","IMAGE","PDF"].indexOf(i[r].type.toUpperCase())>-1&&!i[r].format||["HTML","PDF"].indexOf(i[r].type.toUpperCase())>-1&&(!i[r].format||i[r].format.toUpperCase()==="FILE")))&&(o=!0),o&&(i[r].data=n.tools.absolute(i[r].data)),i[r].options&&typeof i[r].options.overlay=="string"&&(i[r].options.overlay=n.tools.absolute(i[r].options.overlay))}},extend:function(i){typeof i!="object"&&(i={});for(var r=1;r<arguments.length;r++){var o=arguments[r];if(o){for(var s in o)if(o.hasOwnProperty(s)){if(i===o[s])continue;if(o[s]&&o[s].constructor&&o[s].constructor===Object){var a;Array.isArray(o[s])?a=i[s]||[]:a=i[s]||{},i[s]=n.tools.extend(a,o[s])}else o[s]!==void 0&&(i[s]=o[s])}}}return i},versionCompare:function(i,r,o,s){if(n.tools.assertActive()){var a=n.websocket.connection.semver;return a[0]!=i?a[0]-i:r!=null&&a[1]!=r?a[1]-r:o!=null&&a[2]!=o?a[2]-o:s!=null&&a.length>3&&a[3]!=s?Number.isInteger(a[3])&&Number.isInteger(s)?a[3]-s:a[3].toString().localeCompare(s.toString()):0}},isVersion:function(i,r,o,s){return n.tools.versionCompare(i,r,o,s)==0},isActive:function(){return n.websocket.connection!=null&&n.websocket.connection.established},assertActive:function(){if(n.tools.isActive())return!0;throw new Error("A connection to QZ has not been established yet")}},compatible:{data:function(i){if(n.tools.isVersion(2,0)){n.log.trace("Converting print data to v2.0 for "+n.websocket.connection.version);for(var r=0;r<i.length;r++)i[r].constructor===Object&&(i[r].type&&i[r].type.toUpperCase()==="RAW"&&i[r].format&&i[r].format.toUpperCase()==="IMAGE"&&(i[r].flavor&&i[r].flavor.toUpperCase()==="BASE64"&&(i[r].data="data:image/compat;base64,"+i[r].data),i[r].flavor="IMAGE"),(i[r].type&&i[r].type.toUpperCase()==="RAW"||i[r].format&&i[r].format.toUpperCase()==="COMMAND")&&(i[r].format="RAW"),i[r].type=i[r].format,i[r].format=i[r].flavor,delete i[r].flavor)}},config:function(i,r){return n.tools.isVersion(2,0)&&(r.rasterize||(i.rasterize=!0)),n.tools.versionCompare(2,1,4)<0&&i.forceRaw&&(i.altPrinting=i.forceRaw,delete i.forceRaw),n.tools.versionCompare(2,1,2,11)<0&&i.spool&&(i.spool.size&&(i.perSpool=i.spool.size,delete i.spool.size),i.spool.end&&(i.endOfDoc=i.spool.end,delete i.spool.end),delete i.spool),i},networking:function(i,r,o,s,a){return n.tools.isVersion(2,0)?n.tools.promise(function(l,u){n.websocket.dataPromise("websocket.getNetworkInfo",{hostname:i,port:r},o,s).then(function(d){l(typeof a<"u"?a(d):d)},u)}):n.tools.promise(function(l,u){n.websocket.dataPromise("networking.device",{hostname:i,port:r},o,s).then(function(d){l({ipAddress:d.ip,macAddress:d.mac})},u)})},algorithm:function(i){return n.tools.isActive()&&n.tools.isVersion(2,0)?(i||n.log.warn("Connected to an older version of QZ, alternate signature algorithms are not supported"),!1):!0}},SHA:{hash:function(i){i=i.utf8Encode()+"\x80";for(var r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],s=i.length/4+2,a=Math.ceil(s/16),l=new Array(a),u=0;u<a;u++){l[u]=new Array(16);for(var d=0;d<16;d++)l[u][d]=i.charCodeAt(u*64+d*4)<<24|i.charCodeAt(u*64+d*4+1)<<16|i.charCodeAt(u*64+d*4+2)<<8|i.charCodeAt(u*64+d*4+3)}l[a-1][14]=(i.length-1)*8/Math.pow(2,32),l[a-1][14]=Math.floor(l[a-1][14]),l[a-1][15]=(i.length-1)*8&4294967295;for(var h=new Array(64),f,A,g,m,b,S,F,R,u=0;u<a;u++){for(var B=0;B<16;B++)h[B]=l[u][B];for(var B=16;B<64;B++)h[B]=n.SHA._dev1(h[B-2])+h[B-7]+n.SHA._dev0(h[B-15])+h[B-16]&4294967295;f=o[0],A=o[1],g=o[2],m=o[3],b=o[4],S=o[5],F=o[6],R=o[7];for(var B=0;B<64;B++){var P=R+n.SHA._sig1(b)+n.SHA._ch(b,S,F)+r[B]+h[B],L=n.SHA._sig0(f)+n.SHA._maj(f,A,g);R=F,F=S,S=b,b=m+P&4294967295,m=g,g=A,A=f,f=P+L&4294967295}o[0]=o[0]+f&4294967295,o[1]=o[1]+A&4294967295,o[2]=o[2]+g&4294967295,o[3]=o[3]+m&4294967295,o[4]=o[4]+b&4294967295,o[5]=o[5]+S&4294967295,o[6]=o[6]+F&4294967295,o[7]=o[7]+R&4294967295}return n.SHA._hexStr(o[0])+n.SHA._hexStr(o[1])+n.SHA._hexStr(o[2])+n.SHA._hexStr(o[3])+n.SHA._hexStr(o[4])+n.SHA._hexStr(o[5])+n.SHA._hexStr(o[6])+n.SHA._hexStr(o[7])},_rotr:function(i,r){return r>>>i|r<<32-i},_sig0:function(i){return n.SHA._rotr(2,i)^n.SHA._rotr(13,i)^n.SHA._rotr(22,i)},_sig1:function(i){return n.SHA._rotr(6,i)^n.SHA._rotr(11,i)^n.SHA._rotr(25,i)},_dev0:function(i){return n.SHA._rotr(7,i)^n.SHA._rotr(18,i)^i>>>3},_dev1:function(i){return n.SHA._rotr(17,i)^n.SHA._rotr(19,i)^i>>>10},_ch:function(i,r,o){return i&r^~i&o},_maj:function(i,r,o){return i&r^i&o^r&o},_hexStr:function(i){for(var r="",o,s=7;s>=0;s--)o=i>>>s*4&15,r+=o.toString(16);return r}}};function t(i,r){this.config=n.tools.extend({},n.printing.defaultConfig),this._dirtyOpts={},this.setPrinter=function(o){typeof o=="string"&&(o={name:o}),o&&o.file&&o.file.indexOf("\\\\")!=0&&n.log.warn("Printing to file is deprecated.  See https://github.com/qzind/tray/issues/730"),this.printer=o},this.getPrinter=function(){return this.printer},this.reconfigure=function(o){for(var s in o)o[s]!==void 0&&(this._dirtyOpts[s]=!0);n.tools.extend(this.config,o)},this.getOptions=function(){return n.compatible.config(this.config,this._dirtyOpts)},this.setPrinter(i),this.reconfigure(r)}t.prototype.print=function(i,r,o){e.print(this,i,r,o)};var e={websocket:{isActive:function(){return n.tools.isActive()},connect:function(i){return n.tools.promise(function(r,o){if(n.tools.isActive()){o(new Error("An open connection with QZ Tray already exists"));return}else if(n.websocket.connection!=null){o(new Error("The current connection attempt has not returned yet"));return}if(n.tools.ws){if(!n.tools.ws.CLOSED||n.tools.ws.CLOSED==2){o(new Error("Unsupported WebSocket version detected: HyBi-00/Hixie-76"));return}}else{o(new Error("WebSocket not supported by this browser"));return}i==null&&(i={}),(typeof location>"u"||location.protocol!=="https:")&&typeof i.usingSecure>"u"&&(n.log.trace("Disabling secure ports due to insecure page"),i.usingSecure=!1),typeof i.host<"u"&&!Array.isArray(i.host)&&(i.host=[i.host]);var s=function(a){var l=!1,u=function(){l||(l=!0,i&&a<i.retries?s(a+1):(n.websocket.connection=null,o.apply(null,arguments)))},d=function(){var h=n.tools.extend({},n.websocket.connectConfig,i);n.websocket.setup.findConnection(h,r,u)};a==0?d():setTimeout(d,i.delay*1e3)};s(0)})},disconnect:function(){return n.tools.promise(function(i,r){n.tools.isActive()?(n.websocket.connection.close(),n.websocket.connection.promise={resolve:i,reject:r}):r(new Error("No open connection with QZ Tray"))})},setErrorCallbacks:function(i){n.websocket.errorCallbacks=i},setClosedCallbacks:function(i){n.websocket.closedCallbacks=i},getNetworkInfo:n.compatible.networking,getConnectionInfo:function(){if(n.tools.assertActive()){var i=n.websocket.connection.url.split(/[:\/]+/g);return{socket:i[0],host:i[1],port:+i[2]}}}},printers:{getDefault:function(i,r){return n.websocket.dataPromise("printers.getDefault",null,i,r)},find:function(i,r,o){return n.websocket.dataPromise("printers.find",{query:i},r,o)},details:function(){return n.websocket.dataPromise("printers.detail")},startListening:function(i){Array.isArray(i)||(i=[i]);var r={printerNames:i};return n.websocket.dataPromise("printers.startListening",r)},stopListening:function(){return n.websocket.dataPromise("printers.stopListening")},getStatus:function(){return n.websocket.dataPromise("printers.getStatus")},setPrinterCallbacks:function(i){n.printers.printerCallbacks=i}},configs:{setDefaults:function(i){n.tools.extend(n.printing.defaultConfig,i)},create:function(i,r){return new t(i,r)}},print:function(i,r){var o=!1,s=[],a=[];arguments.length>=3&&(typeof arguments[2]=="boolean"?(o=arguments[2],arguments.length>=5&&(s=arguments[3],a=arguments[4])):arguments.length>=4&&(s=arguments[2],a=arguments[3]),s&&!Array.isArray(s)&&(s=[s]),a&&!Array.isArray(a)&&(a=[a])),Array.isArray(i)||(i=[i]),Array.isArray(r[0])||(r=[r]);for(var l=0;l<r.length;l++)n.tools.relative(r[l]),n.compatible.data(r[l]);for(var u=function(m){var b={printer:m.config.getPrinter(),options:m.config.getOptions(),data:m.data};return n.websocket.dataPromise("print",b,m.signature,m.timestamp)},d=[],h=0;h<i.length||h<r.length;h++)(function(m){var b={config:i[Math.min(m,i.length-1)],data:r[Math.min(m,r.length-1)],signature:s[m],timestamp:a[m]};d.push(function(){return u(b)})})(h);var f=null;if(o){var A=[];f=function(m){A.push(m)},d.push(function(){return n.tools.promise(function(m,b){A.length?b(A):m()})})}var g=null;return d.reduce(function(m,b){return g=m.catch(f).then(b),g},n.tools.promise(function(m){m()})),g},serial:{findPorts:function(){return n.websocket.dataPromise("serial.findPorts")},setSerialCallbacks:function(i){n.serial.serialCallbacks=i},openPort:function(i,r){var o={port:i,options:r};return n.websocket.dataPromise("serial.openPort",o)},sendData:function(i,r,o){n.tools.versionCompare(2,1,0,12)>=0&&(typeof r!="object"&&(r={data:r,type:"PLAIN"}),r.type&&r.type.toUpperCase()=="FILE"&&(r.data=n.tools.absolute(r.data)));var s={port:i,data:r,options:o};return n.websocket.dataPromise("serial.sendData",s)},closePort:function(i){return n.websocket.dataPromise("serial.closePort",{port:i})}},socket:{open:function(i,r,o){var s={host:i,port:r,options:o};return n.websocket.dataPromise("socket.open",s)},close:function(i,r){var o={host:i,port:r};return n.websocket.dataPromise("socket.close",o)},sendData:function(i,r,o){typeof o!="object"&&(o={data:o,type:"PLAIN"});var s={host:i,port:r,data:o};return n.websocket.dataPromise("socket.sendData",s)},setSocketCallbacks:function(i){n.socket.socketCallbacks=i}},usb:{listDevices:function(i){return n.websocket.dataPromise("usb.listDevices",{includeHubs:i})},listInterfaces:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1]}),n.websocket.dataPromise("usb.listInterfaces",i)},listEndpoints:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1],interface:arguments[2]}),n.websocket.dataPromise("usb.listEndpoints",i)},setUsbCallbacks:function(i){n.usb.usbCallbacks=i},claimDevice:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1],interface:arguments[2]}),n.websocket.dataPromise("usb.claimDevice",i)},isClaimed:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1]}),n.websocket.dataPromise("usb.isClaimed",i)},sendData:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1],endpoint:arguments[2],data:arguments[3]}),n.tools.versionCompare(2,1,0,12)>=0&&(typeof i.data!="object"&&(i.data={data:i.data,type:"PLAIN"}),i.data.type&&i.data.type.toUpperCase()=="FILE"&&(i.data.data=n.tools.absolute(i.data.data))),n.websocket.dataPromise("usb.sendData",i)},readData:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1],endpoint:arguments[2],responseSize:arguments[3]}),n.websocket.dataPromise("usb.readData",i)},openStream:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1],endpoint:arguments[2],responseSize:arguments[3],interval:arguments[4]}),n.websocket.dataPromise("usb.openStream",i)},closeStream:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1],endpoint:arguments[2]}),n.websocket.dataPromise("usb.closeStream",i)},releaseDevice:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1]}),n.websocket.dataPromise("usb.releaseDevice",i)}},hid:{listDevices:function(){return n.websocket.dataPromise("hid.listDevices")},startListening:function(){return n.websocket.dataPromise("hid.startListening")},stopListening:function(){return n.websocket.dataPromise("hid.stopListening")},setHidCallbacks:function(i){n.hid.hidCallbacks=i},claimDevice:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1]}),n.websocket.dataPromise("hid.claimDevice",i)},isClaimed:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1]}),n.websocket.dataPromise("hid.isClaimed",i)},sendData:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1],data:arguments[2],endpoint:arguments[3]}),n.tools.versionCompare(2,1,0,12)>=0&&(typeof i.data!="object"&&(i.data={data:i.data,type:"PLAIN"}),i.data.type&&i.data.type.toUpperCase()=="FILE"&&(i.data.data=n.tools.absolute(i.data.data))),n.websocket.dataPromise("hid.sendData",i)},readData:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1],responseSize:arguments[2]}),n.websocket.dataPromise("hid.readData",i)},sendFeatureReport:function(i){return n.websocket.dataPromise("hid.sendFeatureReport",i)},getFeatureReport:function(i){return n.websocket.dataPromise("hid.getFeatureReport",i)},openStream:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1],responseSize:arguments[2],interval:arguments[3]}),n.websocket.dataPromise("hid.openStream",i)},closeStream:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1]}),n.websocket.dataPromise("hid.closeStream",i)},releaseDevice:function(i){return typeof i!="object"&&(i={vendorId:arguments[0],productId:arguments[1]}),n.websocket.dataPromise("hid.releaseDevice",i)}},file:{list:function(i,r){var o=n.tools.extend({path:i},r);return n.websocket.dataPromise("file.list",o)},read:function(i,r){var o=n.tools.extend({path:i},r);return n.websocket.dataPromise("file.read",o)},write:function(i,r){var o=n.tools.extend({path:i},r);return n.websocket.dataPromise("file.write",o)},remove:function(i,r){var o=n.tools.extend({path:i},r);return n.websocket.dataPromise("file.remove",o)},startListening:function(i,r){r&&typeof r.include<"u"&&!Array.isArray(r.include)&&(r.include=[r.include]),r&&typeof r.exclude<"u"&&!Array.isArray(r.exclude)&&(r.exclude=[r.exclude]);var o=n.tools.extend({path:i},r);return n.websocket.dataPromise("file.startListening",o)},stopListening:function(i,r){var o=n.tools.extend({path:i},r);return n.websocket.dataPromise("file.stopListening",o)},setFileCallbacks:function(i){n.file.fileCallbacks=i}},networking:{device:function(i,r){return n.tools.isVersion(2,0)?n.compatible.networking(i,r,null,null,function(o){return{ip:o.ipAddress,mac:o.macAddress}}):n.websocket.dataPromise("networking.device",{hostname:i,port:r})},devices:function(i,r){return n.tools.isVersion(2,0)?n.compatible.networking(i,r,null,null,function(o){return[{ip:o.ipAddress,mac:o.macAddress}]}):n.websocket.dataPromise("networking.devices",{hostname:i,port:r})}},security:{setCertificatePromise:function(i){n.security.certHandler=i},setSignaturePromise:function(i){n.security.signatureFactory=i},setSignatureAlgorithm:function(i){n.compatible.algorithm()&&(["SHA1","SHA256","SHA512"].indexOf(i.toUpperCase())<0?n.log.error("Signing algorithm '"+i+"' is not supported."):n.security.signAlgorithm=i)},getSignatureAlgorithm:function(){return n.security.signAlgorithm}},api:{showDebug:function(i){return n.DEBUG=i},getVersion:function(){return n.websocket.dataPromise("getVersion")},isVersion:n.tools.isVersion,isVersionGreater:function(i,r,o,s){return n.tools.versionCompare(i,r,o,s)>0},isVersionLess:function(i,r,o,s){return n.tools.versionCompare(i,r,o,s)<0},setPromiseType:function(i){n.tools.promise=i},setSha256Type:function(i){n.tools.hash=i},setWebSocketType:function(i){n.tools.ws=i}},version:n.VERSION};return e}();(function(){typeof define=="function"&&define.amd?define(eQ):typeof tQ=="object"?Sae.exports=eQ:window.qz=eQ})()});var jae=tn((cQ,uQ)=>{"use strict";(function(n,t){typeof cQ=="object"&&typeof uQ<"u"?uQ.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self,n.html2canvas=t())})(cQ,function(){"use strict";var n=function(v,w){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,C){E.__proto__=C}||function(E,C){for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(E[N]=C[N])},n(v,w)};function t(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");n(v,w);function E(){this.constructor=v}v.prototype=w===null?Object.create(w):(E.prototype=w.prototype,new E)}var e=function(){return e=Object.assign||function(w){for(var E,C=1,N=arguments.length;C<N;C++){E=arguments[C];for(var V in E)Object.prototype.hasOwnProperty.call(E,V)&&(w[V]=E[V])}return w},e.apply(this,arguments)};function i(v,w,E,C){function N(V){return V instanceof E?V:new E(function(X){X(V)})}return new(E||(E=Promise))(function(V,X){function ie(ye){try{Ae(C.next(ye))}catch(Se){X(Se)}}function ne(ye){try{Ae(C.throw(ye))}catch(Se){X(Se)}}function Ae(ye){ye.done?V(ye.value):N(ye.value).then(ie,ne)}Ae((C=C.apply(v,w||[])).next())})}function r(v,w){var E={label:0,sent:function(){if(V[0]&1)throw V[1];return V[1]},trys:[],ops:[]},C,N,V,X;return X={next:ie(0),throw:ie(1),return:ie(2)},typeof Symbol=="function"&&(X[Symbol.iterator]=function(){return this}),X;function ie(Ae){return function(ye){return ne([Ae,ye])}}function ne(Ae){if(C)throw new TypeError("Generator is already executing.");for(;E;)try{if(C=1,N&&(V=Ae[0]&2?N.return:Ae[0]?N.throw||((V=N.return)&&V.call(N),0):N.next)&&!(V=V.call(N,Ae[1])).done)return V;switch(N=0,V&&(Ae=[Ae[0]&2,V.value]),Ae[0]){case 0:case 1:V=Ae;break;case 4:return E.label++,{value:Ae[1],done:!1};case 5:E.label++,N=Ae[1],Ae=[0];continue;case 7:Ae=E.ops.pop(),E.trys.pop();continue;default:if(V=E.trys,!(V=V.length>0&&V[V.length-1])&&(Ae[0]===6||Ae[0]===2)){E=0;continue}if(Ae[0]===3&&(!V||Ae[1]>V[0]&&Ae[1]<V[3])){E.label=Ae[1];break}if(Ae[0]===6&&E.label<V[1]){E.label=V[1],V=Ae;break}if(V&&E.label<V[2]){E.label=V[2],E.ops.push(Ae);break}V[2]&&E.ops.pop(),E.trys.pop();continue}Ae=w.call(v,E)}catch(ye){Ae=[6,ye],N=0}finally{C=V=0}if(Ae[0]&5)throw Ae[1];return{value:Ae[0]?Ae[1]:void 0,done:!0}}}function o(v,w,E){if(E||arguments.length===2)for(var C=0,N=w.length,V;C<N;C++)(V||!(C in w))&&(V||(V=Array.prototype.slice.call(w,0,C)),V[C]=w[C]);return v.concat(V||w)}for(var s=function(){function v(w,E,C,N){this.left=w,this.top=E,this.width=C,this.height=N}return v.prototype.add=function(w,E,C,N){return new v(this.left+w,this.top+E,this.width+C,this.height+N)},v.fromClientRect=function(w,E){return new v(E.left+w.windowBounds.left,E.top+w.windowBounds.top,E.width,E.height)},v.fromDOMRectList=function(w,E){var C=E[0];return C?new v(C.x+w.windowBounds.left,C.y+w.windowBounds.top,C.width,C.height):v.EMPTY},v.EMPTY=new v(0,0,0,0),v}(),a=function(v,w){return s.fromClientRect(v,w.getBoundingClientRect())},l=function(v){var w=v.body,E=v.documentElement;if(!w||!E)throw new Error("Unable to get document size");var C=Math.max(Math.max(w.scrollWidth,E.scrollWidth),Math.max(w.offsetWidth,E.offsetWidth),Math.max(w.clientWidth,E.clientWidth)),N=Math.max(Math.max(w.scrollHeight,E.scrollHeight),Math.max(w.offsetHeight,E.offsetHeight),Math.max(w.clientHeight,E.clientHeight));return new s(0,0,C,N)},u=function(v){for(var w=[],E=0,C=v.length;E<C;){var N=v.charCodeAt(E++);if(N>=55296&&N<=56319&&E<C){var V=v.charCodeAt(E++);(V&64512)===56320?w.push(((N&1023)<<10)+(V&1023)+65536):(w.push(N),E--)}else w.push(N)}return w},d=function(){for(var v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];if(String.fromCodePoint)return String.fromCodePoint.apply(String,v);var E=v.length;if(!E)return"";for(var C=[],N=-1,V="";++N<E;){var X=v[N];X<=65535?C.push(X):(X-=65536,C.push((X>>10)+55296,X%1024+56320)),(N+1===E||C.length>16384)&&(V+=String.fromCharCode.apply(String,C),C.length=0)}return V},h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=typeof Uint8Array>"u"?[]:new Uint8Array(256),A=0;A<h.length;A++)f[h.charCodeAt(A)]=A;var g=function(v){var w=v.length*.75,E=v.length,C,N=0,V,X,ie,ne;v[v.length-1]==="="&&(w--,v[v.length-2]==="="&&w--);var Ae=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(w):new Array(w),ye=Array.isArray(Ae)?Ae:new Uint8Array(Ae);for(C=0;C<E;C+=4)V=f[v.charCodeAt(C)],X=f[v.charCodeAt(C+1)],ie=f[v.charCodeAt(C+2)],ne=f[v.charCodeAt(C+3)],ye[N++]=V<<2|X>>4,ye[N++]=(X&15)<<4|ie>>2,ye[N++]=(ie&3)<<6|ne&63;return Ae},m=function(v){for(var w=v.length,E=[],C=0;C<w;C+=2)E.push(v[C+1]<<8|v[C]);return E},b=function(v){for(var w=v.length,E=[],C=0;C<w;C+=4)E.push(v[C+3]<<24|v[C+2]<<16|v[C+1]<<8|v[C]);return E},S=5,F=11,R=2,B=F-S,P=65536>>S,L=1<<S,j=L-1,G=1024>>S,Y=P+G,Z=Y,_e=32,xe=Z+_e,qe=65536>>F,ge=1<<B,me=ge-1,re=function(v,w,E){return v.slice?v.slice(w,E):new Uint16Array(Array.prototype.slice.call(v,w,E))},ue=function(v,w,E){return v.slice?v.slice(w,E):new Uint32Array(Array.prototype.slice.call(v,w,E))},Fe=function(v){var w=g(v),E=Array.isArray(w)?b(w):new Uint32Array(w),C=Array.isArray(w)?m(w):new Uint16Array(w),N=24,V=re(C,N/2,E[4]/2),X=E[5]===2?re(C,(N+E[4])/2):ue(E,Math.ceil((N+E[4])/4));return new Ue(E[0],E[1],E[2],E[3],V,X)},Ue=function(){function v(w,E,C,N,V,X){this.initialValue=w,this.errorValue=E,this.highStart=C,this.highValueIndex=N,this.index=V,this.data=X}return v.prototype.get=function(w){var E;if(w>=0){if(w<55296||w>56319&&w<=65535)return E=this.index[w>>S],E=(E<<R)+(w&j),this.data[E];if(w<=65535)return E=this.index[P+(w-55296>>S)],E=(E<<R)+(w&j),this.data[E];if(w<this.highStart)return E=xe-qe+(w>>F),E=this.index[E],E+=w>>S&me,E=this.index[E],E=(E<<R)+(w&j),this.data[E];if(w<=1114111)return this.data[this.highValueIndex]}return this.errorValue},v}(),Je="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",xt=50,lt=1,Le=2,it=3,Xn=4,Yt=5,Jt=7,Rt=8,Sr=9,Br=10,Oo=11,Nc=12,Vu=13,Fo=14,xr=15,yi=16,gl=17,Fi=18,Pr=19,Bi=20,Is=21,Rc=22,pr=23,Qn=24,di=25,Ht=26,ot=27,Ts=28,ql=29,$l=30,v_=31,Xi=32,Kd=33,Ar=34,ka=35,zd=36,gr=37,oi=38,as=39,Qu=40,ju=41,Lc=42,jp=43,sa=[9001,65288],Gu="!",gn="\xD7",Wu="\xF7",nm=Fe(Je),ls=[$l,zd],Uc=[lt,Le,it,Yt],tt=[Br,Rt],pf=[ot,Ht],__=Uc.concat(tt),Bo=[oi,as,Qu,Ar,ka],Gp=[xr,Vu],Jn=function(v,w){w===void 0&&(w="strict");var E=[],C=[],N=[];return v.forEach(function(V,X){var ie=nm.get(V);if(ie>xt?(N.push(!0),ie-=xt):N.push(!1),["normal","auto","loose"].indexOf(w)!==-1&&[8208,8211,12316,12448].indexOf(V)!==-1)return C.push(X),E.push(yi);if(ie===Xn||ie===Oo){if(X===0)return C.push(X),E.push($l);var ne=E[X-1];return __.indexOf(ne)===-1?(C.push(C[X-1]),E.push(ne)):(C.push(X),E.push($l))}if(C.push(X),ie===v_)return E.push(w==="strict"?Is:gr);if(ie===Lc||ie===ql)return E.push($l);if(ie===jp)return V>=131072&&V<=196605||V>=196608&&V<=262141?E.push(gr):E.push($l);E.push(ie)}),[C,E,N]},aa=function(v,w,E,C){var N=C[E];if(Array.isArray(v)?v.indexOf(N)!==-1:v===N)for(var V=E;V<=C.length;){V++;var X=C[V];if(X===w)return!0;if(X!==Br)break}if(N===Br)for(var V=E;V>0;){V--;var ie=C[V];if(Array.isArray(v)?v.indexOf(ie)!==-1:v===ie)for(var ne=E;ne<=C.length;){ne++;var X=C[ne];if(X===w)return!0;if(X!==Br)break}if(ie!==Br)break}return!1},im=function(v,w){for(var E=v;E>=0;){var C=w[E];if(C===Br)E--;else return C}return 0},ro=function(v,w,E,C,N){if(E[C]===0)return gn;var V=C-1;if(Array.isArray(N)&&N[V]===!0)return gn;var X=V-1,ie=V+1,ne=w[V],Ae=X>=0?w[X]:0,ye=w[ie];if(ne===Le&&ye===it)return gn;if(Uc.indexOf(ne)!==-1)return Gu;if(Uc.indexOf(ye)!==-1||tt.indexOf(ye)!==-1)return gn;if(im(V,w)===Rt)return Wu;if(nm.get(v[V])===Oo||(ne===Xi||ne===Kd)&&nm.get(v[ie])===Oo||ne===Jt||ye===Jt||ne===Sr||[Br,Vu,xr].indexOf(ne)===-1&&ye===Sr||[gl,Fi,Pr,Qn,Ts].indexOf(ye)!==-1||im(V,w)===Rc||aa(pr,Rc,V,w)||aa([gl,Fi],Is,V,w)||aa(Nc,Nc,V,w))return gn;if(ne===Br)return Wu;if(ne===pr||ye===pr)return gn;if(ye===yi||ne===yi)return Wu;if([Vu,xr,Is].indexOf(ye)!==-1||ne===Fo||Ae===zd&&Gp.indexOf(ne)!==-1||ne===Ts&&ye===zd||ye===Bi||ls.indexOf(ye)!==-1&&ne===di||ls.indexOf(ne)!==-1&&ye===di||ne===ot&&[gr,Xi,Kd].indexOf(ye)!==-1||[gr,Xi,Kd].indexOf(ne)!==-1&&ye===Ht||ls.indexOf(ne)!==-1&&pf.indexOf(ye)!==-1||pf.indexOf(ne)!==-1&&ls.indexOf(ye)!==-1||[ot,Ht].indexOf(ne)!==-1&&(ye===di||[Rc,xr].indexOf(ye)!==-1&&w[ie+1]===di)||[Rc,xr].indexOf(ne)!==-1&&ye===di||ne===di&&[di,Ts,Qn].indexOf(ye)!==-1)return gn;if([di,Ts,Qn,gl,Fi].indexOf(ye)!==-1)for(var Se=V;Se>=0;){var Be=w[Se];if(Be===di)return gn;if([Ts,Qn].indexOf(Be)!==-1)Se--;else break}if([ot,Ht].indexOf(ye)!==-1)for(var Se=[gl,Fi].indexOf(ne)!==-1?X:V;Se>=0;){var Be=w[Se];if(Be===di)return gn;if([Ts,Qn].indexOf(Be)!==-1)Se--;else break}if(oi===ne&&[oi,as,Ar,ka].indexOf(ye)!==-1||[as,Ar].indexOf(ne)!==-1&&[as,Qu].indexOf(ye)!==-1||[Qu,ka].indexOf(ne)!==-1&&ye===Qu||Bo.indexOf(ne)!==-1&&[Bi,Ht].indexOf(ye)!==-1||Bo.indexOf(ye)!==-1&&ne===ot||ls.indexOf(ne)!==-1&&ls.indexOf(ye)!==-1||ne===Qn&&ls.indexOf(ye)!==-1||ls.concat(di).indexOf(ne)!==-1&&ye===Rc&&sa.indexOf(v[ie])===-1||ls.concat(di).indexOf(ye)!==-1&&ne===Fi)return gn;if(ne===ju&&ye===ju){for(var gt=E[V],ze=1;gt>0&&(gt--,w[gt]===ju);)ze++;if(ze%2!==0)return gn}return ne===Xi&&ye===Kd?gn:Wu},la=function(v,w){w||(w={lineBreak:"normal",wordBreak:"normal"});var E=Jn(v,w.lineBreak),C=E[0],N=E[1],V=E[2];(w.wordBreak==="break-all"||w.wordBreak==="break-word")&&(N=N.map(function(ie){return[di,$l,Lc].indexOf(ie)!==-1?gr:ie}));var X=w.wordBreak==="keep-all"?V.map(function(ie,ne){return ie&&v[ne]>=19968&&v[ne]<=40959}):void 0;return[C,N,X]},ml=function(){function v(w,E,C,N){this.codePoints=w,this.required=E===Gu,this.start=C,this.end=N}return v.prototype.slice=function(){return d.apply(void 0,this.codePoints.slice(this.start,this.end))},v}(),kr=function(v,w){var E=u(v),C=la(E,w),N=C[0],V=C[1],X=C[2],ie=E.length,ne=0,Ae=0;return{next:function(){if(Ae>=ie)return{done:!0,value:null};for(var ye=gn;Ae<ie&&(ye=ro(E,V,N,++Ae,X))===gn;);if(ye!==gn||Ae===ie){var Se=new ml(E,ye,ne,Ae);return ne=Ae,{value:Se,done:!1}}return{done:!0,value:null}}}},Na=1,vl=2,Ds=4,Wp=8,Kp=10,y_=47,Sn=92,Af=9,Nb=32,qd=34,$d=61,w_=35,rm=36,om=37,Yd=39,Zd=40,gf=41,sm=95,Wi=45,Rb=33,mf=60,b_=62,am=64,vf=91,C_=93,zp=61,Lb=123,Yl=63,Xd=125,lm=124,Hc=126,ca=128,E_=65533,_f=42,Vc=43,S_=44,bn=58,Ku=59,Zl=46,Xl=0,qp=8,x_=11,$p=14,Ft=31,Pi=127,Ra=-1,I_=48,cm=97,um=101,dm=102,T_=117,zu=122,hm=65,D_=69,fm=70,M_=85,O_=90,oo=function(v){return v>=I_&&v<=57},pm=function(v){return v>=55296&&v<=57343},Jl=function(v){return oo(v)||v>=hm&&v<=fm||v>=cm&&v<=dm},Jd=function(v){return v>=cm&&v<=zu},yf=function(v){return v>=hm&&v<=O_},Yp=function(v){return Jd(v)||yf(v)},F_=function(v){return v>=ca},wf=function(v){return v===Kp||v===Af||v===Nb},Zp=function(v){return Yp(v)||F_(v)||v===sm},Am=function(v){return Zp(v)||oo(v)||v===Wi},B_=function(v){return v>=Xl&&v<=qp||v===x_||v>=$p&&v<=Ft||v===Pi},Kn=function(v,w){return v!==Sn?!1:w!==Kp},Nr=function(v,w,E){return v===Wi?Zp(w)||Kn(w,E):Zp(v)?!0:!!(v===Sn&&Kn(v,w))},Ms=function(v,w,E){return v===Vc||v===Wi?oo(w)?!0:w===Zl&&oo(E):oo(v===Zl?w:v)},Ub=function(v){var w=0,E=1;(v[w]===Vc||v[w]===Wi)&&(v[w]===Wi&&(E=-1),w++);for(var C=[];oo(v[w]);)C.push(v[w++]);var N=C.length?parseInt(d.apply(void 0,C),10):0;v[w]===Zl&&w++;for(var V=[];oo(v[w]);)V.push(v[w++]);var X=V.length,ie=X?parseInt(d.apply(void 0,V),10):0;(v[w]===D_||v[w]===um)&&w++;var ne=1;(v[w]===Vc||v[w]===Wi)&&(v[w]===Wi&&(ne=-1),w++);for(var Ae=[];oo(v[w]);)Ae.push(v[w++]);var ye=Ae.length?parseInt(d.apply(void 0,Ae),10):0;return E*(N+ie*Math.pow(10,-X))*Math.pow(10,ne*ye)},eh={type:2},Hb={type:3},Xp={type:4},La={type:13},th={type:8},gm={type:21},Ua={type:9},mm={type:10},bf={type:11},P_={type:12},Ha={type:14},Cf={type:23},Jp={type:1},Ef={type:25},ua={type:24},k_={type:26},N_={type:27},vm={type:28},R_={type:29},Vb={type:31},nh={type:32},eA=function(){function v(){this._value=[]}return v.prototype.write=function(w){this._value=this._value.concat(u(w))},v.prototype.read=function(){for(var w=[],E=this.consumeToken();E!==nh;)w.push(E),E=this.consumeToken();return w},v.prototype.consumeToken=function(){var w=this.consumeCodePoint();switch(w){case qd:return this.consumeStringToken(qd);case w_:var E=this.peekCodePoint(0),C=this.peekCodePoint(1),N=this.peekCodePoint(2);if(Am(E)||Kn(C,N)){var V=Nr(E,C,N)?vl:Na,X=this.consumeName();return{type:5,value:X,flags:V}}break;case rm:if(this.peekCodePoint(0)===$d)return this.consumeCodePoint(),La;break;case Yd:return this.consumeStringToken(Yd);case Zd:return eh;case gf:return Hb;case _f:if(this.peekCodePoint(0)===$d)return this.consumeCodePoint(),Ha;break;case Vc:if(Ms(w,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(w),this.consumeNumericToken();break;case S_:return Xp;case Wi:var ie=w,ne=this.peekCodePoint(0),Ae=this.peekCodePoint(1);if(Ms(ie,ne,Ae))return this.reconsumeCodePoint(w),this.consumeNumericToken();if(Nr(ie,ne,Ae))return this.reconsumeCodePoint(w),this.consumeIdentLikeToken();if(ne===Wi&&Ae===b_)return this.consumeCodePoint(),this.consumeCodePoint(),ua;break;case Zl:if(Ms(w,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(w),this.consumeNumericToken();break;case y_:if(this.peekCodePoint(0)===_f)for(this.consumeCodePoint();;){var ye=this.consumeCodePoint();if(ye===_f&&(ye=this.consumeCodePoint(),ye===y_))return this.consumeToken();if(ye===Ra)return this.consumeToken()}break;case bn:return k_;case Ku:return N_;case mf:if(this.peekCodePoint(0)===Rb&&this.peekCodePoint(1)===Wi&&this.peekCodePoint(2)===Wi)return this.consumeCodePoint(),this.consumeCodePoint(),Ef;break;case am:var Se=this.peekCodePoint(0),Be=this.peekCodePoint(1),gt=this.peekCodePoint(2);if(Nr(Se,Be,gt)){var X=this.consumeName();return{type:7,value:X}}break;case vf:return vm;case Sn:if(Kn(w,this.peekCodePoint(0)))return this.reconsumeCodePoint(w),this.consumeIdentLikeToken();break;case C_:return R_;case zp:if(this.peekCodePoint(0)===$d)return this.consumeCodePoint(),th;break;case Lb:return bf;case Xd:return P_;case T_:case M_:var ze=this.peekCodePoint(0),st=this.peekCodePoint(1);return ze===Vc&&(Jl(st)||st===Yl)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(w),this.consumeIdentLikeToken();case lm:if(this.peekCodePoint(0)===$d)return this.consumeCodePoint(),Ua;if(this.peekCodePoint(0)===lm)return this.consumeCodePoint(),gm;break;case Hc:if(this.peekCodePoint(0)===$d)return this.consumeCodePoint(),mm;break;case Ra:return nh}return wf(w)?(this.consumeWhiteSpace(),Vb):oo(w)?(this.reconsumeCodePoint(w),this.consumeNumericToken()):Zp(w)?(this.reconsumeCodePoint(w),this.consumeIdentLikeToken()):{type:6,value:d(w)}},v.prototype.consumeCodePoint=function(){var w=this._value.shift();return typeof w>"u"?-1:w},v.prototype.reconsumeCodePoint=function(w){this._value.unshift(w)},v.prototype.peekCodePoint=function(w){return w>=this._value.length?-1:this._value[w]},v.prototype.consumeUnicodeRangeToken=function(){for(var w=[],E=this.consumeCodePoint();Jl(E)&&w.length<6;)w.push(E),E=this.consumeCodePoint();for(var C=!1;E===Yl&&w.length<6;)w.push(E),E=this.consumeCodePoint(),C=!0;if(C){var N=parseInt(d.apply(void 0,w.map(function(ne){return ne===Yl?I_:ne})),16),V=parseInt(d.apply(void 0,w.map(function(ne){return ne===Yl?fm:ne})),16);return{type:30,start:N,end:V}}var X=parseInt(d.apply(void 0,w),16);if(this.peekCodePoint(0)===Wi&&Jl(this.peekCodePoint(1))){this.consumeCodePoint(),E=this.consumeCodePoint();for(var ie=[];Jl(E)&&ie.length<6;)ie.push(E),E=this.consumeCodePoint();var V=parseInt(d.apply(void 0,ie),16);return{type:30,start:X,end:V}}else return{type:30,start:X,end:X}},v.prototype.consumeIdentLikeToken=function(){var w=this.consumeName();return w.toLowerCase()==="url"&&this.peekCodePoint(0)===Zd?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Zd?(this.consumeCodePoint(),{type:19,value:w}):{type:20,value:w}},v.prototype.consumeUrlToken=function(){var w=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ra)return{type:22,value:""};var E=this.peekCodePoint(0);if(E===Yd||E===qd){var C=this.consumeStringToken(this.consumeCodePoint());return C.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ra||this.peekCodePoint(0)===gf)?(this.consumeCodePoint(),{type:22,value:C.value}):(this.consumeBadUrlRemnants(),Cf)}for(;;){var N=this.consumeCodePoint();if(N===Ra||N===gf)return{type:22,value:d.apply(void 0,w)};if(wf(N))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ra||this.peekCodePoint(0)===gf?(this.consumeCodePoint(),{type:22,value:d.apply(void 0,w)}):(this.consumeBadUrlRemnants(),Cf);if(N===qd||N===Yd||N===Zd||B_(N))return this.consumeBadUrlRemnants(),Cf;if(N===Sn)if(Kn(N,this.peekCodePoint(0)))w.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Cf;else w.push(N)}},v.prototype.consumeWhiteSpace=function(){for(;wf(this.peekCodePoint(0));)this.consumeCodePoint()},v.prototype.consumeBadUrlRemnants=function(){for(;;){var w=this.consumeCodePoint();if(w===gf||w===Ra)return;Kn(w,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},v.prototype.consumeStringSlice=function(w){for(var E=6e4,C="";w>0;){var N=Math.min(E,w);C+=d.apply(void 0,this._value.splice(0,N)),w-=N}return this._value.shift(),C},v.prototype.consumeStringToken=function(w){var E="",C=0;do{var N=this._value[C];if(N===Ra||N===void 0||N===w)return E+=this.consumeStringSlice(C),{type:0,value:E};if(N===Kp)return this._value.splice(0,C),Jp;if(N===Sn){var V=this._value[C+1];V!==Ra&&V!==void 0&&(V===Kp?(E+=this.consumeStringSlice(C),C=-1,this._value.shift()):Kn(N,V)&&(E+=this.consumeStringSlice(C),E+=d(this.consumeEscapedCodePoint()),C=-1))}C++}while(!0)},v.prototype.consumeNumber=function(){var w=[],E=Ds,C=this.peekCodePoint(0);for((C===Vc||C===Wi)&&w.push(this.consumeCodePoint());oo(this.peekCodePoint(0));)w.push(this.consumeCodePoint());C=this.peekCodePoint(0);var N=this.peekCodePoint(1);if(C===Zl&&oo(N))for(w.push(this.consumeCodePoint(),this.consumeCodePoint()),E=Wp;oo(this.peekCodePoint(0));)w.push(this.consumeCodePoint());C=this.peekCodePoint(0),N=this.peekCodePoint(1);var V=this.peekCodePoint(2);if((C===D_||C===um)&&((N===Vc||N===Wi)&&oo(V)||oo(N)))for(w.push(this.consumeCodePoint(),this.consumeCodePoint()),E=Wp;oo(this.peekCodePoint(0));)w.push(this.consumeCodePoint());return[Ub(w),E]},v.prototype.consumeNumericToken=function(){var w=this.consumeNumber(),E=w[0],C=w[1],N=this.peekCodePoint(0),V=this.peekCodePoint(1),X=this.peekCodePoint(2);if(Nr(N,V,X)){var ie=this.consumeName();return{type:15,number:E,flags:C,unit:ie}}return N===om?(this.consumeCodePoint(),{type:16,number:E,flags:C}):{type:17,number:E,flags:C}},v.prototype.consumeEscapedCodePoint=function(){var w=this.consumeCodePoint();if(Jl(w)){for(var E=d(w);Jl(this.peekCodePoint(0))&&E.length<6;)E+=d(this.consumeCodePoint());wf(this.peekCodePoint(0))&&this.consumeCodePoint();var C=parseInt(E,16);return C===0||pm(C)||C>1114111?E_:C}return w===Ra?E_:w},v.prototype.consumeName=function(){for(var w="";;){var E=this.consumeCodePoint();if(Am(E))w+=d(E);else if(Kn(E,this.peekCodePoint(0)))w+=d(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(E),w}},v}(),tA=function(){function v(w){this._tokens=w}return v.create=function(w){var E=new eA;return E.write(w),new v(E.read())},v.parseValue=function(w){return v.create(w).parseComponentValue()},v.parseValues=function(w){return v.create(w).parseComponentValues()},v.prototype.parseComponentValue=function(){for(var w=this.consumeToken();w.type===31;)w=this.consumeToken();if(w.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(w);var E=this.consumeComponentValue();do w=this.consumeToken();while(w.type===31);if(w.type===32)return E;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},v.prototype.parseComponentValues=function(){for(var w=[];;){var E=this.consumeComponentValue();if(E.type===32)return w;w.push(E),w.push()}},v.prototype.consumeComponentValue=function(){var w=this.consumeToken();switch(w.type){case 11:case 28:case 2:return this.consumeSimpleBlock(w.type);case 19:return this.consumeFunction(w)}return w},v.prototype.consumeSimpleBlock=function(w){for(var E={type:w,values:[]},C=this.consumeToken();;){if(C.type===32||Qb(C,w))return E;this.reconsumeToken(C),E.values.push(this.consumeComponentValue()),C=this.consumeToken()}},v.prototype.consumeFunction=function(w){for(var E={name:w.value,values:[],type:18};;){var C=this.consumeToken();if(C.type===32||C.type===3)return E;this.reconsumeToken(C),E.values.push(this.consumeComponentValue())}},v.prototype.consumeToken=function(){var w=this._tokens.shift();return typeof w>"u"?nh:w},v.prototype.reconsumeToken=function(w){this._tokens.unshift(w)},v}(),Ir=function(v){return v.type===15},qu=function(v){return v.type===17},xn=function(v){return v.type===20},nA=function(v){return v.type===0},$u=function(v,w){return xn(v)&&v.value===w},Yu=function(v){return v.type!==31},ec=function(v){return v.type!==31&&v.type!==4},Va=function(v){var w=[],E=[];return v.forEach(function(C){if(C.type===4){if(E.length===0)throw new Error("Error parsing function args, zero tokens for arg");w.push(E),E=[];return}C.type!==31&&E.push(C)}),E.length&&w.push(E),w},Qb=function(v,w){return w===11&&v.type===12||w===28&&v.type===29?!0:w===2&&v.type===3},Os=function(v){return v.type===17||v.type===15},Ji=function(v){return v.type===16||Os(v)},tc=function(v){return v.length>1?[v[0],v[1]]:[v[0]]},$r={type:17,number:0,flags:Ds},iA={type:16,number:50,flags:Ds},dn={type:16,number:100,flags:Ds},Qc=function(v,w,E){var C=v[0],N=v[1];return[li(C,w),li(typeof N<"u"?N:C,E)]},li=function(v,w){if(v.type===16)return v.number/100*w;if(Ir(v))switch(v.unit){case"rem":case"em":return 16*v.number;case"px":default:return v.number}return v.number},Sf="deg",er="grad",Fs="rad",_l="turn",nc={name:"angle",parse:function(v,w){if(w.type===15)switch(w.unit){case Sf:return Math.PI*w.number/180;case er:return Math.PI/200*w.number;case Fs:return w.number;case _l:return Math.PI*2*w.number}throw new Error("Unsupported angle type")}},ih=function(v){return v.type===15&&(v.unit===Sf||v.unit===er||v.unit===Fs||v.unit===_l)},rh=function(v){var w=v.filter(xn).map(function(E){return E.value}).join(" ");switch(w){case"to bottom right":case"to right bottom":case"left top":case"top left":return[$r,$r];case"to top":case"bottom":return da(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[$r,dn];case"to right":case"left":return da(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[dn,dn];case"to bottom":case"top":return da(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[dn,$r];case"to left":case"right":return da(270)}return 0},da=function(v){return Math.PI*v/180},ha={name:"color",parse:function(v,w){if(w.type===18){var E=pa[w.name];if(typeof E>"u")throw new Error('Attempting to parse an unsupported color function "'+w.name+'"');return E(v,w.values)}if(w.type===5){if(w.value.length===3){var C=w.value.substring(0,1),N=w.value.substring(1,2),V=w.value.substring(2,3);return jc(parseInt(C+C,16),parseInt(N+N,16),parseInt(V+V,16),1)}if(w.value.length===4){var C=w.value.substring(0,1),N=w.value.substring(1,2),V=w.value.substring(2,3),X=w.value.substring(3,4);return jc(parseInt(C+C,16),parseInt(N+N,16),parseInt(V+V,16),parseInt(X+X,16)/255)}if(w.value.length===6){var C=w.value.substring(0,2),N=w.value.substring(2,4),V=w.value.substring(4,6);return jc(parseInt(C,16),parseInt(N,16),parseInt(V,16),1)}if(w.value.length===8){var C=w.value.substring(0,2),N=w.value.substring(2,4),V=w.value.substring(4,6),X=w.value.substring(6,8);return jc(parseInt(C,16),parseInt(N,16),parseInt(V,16),parseInt(X,16)/255)}}if(w.type===20){var ie=yl[w.value.toUpperCase()];if(typeof ie<"u")return ie}return yl.TRANSPARENT}},Qa=function(v){return(255&v)===0},Tr=function(v){var w=255&v,E=255&v>>8,C=255&v>>16,N=255&v>>24;return w<255?"rgba("+N+","+C+","+E+","+w/255+")":"rgb("+N+","+C+","+E+")"},jc=function(v,w,E,C){return(v<<24|w<<16|E<<8|Math.round(C*255)<<0)>>>0},_m=function(v,w){if(v.type===17)return v.number;if(v.type===16){var E=w===3?1:255;return w===3?v.number/100*E:Math.round(v.number/100*E)}return 0},Gc=function(v,w){var E=w.filter(ec);if(E.length===3){var C=E.map(_m),N=C[0],V=C[1],X=C[2];return jc(N,V,X,1)}if(E.length===4){var ie=E.map(_m),N=ie[0],V=ie[1],X=ie[2],ne=ie[3];return jc(N,V,X,ne)}return 0};function fa(v,w,E){return E<0&&(E+=1),E>=1&&(E-=1),E<1/6?(w-v)*E*6+v:E<1/2?w:E<2/3?(w-v)*6*(2/3-E)+v:v}var xf=function(v,w){var E=w.filter(ec),C=E[0],N=E[1],V=E[2],X=E[3],ie=(C.type===17?da(C.number):nc.parse(v,C))/(Math.PI*2),ne=Ji(N)?N.number/100:0,Ae=Ji(V)?V.number/100:0,ye=typeof X<"u"&&Ji(X)?li(X,1):1;if(ne===0)return jc(Ae*255,Ae*255,Ae*255,1);var Se=Ae<=.5?Ae*(ne+1):Ae+ne-Ae*ne,Be=Ae*2-Se,gt=fa(Be,Se,ie+1/3),ze=fa(Be,Se,ie),st=fa(Be,Se,ie-1/3);return jc(gt*255,ze*255,st*255,ye)},pa={hsl:xf,hsla:xf,rgb:Gc,rgba:Gc},Zu=function(v,w){return ha.parse(v,tA.create(w).parseComponentValue())},yl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ja=function(v){return v[v.BORDER_BOX=0]="BORDER_BOX",v[v.PADDING_BOX=1]="PADDING_BOX",v[v.CONTENT_BOX=2]="CONTENT_BOX",v}(ja||{}),oh={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(v,w){return w.map(function(E){if(xn(E))switch(E.value){case"padding-box":return ja.PADDING_BOX;case"content-box":return ja.CONTENT_BOX}return ja.BORDER_BOX})}},jb={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},If=function(v,w){var E=ha.parse(v,w[0]),C=w[1];return C&&Ji(C)?{color:E,stop:C}:{color:E,stop:null}},L_=function(v,w){var E=v[0],C=v[v.length-1];E.stop===null&&(E.stop=$r),C.stop===null&&(C.stop=dn);for(var N=[],V=0,X=0;X<v.length;X++){var ie=v[X].stop;if(ie!==null){var ne=li(ie,w);ne>V?N.push(ne):N.push(V),V=ne}else N.push(null)}for(var Ae=null,X=0;X<N.length;X++){var ye=N[X];if(ye===null)Ae===null&&(Ae=X);else if(Ae!==null){for(var Se=X-Ae,Be=N[Ae-1],gt=(ye-Be)/(Se+1),ze=1;ze<=Se;ze++)N[Ae+ze-1]=gt*ze;Ae=null}}return v.map(function(st,sn){var It=st.color;return{color:It,stop:Math.max(Math.min(1,N[sn]/w),0)}})},ym=function(v,w,E){var C=w/2,N=E/2,V=li(v[0],w)-C,X=N-li(v[1],E);return(Math.atan2(X,V)+Math.PI*2)%(Math.PI*2)},U_=function(v,w,E){var C=typeof v=="number"?v:ym(v,w,E),N=Math.abs(w*Math.sin(C))+Math.abs(E*Math.cos(C)),V=w/2,X=E/2,ie=N/2,ne=Math.sin(C-Math.PI/2)*ie,Ae=Math.cos(C-Math.PI/2)*ie;return[N,V-Ae,V+Ae,X-ne,X+ne]},Ga=function(v,w){return Math.sqrt(v*v+w*w)},rA=function(v,w,E,C,N){var V=[[0,0],[0,w],[v,0],[v,w]];return V.reduce(function(X,ie){var ne=ie[0],Ae=ie[1],ye=Ga(E-ne,C-Ae);return(N?ye<X.optimumDistance:ye>X.optimumDistance)?{optimumCorner:ie,optimumDistance:ye}:X},{optimumDistance:N?1/0:-1/0,optimumCorner:null}).optimumCorner},wm=function(v,w,E,C,N){var V=0,X=0;switch(v.size){case go.CLOSEST_SIDE:v.shape===so.CIRCLE?V=X=Math.min(Math.abs(w),Math.abs(w-C),Math.abs(E),Math.abs(E-N)):v.shape===so.ELLIPSE&&(V=Math.min(Math.abs(w),Math.abs(w-C)),X=Math.min(Math.abs(E),Math.abs(E-N)));break;case go.CLOSEST_CORNER:if(v.shape===so.CIRCLE)V=X=Math.min(Ga(w,E),Ga(w,E-N),Ga(w-C,E),Ga(w-C,E-N));else if(v.shape===so.ELLIPSE){var ie=Math.min(Math.abs(E),Math.abs(E-N))/Math.min(Math.abs(w),Math.abs(w-C)),ne=rA(C,N,w,E,!0),Ae=ne[0],ye=ne[1];V=Ga(Ae-w,(ye-E)/ie),X=ie*V}break;case go.FARTHEST_SIDE:v.shape===so.CIRCLE?V=X=Math.max(Math.abs(w),Math.abs(w-C),Math.abs(E),Math.abs(E-N)):v.shape===so.ELLIPSE&&(V=Math.max(Math.abs(w),Math.abs(w-C)),X=Math.max(Math.abs(E),Math.abs(E-N)));break;case go.FARTHEST_CORNER:if(v.shape===so.CIRCLE)V=X=Math.max(Ga(w,E),Ga(w,E-N),Ga(w-C,E),Ga(w-C,E-N));else if(v.shape===so.ELLIPSE){var ie=Math.max(Math.abs(E),Math.abs(E-N))/Math.max(Math.abs(w),Math.abs(w-C)),Se=rA(C,N,w,E,!1),Ae=Se[0],ye=Se[1];V=Ga(Ae-w,(ye-E)/ie),X=ie*V}break}return Array.isArray(v.size)&&(V=li(v.size[0],C),X=v.size.length===2?li(v.size[1],N):V),[V,X]},Tf=function(v,w){var E=da(180),C=[];return Va(w).forEach(function(N,V){if(V===0){var X=N[0];if(X.type===20&&X.value==="to"){E=rh(N);return}else if(ih(X)){E=nc.parse(v,X);return}}var ie=If(v,N);C.push(ie)}),{angle:E,stops:C,type:Ao.LINEAR_GRADIENT}},Po=function(v,w){var E=da(180),C=[];return Va(w).forEach(function(N,V){if(V===0){var X=N[0];if(X.type===20&&["top","left","right","bottom"].indexOf(X.value)!==-1){E=rh(N);return}else if(ih(X)){E=(nc.parse(v,X)+da(270))%da(360);return}}var ie=If(v,N);C.push(ie)}),{angle:E,stops:C,type:Ao.LINEAR_GRADIENT}},Wc=function(v,w){var E=da(180),C=[],N=Ao.LINEAR_GRADIENT,V=so.CIRCLE,X=go.FARTHEST_CORNER,ie=[];return Va(w).forEach(function(ne,Ae){var ye=ne[0];if(Ae===0){if(xn(ye)&&ye.value==="linear"){N=Ao.LINEAR_GRADIENT;return}else if(xn(ye)&&ye.value==="radial"){N=Ao.RADIAL_GRADIENT;return}}if(ye.type===18){if(ye.name==="from"){var Se=ha.parse(v,ye.values[0]);C.push({stop:$r,color:Se})}else if(ye.name==="to"){var Se=ha.parse(v,ye.values[0]);C.push({stop:dn,color:Se})}else if(ye.name==="color-stop"){var Be=ye.values.filter(ec);if(Be.length===2){var Se=ha.parse(v,Be[1]),gt=Be[0];qu(gt)&&C.push({stop:{type:16,number:gt.number*100,flags:gt.flags},color:Se})}}}}),N===Ao.LINEAR_GRADIENT?{angle:(E+da(180))%da(360),stops:C,type:N}:{size:X,shape:V,stops:C,position:ie,type:N}},bm="closest-side",Cm="farthest-side",ic="closest-corner",oA="farthest-corner",H_="circle",V_="ellipse",Em="cover",sA="contain",Gb=function(v,w){var E=so.CIRCLE,C=go.FARTHEST_CORNER,N=[],V=[];return Va(w).forEach(function(X,ie){var ne=!0;if(ie===0){var Ae=!1;ne=X.reduce(function(Se,Be){if(Ae)if(xn(Be))switch(Be.value){case"center":return V.push(iA),Se;case"top":case"left":return V.push($r),Se;case"right":case"bottom":return V.push(dn),Se}else(Ji(Be)||Os(Be))&&V.push(Be);else if(xn(Be))switch(Be.value){case H_:return E=so.CIRCLE,!1;case V_:return E=so.ELLIPSE,!1;case"at":return Ae=!0,!1;case bm:return C=go.CLOSEST_SIDE,!1;case Em:case Cm:return C=go.FARTHEST_SIDE,!1;case sA:case ic:return C=go.CLOSEST_CORNER,!1;case oA:return C=go.FARTHEST_CORNER,!1}else if(Os(Be)||Ji(Be))return Array.isArray(C)||(C=[]),C.push(Be),!1;return Se},ne)}if(ne){var ye=If(v,X);N.push(ye)}}),{size:C,shape:E,stops:N,position:V,type:Ao.RADIAL_GRADIENT}},sh=function(v,w){var E=so.CIRCLE,C=go.FARTHEST_CORNER,N=[],V=[];return Va(w).forEach(function(X,ie){var ne=!0;if(ie===0?ne=X.reduce(function(ye,Se){if(xn(Se))switch(Se.value){case"center":return V.push(iA),!1;case"top":case"left":return V.push($r),!1;case"right":case"bottom":return V.push(dn),!1}else if(Ji(Se)||Os(Se))return V.push(Se),!1;return ye},ne):ie===1&&(ne=X.reduce(function(ye,Se){if(xn(Se))switch(Se.value){case H_:return E=so.CIRCLE,!1;case V_:return E=so.ELLIPSE,!1;case sA:case bm:return C=go.CLOSEST_SIDE,!1;case Cm:return C=go.FARTHEST_SIDE,!1;case ic:return C=go.CLOSEST_CORNER,!1;case Em:case oA:return C=go.FARTHEST_CORNER,!1}else if(Os(Se)||Ji(Se))return Array.isArray(C)||(C=[]),C.push(Se),!1;return ye},ne)),ne){var Ae=If(v,X);N.push(Ae)}}),{size:C,shape:E,stops:N,position:V,type:Ao.RADIAL_GRADIENT}},Ao=function(v){return v[v.URL=0]="URL",v[v.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",v[v.RADIAL_GRADIENT=2]="RADIAL_GRADIENT",v}(Ao||{}),Wa=function(v){return v.type===Ao.LINEAR_GRADIENT},wl=function(v){return v.type===Ao.RADIAL_GRADIENT},so=function(v){return v[v.CIRCLE=0]="CIRCLE",v[v.ELLIPSE=1]="ELLIPSE",v}(so||{}),go=function(v){return v[v.CLOSEST_SIDE=0]="CLOSEST_SIDE",v[v.FARTHEST_SIDE=1]="FARTHEST_SIDE",v[v.CLOSEST_CORNER=2]="CLOSEST_CORNER",v[v.FARTHEST_CORNER=3]="FARTHEST_CORNER",v}(go||{}),Df={name:"image",parse:function(v,w){if(w.type===22){var E={url:w.value,type:Ao.URL};return v.cache.addImage(w.value),E}if(w.type===18){var C=Xu[w.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported image function "'+w.name+'"');return C(v,w.values)}throw new Error("Unsupported image type "+w.type)}};function Q_(v){return!(v.type===20&&v.value==="none")&&(v.type!==18||!!Xu[v.name])}for(var Xu={"linear-gradient":Tf,"-moz-linear-gradient":Po,"-ms-linear-gradient":Po,"-o-linear-gradient":Po,"-webkit-linear-gradient":Po,"radial-gradient":Gb,"-moz-radial-gradient":sh,"-ms-radial-gradient":sh,"-o-radial-gradient":sh,"-webkit-radial-gradient":sh,"-webkit-gradient":Wc},j_={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(v,w){if(w.length===0)return[];var E=w[0];return E.type===20&&E.value==="none"?[]:w.filter(function(C){return ec(C)&&Q_(C)}).map(function(C){return Df.parse(v,C)})}},ah={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(v,w){return w.map(function(E){if(xn(E))switch(E.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ao={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(v,w){return Va(w).map(function(E){return E.filter(Ji)}).map(tc)}},Dn=function(v){return v[v.REPEAT=0]="REPEAT",v[v.NO_REPEAT=1]="NO_REPEAT",v[v.REPEAT_X=2]="REPEAT_X",v[v.REPEAT_Y=3]="REPEAT_Y",v}(Dn||{}),Sm={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(v,w){return Va(w).map(function(E){return E.filter(xn).map(function(C){return C.value}).join(" ")}).map(Ju)}},Ju=function(v){switch(v){case"no-repeat":return Dn.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return Dn.REPEAT_X;case"repeat-y":case"no-repeat repeat":return Dn.REPEAT_Y;case"repeat":default:return Dn.REPEAT}},Kc=function(v){return v.AUTO="auto",v.CONTAIN="contain",v.COVER="cover",v}(Kc||{}),lh={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(v,w){return Va(w).map(function(E){return E.filter(Mf)})}},Mf=function(v){return xn(v)||Ji(v)},zc=function(v){return{name:"border-"+v+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},G_=zc("top"),ch=zc("right"),qc=zc("bottom"),xm=zc("left"),uh=function(v){return{name:"border-radius-"+v,initialValue:"0 0",prefix:!1,type:1,parse:function(w,E){return tc(E.filter(Ji))}}},Ka=uh("top-left"),$c=uh("top-right"),aA=uh("bottom-right"),dh=uh("bottom-left"),Ti=function(v){return v[v.NONE=0]="NONE",v[v.SOLID=1]="SOLID",v[v.DASHED=2]="DASHED",v[v.DOTTED=3]="DOTTED",v[v.DOUBLE=4]="DOUBLE",v}(Ti||{}),Of=function(v){return{name:"border-"+v+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(w,E){switch(E){case"none":return Ti.NONE;case"dashed":return Ti.DASHED;case"dotted":return Ti.DOTTED;case"double":return Ti.DOUBLE}return Ti.SOLID}}},W_=Of("top"),K_=Of("right"),Im=Of("bottom"),Tm=Of("left"),hh=function(v){return{name:"border-"+v+"-width",initialValue:"0",type:0,prefix:!1,parse:function(w,E){return Ir(E)?E.number:0}}},Ct=hh("top"),ko=hh("right"),Yc=hh("bottom"),Wb=hh("left"),Kb={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Dm={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(v,w){switch(w){case"rtl":return 1;case"ltr":default:return 0}}},Mm={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(v,w){return w.filter(xn).reduce(function(E,C){return E|Om(C.value)},0)}},Om=function(v){switch(v){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Zc=function(v){return v[v.NONE=0]="NONE",v[v.LEFT=1]="LEFT",v[v.RIGHT=2]="RIGHT",v[v.INLINE_START=3]="INLINE_START",v[v.INLINE_END=4]="INLINE_END",v}(Zc||{}),Fm={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(v,w){switch(w){case"left":return Zc.LEFT;case"right":return Zc.RIGHT;case"inline-start":return Zc.INLINE_START;case"inline-end":return Zc.INLINE_END}return Zc.NONE}},Bm={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(v,w){return w.type===20&&w.value==="normal"?0:w.type===17||w.type===15?w.number:0}},Ff=function(v){return v.NORMAL="normal",v.STRICT="strict",v}(Ff||{}),Bf={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(v,w){switch(w){case"strict":return Ff.STRICT;case"normal":default:return Ff.NORMAL}}},zb={name:"line-height",initialValue:"normal",prefix:!1,type:4},lA=function(v,w){return xn(v)&&v.value==="normal"?1.2*w:v.type===17?w*v.number:Ji(v)?li(v,w):w},cA={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(v,w){return w.type===20&&w.value==="none"?null:Df.parse(v,w)}},ed=function(v){return v[v.INSIDE=0]="INSIDE",v[v.OUTSIDE=1]="OUTSIDE",v}(ed||{}),qb={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(v,w){switch(w){case"inside":return ed.INSIDE;case"outside":default:return ed.OUTSIDE}}},ke=function(v){return v[v.NONE=-1]="NONE",v[v.DISC=0]="DISC",v[v.CIRCLE=1]="CIRCLE",v[v.SQUARE=2]="SQUARE",v[v.DECIMAL=3]="DECIMAL",v[v.CJK_DECIMAL=4]="CJK_DECIMAL",v[v.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",v[v.LOWER_ROMAN=6]="LOWER_ROMAN",v[v.UPPER_ROMAN=7]="UPPER_ROMAN",v[v.LOWER_GREEK=8]="LOWER_GREEK",v[v.LOWER_ALPHA=9]="LOWER_ALPHA",v[v.UPPER_ALPHA=10]="UPPER_ALPHA",v[v.ARABIC_INDIC=11]="ARABIC_INDIC",v[v.ARMENIAN=12]="ARMENIAN",v[v.BENGALI=13]="BENGALI",v[v.CAMBODIAN=14]="CAMBODIAN",v[v.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",v[v.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",v[v.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",v[v.DEVANAGARI=18]="DEVANAGARI",v[v.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",v[v.GEORGIAN=20]="GEORGIAN",v[v.GUJARATI=21]="GUJARATI",v[v.GURMUKHI=22]="GURMUKHI",v[v.HEBREW=22]="HEBREW",v[v.HIRAGANA=23]="HIRAGANA",v[v.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",v[v.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",v[v.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",v[v.KANNADA=27]="KANNADA",v[v.KATAKANA=28]="KATAKANA",v[v.KATAKANA_IROHA=29]="KATAKANA_IROHA",v[v.KHMER=30]="KHMER",v[v.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",v[v.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",v[v.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",v[v.LAO=34]="LAO",v[v.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",v[v.MALAYALAM=36]="MALAYALAM",v[v.MONGOLIAN=37]="MONGOLIAN",v[v.MYANMAR=38]="MYANMAR",v[v.ORIYA=39]="ORIYA",v[v.PERSIAN=40]="PERSIAN",v[v.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",v[v.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",v[v.TAMIL=43]="TAMIL",v[v.TELUGU=44]="TELUGU",v[v.THAI=45]="THAI",v[v.TIBETAN=46]="TIBETAN",v[v.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",v[v.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",v[v.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",v[v.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",v[v.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED",v}(ke||{}),Pm={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(v,w){switch(w){case"disc":return ke.DISC;case"circle":return ke.CIRCLE;case"square":return ke.SQUARE;case"decimal":return ke.DECIMAL;case"cjk-decimal":return ke.CJK_DECIMAL;case"decimal-leading-zero":return ke.DECIMAL_LEADING_ZERO;case"lower-roman":return ke.LOWER_ROMAN;case"upper-roman":return ke.UPPER_ROMAN;case"lower-greek":return ke.LOWER_GREEK;case"lower-alpha":return ke.LOWER_ALPHA;case"upper-alpha":return ke.UPPER_ALPHA;case"arabic-indic":return ke.ARABIC_INDIC;case"armenian":return ke.ARMENIAN;case"bengali":return ke.BENGALI;case"cambodian":return ke.CAMBODIAN;case"cjk-earthly-branch":return ke.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return ke.CJK_HEAVENLY_STEM;case"cjk-ideographic":return ke.CJK_IDEOGRAPHIC;case"devanagari":return ke.DEVANAGARI;case"ethiopic-numeric":return ke.ETHIOPIC_NUMERIC;case"georgian":return ke.GEORGIAN;case"gujarati":return ke.GUJARATI;case"gurmukhi":return ke.GURMUKHI;case"hebrew":return ke.HEBREW;case"hiragana":return ke.HIRAGANA;case"hiragana-iroha":return ke.HIRAGANA_IROHA;case"japanese-formal":return ke.JAPANESE_FORMAL;case"japanese-informal":return ke.JAPANESE_INFORMAL;case"kannada":return ke.KANNADA;case"katakana":return ke.KATAKANA;case"katakana-iroha":return ke.KATAKANA_IROHA;case"khmer":return ke.KHMER;case"korean-hangul-formal":return ke.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return ke.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return ke.KOREAN_HANJA_INFORMAL;case"lao":return ke.LAO;case"lower-armenian":return ke.LOWER_ARMENIAN;case"malayalam":return ke.MALAYALAM;case"mongolian":return ke.MONGOLIAN;case"myanmar":return ke.MYANMAR;case"oriya":return ke.ORIYA;case"persian":return ke.PERSIAN;case"simp-chinese-formal":return ke.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return ke.SIMP_CHINESE_INFORMAL;case"tamil":return ke.TAMIL;case"telugu":return ke.TELUGU;case"thai":return ke.THAI;case"tibetan":return ke.TIBETAN;case"trad-chinese-formal":return ke.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return ke.TRAD_CHINESE_INFORMAL;case"upper-armenian":return ke.UPPER_ARMENIAN;case"disclosure-open":return ke.DISCLOSURE_OPEN;case"disclosure-closed":return ke.DISCLOSURE_CLOSED;case"none":default:return ke.NONE}}},uA=function(v){return{name:"margin-"+v,initialValue:"0",prefix:!1,type:4}},z_=uA("top"),dA=uA("right"),hA=uA("bottom"),q_=uA("left"),Xc=function(v){return v[v.VISIBLE=0]="VISIBLE",v[v.HIDDEN=1]="HIDDEN",v[v.SCROLL=2]="SCROLL",v[v.CLIP=3]="CLIP",v[v.AUTO=4]="AUTO",v}(Xc||{}),$b={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(v,w){return w.filter(xn).map(function(E){switch(E.value){case"hidden":return Xc.HIDDEN;case"scroll":return Xc.SCROLL;case"clip":return Xc.CLIP;case"auto":return Xc.AUTO;case"visible":default:return Xc.VISIBLE}})}},km={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(v,w){switch(w){case"break-word":return"break-word";case"normal":default:return"normal"}}},Pf=function(v){return{name:"padding-"+v,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},$_=Pf("top"),Y_=Pf("right"),Yb=Pf("bottom"),Z_=Pf("left"),bl=function(v){return v[v.LEFT=0]="LEFT",v[v.CENTER=1]="CENTER",v[v.RIGHT=2]="RIGHT",v}(bl||{}),Zb={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(v,w){switch(w){case"right":return bl.RIGHT;case"center":case"justify":return bl.CENTER;case"left":default:return bl.LEFT}}},Bs=function(v){return v[v.STATIC=0]="STATIC",v[v.RELATIVE=1]="RELATIVE",v[v.ABSOLUTE=2]="ABSOLUTE",v[v.FIXED=3]="FIXED",v[v.STICKY=4]="STICKY",v}(Bs||{}),fA={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(v,w){switch(w){case"relative":return Bs.RELATIVE;case"absolute":return Bs.ABSOLUTE;case"fixed":return Bs.FIXED;case"sticky":return Bs.STICKY}return Bs.STATIC}},rc={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(v,w){return w.length===1&&$u(w[0],"none")?[]:Va(w).map(function(E){for(var C={color:yl.TRANSPARENT,offsetX:$r,offsetY:$r,blur:$r},N=0,V=0;V<E.length;V++){var X=E[V];Os(X)?(N===0?C.offsetX=X:N===1?C.offsetY=X:C.blur=X,N++):C.color=ha.parse(v,X)}return C})}},Cl=function(v){return v[v.NONE=0]="NONE",v[v.LOWERCASE=1]="LOWERCASE",v[v.UPPERCASE=2]="UPPERCASE",v[v.CAPITALIZE=3]="CAPITALIZE",v}(Cl||{}),Nm={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(v,w){switch(w){case"uppercase":return Cl.UPPERCASE;case"lowercase":return Cl.LOWERCASE;case"capitalize":return Cl.CAPITALIZE}return Cl.NONE}},X_={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(v,w){if(w.type===20&&w.value==="none")return null;if(w.type===18){var E=J_[w.name];if(typeof E>"u")throw new Error('Attempting to parse an unsupported transform function "'+w.name+'"');return E(w.values)}return null}},Xb=function(v){var w=v.filter(function(E){return E.type===17}).map(function(E){return E.number});return w.length===6?w:null},Ge=function(v){var w=v.filter(function(ne){return ne.type===17}).map(function(ne){return ne.number}),E=w[0],C=w[1];w[2],w[3];var N=w[4],V=w[5];w[6],w[7],w[8],w[9],w[10],w[11];var X=w[12],ie=w[13];return w[14],w[15],w.length===16?[E,C,N,V,X,ie]:null},J_={matrix:Xb,matrix3d:Ge},Rm={type:16,number:50,flags:Ds},Lm=[Rm,Rm],In={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(v,w){var E=w.filter(Ji);return E.length!==2?Lm:[E[0],E[1]]}},Jc=function(v){return v[v.VISIBLE=0]="VISIBLE",v[v.HIDDEN=1]="HIDDEN",v[v.COLLAPSE=2]="COLLAPSE",v}(Jc||{}),fh={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(v,w){switch(w){case"hidden":return Jc.HIDDEN;case"collapse":return Jc.COLLAPSE;case"visible":default:return Jc.VISIBLE}}},ph=function(v){return v.NORMAL="normal",v.BREAK_ALL="break-all",v.KEEP_ALL="keep-all",v}(ph||{}),Jb={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(v,w){switch(w){case"break-all":return ph.BREAK_ALL;case"keep-all":return ph.KEEP_ALL;case"normal":default:return ph.NORMAL}}},eC={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(v,w){if(w.type===20)return{auto:!0,order:0};if(qu(w))return{auto:!1,order:w.number};throw new Error("Invalid z-index number parsed")}},kf={name:"time",parse:function(v,w){if(w.type===15)switch(w.unit.toLowerCase()){case"s":return 1e3*w.number;case"ms":return w.number}throw new Error("Unsupported time type")}},pA={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(v,w){return qu(w)?w.number:1}},ey={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},El={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(v,w){return w.filter(xn).map(function(E){switch(E.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(E){return E!==0})}},AA={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(v,w){var E=[],C=[];return w.forEach(function(N){switch(N.type){case 20:case 0:E.push(N.value);break;case 17:E.push(N.number.toString());break;case 4:C.push(E.join(" ")),E.length=0;break}}),E.length&&C.push(E.join(" ")),C.map(function(N){return N.indexOf(" ")===-1?N:"'"+N+"'"})}},gA={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Um={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(v,w){if(qu(w))return w.number;if(xn(w))switch(w.value){case"bold":return 700;case"normal":default:return 400}return 400}},ty={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(v,w){return w.filter(xn).map(function(E){return E.value})}},td=function(v){return v.NORMAL="normal",v.ITALIC="italic",v.OBLIQUE="oblique",v}(td||{}),ny={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(v,w){switch(w){case"oblique":return td.OBLIQUE;case"italic":return td.ITALIC;case"normal":default:return td.NORMAL}}},tr=function(v,w){return(v&w)!==0},Aa={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(v,w){if(w.length===0)return[];var E=w[0];return E.type===20&&E.value==="none"?[]:w}},iy={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(v,w){if(w.length===0)return null;var E=w[0];if(E.type===20&&E.value==="none")return null;for(var C=[],N=w.filter(Yu),V=0;V<N.length;V++){var X=N[V],ie=N[V+1];if(X.type===20){var ne=ie&&qu(ie)?ie.number:1;C.push({counter:X.value,increment:ne})}}return C}},ry={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(v,w){if(w.length===0)return[];for(var E=[],C=w.filter(Yu),N=0;N<C.length;N++){var V=C[N],X=C[N+1];if(xn(V)&&V.value!=="none"){var ie=X&&qu(X)?X.number:0;E.push({counter:V.value,reset:ie})}}return E}},Sl={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(v,w){return w.filter(Ir).map(function(E){return kf.parse(v,E)})}},oy={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(v,w){if(w.length===0)return null;var E=w[0];if(E.type===20&&E.value==="none")return null;var C=[],N=w.filter(nA);if(N.length%2!==0)return null;for(var V=0;V<N.length;V+=2){var X=N[V].value,ie=N[V+1].value;C.push({open:X,close:ie})}return C}},Hm=function(v,w,E){if(!v)return"";var C=v[Math.min(w,v.length-1)];return C?E?C.open:C.close:""},mA={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(v,w){return w.length===1&&$u(w[0],"none")?[]:Va(w).map(function(E){for(var C={color:255,offsetX:$r,offsetY:$r,blur:$r,spread:$r,inset:!1},N=0,V=0;V<E.length;V++){var X=E[V];$u(X,"inset")?C.inset=!0:Os(X)?(N===0?C.offsetX=X:N===1?C.offsetY=X:N===2?C.blur=X:C.spread=X,N++):C.color=ha.parse(v,X)}return C})}},Ps=function(v){return v[v.FILL=0]="FILL",v[v.STROKE=1]="STROKE",v[v.MARKERS=2]="MARKERS",v}(Ps||{}),vA={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(v,w){var E=[Ps.FILL,Ps.STROKE,Ps.MARKERS],C=[];return w.filter(xn).forEach(function(N){switch(N.value){case"stroke":C.push(Ps.STROKE);break;case"fill":C.push(Ps.FILL);break;case"markers":C.push(Ps.MARKERS);break}}),E.forEach(function(N){C.indexOf(N)===-1&&C.push(N)}),C}},Ah={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},gh={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(v,w){return Ir(w)?w.number:0}},nd=function(){function v(w,E){var C,N;this.animationDuration=rt(w,Sl,E.animationDuration),this.backgroundClip=rt(w,oh,E.backgroundClip),this.backgroundColor=rt(w,jb,E.backgroundColor),this.backgroundImage=rt(w,j_,E.backgroundImage),this.backgroundOrigin=rt(w,ah,E.backgroundOrigin),this.backgroundPosition=rt(w,ao,E.backgroundPosition),this.backgroundRepeat=rt(w,Sm,E.backgroundRepeat),this.backgroundSize=rt(w,lh,E.backgroundSize),this.borderTopColor=rt(w,G_,E.borderTopColor),this.borderRightColor=rt(w,ch,E.borderRightColor),this.borderBottomColor=rt(w,qc,E.borderBottomColor),this.borderLeftColor=rt(w,xm,E.borderLeftColor),this.borderTopLeftRadius=rt(w,Ka,E.borderTopLeftRadius),this.borderTopRightRadius=rt(w,$c,E.borderTopRightRadius),this.borderBottomRightRadius=rt(w,aA,E.borderBottomRightRadius),this.borderBottomLeftRadius=rt(w,dh,E.borderBottomLeftRadius),this.borderTopStyle=rt(w,W_,E.borderTopStyle),this.borderRightStyle=rt(w,K_,E.borderRightStyle),this.borderBottomStyle=rt(w,Im,E.borderBottomStyle),this.borderLeftStyle=rt(w,Tm,E.borderLeftStyle),this.borderTopWidth=rt(w,Ct,E.borderTopWidth),this.borderRightWidth=rt(w,ko,E.borderRightWidth),this.borderBottomWidth=rt(w,Yc,E.borderBottomWidth),this.borderLeftWidth=rt(w,Wb,E.borderLeftWidth),this.boxShadow=rt(w,mA,E.boxShadow),this.color=rt(w,Kb,E.color),this.direction=rt(w,Dm,E.direction),this.display=rt(w,Mm,E.display),this.float=rt(w,Fm,E.cssFloat),this.fontFamily=rt(w,AA,E.fontFamily),this.fontSize=rt(w,gA,E.fontSize),this.fontStyle=rt(w,ny,E.fontStyle),this.fontVariant=rt(w,ty,E.fontVariant),this.fontWeight=rt(w,Um,E.fontWeight),this.letterSpacing=rt(w,Bm,E.letterSpacing),this.lineBreak=rt(w,Bf,E.lineBreak),this.lineHeight=rt(w,zb,E.lineHeight),this.listStyleImage=rt(w,cA,E.listStyleImage),this.listStylePosition=rt(w,qb,E.listStylePosition),this.listStyleType=rt(w,Pm,E.listStyleType),this.marginTop=rt(w,z_,E.marginTop),this.marginRight=rt(w,dA,E.marginRight),this.marginBottom=rt(w,hA,E.marginBottom),this.marginLeft=rt(w,q_,E.marginLeft),this.opacity=rt(w,pA,E.opacity);var V=rt(w,$b,E.overflow);this.overflowX=V[0],this.overflowY=V[V.length>1?1:0],this.overflowWrap=rt(w,km,E.overflowWrap),this.paddingTop=rt(w,$_,E.paddingTop),this.paddingRight=rt(w,Y_,E.paddingRight),this.paddingBottom=rt(w,Yb,E.paddingBottom),this.paddingLeft=rt(w,Z_,E.paddingLeft),this.paintOrder=rt(w,vA,E.paintOrder),this.position=rt(w,fA,E.position),this.textAlign=rt(w,Zb,E.textAlign),this.textDecorationColor=rt(w,ey,(C=E.textDecorationColor)!==null&&C!==void 0?C:E.color),this.textDecorationLine=rt(w,El,(N=E.textDecorationLine)!==null&&N!==void 0?N:E.textDecoration),this.textShadow=rt(w,rc,E.textShadow),this.textTransform=rt(w,Nm,E.textTransform),this.transform=rt(w,X_,E.transform),this.transformOrigin=rt(w,In,E.transformOrigin),this.visibility=rt(w,fh,E.visibility),this.webkitTextStrokeColor=rt(w,Ah,E.webkitTextStrokeColor),this.webkitTextStrokeWidth=rt(w,gh,E.webkitTextStrokeWidth),this.wordBreak=rt(w,Jb,E.wordBreak),this.zIndex=rt(w,eC,E.zIndex)}return v.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===Jc.VISIBLE},v.prototype.isTransparent=function(){return Qa(this.backgroundColor)},v.prototype.isTransformed=function(){return this.transform!==null},v.prototype.isPositioned=function(){return this.position!==Bs.STATIC},v.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},v.prototype.isFloating=function(){return this.float!==Zc.NONE},v.prototype.isInlineLevel=function(){return tr(this.display,4)||tr(this.display,33554432)||tr(this.display,268435456)||tr(this.display,536870912)||tr(this.display,67108864)||tr(this.display,134217728)},v}(),Vm=function(){function v(w,E){this.content=rt(w,Aa,E.content),this.quotes=rt(w,oy,E.quotes)}return v}(),sy=function(){function v(w,E){this.counterIncrement=rt(w,iy,E.counterIncrement),this.counterReset=rt(w,ry,E.counterReset)}return v}(),rt=function(v,w,E){var C=new eA,N=E!==null&&typeof E<"u"?E.toString():w.initialValue;C.write(N);var V=new tA(C.read());switch(w.type){case 2:var X=V.parseComponentValue();return w.parse(v,xn(X)?X.value:w.initialValue);case 0:return w.parse(v,V.parseComponentValue());case 1:return w.parse(v,V.parseComponentValues());case 4:return V.parseComponentValue();case 3:switch(w.format){case"angle":return nc.parse(v,V.parseComponentValue());case"color":return ha.parse(v,V.parseComponentValue());case"image":return Df.parse(v,V.parseComponentValue());case"length":var ie=V.parseComponentValue();return Os(ie)?ie:$r;case"length-percentage":var ne=V.parseComponentValue();return Ji(ne)?ne:$r;case"time":return kf.parse(v,V.parseComponentValue())}break}},oc="data-html2canvas-debug",tC=function(v){var w=v.getAttribute(oc);switch(w){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},sc=function(v,w){var E=tC(v);return E===1||w===E},za=function(){function v(w,E){if(this.context=w,this.textNodes=[],this.elements=[],this.flags=0,sc(E,3))debugger;this.styles=new nd(w,window.getComputedStyle(E,null)),wy(E)&&(this.styles.animationDuration.some(function(C){return C>0})&&(E.style.animationDuration="0s"),this.styles.transform!==null&&(E.style.transform="none")),this.bounds=a(this.context,E),sc(E,4)&&(this.flags|=16)}return v}(),ks="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mh=typeof Uint8Array>"u"?[]:new Uint8Array(256),xl=0;xl<eu.length;xl++)mh[eu.charCodeAt(xl)]=xl;for(var ay=function(v){var w=v.length*.75,E=v.length,C,N=0,V,X,ie,ne;v[v.length-1]==="="&&(w--,v[v.length-2]==="="&&w--);var Ae=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(w):new Array(w),ye=Array.isArray(Ae)?Ae:new Uint8Array(Ae);for(C=0;C<E;C+=4)V=mh[v.charCodeAt(C)],X=mh[v.charCodeAt(C+1)],ie=mh[v.charCodeAt(C+2)],ne=mh[v.charCodeAt(C+3)],ye[N++]=V<<2|X>>4,ye[N++]=(X&15)<<4|ie>>2,ye[N++]=(ie&3)<<6|ne&63;return Ae},No=function(v){for(var w=v.length,E=[],C=0;C<w;C+=2)E.push(v[C+1]<<8|v[C]);return E},id=function(v){for(var w=v.length,E=[],C=0;C<w;C+=4)E.push(v[C+3]<<24|v[C+2]<<16|v[C+1]<<8|v[C]);return E},ga=5,_A=11,Il=2,nC=_A-ga,Ns=65536>>ga,yA=1<<ga,Tl=yA-1,qa=1024>>ga,Mn=Ns+qa,y=Mn,O=32,U=y+O,Q=65536>>_A,ee=1<<nC,fe=ee-1,Me=function(v,w,E){return v.slice?v.slice(w,E):new Uint16Array(Array.prototype.slice.call(v,w,E))},Bt=function(v,w,E){return v.slice?v.slice(w,E):new Uint32Array(Array.prototype.slice.call(v,w,E))},hn=function(v,w){var E=ay(v),C=Array.isArray(E)?id(E):new Uint32Array(E),N=Array.isArray(E)?No(E):new Uint16Array(E),V=24,X=Me(N,V/2,C[4]/2),ie=C[5]===2?Me(N,(V+C[4])/2):Bt(C,Math.ceil((V+C[4])/4));return new wi(C[0],C[1],C[2],C[3],X,ie)},wi=function(){function v(w,E,C,N,V,X){this.initialValue=w,this.errorValue=E,this.highStart=C,this.highValueIndex=N,this.index=V,this.data=X}return v.prototype.get=function(w){var E;if(w>=0){if(w<55296||w>56319&&w<=65535)return E=this.index[w>>ga],E=(E<<Il)+(w&Tl),this.data[E];if(w<=65535)return E=this.index[Ns+(w-55296>>ga)],E=(E<<Il)+(w&Tl),this.data[E];if(w<this.highStart)return E=U-Q+(w>>_A),E=this.index[E],E+=w>>ga&fe,E=this.index[E],E=(E<<Il)+(w&Tl),this.data[E];if(w<=1114111)return this.data[this.highValueIndex]}return this.errorValue},v}(),Rs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ls=typeof Uint8Array>"u"?[]:new Uint8Array(256),cs=0;cs<Rs.length;cs++)Ls[Rs.charCodeAt(cs)]=cs;var Qm=1,ly=2,jm=3,Gm=4,iC=5,cy=7,rC=8,Wm=9,Km=10,YI=11,uy=12,wA=13,oC=14,zm=15,vk=function(v){for(var w=[],E=0,C=v.length;E<C;){var N=v.charCodeAt(E++);if(N>=55296&&N<=56319&&E<C){var V=v.charCodeAt(E++);(V&64512)===56320?w.push(((N&1023)<<10)+(V&1023)+65536):(w.push(N),E--)}else w.push(N)}return w},_k=function(){for(var v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];if(String.fromCodePoint)return String.fromCodePoint.apply(String,v);var E=v.length;if(!E)return"";for(var C=[],N=-1,V="";++N<E;){var X=v[N];X<=65535?C.push(X):(X-=65536,C.push((X>>10)+55296,X%1024+56320)),(N+1===E||C.length>16384)&&(V+=String.fromCharCode.apply(String,C),C.length=0)}return V},ZI=hn(ks),ma="\xD7",bA="\xF7",sC=function(v){return ZI.get(v)},Dl=function(v,w,E){var C=E-2,N=w[C],V=w[E-1],X=w[E];if(V===ly&&X===jm)return ma;if(V===ly||V===jm||V===Gm||X===ly||X===jm||X===Gm)return bA;if(V===rC&&[rC,Wm,YI,uy].indexOf(X)!==-1||(V===YI||V===Wm)&&(X===Wm||X===Km)||(V===uy||V===Km)&&X===Km||X===wA||X===iC||X===cy||V===Qm)return ma;if(V===wA&&X===oC){for(;N===iC;)N=w[--C];if(N===oC)return ma}if(V===zm&&X===zm){for(var ie=0;N===zm;)ie++,N=w[--C];if(ie%2===0)return ma}return bA},dy=function(v){var w=vk(v),E=w.length,C=0,N=0,V=w.map(sC);return{next:function(){if(C>=E)return{done:!0,value:null};for(var X=ma;C<E&&(X=Dl(w,V,++C))===ma;);if(X!==ma||C===E){var ie=_k.apply(null,w.slice(N,C));return N=C,{value:ie,done:!1}}return{done:!0,value:null}}}},hy=function(v){for(var w=dy(v),E=[],C;!(C=w.next()).done;)C.value&&E.push(C.value.slice());return E},aC=function(v){var w=123;if(v.createRange){var E=v.createRange();if(E.getBoundingClientRect){var C=v.createElement("boundtest");C.style.height=w+"px",C.style.display="block",v.body.appendChild(C),E.selectNode(C);var N=E.getBoundingClientRect(),V=Math.round(N.height);if(v.body.removeChild(C),V===w)return!0}}return!1},XI=function(v){var w=v.createElement("boundtest");w.style.width="50px",w.style.display="block",w.style.fontSize="12px",w.style.letterSpacing="0px",w.style.wordSpacing="0px",v.body.appendChild(w);var E=v.createRange();w.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var C=w.firstChild,N=u(C.data).map(function(ne){return d(ne)}),V=0,X={},ie=N.every(function(ne,Ae){E.setStart(C,V),E.setEnd(C,V+ne.length);var ye=E.getBoundingClientRect();V+=ne.length;var Se=ye.x>X.x||ye.y>X.y;return X=ye,Ae===0?!0:Se});return v.body.removeChild(w),ie},qm=function(){return typeof new Image().crossOrigin<"u"},$m=function(){return typeof new XMLHttpRequest().responseType=="string"},Ym=function(v){var w=new Image,E=v.createElement("canvas"),C=E.getContext("2d");if(!C)return!1;w.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{C.drawImage(w,0,0),E.toDataURL()}catch{return!1}return!0},lC=function(v){return v[0]===0&&v[1]===255&&v[2]===0&&v[3]===255},yk=function(v){var w=v.createElement("canvas"),E=100;w.width=E,w.height=E;var C=w.getContext("2d");if(!C)return Promise.reject(!1);C.fillStyle="rgb(0, 255, 0)",C.fillRect(0,0,E,E);var N=new Image,V=w.toDataURL();N.src=V;var X=cC(E,E,0,0,N);return C.fillStyle="red",C.fillRect(0,0,E,E),JI(X).then(function(ie){C.drawImage(ie,0,0);var ne=C.getImageData(0,0,E,E).data;C.fillStyle="red",C.fillRect(0,0,E,E);var Ae=v.createElement("div");return Ae.style.backgroundImage="url("+V+")",Ae.style.height=E+"px",lC(ne)?JI(cC(E,E,0,0,Ae)):Promise.reject(!1)}).then(function(ie){return C.drawImage(ie,0,0),lC(C.getImageData(0,0,E,E).data)}).catch(function(){return!1})},cC=function(v,w,E,C,N){var V="http://www.w3.org/2000/svg",X=document.createElementNS(V,"svg"),ie=document.createElementNS(V,"foreignObject");return X.setAttributeNS(null,"width",v.toString()),X.setAttributeNS(null,"height",w.toString()),ie.setAttributeNS(null,"width","100%"),ie.setAttributeNS(null,"height","100%"),ie.setAttributeNS(null,"x",E.toString()),ie.setAttributeNS(null,"y",C.toString()),ie.setAttributeNS(null,"externalResourcesRequired","true"),X.appendChild(ie),ie.appendChild(N),X},JI=function(v){return new Promise(function(w,E){var C=new Image;C.onload=function(){return w(C)},C.onerror=E,C.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(v))})},Us={get SUPPORT_RANGE_BOUNDS(){var v=aC(document);return Object.defineProperty(Us,"SUPPORT_RANGE_BOUNDS",{value:v}),v},get SUPPORT_WORD_BREAKING(){var v=Us.SUPPORT_RANGE_BOUNDS&&XI(document);return Object.defineProperty(Us,"SUPPORT_WORD_BREAKING",{value:v}),v},get SUPPORT_SVG_DRAWING(){var v=Ym(document);return Object.defineProperty(Us,"SUPPORT_SVG_DRAWING",{value:v}),v},get SUPPORT_FOREIGNOBJECT_DRAWING(){var v=typeof Array.from=="function"&&typeof window.fetch=="function"?yk(document):Promise.resolve(!1);return Object.defineProperty(Us,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:v}),v},get SUPPORT_CORS_IMAGES(){var v=qm();return Object.defineProperty(Us,"SUPPORT_CORS_IMAGES",{value:v}),v},get SUPPORT_RESPONSE_TYPE(){var v=$m();return Object.defineProperty(Us,"SUPPORT_RESPONSE_TYPE",{value:v}),v},get SUPPORT_CORS_XHR(){var v="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Us,"SUPPORT_CORS_XHR",{value:v}),v}},Zm=function(){function v(w,E){this.text=w,this.bounds=E}return v}(),eT=function(v,w,E,C){var N=nT(w,E),V=[],X=0;return N.forEach(function(ie){if(E.textDecorationLine.length||ie.trim().length>0)if(Us.SUPPORT_RANGE_BOUNDS)Us.SUPPORT_WORD_BREAKING?V.push(new Zm(ie,fy(v,C,X,ie.length))):V.push(new Zm(ie,s.fromDOMRectList(v,uC(C,X,ie.length).getClientRects())));else{var ne=C.splitText(ie.length);V.push(new Zm(ie,tT(v,C))),C=ne}else Us.SUPPORT_RANGE_BOUNDS||(C=C.splitText(ie.length));X+=ie.length}),V},tT=function(v,w){var E=w.ownerDocument;if(E){var C=E.createElement("html2canvaswrapper");C.appendChild(w.cloneNode(!0));var N=w.parentNode;if(N){N.replaceChild(C,w);var V=a(v,C);return C.firstChild&&N.replaceChild(C.firstChild,C),V}}return s.EMPTY},uC=function(v,w,E){var C=v.ownerDocument;if(!C)throw new Error("Node has no owner document");var N=C.createRange();return N.setStart(v,w),N.setEnd(v,w+E),N},fy=function(v,w,E,C){return s.fromClientRect(v,uC(w,E,C).getBoundingClientRect())},nT=function(v,w){return w.letterSpacing!==0?hy(v):py(v,w)},Xm=[32,160,4961,65792,65793,4153,4241],py=function(v,w){for(var E=kr(v,{lineBreak:w.lineBreak,wordBreak:w.overflowWrap==="break-word"?"break-word":w.wordBreak}),C=[],N,V=function(){if(N.value){var X=N.value.slice(),ie=u(X),ne="";ie.forEach(function(Ae){Xm.indexOf(Ae)===-1?ne+=d(Ae):(ne.length&&C.push(ne),C.push(d(Ae)),ne="")}),ne.length&&C.push(ne)}};!(N=E.next()).done;)V();return C},wk=function(){function v(w,E,C){this.text=rd(E.data,C.textTransform),this.textBounds=eT(w,this.text,C,E)}return v}(),rd=function(v,w){switch(w){case Cl.LOWERCASE:return v.toLowerCase();case Cl.CAPITALIZE:return v.replace(Nf,Jm);case Cl.UPPERCASE:return v.toUpperCase();default:return v}},Nf=/(^|\s|:|-|\(|\))([a-z])/g,Jm=function(v,w,E){return v.length>0?w+E.toUpperCase():v},e0=function(v){t(w,v);function w(E,C){var N=v.call(this,E,C)||this;return N.src=C.currentSrc||C.src,N.intrinsicWidth=C.naturalWidth,N.intrinsicHeight=C.naturalHeight,N.context.cache.addImage(N.src),N}return w}(za),iT=function(v){t(w,v);function w(E,C){var N=v.call(this,E,C)||this;return N.canvas=C,N.intrinsicWidth=C.width,N.intrinsicHeight=C.height,N}return w}(za),Ay=function(v){t(w,v);function w(E,C){var N=v.call(this,E,C)||this,V=new XMLSerializer,X=a(E,C);return C.setAttribute("width",X.width+"px"),C.setAttribute("height",X.height+"px"),N.svg="data:image/svg+xml,"+encodeURIComponent(V.serializeToString(C)),N.intrinsicWidth=C.width.baseVal.value,N.intrinsicHeight=C.height.baseVal.value,N.context.cache.addImage(N.svg),N}return w}(za),dC=function(v){t(w,v);function w(E,C){var N=v.call(this,E,C)||this;return N.value=C.value,N}return w}(za),gy=function(v){t(w,v);function w(E,C){var N=v.call(this,E,C)||this;return N.start=C.start,N.reversed=typeof C.reversed=="boolean"&&C.reversed===!0,N}return w}(za),my=[{type:15,flags:0,unit:"px",number:3}],t0=[{type:16,flags:0,number:50}],rT=function(v){return v.width>v.height?new s(v.left+(v.width-v.height)/2,v.top,v.height,v.height):v.width<v.height?new s(v.left,v.top+(v.height-v.width)/2,v.width,v.width):v},vy=function(v){var w=v.type===bk?new Array(v.value.length+1).join("\u2022"):v.value;return w.length===0?v.placeholder||"":w},CA="checkbox",_y="radio",bk="password",n0=707406591,hC=function(v){t(w,v);function w(E,C){var N=v.call(this,E,C)||this;switch(N.type=C.type.toLowerCase(),N.checked=C.checked,N.value=vy(C),(N.type===CA||N.type===_y)&&(N.styles.backgroundColor=3739148031,N.styles.borderTopColor=N.styles.borderRightColor=N.styles.borderBottomColor=N.styles.borderLeftColor=2779096575,N.styles.borderTopWidth=N.styles.borderRightWidth=N.styles.borderBottomWidth=N.styles.borderLeftWidth=1,N.styles.borderTopStyle=N.styles.borderRightStyle=N.styles.borderBottomStyle=N.styles.borderLeftStyle=Ti.SOLID,N.styles.backgroundClip=[ja.BORDER_BOX],N.styles.backgroundOrigin=[0],N.bounds=rT(N.bounds)),N.type){case CA:N.styles.borderTopRightRadius=N.styles.borderTopLeftRadius=N.styles.borderBottomRightRadius=N.styles.borderBottomLeftRadius=my;break;case _y:N.styles.borderTopRightRadius=N.styles.borderTopLeftRadius=N.styles.borderBottomRightRadius=N.styles.borderBottomLeftRadius=t0;break}return N}return w}(za),oT=function(v){t(w,v);function w(E,C){var N=v.call(this,E,C)||this,V=C.options[C.selectedIndex||0];return N.value=V&&V.text||"",N}return w}(za),yy=function(v){t(w,v);function w(E,C){var N=v.call(this,E,C)||this;return N.value=C.value,N}return w}(za),i0=function(v){t(w,v);function w(E,C){var N=v.call(this,E,C)||this;N.src=C.src,N.width=parseInt(C.width,10)||0,N.height=parseInt(C.height,10)||0,N.backgroundColor=N.styles.backgroundColor;try{if(C.contentWindow&&C.contentWindow.document&&C.contentWindow.document.documentElement){N.tree=sT(E,C.contentWindow.document.documentElement);var V=C.contentWindow.document.documentElement?Zu(E,getComputedStyle(C.contentWindow.document.documentElement).backgroundColor):yl.TRANSPARENT,X=C.contentWindow.document.body?Zu(E,getComputedStyle(C.contentWindow.document.body).backgroundColor):yl.TRANSPARENT;N.backgroundColor=Qa(V)?Qa(X)?N.styles.backgroundColor:X:V}}catch{}return N}return w}(za),ac=["OL","UL","MENU"],EA=function(v,w,E,C){for(var N=w.firstChild,V=void 0;N;N=V)if(V=N.nextSibling,aT(N)&&N.data.trim().length>0)E.textNodes.push(new wk(v,N,E.styles));else if(SA(N))if(Tk(N)&&N.assignedNodes)N.assignedNodes().forEach(function(ie){return EA(v,ie,E,C)});else{var X=Ml(v,N);X.styles.isVisible()&&(Ck(N,X,C)?X.flags|=4:Ek(X.styles)&&(X.flags|=2),ac.indexOf(N.tagName)!==-1&&(X.flags|=8),E.elements.push(X),N.slot,N.shadowRoot?EA(v,N.shadowRoot,X,C):!by(N)&&!fC(N)&&!Cy(N)&&EA(v,N,X,C))}},Ml=function(v,w){return AC(w)?new e0(v,w):pC(w)?new iT(v,w):fC(w)?new Ay(v,w):Sk(w)?new dC(v,w):lT(w)?new gy(v,w):xk(w)?new hC(v,w):Cy(w)?new oT(v,w):by(w)?new yy(v,w):cT(w)?new i0(v,w):new za(v,w)},sT=function(v,w){var E=Ml(v,w);return E.flags|=4,EA(v,w,E,E),E},Ck=function(v,w,E){return w.styles.isPositionedWithZIndex()||w.styles.opacity<1||w.styles.isTransformed()||od(v)&&E.styles.isTransparent()},Ek=function(v){return v.isPositioned()||v.isFloating()},aT=function(v){return v.nodeType===Node.TEXT_NODE},SA=function(v){return v.nodeType===Node.ELEMENT_NODE},wy=function(v){return SA(v)&&typeof v.style<"u"&&!r0(v)},r0=function(v){return typeof v.className=="object"},Sk=function(v){return v.tagName==="LI"},lT=function(v){return v.tagName==="OL"},xk=function(v){return v.tagName==="INPUT"},Ik=function(v){return v.tagName==="HTML"},fC=function(v){return v.tagName==="svg"},od=function(v){return v.tagName==="BODY"},pC=function(v){return v.tagName==="CANVAS"},AC=function(v){return v.tagName==="IMG"},cT=function(v){return v.tagName==="IFRAME"},Hs=function(v){return v.tagName==="STYLE"},gC=function(v){return v.tagName==="SCRIPT"},by=function(v){return v.tagName==="TEXTAREA"},Cy=function(v){return v.tagName==="SELECT"},Tk=function(v){return v.tagName==="SLOT"},uT=function(){function v(){this.counters={}}return v.prototype.getCounterValue=function(w){var E=this.counters[w];return E&&E.length?E[E.length-1]:1},v.prototype.getCounterValues=function(w){var E=this.counters[w];return E||[]},v.prototype.pop=function(w){var E=this;w.forEach(function(C){return E.counters[C].pop()})},v.prototype.parse=function(w){var E=this,C=w.counterIncrement,N=w.counterReset,V=!0;C!==null&&C.forEach(function(ie){var ne=E.counters[ie.counter];ne&&ie.increment!==0&&(V=!1,ne.length||ne.push(1),ne[Math.max(0,ne.length-1)]+=ie.increment)});var X=[];return V&&N.forEach(function(ie){var ne=E.counters[ie.counter];X.push(ie.counter),ne||(ne=E.counters[ie.counter]=[]),ne.push(ie.reset)}),X},v}(),dT={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},hT={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},mC={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},vC={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},Rf=function(v,w,E,C,N,V){return v<w||v>E?s0(v,N,V.length>0):C.integers.reduce(function(X,ie,ne){for(;v>=ie;)v-=ie,X+=C.values[ne];return X},"")+V},Ey=function(v,w,E,C){var N="";do E||v--,N=C(v)+N,v/=w;while(v*w>=w);return N},mr=function(v,w,E,C,N){var V=E-w+1;return(v<0?"-":"")+(Ey(Math.abs(v),V,C,function(X){return d(Math.floor(X%V)+w)})+N)},sd=function(v,w,E){E===void 0&&(E=". ");var C=w.length;return Ey(Math.abs(v),C,!1,function(N){return w[Math.floor(N%C)]})+E},vh=1,_h=2,yh=4,o0=8,ad=function(v,w,E,C,N,V){if(v<-9999||v>9999)return s0(v,ke.CJK_DECIMAL,N.length>0);var X=Math.abs(v),ie=N;if(X===0)return w[0]+ie;for(var ne=0;X>0&&ne<=4;ne++){var Ae=X%10;Ae===0&&tr(V,vh)&&ie!==""?ie=w[Ae]+ie:Ae>1||Ae===1&&ne===0||Ae===1&&ne===1&&tr(V,_h)||Ae===1&&ne===1&&tr(V,yh)&&v>100||Ae===1&&ne>1&&tr(V,o0)?ie=w[Ae]+(ne>0?E[ne-1]:"")+ie:Ae===1&&ne>0&&(ie=E[ne-1]+ie),X=Math.floor(X/10)}return(v<0?C:"")+ie},fT="\u5341\u767E\u5343\u842C",pT="\u62FE\u4F70\u4EDF\u842C",AT="\u30DE\u30A4\u30CA\u30B9",_C="\uB9C8\uC774\uB108\uC2A4",s0=function(v,w,E){var C=E?". ":"",N=E?"\u3001":"",V=E?", ":"",X=E?" ":"";switch(w){case ke.DISC:return"\u2022"+X;case ke.CIRCLE:return"\u25E6"+X;case ke.SQUARE:return"\u25FE"+X;case ke.DECIMAL_LEADING_ZERO:var ie=mr(v,48,57,!0,C);return ie.length<4?"0"+ie:ie;case ke.CJK_DECIMAL:return sd(v,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",N);case ke.LOWER_ROMAN:return Rf(v,1,3999,dT,ke.DECIMAL,C).toLowerCase();case ke.UPPER_ROMAN:return Rf(v,1,3999,dT,ke.DECIMAL,C);case ke.LOWER_GREEK:return mr(v,945,969,!1,C);case ke.LOWER_ALPHA:return mr(v,97,122,!1,C);case ke.UPPER_ALPHA:return mr(v,65,90,!1,C);case ke.ARABIC_INDIC:return mr(v,1632,1641,!0,C);case ke.ARMENIAN:case ke.UPPER_ARMENIAN:return Rf(v,1,9999,hT,ke.DECIMAL,C);case ke.LOWER_ARMENIAN:return Rf(v,1,9999,hT,ke.DECIMAL,C).toLowerCase();case ke.BENGALI:return mr(v,2534,2543,!0,C);case ke.CAMBODIAN:case ke.KHMER:return mr(v,6112,6121,!0,C);case ke.CJK_EARTHLY_BRANCH:return sd(v,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",N);case ke.CJK_HEAVENLY_STEM:return sd(v,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",N);case ke.CJK_IDEOGRAPHIC:case ke.TRAD_CHINESE_INFORMAL:return ad(v,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",fT,"\u8CA0",N,_h|yh|o0);case ke.TRAD_CHINESE_FORMAL:return ad(v,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",pT,"\u8CA0",N,vh|_h|yh|o0);case ke.SIMP_CHINESE_INFORMAL:return ad(v,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",fT,"\u8D1F",N,_h|yh|o0);case ke.SIMP_CHINESE_FORMAL:return ad(v,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",pT,"\u8D1F",N,vh|_h|yh|o0);case ke.JAPANESE_INFORMAL:return ad(v,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",AT,N,0);case ke.JAPANESE_FORMAL:return ad(v,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",AT,N,vh|_h|yh);case ke.KOREAN_HANGUL_FORMAL:return ad(v,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",_C,V,vh|_h|yh);case ke.KOREAN_HANJA_INFORMAL:return ad(v,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",_C,V,0);case ke.KOREAN_HANJA_FORMAL:return ad(v,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",_C,V,vh|_h|yh);case ke.DEVANAGARI:return mr(v,2406,2415,!0,C);case ke.GEORGIAN:return Rf(v,1,19999,vC,ke.DECIMAL,C);case ke.GUJARATI:return mr(v,2790,2799,!0,C);case ke.GURMUKHI:return mr(v,2662,2671,!0,C);case ke.HEBREW:return Rf(v,1,10999,mC,ke.DECIMAL,C);case ke.HIRAGANA:return sd(v,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case ke.HIRAGANA_IROHA:return sd(v,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case ke.KANNADA:return mr(v,3302,3311,!0,C);case ke.KATAKANA:return sd(v,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",N);case ke.KATAKANA_IROHA:return sd(v,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",N);case ke.LAO:return mr(v,3792,3801,!0,C);case ke.MONGOLIAN:return mr(v,6160,6169,!0,C);case ke.MYANMAR:return mr(v,4160,4169,!0,C);case ke.ORIYA:return mr(v,2918,2927,!0,C);case ke.PERSIAN:return mr(v,1776,1785,!0,C);case ke.TAMIL:return mr(v,3046,3055,!0,C);case ke.TELUGU:return mr(v,3174,3183,!0,C);case ke.THAI:return mr(v,3664,3673,!0,C);case ke.TIBETAN:return mr(v,3872,3881,!0,C);case ke.DECIMAL:default:return mr(v,48,57,!0,C)}},gT="data-html2canvas-ignore",mT=function(){function v(w,E,C){if(this.context=w,this.options=C,this.scrolledElements=[],this.referenceElement=E,this.counters=new uT,this.quoteDepth=0,!E.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(E.ownerDocument.documentElement)}return v.prototype.toIFrame=function(w,E){var C=this,N=Dk(w,E);if(!N.contentWindow)return Promise.reject("Unable to find iframe window");var V=w.defaultView.pageXOffset,X=w.defaultView.pageYOffset,ie=N.contentWindow,ne=ie.document,Ae=Fk(N).then(function(){return i(C,void 0,void 0,function(){var ye,Se;return r(this,function(Be){switch(Be.label){case 0:return this.scrolledElements.forEach(yT),ie&&(ie.scrollTo(E.left,E.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ie.scrollY!==E.top||ie.scrollX!==E.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ie.scrollX-E.left,ie.scrollY-E.top,0,0))),ye=this.options.onclone,Se=this.clonedReferenceElement,typeof Se>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ne.fonts&&ne.fonts.ready?[4,ne.fonts.ready]:[3,2];case 1:Be.sent(),Be.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Ok(ne)]:[3,4];case 3:Be.sent(),Be.label=4;case 4:return typeof ye=="function"?[2,Promise.resolve().then(function(){return ye(ne,Se)}).then(function(){return N})]:[2,N]}})})});return ne.open(),ne.write(Pk(document.doctype)+"<html></html>"),_T(this.referenceElement.ownerDocument,V,X),ne.replaceChild(ne.adoptNode(this.documentElement),ne.documentElement),ne.close(),Ae},v.prototype.createElementClone=function(w){if(sc(w,2))debugger;if(pC(w))return this.createCanvasClone(w);if(Hs(w))return this.createStyleClone(w);var E=w.cloneNode(!1);return AC(E)&&(AC(w)&&w.currentSrc&&w.currentSrc!==w.src&&(E.src=w.currentSrc,E.srcset=""),E.loading==="lazy"&&(E.loading="eager")),E},v.prototype.createStyleClone=function(w){try{var E=w.sheet;if(E&&E.cssRules){var C=[].slice.call(E.cssRules,0).reduce(function(V,X){return X&&typeof X.cssText=="string"?V+X.cssText:V},""),N=w.cloneNode(!1);return N.textContent=C,N}}catch(V){if(this.context.logger.error("Unable to access cssRules property",V),V.name!=="SecurityError")throw V}return w.cloneNode(!1)},v.prototype.createCanvasClone=function(w){var E;if(this.options.inlineImages&&w.ownerDocument){var C=w.ownerDocument.createElement("img");try{return C.src=w.toDataURL(),C}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",w)}}var N=w.cloneNode(!1);try{N.width=w.width,N.height=w.height;var V=w.getContext("2d"),X=N.getContext("2d");if(X)if(!this.options.allowTaint&&V)X.putImageData(V.getImageData(0,0,w.width,w.height),0,0);else{var ie=(E=w.getContext("webgl2"))!==null&&E!==void 0?E:w.getContext("webgl");if(ie){var ne=ie.getContextAttributes();ne?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",w)}X.drawImage(w,0,0)}return N}catch{this.context.logger.info("Unable to clone canvas as it is tainted",w)}return N},v.prototype.cloneNode=function(w){if(aT(w))return document.createTextNode(w.data);if(!w.ownerDocument)return w.cloneNode(!1);var E=w.ownerDocument.defaultView;if(E&&SA(w)&&(wy(w)||r0(w))){var C=this.createElementClone(w);C.style.transitionProperty="none";var N=E.getComputedStyle(w),V=E.getComputedStyle(w,":before"),X=E.getComputedStyle(w,":after");this.referenceElement===w&&wy(C)&&(this.clonedReferenceElement=C),od(C)&&Rk(C);for(var ie=this.counters.parse(new sy(this.context,N)),ne=this.resolvePseudoContent(w,C,V,Sy.BEFORE),Ae=w.firstChild;Ae;Ae=Ae.nextSibling)(!SA(Ae)||!gC(Ae)&&!Ae.hasAttribute(gT)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(Ae)))&&(!this.options.copyStyles||!SA(Ae)||!Hs(Ae))&&C.appendChild(this.cloneNode(Ae));ne&&C.insertBefore(ne,C.firstChild);var ye=this.resolvePseudoContent(w,C,X,Sy.AFTER);return ye&&C.appendChild(ye),this.counters.pop(ie),N&&(this.options.copyStyles||r0(w))&&!cT(w)&&vT(N,C),(w.scrollTop!==0||w.scrollLeft!==0)&&this.scrolledElements.push([C,w.scrollLeft,w.scrollTop]),(by(w)||Cy(w))&&(by(C)||Cy(C))&&(C.value=w.value),C}return w.cloneNode(!1)},v.prototype.resolvePseudoContent=function(w,E,C,N){var V=this;if(C){var X=C.content,ie=E.ownerDocument;if(!(!ie||!X||X==="none"||X==="-moz-alt-content"||C.display==="none")){this.counters.parse(new sy(this.context,C));var ne=new Vm(this.context,C),Ae=ie.createElement("html2canvaspseudoelement");vT(C,Ae),ne.content.forEach(function(Se){if(Se.type===0)Ae.appendChild(ie.createTextNode(Se.value));else if(Se.type===22){var Be=ie.createElement("img");Be.src=Se.value,Be.style.opacity="1",Ae.appendChild(Be)}else if(Se.type===18){if(Se.name==="attr"){var gt=Se.values.filter(xn);gt.length&&Ae.appendChild(ie.createTextNode(w.getAttribute(gt[0].value)||""))}else if(Se.name==="counter"){var ze=Se.values.filter(ec),st=ze[0],sn=ze[1];if(st&&xn(st)){var It=V.counters.getCounterValue(st.value),Et=sn&&xn(sn)?Pm.parse(V.context,sn.value):ke.DECIMAL;Ae.appendChild(ie.createTextNode(s0(It,Et,!1)))}}else if(Se.name==="counters"){var jn=Se.values.filter(ec),st=jn[0],fn=jn[1],sn=jn[2];if(st&&xn(st)){var jt=V.counters.getCounterValues(st.value),ut=sn&&xn(sn)?Pm.parse(V.context,sn.value):ke.DECIMAL,kn=fn&&fn.type===0?fn.value:"",Nn=jt.map(function(Ro){return s0(Ro,ut,!1)}).join(kn);Ae.appendChild(ie.createTextNode(Nn))}}}else if(Se.type===20)switch(Se.value){case"open-quote":Ae.appendChild(ie.createTextNode(Hm(ne.quotes,V.quoteDepth++,!0)));break;case"close-quote":Ae.appendChild(ie.createTextNode(Hm(ne.quotes,--V.quoteDepth,!1)));break;default:Ae.appendChild(ie.createTextNode(Se.value))}}),Ae.className=yC+" "+wC;var ye=N===Sy.BEFORE?" "+yC:" "+wC;return r0(E)?E.className.baseValue+=ye:E.className+=ye,Ae}}},v.destroy=function(w){return w.parentNode?(w.parentNode.removeChild(w),!0):!1},v}(),Sy=function(v){return v[v.BEFORE=0]="BEFORE",v[v.AFTER=1]="AFTER",v}(Sy||{}),Dk=function(v,w){var E=v.createElement("iframe");return E.className="html2canvas-container",E.style.visibility="hidden",E.style.position="fixed",E.style.left="-10000px",E.style.top="0px",E.style.border="0",E.width=w.width.toString(),E.height=w.height.toString(),E.scrolling="no",E.setAttribute(gT,"true"),v.body.appendChild(E),E},Mk=function(v){return new Promise(function(w){if(v.complete){w();return}if(!v.src){w();return}v.onload=w,v.onerror=w})},Ok=function(v){return Promise.all([].slice.call(v.images,0).map(Mk))},Fk=function(v){return new Promise(function(w,E){var C=v.contentWindow;if(!C)return E("No window assigned for iframe");var N=C.document;C.onload=v.onload=function(){C.onload=v.onload=null;var V=setInterval(function(){N.body.childNodes.length>0&&N.readyState==="complete"&&(clearInterval(V),w(v))},50)}})},Bk=["all","d","content"],vT=function(v,w){for(var E=v.length-1;E>=0;E--){var C=v.item(E);Bk.indexOf(C)===-1&&w.style.setProperty(C,v.getPropertyValue(C))}return w},Pk=function(v){var w="";return v&&(w+="<!DOCTYPE ",v.name&&(w+=v.name),v.internalSubset&&(w+=v.internalSubset),v.publicId&&(w+='"'+v.publicId+'"'),v.systemId&&(w+='"'+v.systemId+'"'),w+=">"),w},_T=function(v,w,E){v&&v.defaultView&&(w!==v.defaultView.pageXOffset||E!==v.defaultView.pageYOffset)&&v.defaultView.scrollTo(w,E)},yT=function(v){var w=v[0],E=v[1],C=v[2];w.scrollLeft=E,w.scrollTop=C},kk=":before",Nk=":after",yC="___html2canvas___pseudoelement_before",wC="___html2canvas___pseudoelement_after",wT=`{
    content: "" !important;
    display: none !important;
}`,Rk=function(v){Lk(v,"."+yC+kk+wT+`
         .`+wC+Nk+wT)},Lk=function(v,w){var E=v.ownerDocument;if(E){var C=E.createElement("style");C.textContent=w,v.appendChild(C)}},bC=function(){function v(){}return v.getOrigin=function(w){var E=v._link;return E?(E.href=w,E.href=E.href,E.protocol+E.hostname+E.port):"about:blank"},v.isSameOrigin=function(w){return v.getOrigin(w)===v._origin},v.setContext=function(w){v._link=w.document.createElement("a"),v._origin=v.getOrigin(w.location.href)},v._origin="about:blank",v}(),Uk=function(){function v(w,E){this.context=w,this._options=E,this._cache={}}return v.prototype.addImage=function(w){var E=Promise.resolve();return this.has(w)||(EC(w)||On(w))&&(this._cache[w]=this.loadImage(w)).catch(function(){}),E},v.prototype.match=function(w){return this._cache[w]},v.prototype.loadImage=function(w){return i(this,void 0,void 0,function(){var E,C,N,V,X=this;return r(this,function(ie){switch(ie.label){case 0:return E=bC.isSameOrigin(w),C=!xy(w)&&this._options.useCORS===!0&&Us.SUPPORT_CORS_IMAGES&&!E,N=!xy(w)&&!E&&!EC(w)&&typeof this._options.proxy=="string"&&Us.SUPPORT_CORS_XHR&&!C,!E&&this._options.allowTaint===!1&&!xy(w)&&!EC(w)&&!N&&!C?[2]:(V=w,N?[4,this.proxy(V)]:[3,2]);case 1:V=ie.sent(),ie.label=2;case 2:return this.context.logger.debug("Added image "+w.substring(0,256)),[4,new Promise(function(ne,Ae){var ye=new Image;ye.onload=function(){return ne(ye)},ye.onerror=Ae,(CC(V)||C)&&(ye.crossOrigin="anonymous"),ye.src=V,ye.complete===!0&&setTimeout(function(){return ne(ye)},500),X._options.imageTimeout>0&&setTimeout(function(){return Ae("Timed out ("+X._options.imageTimeout+"ms) loading image")},X._options.imageTimeout)})];case 3:return[2,ie.sent()]}})})},v.prototype.has=function(w){return typeof this._cache[w]<"u"},v.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},v.prototype.proxy=function(w){var E=this,C=this._options.proxy;if(!C)throw new Error("No proxy defined");var N=w.substring(0,256);return new Promise(function(V,X){var ie=Us.SUPPORT_RESPONSE_TYPE?"blob":"text",ne=new XMLHttpRequest;ne.onload=function(){if(ne.status===200)if(ie==="text")V(ne.response);else{var Se=new FileReader;Se.addEventListener("load",function(){return V(Se.result)},!1),Se.addEventListener("error",function(Be){return X(Be)},!1),Se.readAsDataURL(ne.response)}else X("Failed to proxy resource "+N+" with status code "+ne.status)},ne.onerror=X;var Ae=C.indexOf("?")>-1?"&":"?";if(ne.open("GET",""+C+Ae+"url="+encodeURIComponent(w)+"&responseType="+ie),ie!=="text"&&ne instanceof XMLHttpRequest&&(ne.responseType=ie),E._options.imageTimeout){var ye=E._options.imageTimeout;ne.timeout=ye,ne.ontimeout=function(){return X("Timed out ("+ye+"ms) proxying "+N)}}ne.send()})},v}(),Hk=/^data:image\/svg\+xml/i,Vk=/^data:image\/.*;base64,/i,Qk=/^data:image\/.*/i,On=function(v){return Us.SUPPORT_SVG_DRAWING||!jk(v)},xy=function(v){return Qk.test(v)},CC=function(v){return Vk.test(v)},EC=function(v){return v.substr(0,4)==="blob"},jk=function(v){return v.substr(-3).toLowerCase()==="svg"||Hk.test(v)},Iy=function(v){return v[v.VECTOR=0]="VECTOR",v[v.BEZIER_CURVE=1]="BEZIER_CURVE",v}(Iy||{}),bT=function(v,w){return v.length===w.length?v.some(function(E,C){return E===w[C]}):!1},Gk=function(v,w,E,C,N){return v.map(function(V,X){switch(X){case 0:return V.add(w,E);case 1:return V.add(w+C,E);case 2:return V.add(w+C,E+N);case 3:return V.add(w,E+N)}return V})},At=function(){function v(w,E){this.type=Iy.VECTOR,this.x=w,this.y=E}return v.prototype.add=function(w,E){return new v(this.x+w,this.y+E)},v}(),xA=function(v,w,E){return new At(v.x+(w.x-v.x)*E,v.y+(w.y-v.y)*E)},Lf=function(){function v(w,E,C,N){this.type=Iy.BEZIER_CURVE,this.start=w,this.startControl=E,this.endControl=C,this.end=N}return v.prototype.subdivide=function(w,E){var C=xA(this.start,this.startControl,w),N=xA(this.startControl,this.endControl,w),V=xA(this.endControl,this.end,w),X=xA(C,N,w),ie=xA(N,V,w),ne=xA(X,ie,w);return E?new v(this.start,C,X,ne):new v(ne,ie,V,this.end)},v.prototype.add=function(w,E){return new v(this.start.add(w,E),this.startControl.add(w,E),this.endControl.add(w,E),this.end.add(w,E))},v.prototype.reverse=function(){return new v(this.end,this.endControl,this.startControl,this.start)},v}(),Ol=function(v){return v.type===Iy.BEZIER_CURVE},CT=function(){function v(w){var E=w.styles,C=w.bounds,N=Qc(E.borderTopLeftRadius,C.width,C.height),V=N[0],X=N[1],ie=Qc(E.borderTopRightRadius,C.width,C.height),ne=ie[0],Ae=ie[1],ye=Qc(E.borderBottomRightRadius,C.width,C.height),Se=ye[0],Be=ye[1],gt=Qc(E.borderBottomLeftRadius,C.width,C.height),ze=gt[0],st=gt[1],sn=[];sn.push((V+ne)/C.width),sn.push((ze+Se)/C.width),sn.push((X+st)/C.height),sn.push((Ae+Be)/C.height);var It=Math.max.apply(Math,sn);It>1&&(V/=It,X/=It,ne/=It,Ae/=It,Se/=It,Be/=It,ze/=It,st/=It);var Et=C.width-ne,jn=C.height-Be,fn=C.width-Se,jt=C.height-st,ut=E.borderTopWidth,kn=E.borderRightWidth,Nn=E.borderBottomWidth,qt=E.borderLeftWidth,Rr=li(E.paddingTop,w.bounds.width),Ro=li(E.paddingRight,w.bounds.width),Ya=li(E.paddingBottom,w.bounds.width),bi=li(E.paddingLeft,w.bounds.width);this.topLeftBorderDoubleOuterBox=V>0||X>0?ki(C.left+qt/3,C.top+ut/3,V-qt/3,X-ut/3,si.TOP_LEFT):new At(C.left+qt/3,C.top+ut/3),this.topRightBorderDoubleOuterBox=V>0||X>0?ki(C.left+Et,C.top+ut/3,ne-kn/3,Ae-ut/3,si.TOP_RIGHT):new At(C.left+C.width-kn/3,C.top+ut/3),this.bottomRightBorderDoubleOuterBox=Se>0||Be>0?ki(C.left+fn,C.top+jn,Se-kn/3,Be-Nn/3,si.BOTTOM_RIGHT):new At(C.left+C.width-kn/3,C.top+C.height-Nn/3),this.bottomLeftBorderDoubleOuterBox=ze>0||st>0?ki(C.left+qt/3,C.top+jt,ze-qt/3,st-Nn/3,si.BOTTOM_LEFT):new At(C.left+qt/3,C.top+C.height-Nn/3),this.topLeftBorderDoubleInnerBox=V>0||X>0?ki(C.left+qt*2/3,C.top+ut*2/3,V-qt*2/3,X-ut*2/3,si.TOP_LEFT):new At(C.left+qt*2/3,C.top+ut*2/3),this.topRightBorderDoubleInnerBox=V>0||X>0?ki(C.left+Et,C.top+ut*2/3,ne-kn*2/3,Ae-ut*2/3,si.TOP_RIGHT):new At(C.left+C.width-kn*2/3,C.top+ut*2/3),this.bottomRightBorderDoubleInnerBox=Se>0||Be>0?ki(C.left+fn,C.top+jn,Se-kn*2/3,Be-Nn*2/3,si.BOTTOM_RIGHT):new At(C.left+C.width-kn*2/3,C.top+C.height-Nn*2/3),this.bottomLeftBorderDoubleInnerBox=ze>0||st>0?ki(C.left+qt*2/3,C.top+jt,ze-qt*2/3,st-Nn*2/3,si.BOTTOM_LEFT):new At(C.left+qt*2/3,C.top+C.height-Nn*2/3),this.topLeftBorderStroke=V>0||X>0?ki(C.left+qt/2,C.top+ut/2,V-qt/2,X-ut/2,si.TOP_LEFT):new At(C.left+qt/2,C.top+ut/2),this.topRightBorderStroke=V>0||X>0?ki(C.left+Et,C.top+ut/2,ne-kn/2,Ae-ut/2,si.TOP_RIGHT):new At(C.left+C.width-kn/2,C.top+ut/2),this.bottomRightBorderStroke=Se>0||Be>0?ki(C.left+fn,C.top+jn,Se-kn/2,Be-Nn/2,si.BOTTOM_RIGHT):new At(C.left+C.width-kn/2,C.top+C.height-Nn/2),this.bottomLeftBorderStroke=ze>0||st>0?ki(C.left+qt/2,C.top+jt,ze-qt/2,st-Nn/2,si.BOTTOM_LEFT):new At(C.left+qt/2,C.top+C.height-Nn/2),this.topLeftBorderBox=V>0||X>0?ki(C.left,C.top,V,X,si.TOP_LEFT):new At(C.left,C.top),this.topRightBorderBox=ne>0||Ae>0?ki(C.left+Et,C.top,ne,Ae,si.TOP_RIGHT):new At(C.left+C.width,C.top),this.bottomRightBorderBox=Se>0||Be>0?ki(C.left+fn,C.top+jn,Se,Be,si.BOTTOM_RIGHT):new At(C.left+C.width,C.top+C.height),this.bottomLeftBorderBox=ze>0||st>0?ki(C.left,C.top+jt,ze,st,si.BOTTOM_LEFT):new At(C.left,C.top+C.height),this.topLeftPaddingBox=V>0||X>0?ki(C.left+qt,C.top+ut,Math.max(0,V-qt),Math.max(0,X-ut),si.TOP_LEFT):new At(C.left+qt,C.top+ut),this.topRightPaddingBox=ne>0||Ae>0?ki(C.left+Math.min(Et,C.width-kn),C.top+ut,Et>C.width+kn?0:Math.max(0,ne-kn),Math.max(0,Ae-ut),si.TOP_RIGHT):new At(C.left+C.width-kn,C.top+ut),this.bottomRightPaddingBox=Se>0||Be>0?ki(C.left+Math.min(fn,C.width-qt),C.top+Math.min(jn,C.height-Nn),Math.max(0,Se-kn),Math.max(0,Be-Nn),si.BOTTOM_RIGHT):new At(C.left+C.width-kn,C.top+C.height-Nn),this.bottomLeftPaddingBox=ze>0||st>0?ki(C.left+qt,C.top+Math.min(jt,C.height-Nn),Math.max(0,ze-qt),Math.max(0,st-Nn),si.BOTTOM_LEFT):new At(C.left+qt,C.top+C.height-Nn),this.topLeftContentBox=V>0||X>0?ki(C.left+qt+bi,C.top+ut+Rr,Math.max(0,V-(qt+bi)),Math.max(0,X-(ut+Rr)),si.TOP_LEFT):new At(C.left+qt+bi,C.top+ut+Rr),this.topRightContentBox=ne>0||Ae>0?ki(C.left+Math.min(Et,C.width+qt+bi),C.top+ut+Rr,Et>C.width+qt+bi?0:ne-qt+bi,Ae-(ut+Rr),si.TOP_RIGHT):new At(C.left+C.width-(kn+Ro),C.top+ut+Rr),this.bottomRightContentBox=Se>0||Be>0?ki(C.left+Math.min(fn,C.width-(qt+bi)),C.top+Math.min(jn,C.height+ut+Rr),Math.max(0,Se-(kn+Ro)),Be-(Nn+Ya),si.BOTTOM_RIGHT):new At(C.left+C.width-(kn+Ro),C.top+C.height-(Nn+Ya)),this.bottomLeftContentBox=ze>0||st>0?ki(C.left+qt+bi,C.top+jt,Math.max(0,ze-(qt+bi)),st-(Nn+Ya),si.BOTTOM_LEFT):new At(C.left+qt+bi,C.top+C.height-(Nn+Ya))}return v}(),si=function(v){return v[v.TOP_LEFT=0]="TOP_LEFT",v[v.TOP_RIGHT=1]="TOP_RIGHT",v[v.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",v[v.BOTTOM_LEFT=3]="BOTTOM_LEFT",v}(si||{}),ki=function(v,w,E,C,N){var V=4*((Math.sqrt(2)-1)/3),X=E*V,ie=C*V,ne=v+E,Ae=w+C;switch(N){case si.TOP_LEFT:return new Lf(new At(v,Ae),new At(v,Ae-ie),new At(ne-X,w),new At(ne,w));case si.TOP_RIGHT:return new Lf(new At(v,w),new At(v+X,w),new At(ne,Ae-ie),new At(ne,Ae));case si.BOTTOM_RIGHT:return new Lf(new At(ne,w),new At(ne,w+ie),new At(v+X,Ae),new At(v,Ae));case si.BOTTOM_LEFT:default:return new Lf(new At(ne,Ae),new At(ne-X,Ae),new At(v,w+ie),new At(v,w))}},a0=function(v){return[v.topLeftBorderBox,v.topRightBorderBox,v.bottomRightBorderBox,v.bottomLeftBorderBox]},ET=function(v){return[v.topLeftContentBox,v.topRightContentBox,v.bottomRightContentBox,v.bottomLeftContentBox]},l0=function(v){return[v.topLeftPaddingBox,v.topRightPaddingBox,v.bottomRightPaddingBox,v.bottomLeftPaddingBox]},ST=function(){function v(w,E,C){this.offsetX=w,this.offsetY=E,this.matrix=C,this.type=0,this.target=6}return v}(),wh=function(){function v(w,E){this.path=w,this.target=E,this.type=1}return v}(),Wk=function(){function v(w){this.opacity=w,this.type=2,this.target=6}return v}(),Kk=function(v){return v.type===0},SC=function(v){return v.type===1},xT=function(v){return v.type===2},xC=function(){function v(w){this.element=w,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return v}(),IT=function(){function v(w,E){if(this.container=w,this.parent=E,this.effects=[],this.curves=new CT(this.container),this.container.styles.opacity<1&&this.effects.push(new Wk(this.container.styles.opacity)),this.container.styles.transform!==null){var C=this.container.bounds.left+this.container.styles.transformOrigin[0].number,N=this.container.bounds.top+this.container.styles.transformOrigin[1].number,V=this.container.styles.transform;this.effects.push(new ST(C,N,V))}if(this.container.styles.overflowX!==Xc.VISIBLE){var X=a0(this.curves),ie=l0(this.curves);bT(X,ie)?this.effects.push(new wh(X,6)):(this.effects.push(new wh(X,2)),this.effects.push(new wh(ie,4)))}}return v.prototype.getEffects=function(w){for(var E=[Bs.ABSOLUTE,Bs.FIXED].indexOf(this.container.styles.position)===-1,C=this.parent,N=this.effects.slice(0);C;){var V=C.effects.filter(function(ne){return!SC(ne)});if(E||C.container.styles.position!==Bs.STATIC||!C.parent){if(N.unshift.apply(N,V),E=[Bs.ABSOLUTE,Bs.FIXED].indexOf(C.container.styles.position)===-1,C.container.styles.overflowX!==Xc.VISIBLE){var X=a0(C.curves),ie=l0(C.curves);bT(X,ie)||N.unshift(new wh(ie,6))}}else N.unshift.apply(N,V);C=C.parent}return N.filter(function(ne){return tr(ne.target,w)})},v}(),Ty=function(v,w,E,C){v.container.elements.forEach(function(N){var V=tr(N.flags,4),X=tr(N.flags,2),ie=new IT(N,v);tr(N.styles.display,2048)&&C.push(ie);var ne=tr(N.flags,8)?[]:C;if(V||X){var Ae=V||N.styles.isPositioned()?E:w,ye=new xC(ie);if(N.styles.isPositioned()||N.styles.opacity<1||N.styles.isTransformed()){var Se=N.styles.zIndex.order;if(Se<0){var Be=0;Ae.negativeZIndex.some(function(ze,st){return Se>ze.element.container.styles.zIndex.order?(Be=st,!1):Be>0}),Ae.negativeZIndex.splice(Be,0,ye)}else if(Se>0){var gt=0;Ae.positiveZIndex.some(function(ze,st){return Se>=ze.element.container.styles.zIndex.order?(gt=st+1,!1):gt>0}),Ae.positiveZIndex.splice(gt,0,ye)}else Ae.zeroOrAutoZIndexOrTransformedOrOpacity.push(ye)}else N.styles.isFloating()?Ae.nonPositionedFloats.push(ye):Ae.nonPositionedInlineLevel.push(ye);Ty(ie,ye,V?ye:E,ne)}else N.styles.isInlineLevel()?w.inlineLevel.push(ie):w.nonInlineLevel.push(ie),Ty(ie,w,E,ne);tr(N.flags,8)&&IC(N,ne)})},IC=function(v,w){for(var E=v instanceof gy?v.start:1,C=v instanceof gy?v.reversed:!1,N=0;N<w.length;N++){var V=w[N];V.container instanceof dC&&typeof V.container.value=="number"&&V.container.value!==0&&(E=V.container.value),V.listValue=s0(E,V.container.styles.listStyleType,!0),E+=C?-1:1}},TT=function(v){var w=new IT(v,null),E=new xC(w),C=[];return Ty(w,E,E,C),IC(w.container,C),E},TC=function(v,w){switch(w){case 0:return $a(v.topLeftBorderBox,v.topLeftPaddingBox,v.topRightBorderBox,v.topRightPaddingBox);case 1:return $a(v.topRightBorderBox,v.topRightPaddingBox,v.bottomRightBorderBox,v.bottomRightPaddingBox);case 2:return $a(v.bottomRightBorderBox,v.bottomRightPaddingBox,v.bottomLeftBorderBox,v.bottomLeftPaddingBox);case 3:default:return $a(v.bottomLeftBorderBox,v.bottomLeftPaddingBox,v.topLeftBorderBox,v.topLeftPaddingBox)}},DC=function(v,w){switch(w){case 0:return $a(v.topLeftBorderBox,v.topLeftBorderDoubleOuterBox,v.topRightBorderBox,v.topRightBorderDoubleOuterBox);case 1:return $a(v.topRightBorderBox,v.topRightBorderDoubleOuterBox,v.bottomRightBorderBox,v.bottomRightBorderDoubleOuterBox);case 2:return $a(v.bottomRightBorderBox,v.bottomRightBorderDoubleOuterBox,v.bottomLeftBorderBox,v.bottomLeftBorderDoubleOuterBox);case 3:default:return $a(v.bottomLeftBorderBox,v.bottomLeftBorderDoubleOuterBox,v.topLeftBorderBox,v.topLeftBorderDoubleOuterBox)}},DT=function(v,w){switch(w){case 0:return $a(v.topLeftBorderDoubleInnerBox,v.topLeftPaddingBox,v.topRightBorderDoubleInnerBox,v.topRightPaddingBox);case 1:return $a(v.topRightBorderDoubleInnerBox,v.topRightPaddingBox,v.bottomRightBorderDoubleInnerBox,v.bottomRightPaddingBox);case 2:return $a(v.bottomRightBorderDoubleInnerBox,v.bottomRightPaddingBox,v.bottomLeftBorderDoubleInnerBox,v.bottomLeftPaddingBox);case 3:default:return $a(v.bottomLeftBorderDoubleInnerBox,v.bottomLeftPaddingBox,v.topLeftBorderDoubleInnerBox,v.topLeftPaddingBox)}},MC=function(v,w){switch(w){case 0:return Dy(v.topLeftBorderStroke,v.topRightBorderStroke);case 1:return Dy(v.topRightBorderStroke,v.bottomRightBorderStroke);case 2:return Dy(v.bottomRightBorderStroke,v.bottomLeftBorderStroke);case 3:default:return Dy(v.bottomLeftBorderStroke,v.topLeftBorderStroke)}},Dy=function(v,w){var E=[];return Ol(v)?E.push(v.subdivide(.5,!1)):E.push(v),Ol(w)?E.push(w.subdivide(.5,!0)):E.push(w),E},$a=function(v,w,E,C){var N=[];return Ol(v)?N.push(v.subdivide(.5,!1)):N.push(v),Ol(E)?N.push(E.subdivide(.5,!0)):N.push(E),Ol(C)?N.push(C.subdivide(.5,!0).reverse()):N.push(C),Ol(w)?N.push(w.subdivide(.5,!1).reverse()):N.push(w),N},c0=function(v){var w=v.bounds,E=v.styles;return w.add(E.borderLeftWidth,E.borderTopWidth,-(E.borderRightWidth+E.borderLeftWidth),-(E.borderTopWidth+E.borderBottomWidth))},IA=function(v){var w=v.styles,E=v.bounds,C=li(w.paddingLeft,E.width),N=li(w.paddingRight,E.width),V=li(w.paddingTop,E.width),X=li(w.paddingBottom,E.width);return E.add(C+w.borderLeftWidth,V+w.borderTopWidth,-(w.borderRightWidth+w.borderLeftWidth+C+N),-(w.borderTopWidth+w.borderBottomWidth+V+X))},u0=function(v,w){return v===0?w.bounds:v===2?IA(w):c0(w)},d0=function(v,w){return v===ja.BORDER_BOX?w.bounds:v===ja.CONTENT_BOX?IA(w):c0(w)},bh=function(v,w,E){var C=u0(Hf(v.styles.backgroundOrigin,w),v),N=d0(Hf(v.styles.backgroundClip,w),v),V=zk(Hf(v.styles.backgroundSize,w),E,C),X=V[0],ie=V[1],ne=Qc(Hf(v.styles.backgroundPosition,w),C.width-X,C.height-ie),Ae=MT(Hf(v.styles.backgroundRepeat,w),ne,V,C,N),ye=Math.round(C.left+ne[0]),Se=Math.round(C.top+ne[1]);return[Ae,ye,Se,X,ie]},Uf=function(v){return xn(v)&&v.value===Kc.AUTO},h0=function(v){return typeof v=="number"},zk=function(v,w,E){var C=w[0],N=w[1],V=w[2],X=v[0],ie=v[1];if(!X)return[0,0];if(Ji(X)&&ie&&Ji(ie))return[li(X,E.width),li(ie,E.height)];var ne=h0(V);if(xn(X)&&(X.value===Kc.CONTAIN||X.value===Kc.COVER)){if(h0(V)){var Ae=E.width/E.height;return Ae<V!=(X.value===Kc.COVER)?[E.width,E.width/V]:[E.height*V,E.height]}return[E.width,E.height]}var ye=h0(C),Se=h0(N),Be=ye||Se;if(Uf(X)&&(!ie||Uf(ie))){if(ye&&Se)return[C,N];if(!ne&&!Be)return[E.width,E.height];if(Be&&ne){var gt=ye?C:N*V,ze=Se?N:C/V;return[gt,ze]}var st=ye?C:E.width,sn=Se?N:E.height;return[st,sn]}if(ne){var It=0,Et=0;return Ji(X)?It=li(X,E.width):Ji(ie)&&(Et=li(ie,E.height)),Uf(X)?It=Et*V:(!ie||Uf(ie))&&(Et=It/V),[It,Et]}var jn=null,fn=null;if(Ji(X)?jn=li(X,E.width):ie&&Ji(ie)&&(fn=li(ie,E.height)),jn!==null&&(!ie||Uf(ie))&&(fn=ye&&Se?jn/C*N:E.height),fn!==null&&Uf(X)&&(jn=ye&&Se?fn/N*C:E.width),jn!==null&&fn!==null)return[jn,fn];throw new Error("Unable to calculate background-size for element")},Hf=function(v,w){var E=v[w];return typeof E>"u"?v[0]:E},MT=function(v,w,E,C,N){var V=w[0],X=w[1],ie=E[0],ne=E[1];switch(v){case Dn.REPEAT_X:return[new At(Math.round(C.left),Math.round(C.top+X)),new At(Math.round(C.left+C.width),Math.round(C.top+X)),new At(Math.round(C.left+C.width),Math.round(ne+C.top+X)),new At(Math.round(C.left),Math.round(ne+C.top+X))];case Dn.REPEAT_Y:return[new At(Math.round(C.left+V),Math.round(C.top)),new At(Math.round(C.left+V+ie),Math.round(C.top)),new At(Math.round(C.left+V+ie),Math.round(C.height+C.top)),new At(Math.round(C.left+V),Math.round(C.height+C.top))];case Dn.NO_REPEAT:return[new At(Math.round(C.left+V),Math.round(C.top+X)),new At(Math.round(C.left+V+ie),Math.round(C.top+X)),new At(Math.round(C.left+V+ie),Math.round(C.top+X+ne)),new At(Math.round(C.left+V),Math.round(C.top+X+ne))];default:return[new At(Math.round(N.left),Math.round(N.top)),new At(Math.round(N.left+N.width),Math.round(N.top)),new At(Math.round(N.left+N.width),Math.round(N.height+N.top)),new At(Math.round(N.left),Math.round(N.height+N.top))]}},f0="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",p0="Hidden Text",OT=function(){function v(w){this._data={},this._document=w}return v.prototype.parseMetrics=function(w,E){var C=this._document.createElement("div"),N=this._document.createElement("img"),V=this._document.createElement("span"),X=this._document.body;C.style.visibility="hidden",C.style.fontFamily=w,C.style.fontSize=E,C.style.margin="0",C.style.padding="0",X.appendChild(C),N.src=f0,N.width=1,N.height=1,N.style.margin="0",N.style.padding="0",N.style.verticalAlign="baseline",V.style.fontFamily=w,V.style.fontSize=E,V.style.margin="0",V.style.padding="0",V.appendChild(this._document.createTextNode(p0)),C.appendChild(V),C.appendChild(N);var ie=N.offsetTop-V.offsetTop+2;C.removeChild(V),C.appendChild(this._document.createTextNode(p0)),C.style.lineHeight="normal",N.style.verticalAlign="super";var ne=N.offsetTop-C.offsetTop+2;return X.removeChild(C),{baseline:ie,middle:ne}},v.prototype.getMetrics=function(w,E){var C=w+" "+E;return typeof this._data[C]>"u"&&(this._data[C]=this.parseMetrics(w,E)),this._data[C]},v}(),FT=function(){function v(w,E){this.context=w,this.options=E}return v}(),OC=1e4,FC=function(v){t(w,v);function w(E,C){var N=v.call(this,E,C)||this;return N._activeEffects=[],N.canvas=C.canvas?C.canvas:document.createElement("canvas"),N.ctx=N.canvas.getContext("2d"),C.canvas||(N.canvas.width=Math.floor(C.width*C.scale),N.canvas.height=Math.floor(C.height*C.scale),N.canvas.style.width=C.width+"px",N.canvas.style.height=C.height+"px"),N.fontMetrics=new OT(document),N.ctx.scale(N.options.scale,N.options.scale),N.ctx.translate(-C.x,-C.y),N.ctx.textBaseline="bottom",N._activeEffects=[],N.context.logger.debug("Canvas renderer initialized ("+C.width+"x"+C.height+") with scale "+C.scale),N}return w.prototype.applyEffects=function(E){for(var C=this;this._activeEffects.length;)this.popEffect();E.forEach(function(N){return C.applyEffect(N)})},w.prototype.applyEffect=function(E){this.ctx.save(),xT(E)&&(this.ctx.globalAlpha=E.opacity),Kk(E)&&(this.ctx.translate(E.offsetX,E.offsetY),this.ctx.transform(E.matrix[0],E.matrix[1],E.matrix[2],E.matrix[3],E.matrix[4],E.matrix[5]),this.ctx.translate(-E.offsetX,-E.offsetY)),SC(E)&&(this.path(E.path),this.ctx.clip()),this._activeEffects.push(E)},w.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},w.prototype.renderStack=function(E){return i(this,void 0,void 0,function(){var C;return r(this,function(N){switch(N.label){case 0:return C=E.element.container.styles,C.isVisible()?[4,this.renderStackContent(E)]:[3,2];case 1:N.sent(),N.label=2;case 2:return[2]}})})},w.prototype.renderNode=function(E){return i(this,void 0,void 0,function(){return r(this,function(C){switch(C.label){case 0:if(tr(E.container.flags,16))debugger;return E.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(E)]:[3,3];case 1:return C.sent(),[4,this.renderNodeContent(E)];case 2:C.sent(),C.label=3;case 3:return[2]}})})},w.prototype.renderTextWithLetterSpacing=function(E,C,N){var V=this;if(C===0)this.ctx.fillText(E.text,E.bounds.left,E.bounds.top+N);else{var X=hy(E.text);X.reduce(function(ie,ne){return V.ctx.fillText(ne,ie,E.bounds.top+N),ie+V.ctx.measureText(ne).width},E.bounds.left)}},w.prototype.createFontStyle=function(E){var C=E.fontVariant.filter(function(X){return X==="normal"||X==="small-caps"}).join(""),N=E.fontFamily.join(", "),V=Ir(E.fontSize)?""+E.fontSize.number+E.fontSize.unit:E.fontSize.number+"px";return[[E.fontStyle,C,E.fontWeight,V,N].join(" "),N,V]},w.prototype.renderTextNode=function(E,C){return i(this,void 0,void 0,function(){var N,V,X,ie,ne,Ae,ye,Se,Be=this;return r(this,function(gt){return N=this.createFontStyle(C),V=N[0],X=N[1],ie=N[2],this.ctx.font=V,this.ctx.direction=C.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ne=this.fontMetrics.getMetrics(X,ie),Ae=ne.baseline,ye=ne.middle,Se=C.paintOrder,E.textBounds.forEach(function(ze){Se.forEach(function(st){switch(st){case Ps.FILL:Be.ctx.fillStyle=Tr(C.color),Be.renderTextWithLetterSpacing(ze,C.letterSpacing,Ae);var sn=C.textShadow;sn.length&&ze.text.trim().length&&(sn.slice(0).reverse().forEach(function(It){Be.ctx.shadowColor=Tr(It.color),Be.ctx.shadowOffsetX=It.offsetX.number*Be.options.scale,Be.ctx.shadowOffsetY=It.offsetY.number*Be.options.scale,Be.ctx.shadowBlur=It.blur.number,Be.renderTextWithLetterSpacing(ze,C.letterSpacing,Ae)}),Be.ctx.shadowColor="",Be.ctx.shadowOffsetX=0,Be.ctx.shadowOffsetY=0,Be.ctx.shadowBlur=0),C.textDecorationLine.length&&(Be.ctx.fillStyle=Tr(C.textDecorationColor||C.color),C.textDecorationLine.forEach(function(It){switch(It){case 1:Be.ctx.fillRect(ze.bounds.left,Math.round(ze.bounds.top+Ae),ze.bounds.width,1);break;case 2:Be.ctx.fillRect(ze.bounds.left,Math.round(ze.bounds.top),ze.bounds.width,1);break;case 3:Be.ctx.fillRect(ze.bounds.left,Math.ceil(ze.bounds.top+ye),ze.bounds.width,1);break}}));break;case Ps.STROKE:C.webkitTextStrokeWidth&&ze.text.trim().length&&(Be.ctx.strokeStyle=Tr(C.webkitTextStrokeColor),Be.ctx.lineWidth=C.webkitTextStrokeWidth,Be.ctx.lineJoin=window.chrome?"miter":"round",Be.ctx.strokeText(ze.text,ze.bounds.left,ze.bounds.top+Ae)),Be.ctx.strokeStyle="",Be.ctx.lineWidth=0,Be.ctx.lineJoin="miter";break}})}),[2]})})},w.prototype.renderReplacedElement=function(E,C,N){if(N&&E.intrinsicWidth>0&&E.intrinsicHeight>0){var V=IA(E),X=l0(C);this.path(X),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(N,0,0,E.intrinsicWidth,E.intrinsicHeight,V.left,V.top,V.width,V.height),this.ctx.restore()}},w.prototype.renderNodeContent=function(E){return i(this,void 0,void 0,function(){var C,N,V,X,ie,ne,Et,Et,Ae,ye,Se,Be,fn,gt,ze,jt,st,sn,It,Et,jn,fn,jt;return r(this,function(ut){switch(ut.label){case 0:this.applyEffects(E.getEffects(4)),C=E.container,N=E.curves,V=C.styles,X=0,ie=C.textNodes,ut.label=1;case 1:return X<ie.length?(ne=ie[X],[4,this.renderTextNode(ne,V)]):[3,4];case 2:ut.sent(),ut.label=3;case 3:return X++,[3,1];case 4:if(!(C instanceof e0))return[3,8];ut.label=5;case 5:return ut.trys.push([5,7,,8]),[4,this.context.cache.match(C.src)];case 6:return Et=ut.sent(),this.renderReplacedElement(C,N,Et),[3,8];case 7:return ut.sent(),this.context.logger.error("Error loading image "+C.src),[3,8];case 8:if(C instanceof iT&&this.renderReplacedElement(C,N,C.canvas),!(C instanceof Ay))return[3,12];ut.label=9;case 9:return ut.trys.push([9,11,,12]),[4,this.context.cache.match(C.svg)];case 10:return Et=ut.sent(),this.renderReplacedElement(C,N,Et),[3,12];case 11:return ut.sent(),this.context.logger.error("Error loading svg "+C.svg.substring(0,255)),[3,12];case 12:return C instanceof i0&&C.tree?(Ae=new w(this.context,{scale:this.options.scale,backgroundColor:C.backgroundColor,x:0,y:0,width:C.width,height:C.height}),[4,Ae.render(C.tree)]):[3,14];case 13:ye=ut.sent(),C.width&&C.height&&this.ctx.drawImage(ye,0,0,C.width,C.height,C.bounds.left,C.bounds.top,C.bounds.width,C.bounds.height),ut.label=14;case 14:if(C instanceof hC&&(Se=Math.min(C.bounds.width,C.bounds.height),C.type===CA?C.checked&&(this.ctx.save(),this.path([new At(C.bounds.left+Se*.39363,C.bounds.top+Se*.79),new At(C.bounds.left+Se*.16,C.bounds.top+Se*.5549),new At(C.bounds.left+Se*.27347,C.bounds.top+Se*.44071),new At(C.bounds.left+Se*.39694,C.bounds.top+Se*.5649),new At(C.bounds.left+Se*.72983,C.bounds.top+Se*.23),new At(C.bounds.left+Se*.84,C.bounds.top+Se*.34085),new At(C.bounds.left+Se*.39363,C.bounds.top+Se*.79)]),this.ctx.fillStyle=Tr(n0),this.ctx.fill(),this.ctx.restore()):C.type===_y&&C.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(C.bounds.left+Se/2,C.bounds.top+Se/2,Se/4,0,Math.PI*2,!0),this.ctx.fillStyle=Tr(n0),this.ctx.fill(),this.ctx.restore())),BT(C)&&C.value.length){switch(Be=this.createFontStyle(V),fn=Be[0],gt=Be[1],ze=this.fontMetrics.getMetrics(fn,gt).baseline,this.ctx.font=fn,this.ctx.fillStyle=Tr(V.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=$k(C.styles.textAlign),jt=IA(C),st=0,C.styles.textAlign){case bl.CENTER:st+=jt.width/2;break;case bl.RIGHT:st+=jt.width;break}sn=jt.add(st,0,0,-jt.height/2+1),this.ctx.save(),this.path([new At(jt.left,jt.top),new At(jt.left+jt.width,jt.top),new At(jt.left+jt.width,jt.top+jt.height),new At(jt.left,jt.top+jt.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Zm(C.value,sn),V.letterSpacing,ze),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!tr(C.styles.display,2048))return[3,20];if(C.styles.listStyleImage===null)return[3,19];if(It=C.styles.listStyleImage,It.type!==Ao.URL)return[3,18];Et=void 0,jn=It.url,ut.label=15;case 15:return ut.trys.push([15,17,,18]),[4,this.context.cache.match(jn)];case 16:return Et=ut.sent(),this.ctx.drawImage(Et,C.bounds.left-(Et.width+10),C.bounds.top),[3,18];case 17:return ut.sent(),this.context.logger.error("Error loading list-style-image "+jn),[3,18];case 18:return[3,20];case 19:E.listValue&&C.styles.listStyleType!==ke.NONE&&(fn=this.createFontStyle(V)[0],this.ctx.font=fn,this.ctx.fillStyle=Tr(V.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",jt=new s(C.bounds.left,C.bounds.top+li(C.styles.paddingTop,C.bounds.width),C.bounds.width,lA(V.lineHeight,V.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Zm(E.listValue,jt),V.letterSpacing,lA(V.lineHeight,V.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),ut.label=20;case 20:return[2]}})})},w.prototype.renderStackContent=function(E){return i(this,void 0,void 0,function(){var C,N,It,V,X,It,ie,ne,It,Ae,ye,It,Se,Be,It,gt,ze,It,st,sn,It;return r(this,function(Et){switch(Et.label){case 0:if(tr(E.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(E.element)];case 1:Et.sent(),C=0,N=E.negativeZIndex,Et.label=2;case 2:return C<N.length?(It=N[C],[4,this.renderStack(It)]):[3,5];case 3:Et.sent(),Et.label=4;case 4:return C++,[3,2];case 5:return[4,this.renderNodeContent(E.element)];case 6:Et.sent(),V=0,X=E.nonInlineLevel,Et.label=7;case 7:return V<X.length?(It=X[V],[4,this.renderNode(It)]):[3,10];case 8:Et.sent(),Et.label=9;case 9:return V++,[3,7];case 10:ie=0,ne=E.nonPositionedFloats,Et.label=11;case 11:return ie<ne.length?(It=ne[ie],[4,this.renderStack(It)]):[3,14];case 12:Et.sent(),Et.label=13;case 13:return ie++,[3,11];case 14:Ae=0,ye=E.nonPositionedInlineLevel,Et.label=15;case 15:return Ae<ye.length?(It=ye[Ae],[4,this.renderStack(It)]):[3,18];case 16:Et.sent(),Et.label=17;case 17:return Ae++,[3,15];case 18:Se=0,Be=E.inlineLevel,Et.label=19;case 19:return Se<Be.length?(It=Be[Se],[4,this.renderNode(It)]):[3,22];case 20:Et.sent(),Et.label=21;case 21:return Se++,[3,19];case 22:gt=0,ze=E.zeroOrAutoZIndexOrTransformedOrOpacity,Et.label=23;case 23:return gt<ze.length?(It=ze[gt],[4,this.renderStack(It)]):[3,26];case 24:Et.sent(),Et.label=25;case 25:return gt++,[3,23];case 26:st=0,sn=E.positiveZIndex,Et.label=27;case 27:return st<sn.length?(It=sn[st],[4,this.renderStack(It)]):[3,30];case 28:Et.sent(),Et.label=29;case 29:return st++,[3,27];case 30:return[2]}})})},w.prototype.mask=function(E){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(E.slice(0).reverse()),this.ctx.closePath()},w.prototype.path=function(E){this.ctx.beginPath(),this.formatPath(E),this.ctx.closePath()},w.prototype.formatPath=function(E){var C=this;E.forEach(function(N,V){var X=Ol(N)?N.start:N;V===0?C.ctx.moveTo(X.x,X.y):C.ctx.lineTo(X.x,X.y),Ol(N)&&C.ctx.bezierCurveTo(N.startControl.x,N.startControl.y,N.endControl.x,N.endControl.y,N.end.x,N.end.y)})},w.prototype.renderRepeat=function(E,C,N,V){this.path(E),this.ctx.fillStyle=C,this.ctx.translate(N,V),this.ctx.fill(),this.ctx.translate(-N,-V)},w.prototype.resizeImage=function(E,C,N){var V;if(E.width===C&&E.height===N)return E;var X=(V=this.canvas.ownerDocument)!==null&&V!==void 0?V:document,ie=X.createElement("canvas");ie.width=Math.max(1,C),ie.height=Math.max(1,N);var ne=ie.getContext("2d");return ne.drawImage(E,0,0,E.width,E.height,0,0,C,N),ie},w.prototype.renderBackgroundImage=function(E){return i(this,void 0,void 0,function(){var C,N,V,X,ie,ne;return r(this,function(Ae){switch(Ae.label){case 0:C=E.styles.backgroundImage.length-1,N=function(ye){var Se,Be,gt,Rr,Vs,us,bi,Lo,Nn,ze,Rr,Vs,us,bi,Lo,st,sn,It,Et,jn,fn,jt,ut,kn,Nn,qt,Rr,Ro,Ya,bi,Lo,ld,Vs,us,Vf,tu,nu,Qf,cd,ud,iu,ru;return r(this,function(jf){switch(jf.label){case 0:if(ye.type!==Ao.URL)return[3,5];Se=void 0,Be=ye.url,jf.label=1;case 1:return jf.trys.push([1,3,,4]),[4,V.context.cache.match(Be)];case 2:return Se=jf.sent(),[3,4];case 3:return jf.sent(),V.context.logger.error("Error loading background-image "+Be),[3,4];case 4:return Se&&(gt=bh(E,C,[Se.width,Se.height,Se.width/Se.height]),Rr=gt[0],Vs=gt[1],us=gt[2],bi=gt[3],Lo=gt[4],Nn=V.ctx.createPattern(V.resizeImage(Se,bi,Lo),"repeat"),V.renderRepeat(Rr,Nn,Vs,us)),[3,6];case 5:Wa(ye)?(ze=bh(E,C,[null,null,null]),Rr=ze[0],Vs=ze[1],us=ze[2],bi=ze[3],Lo=ze[4],st=U_(ye.angle,bi,Lo),sn=st[0],It=st[1],Et=st[2],jn=st[3],fn=st[4],jt=document.createElement("canvas"),jt.width=bi,jt.height=Lo,ut=jt.getContext("2d"),kn=ut.createLinearGradient(It,jn,Et,fn),L_(ye.stops,sn).forEach(function(DA){return kn.addColorStop(DA.stop,Tr(DA.color))}),ut.fillStyle=kn,ut.fillRect(0,0,bi,Lo),bi>0&&Lo>0&&(Nn=V.ctx.createPattern(jt,"repeat"),V.renderRepeat(Rr,Nn,Vs,us))):wl(ye)&&(qt=bh(E,C,[null,null,null]),Rr=qt[0],Ro=qt[1],Ya=qt[2],bi=qt[3],Lo=qt[4],ld=ye.position.length===0?[iA]:ye.position,Vs=li(ld[0],bi),us=li(ld[ld.length-1],Lo),Vf=wm(ye,Vs,us,bi,Lo),tu=Vf[0],nu=Vf[1],tu>0&&nu>0&&(Qf=V.ctx.createRadialGradient(Ro+Vs,Ya+us,0,Ro+Vs,Ya+us,tu),L_(ye.stops,tu*2).forEach(function(DA){return Qf.addColorStop(DA.stop,Tr(DA.color))}),V.path(Rr),V.ctx.fillStyle=Qf,tu!==nu?(cd=E.bounds.left+.5*E.bounds.width,ud=E.bounds.top+.5*E.bounds.height,iu=nu/tu,ru=1/iu,V.ctx.save(),V.ctx.translate(cd,ud),V.ctx.transform(1,0,0,iu,0,0),V.ctx.translate(-cd,-ud),V.ctx.fillRect(Ro,ru*(Ya-ud)+ud,bi,Lo*ru),V.ctx.restore()):V.ctx.fill())),jf.label=6;case 6:return C--,[2]}})},V=this,X=0,ie=E.styles.backgroundImage.slice(0).reverse(),Ae.label=1;case 1:return X<ie.length?(ne=ie[X],[5,N(ne)]):[3,4];case 2:Ae.sent(),Ae.label=3;case 3:return X++,[3,1];case 4:return[2]}})})},w.prototype.renderSolidBorder=function(E,C,N){return i(this,void 0,void 0,function(){return r(this,function(V){return this.path(TC(N,C)),this.ctx.fillStyle=Tr(E),this.ctx.fill(),[2]})})},w.prototype.renderDoubleBorder=function(E,C,N,V){return i(this,void 0,void 0,function(){var X,ie;return r(this,function(ne){switch(ne.label){case 0:return C<3?[4,this.renderSolidBorder(E,N,V)]:[3,2];case 1:return ne.sent(),[2];case 2:return X=DC(V,N),this.path(X),this.ctx.fillStyle=Tr(E),this.ctx.fill(),ie=DT(V,N),this.path(ie),this.ctx.fill(),[2]}})})},w.prototype.renderNodeBackgroundAndBorders=function(E){return i(this,void 0,void 0,function(){var C,N,V,X,ie,ne,Ae,ye,Se=this;return r(this,function(Be){switch(Be.label){case 0:return this.applyEffects(E.getEffects(2)),C=E.container.styles,N=!Qa(C.backgroundColor)||C.backgroundImage.length,V=[{style:C.borderTopStyle,color:C.borderTopColor,width:C.borderTopWidth},{style:C.borderRightStyle,color:C.borderRightColor,width:C.borderRightWidth},{style:C.borderBottomStyle,color:C.borderBottomColor,width:C.borderBottomWidth},{style:C.borderLeftStyle,color:C.borderLeftColor,width:C.borderLeftWidth}],X=qk(Hf(C.backgroundClip,0),E.curves),N||C.boxShadow.length?(this.ctx.save(),this.path(X),this.ctx.clip(),Qa(C.backgroundColor)||(this.ctx.fillStyle=Tr(C.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(E.container)]):[3,2];case 1:Be.sent(),this.ctx.restore(),C.boxShadow.slice(0).reverse().forEach(function(gt){Se.ctx.save();var ze=a0(E.curves),st=gt.inset?0:OC,sn=Gk(ze,-st+(gt.inset?1:-1)*gt.spread.number,(gt.inset?1:-1)*gt.spread.number,gt.spread.number*(gt.inset?-2:2),gt.spread.number*(gt.inset?-2:2));gt.inset?(Se.path(ze),Se.ctx.clip(),Se.mask(sn)):(Se.mask(ze),Se.ctx.clip(),Se.path(sn)),Se.ctx.shadowOffsetX=gt.offsetX.number+st,Se.ctx.shadowOffsetY=gt.offsetY.number,Se.ctx.shadowColor=Tr(gt.color),Se.ctx.shadowBlur=gt.blur.number,Se.ctx.fillStyle=gt.inset?Tr(gt.color):"rgba(0,0,0,1)",Se.ctx.fill(),Se.ctx.restore()}),Be.label=2;case 2:ie=0,ne=0,Ae=V,Be.label=3;case 3:return ne<Ae.length?(ye=Ae[ne],ye.style!==Ti.NONE&&!Qa(ye.color)&&ye.width>0?ye.style!==Ti.DASHED?[3,5]:[4,this.renderDashedDottedBorder(ye.color,ye.width,ie,E.curves,Ti.DASHED)]:[3,11]):[3,13];case 4:return Be.sent(),[3,11];case 5:return ye.style!==Ti.DOTTED?[3,7]:[4,this.renderDashedDottedBorder(ye.color,ye.width,ie,E.curves,Ti.DOTTED)];case 6:return Be.sent(),[3,11];case 7:return ye.style!==Ti.DOUBLE?[3,9]:[4,this.renderDoubleBorder(ye.color,ye.width,ie,E.curves)];case 8:return Be.sent(),[3,11];case 9:return[4,this.renderSolidBorder(ye.color,ie,E.curves)];case 10:Be.sent(),Be.label=11;case 11:ie++,Be.label=12;case 12:return ne++,[3,3];case 13:return[2]}})})},w.prototype.renderDashedDottedBorder=function(E,C,N,V,X){return i(this,void 0,void 0,function(){var ie,ne,Ae,ye,Se,Be,gt,ze,st,sn,It,Et,jn,fn,jt,ut,jt,ut;return r(this,function(kn){return this.ctx.save(),ie=MC(V,N),ne=TC(V,N),X===Ti.DASHED&&(this.path(ne),this.ctx.clip()),Ol(ne[0])?(Ae=ne[0].start.x,ye=ne[0].start.y):(Ae=ne[0].x,ye=ne[0].y),Ol(ne[1])?(Se=ne[1].end.x,Be=ne[1].end.y):(Se=ne[1].x,Be=ne[1].y),N===0||N===2?gt=Math.abs(Ae-Se):gt=Math.abs(ye-Be),this.ctx.beginPath(),X===Ti.DOTTED?this.formatPath(ie):this.formatPath(ne.slice(0,2)),ze=C<3?C*3:C*2,st=C<3?C*2:C,X===Ti.DOTTED&&(ze=C,st=C),sn=!0,gt<=ze*2?sn=!1:gt<=ze*2+st?(It=gt/(2*ze+st),ze*=It,st*=It):(Et=Math.floor((gt+st)/(ze+st)),jn=(gt-Et*ze)/(Et-1),fn=(gt-(Et+1)*ze)/Et,st=fn<=0||Math.abs(st-jn)<Math.abs(st-fn)?jn:fn),sn&&(X===Ti.DOTTED?this.ctx.setLineDash([0,ze+st]):this.ctx.setLineDash([ze,st])),X===Ti.DOTTED?(this.ctx.lineCap="round",this.ctx.lineWidth=C):this.ctx.lineWidth=C*2+1.1,this.ctx.strokeStyle=Tr(E),this.ctx.stroke(),this.ctx.setLineDash([]),X===Ti.DASHED&&(Ol(ne[0])&&(jt=ne[3],ut=ne[0],this.ctx.beginPath(),this.formatPath([new At(jt.end.x,jt.end.y),new At(ut.start.x,ut.start.y)]),this.ctx.stroke()),Ol(ne[1])&&(jt=ne[1],ut=ne[2],this.ctx.beginPath(),this.formatPath([new At(jt.end.x,jt.end.y),new At(ut.start.x,ut.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},w.prototype.render=function(E){return i(this,void 0,void 0,function(){var C;return r(this,function(N){switch(N.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Tr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),C=TT(E),[4,this.renderStack(C)];case 1:return N.sent(),this.applyEffects([]),[2,this.canvas]}})})},w}(FT),BT=function(v){return v instanceof yy||v instanceof oT?!0:v instanceof hC&&v.type!==_y&&v.type!==CA},qk=function(v,w){switch(v){case ja.BORDER_BOX:return a0(w);case ja.CONTENT_BOX:return ET(w);case ja.PADDING_BOX:default:return l0(w)}},$k=function(v){switch(v){case bl.CENTER:return"center";case bl.RIGHT:return"right";case bl.LEFT:default:return"left"}},BC=function(v){t(w,v);function w(E,C){var N=v.call(this,E,C)||this;return N.canvas=C.canvas?C.canvas:document.createElement("canvas"),N.ctx=N.canvas.getContext("2d"),N.options=C,N.canvas.width=Math.floor(C.width*C.scale),N.canvas.height=Math.floor(C.height*C.scale),N.canvas.style.width=C.width+"px",N.canvas.style.height=C.height+"px",N.ctx.scale(N.options.scale,N.options.scale),N.ctx.translate(-C.x,-C.y),N.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+C.width+"x"+C.height+" at "+C.x+","+C.y+") with scale "+C.scale),N}return w.prototype.render=function(E){return i(this,void 0,void 0,function(){var C,N;return r(this,function(V){switch(V.label){case 0:return C=cC(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,E),[4,Yk(C)];case 1:return N=V.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Tr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(N,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},w}(FT),Yk=function(v){return new Promise(function(w,E){var C=new Image;C.onload=function(){w(C)},C.onerror=E,C.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(v))})},Zk=function(){function v(w){var E=w.id,C=w.enabled;this.id=E,this.enabled=C,this.start=Date.now()}return v.prototype.debug=function(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,o([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},v.prototype.getTime=function(){return Date.now()-this.start},v.prototype.info=function(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,o([this.id,this.getTime()+"ms"],w))},v.prototype.warn=function(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,o([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},v.prototype.error=function(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,o([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},v.instances={},v}(),Xk=function(){function v(w,E){var C;this.windowBounds=E,this.instanceName="#"+v.instanceCount++,this.logger=new Zk({id:this.instanceName,enabled:w.logging}),this.cache=(C=w.cache)!==null&&C!==void 0?C:new Uk(this,w)}return v.instanceCount=1,v}(),Jk=function(v,w){return w===void 0&&(w={}),TA(v,w)};typeof window<"u"&&bC.setContext(window);var TA=function(v,w){return i(void 0,void 0,void 0,function(){var E,C,N,V,X,ie,ne,Ae,ye,Se,Be,gt,ze,st,sn,It,Et,jn,fn,jt,kn,ut,kn,Nn,qt,Rr,Ro,Ya,bi,Lo,ld,Vs,us,Vf,tu,nu,Qf,cd,ud,iu;return r(this,function(ru){switch(ru.label){case 0:if(!v||typeof v!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(E=v.ownerDocument,!E)throw new Error("Element is not attached to a Document");if(C=E.defaultView,!C)throw new Error("Document is not attached to a Window");return N={allowTaint:(Nn=w.allowTaint)!==null&&Nn!==void 0?Nn:!1,imageTimeout:(qt=w.imageTimeout)!==null&&qt!==void 0?qt:15e3,proxy:w.proxy,useCORS:(Rr=w.useCORS)!==null&&Rr!==void 0?Rr:!1},V=e({logging:(Ro=w.logging)!==null&&Ro!==void 0?Ro:!0,cache:w.cache},N),X={windowWidth:(Ya=w.windowWidth)!==null&&Ya!==void 0?Ya:C.innerWidth,windowHeight:(bi=w.windowHeight)!==null&&bi!==void 0?bi:C.innerHeight,scrollX:(Lo=w.scrollX)!==null&&Lo!==void 0?Lo:C.pageXOffset,scrollY:(ld=w.scrollY)!==null&&ld!==void 0?ld:C.pageYOffset},ie=new s(X.scrollX,X.scrollY,X.windowWidth,X.windowHeight),ne=new Xk(V,ie),Ae=(Vs=w.foreignObjectRendering)!==null&&Vs!==void 0?Vs:!1,ye={allowTaint:(us=w.allowTaint)!==null&&us!==void 0?us:!1,onclone:w.onclone,ignoreElements:w.ignoreElements,inlineImages:Ae,copyStyles:Ae},ne.logger.debug("Starting document clone with size "+ie.width+"x"+ie.height+" scrolled to "+-ie.left+","+-ie.top),Se=new mT(ne,v,ye),Be=Se.clonedReferenceElement,Be?[4,Se.toIFrame(E,ie)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return gt=ru.sent(),ze=od(Be)||Ik(Be)?l(Be.ownerDocument):a(ne,Be),st=ze.width,sn=ze.height,It=ze.left,Et=ze.top,jn=eN(ne,Be,w.backgroundColor),fn={canvas:w.canvas,backgroundColor:jn,scale:(tu=(Vf=w.scale)!==null&&Vf!==void 0?Vf:C.devicePixelRatio)!==null&&tu!==void 0?tu:1,x:((nu=w.x)!==null&&nu!==void 0?nu:0)+It,y:((Qf=w.y)!==null&&Qf!==void 0?Qf:0)+Et,width:(cd=w.width)!==null&&cd!==void 0?cd:Math.ceil(st),height:(ud=w.height)!==null&&ud!==void 0?ud:Math.ceil(sn)},Ae?(ne.logger.debug("Document cloned, using foreign object rendering"),kn=new BC(ne,fn),[4,kn.render(Be)]):[3,3];case 2:return jt=ru.sent(),[3,5];case 3:return ne.logger.debug("Document cloned, element located at "+It+","+Et+" with size "+st+"x"+sn+" using computed rendering"),ne.logger.debug("Starting DOM parsing"),ut=sT(ne,Be),jn===ut.styles.backgroundColor&&(ut.styles.backgroundColor=yl.TRANSPARENT),ne.logger.debug("Starting renderer for element at "+fn.x+","+fn.y+" with size "+fn.width+"x"+fn.height),kn=new FC(ne,fn),[4,kn.render(ut)];case 4:jt=ru.sent(),ru.label=5;case 5:return(!((iu=w.removeContainer)!==null&&iu!==void 0)||iu)&&(mT.destroy(gt)||ne.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ne.logger.debug("Finished rendering"),[2,jt]}})})},eN=function(v,w,E){var C=w.ownerDocument,N=C.documentElement?Zu(v,getComputedStyle(C.documentElement).backgroundColor):yl.TRANSPARENT,V=C.body?Zu(v,getComputedStyle(C.body).backgroundColor):yl.TRANSPARENT,X=typeof E=="string"?Zu(v,E):E===null?yl.TRANSPARENT:4294967295;return w===C.documentElement?Qa(N)?Qa(V)?X:V:N:X};return Jk})});var zae=tn((Wat,Kae)=>{"use strict";Kae.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Gg=tn(Xv=>{"use strict";var dQ,LQe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Xv.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Xv.getSymbolTotalCodewords=function(t){return LQe[t]};Xv.getBCHDigit=function(n){let t=0;for(;n!==0;)t++,n>>>=1;return t};Xv.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');dQ=t};Xv.isKanjiModeEnabled=function(){return typeof dQ<"u"};Xv.toSJIS=function(t){return dQ(t)}});var pP=tn(Nu=>{"use strict";Nu.L={bit:1};Nu.M={bit:0};Nu.Q={bit:3};Nu.H={bit:2};function UQe(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return Nu.L;case"m":case"medium":return Nu.M;case"q":case"quartile":return Nu.Q;case"h":case"high":return Nu.H;default:throw new Error("Unknown EC Level: "+n)}}Nu.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4};Nu.from=function(t,e){if(Nu.isValid(t))return t;try{return UQe(t)}catch{return e}}});var Yae=tn((qat,$ae)=>{"use strict";function qae(){this.buffer=[],this.length=0}qae.prototype={get:function(n){let t=Math.floor(n/8);return(this.buffer[t]>>>7-n%8&1)===1},put:function(n,t){for(let e=0;e<t;e++)this.putBit((n>>>t-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),n&&(this.buffer[t]|=128>>>this.length%8),this.length++}};$ae.exports=qae});var Xae=tn(($at,Zae)=>{"use strict";function eI(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}eI.prototype.set=function(n,t,e,i){let r=n*this.size+t;this.data[r]=e,i&&(this.reservedBit[r]=!0)};eI.prototype.get=function(n,t){return this.data[n*this.size+t]};eI.prototype.xor=function(n,t,e){this.data[n*this.size+t]^=e};eI.prototype.isReserved=function(n,t){return this.reservedBit[n*this.size+t]};Zae.exports=eI});var Jae=tn(AP=>{"use strict";var HQe=Gg().getSymbolSize;AP.getRowColCoords=function(t){if(t===1)return[];let e=Math.floor(t/7)+2,i=HQe(t),r=i===145?26:Math.ceil((i-13)/(2*e-2))*2,o=[i-7];for(let s=1;s<e-1;s++)o[s]=o[s-1]-r;return o.push(6),o.reverse()};AP.getPositions=function(t){let e=[],i=AP.getRowColCoords(t),r=i.length;for(let o=0;o<r;o++)for(let s=0;s<r;s++)o===0&&s===0||o===0&&s===r-1||o===r-1&&s===0||e.push([i[o],i[s]]);return e}});var nle=tn(tle=>{"use strict";var VQe=Gg().getSymbolSize,ele=7;tle.getPositions=function(t){let e=VQe(t);return[[0,0],[e-ele,0],[0,e-ele]]}});var ile=tn(hr=>{"use strict";hr.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Jv={N1:3,N2:3,N3:40,N4:10};hr.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7};hr.from=function(t){return hr.isValid(t)?parseInt(t,10):void 0};hr.getPenaltyN1=function(t){let e=t.size,i=0,r=0,o=0,s=null,a=null;for(let l=0;l<e;l++){r=o=0,s=a=null;for(let u=0;u<e;u++){let d=t.get(l,u);d===s?r++:(r>=5&&(i+=Jv.N1+(r-5)),s=d,r=1),d=t.get(u,l),d===a?o++:(o>=5&&(i+=Jv.N1+(o-5)),a=d,o=1)}r>=5&&(i+=Jv.N1+(r-5)),o>=5&&(i+=Jv.N1+(o-5))}return i};hr.getPenaltyN2=function(t){let e=t.size,i=0;for(let r=0;r<e-1;r++)for(let o=0;o<e-1;o++){let s=t.get(r,o)+t.get(r,o+1)+t.get(r+1,o)+t.get(r+1,o+1);(s===4||s===0)&&i++}return i*Jv.N2};hr.getPenaltyN3=function(t){let e=t.size,i=0,r=0,o=0;for(let s=0;s<e;s++){r=o=0;for(let a=0;a<e;a++)r=r<<1&2047|t.get(s,a),a>=10&&(r===1488||r===93)&&i++,o=o<<1&2047|t.get(a,s),a>=10&&(o===1488||o===93)&&i++}return i*Jv.N3};hr.getPenaltyN4=function(t){let e=0,i=t.data.length;for(let o=0;o<i;o++)e+=t.data[o];return Math.abs(Math.ceil(e*100/i/5)-10)*Jv.N4};function QQe(n,t,e){switch(n){case hr.Patterns.PATTERN000:return(t+e)%2===0;case hr.Patterns.PATTERN001:return t%2===0;case hr.Patterns.PATTERN010:return e%3===0;case hr.Patterns.PATTERN011:return(t+e)%3===0;case hr.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(e/3))%2===0;case hr.Patterns.PATTERN101:return t*e%2+t*e%3===0;case hr.Patterns.PATTERN110:return(t*e%2+t*e%3)%2===0;case hr.Patterns.PATTERN111:return(t*e%3+(t+e)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}hr.applyMask=function(t,e){let i=e.size;for(let r=0;r<i;r++)for(let o=0;o<i;o++)e.isReserved(o,r)||e.xor(o,r,QQe(t,o,r))};hr.getBestMask=function(t,e){let i=Object.keys(hr.Patterns).length,r=0,o=1/0;for(let s=0;s<i;s++){e(s),hr.applyMask(s,t);let a=hr.getPenaltyN1(t)+hr.getPenaltyN2(t)+hr.getPenaltyN3(t)+hr.getPenaltyN4(t);hr.applyMask(s,t),a<o&&(o=a,r=s)}return r}});var fQ=tn(hQ=>{"use strict";var Wg=pP(),gP=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],mP=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];hQ.getBlocksCount=function(t,e){switch(e){case Wg.L:return gP[(t-1)*4+0];case Wg.M:return gP[(t-1)*4+1];case Wg.Q:return gP[(t-1)*4+2];case Wg.H:return gP[(t-1)*4+3];default:return}};hQ.getTotalCodewordsCount=function(t,e){switch(e){case Wg.L:return mP[(t-1)*4+0];case Wg.M:return mP[(t-1)*4+1];case Wg.Q:return mP[(t-1)*4+2];case Wg.H:return mP[(t-1)*4+3];default:return}}});var rle=tn(_P=>{"use strict";var tI=new Uint8Array(512),vP=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)tI[e]=t,vP[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)tI[e]=tI[e-255]})();_P.log=function(t){if(t<1)throw new Error("log("+t+")");return vP[t]};_P.exp=function(t){return tI[t]};_P.mul=function(t,e){return t===0||e===0?0:tI[vP[t]+vP[e]]}});var ole=tn(nI=>{"use strict";var pQ=rle();nI.mul=function(t,e){let i=new Uint8Array(t.length+e.length-1);for(let r=0;r<t.length;r++)for(let o=0;o<e.length;o++)i[r+o]^=pQ.mul(t[r],e[o]);return i};nI.mod=function(t,e){let i=new Uint8Array(t);for(;i.length-e.length>=0;){let r=i[0];for(let s=0;s<e.length;s++)i[s]^=pQ.mul(e[s],r);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i};nI.generateECPolynomial=function(t){let e=new Uint8Array([1]);for(let i=0;i<t;i++)e=nI.mul(e,new Uint8Array([1,pQ.exp(i)]));return e}});var lle=tn((nlt,ale)=>{"use strict";var sle=ole();function AQ(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}AQ.prototype.initialize=function(t){this.degree=t,this.genPoly=sle.generateECPolynomial(this.degree)};AQ.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");let e=new Uint8Array(t.length+this.degree);e.set(t);let i=sle.mod(e,this.genPoly),r=this.degree-i.length;if(r>0){let o=new Uint8Array(this.degree);return o.set(i,r),o}return i};ale.exports=AQ});var gQ=tn(cle=>{"use strict";cle.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}});var mQ=tn(Lp=>{"use strict";var ule="[0-9]+",jQe="[A-Z $%*+\\-./:]+",iI="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";iI=iI.replace(/u/g,"\\u");var GQe="(?:(?![A-Z0-9 $%*+\\-./:]|"+iI+`)(?:.|[\r
]))+`;Lp.KANJI=new RegExp(iI,"g");Lp.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Lp.BYTE=new RegExp(GQe,"g");Lp.NUMERIC=new RegExp(ule,"g");Lp.ALPHANUMERIC=new RegExp(jQe,"g");var WQe=new RegExp("^"+iI+"$"),KQe=new RegExp("^"+ule+"$"),zQe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Lp.testKanji=function(t){return WQe.test(t)};Lp.testNumeric=function(t){return KQe.test(t)};Lp.testAlphanumeric=function(t){return zQe.test(t)}});var Kg=tn(Mo=>{"use strict";var qQe=gQ(),vQ=mQ();Mo.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Mo.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Mo.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Mo.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Mo.MIXED={bit:-1};Mo.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!qQe.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]};Mo.getBestModeForData=function(t){return vQ.testNumeric(t)?Mo.NUMERIC:vQ.testAlphanumeric(t)?Mo.ALPHANUMERIC:vQ.testKanji(t)?Mo.KANJI:Mo.BYTE};Mo.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")};Mo.isValid=function(t){return t&&t.bit&&t.ccBits};function $Qe(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return Mo.NUMERIC;case"alphanumeric":return Mo.ALPHANUMERIC;case"kanji":return Mo.KANJI;case"byte":return Mo.BYTE;default:throw new Error("Unknown mode: "+n)}}Mo.from=function(t,e){if(Mo.isValid(t))return t;try{return $Qe(t)}catch{return e}}});var Ale=tn(e_=>{"use strict";var yP=Gg(),YQe=fQ(),dle=pP(),zg=Kg(),_Q=gQ(),fle=7973,hle=yP.getBCHDigit(fle);function ZQe(n,t,e){for(let i=1;i<=40;i++)if(t<=e_.getCapacity(i,e,n))return i}function ple(n,t){return zg.getCharCountIndicator(n,t)+4}function XQe(n,t){let e=0;return n.forEach(function(i){let r=ple(i.mode,t);e+=r+i.getBitsLength()}),e}function JQe(n,t){for(let e=1;e<=40;e++)if(XQe(n,e)<=e_.getCapacity(e,t,zg.MIXED))return e}e_.from=function(t,e){return _Q.isValid(t)?parseInt(t,10):e};e_.getCapacity=function(t,e,i){if(!_Q.isValid(t))throw new Error("Invalid QR Code version");typeof i>"u"&&(i=zg.BYTE);let r=yP.getSymbolTotalCodewords(t),o=YQe.getTotalCodewordsCount(t,e),s=(r-o)*8;if(i===zg.MIXED)return s;let a=s-ple(i,t);switch(i){case zg.NUMERIC:return Math.floor(a/10*3);case zg.ALPHANUMERIC:return Math.floor(a/11*2);case zg.KANJI:return Math.floor(a/13);case zg.BYTE:default:return Math.floor(a/8)}};e_.getBestVersionForData=function(t,e){let i,r=dle.from(e,dle.M);if(Array.isArray(t)){if(t.length>1)return JQe(t,r);if(t.length===0)return 1;i=t[0]}else i=t;return ZQe(i.mode,i.getLength(),r)};e_.getEncodedBits=function(t){if(!_Q.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;yP.getBCHDigit(e)-hle>=0;)e^=fle<<yP.getBCHDigit(e)-hle;return t<<12|e}});var _le=tn(vle=>{"use strict";var yQ=Gg(),mle=1335,eje=21522,gle=yQ.getBCHDigit(mle);vle.getEncodedBits=function(t,e){let i=t.bit<<3|e,r=i<<10;for(;yQ.getBCHDigit(r)-gle>=0;)r^=mle<<yQ.getBCHDigit(r)-gle;return(i<<10|r)^eje}});var wle=tn((llt,yle)=>{"use strict";var tje=Kg();function db(n){this.mode=tje.NUMERIC,this.data=n.toString()}db.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};db.prototype.getLength=function(){return this.data.length};db.prototype.getBitsLength=function(){return db.getBitsLength(this.data.length)};db.prototype.write=function(t){let e,i,r;for(e=0;e+3<=this.data.length;e+=3)i=this.data.substr(e,3),r=parseInt(i,10),t.put(r,10);let o=this.data.length-e;o>0&&(i=this.data.substr(e),r=parseInt(i,10),t.put(r,o*3+1))};yle.exports=db});var Cle=tn((clt,ble)=>{"use strict";var nje=Kg(),wQ=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function hb(n){this.mode=nje.ALPHANUMERIC,this.data=n}hb.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};hb.prototype.getLength=function(){return this.data.length};hb.prototype.getBitsLength=function(){return hb.getBitsLength(this.data.length)};hb.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let i=wQ.indexOf(this.data[e])*45;i+=wQ.indexOf(this.data[e+1]),t.put(i,11)}this.data.length%2&&t.put(wQ.indexOf(this.data[e]),6)};ble.exports=hb});var Sle=tn((ult,Ele)=>{"use strict";Ele.exports=function(t){for(var e=[],i=t.length,r=0;r<i;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319&&i>r+1){var s=t.charCodeAt(r+1);s>=56320&&s<=57343&&(o=(o-55296)*1024+s-56320+65536,r+=1)}if(o<128){e.push(o);continue}if(o<2048){e.push(o>>6|192),e.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){e.push(o>>12|224),e.push(o>>6&63|128),e.push(o&63|128);continue}if(o>=65536&&o<=1114111){e.push(o>>18|240),e.push(o>>12&63|128),e.push(o>>6&63|128),e.push(o&63|128);continue}e.push(239,191,189)}return new Uint8Array(e).buffer}});var Ile=tn((dlt,xle)=>{"use strict";var ije=Sle(),rje=Kg();function fb(n){this.mode=rje.BYTE,typeof n=="string"&&(n=ije(n)),this.data=new Uint8Array(n)}fb.getBitsLength=function(t){return t*8};fb.prototype.getLength=function(){return this.data.length};fb.prototype.getBitsLength=function(){return fb.getBitsLength(this.data.length)};fb.prototype.write=function(n){for(let t=0,e=this.data.length;t<e;t++)n.put(this.data[t],8)};xle.exports=fb});var Dle=tn((hlt,Tle)=>{"use strict";var oje=Kg(),sje=Gg();function pb(n){this.mode=oje.KANJI,this.data=n}pb.getBitsLength=function(t){return t*13};pb.prototype.getLength=function(){return this.data.length};pb.prototype.getBitsLength=function(){return pb.getBitsLength(this.data.length)};pb.prototype.write=function(n){let t;for(t=0;t<this.data.length;t++){let e=sje.toSJIS(this.data[t]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),n.put(e,13)}};Tle.exports=pb});var Mle=tn((flt,bQ)=>{"use strict";var rI={single_source_shortest_paths:function(n,t,e){var i={},r={};r[t]=0;var o=rI.PriorityQueue.make();o.push(t,0);for(var s,a,l,u,d,h,f,A,g;!o.empty();){s=o.pop(),a=s.value,u=s.cost,d=n[a]||{};for(l in d)d.hasOwnProperty(l)&&(h=d[l],f=u+h,A=r[l],g=typeof r[l]>"u",(g||A>f)&&(r[l]=f,o.push(l,f),i[l]=a))}if(typeof e<"u"&&typeof r[e]>"u"){var m=["Could not find a path from ",t," to ",e,"."].join("");throw new Error(m)}return i},extract_shortest_path_from_predecessor_list:function(n,t){for(var e=[],i=t,r;i;)e.push(i),r=n[i],i=n[i];return e.reverse(),e},find_path:function(n,t,e){var i=rI.single_source_shortest_paths(n,t,e);return rI.extract_shortest_path_from_predecessor_list(i,e)},PriorityQueue:{make:function(n){var t=rI.PriorityQueue,e={},i;n=n||{};for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e.queue=[],e.sorter=n.sorter||t.default_sorter,e},default_sorter:function(n,t){return n.cost-t.cost},push:function(n,t){var e={value:n,cost:t};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof bQ<"u"&&(bQ.exports=rI)});var Lle=tn(Ab=>{"use strict";var Ii=Kg(),Ble=wle(),Ple=Cle(),kle=Ile(),Nle=Dle(),oI=mQ(),wP=Gg(),aje=Mle();function Ole(n){return unescape(encodeURIComponent(n)).length}function sI(n,t,e){let i=[],r;for(;(r=n.exec(e))!==null;)i.push({data:r[0],index:r.index,mode:t,length:r[0].length});return i}function Rle(n){let t=sI(oI.NUMERIC,Ii.NUMERIC,n),e=sI(oI.ALPHANUMERIC,Ii.ALPHANUMERIC,n),i,r;return wP.isKanjiModeEnabled()?(i=sI(oI.BYTE,Ii.BYTE,n),r=sI(oI.KANJI,Ii.KANJI,n)):(i=sI(oI.BYTE_KANJI,Ii.BYTE,n),r=[]),t.concat(e,i,r).sort(function(s,a){return s.index-a.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function CQ(n,t){switch(t){case Ii.NUMERIC:return Ble.getBitsLength(n);case Ii.ALPHANUMERIC:return Ple.getBitsLength(n);case Ii.KANJI:return Nle.getBitsLength(n);case Ii.BYTE:return kle.getBitsLength(n)}}function lje(n){return n.reduce(function(t,e){let i=t.length-1>=0?t[t.length-1]:null;return i&&i.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[])}function cje(n){let t=[];for(let e=0;e<n.length;e++){let i=n[e];switch(i.mode){case Ii.NUMERIC:t.push([i,{data:i.data,mode:Ii.ALPHANUMERIC,length:i.length},{data:i.data,mode:Ii.BYTE,length:i.length}]);break;case Ii.ALPHANUMERIC:t.push([i,{data:i.data,mode:Ii.BYTE,length:i.length}]);break;case Ii.KANJI:t.push([i,{data:i.data,mode:Ii.BYTE,length:Ole(i.data)}]);break;case Ii.BYTE:t.push([{data:i.data,mode:Ii.BYTE,length:Ole(i.data)}])}}return t}function uje(n,t){let e={},i={start:{}},r=["start"];for(let o=0;o<n.length;o++){let s=n[o],a=[];for(let l=0;l<s.length;l++){let u=s[l],d=""+o+l;a.push(d),e[d]={node:u,lastCount:0},i[d]={};for(let h=0;h<r.length;h++){let f=r[h];e[f]&&e[f].node.mode===u.mode?(i[f][d]=CQ(e[f].lastCount+u.length,u.mode)-CQ(e[f].lastCount,u.mode),e[f].lastCount+=u.length):(e[f]&&(e[f].lastCount=u.length),i[f][d]=CQ(u.length,u.mode)+4+Ii.getCharCountIndicator(u.mode,t))}}r=a}for(let o=0;o<r.length;o++)i[r[o]].end=0;return{map:i,table:e}}function Fle(n,t){let e,i=Ii.getBestModeForData(n);if(e=Ii.from(t,i),e!==Ii.BYTE&&e.bit<i.bit)throw new Error('"'+n+'" cannot be encoded with mode '+Ii.toString(e)+`.
 Suggested mode is: `+Ii.toString(i));switch(e===Ii.KANJI&&!wP.isKanjiModeEnabled()&&(e=Ii.BYTE),e){case Ii.NUMERIC:return new Ble(n);case Ii.ALPHANUMERIC:return new Ple(n);case Ii.KANJI:return new Nle(n);case Ii.BYTE:return new kle(n)}}Ab.fromArray=function(t){return t.reduce(function(e,i){return typeof i=="string"?e.push(Fle(i,null)):i.data&&e.push(Fle(i.data,i.mode)),e},[])};Ab.fromString=function(t,e){let i=Rle(t,wP.isKanjiModeEnabled()),r=cje(i),o=uje(r,e),s=aje.find_path(o.map,"start","end"),a=[];for(let l=1;l<s.length-1;l++)a.push(o.table[s[l]].node);return Ab.fromArray(lje(a))};Ab.rawSplit=function(t){return Ab.fromArray(Rle(t,wP.isKanjiModeEnabled()))}});var Hle=tn(Ule=>{"use strict";var CP=Gg(),EQ=pP(),dje=Yae(),hje=Xae(),fje=Jae(),pje=nle(),IQ=ile(),TQ=fQ(),Aje=lle(),bP=Ale(),gje=_le(),mje=Kg(),SQ=Lle();function vje(n,t){let e=n.size,i=pje.getPositions(t);for(let r=0;r<i.length;r++){let o=i[r][0],s=i[r][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||e<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||e<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?n.set(o+a,s+l,!0,!0):n.set(o+a,s+l,!1,!0))}}function _je(n){let t=n.size;for(let e=8;e<t-8;e++){let i=e%2===0;n.set(e,6,i,!0),n.set(6,e,i,!0)}}function yje(n,t){let e=fje.getPositions(t);for(let i=0;i<e.length;i++){let r=e[i][0],o=e[i][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?n.set(r+s,o+a,!0,!0):n.set(r+s,o+a,!1,!0)}}function wje(n,t){let e=n.size,i=bP.getEncodedBits(t),r,o,s;for(let a=0;a<18;a++)r=Math.floor(a/3),o=a%3+e-8-3,s=(i>>a&1)===1,n.set(r,o,s,!0),n.set(o,r,s,!0)}function xQ(n,t,e){let i=n.size,r=gje.getEncodedBits(t,e),o,s;for(o=0;o<15;o++)s=(r>>o&1)===1,o<6?n.set(o,8,s,!0):o<8?n.set(o+1,8,s,!0):n.set(i-15+o,8,s,!0),o<8?n.set(8,i-o-1,s,!0):o<9?n.set(8,15-o-1+1,s,!0):n.set(8,15-o-1,s,!0);n.set(i-8,8,1,!0)}function bje(n,t){let e=n.size,i=-1,r=e-1,o=7,s=0;for(let a=e-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!n.isReserved(r,a-l)){let u=!1;s<t.length&&(u=(t[s]>>>o&1)===1),n.set(r,a-l,u),o--,o===-1&&(s++,o=7)}if(r+=i,r<0||e<=r){r-=i,i=-i;break}}}function Cje(n,t,e){let i=new dje;e.forEach(function(l){i.put(l.mode.bit,4),i.put(l.getLength(),mje.getCharCountIndicator(l.mode,n)),l.write(i)});let r=CP.getSymbolTotalCodewords(n),o=TQ.getTotalCodewordsCount(n,t),s=(r-o)*8;for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);let a=(s-i.getLengthInBits())/8;for(let l=0;l<a;l++)i.put(l%2?17:236,8);return Eje(i,n,t)}function Eje(n,t,e){let i=CP.getSymbolTotalCodewords(t),r=TQ.getTotalCodewordsCount(t,e),o=i-r,s=TQ.getBlocksCount(t,e),a=i%s,l=s-a,u=Math.floor(i/s),d=Math.floor(o/s),h=d+1,f=u-d,A=new Aje(f),g=0,m=new Array(s),b=new Array(s),S=0,F=new Uint8Array(n.buffer);for(let j=0;j<s;j++){let G=j<l?d:h;m[j]=F.slice(g,g+G),b[j]=A.encode(m[j]),g+=G,S=Math.max(S,G)}let R=new Uint8Array(i),B=0,P,L;for(P=0;P<S;P++)for(L=0;L<s;L++)P<m[L].length&&(R[B++]=m[L][P]);for(P=0;P<f;P++)for(L=0;L<s;L++)R[B++]=b[L][P];return R}function Sje(n,t,e,i){let r;if(Array.isArray(n))r=SQ.fromArray(n);else if(typeof n=="string"){let u=t;if(!u){let d=SQ.rawSplit(n);u=bP.getBestVersionForData(d,e)}r=SQ.fromString(n,u||40)}else throw new Error("Invalid data");let o=bP.getBestVersionForData(r,e);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=o;else if(t<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let s=Cje(t,e,r),a=CP.getSymbolSize(t),l=new hje(a);return vje(l,t),_je(l),yje(l,t),xQ(l,e,0),t>=7&&wje(l,t),bje(l,s),isNaN(i)&&(i=IQ.getBestMask(l,xQ.bind(null,l,e))),IQ.applyMask(i,l),xQ(l,e,i),{modules:l,version:t,errorCorrectionLevel:e,maskPattern:i,segments:r}}Ule.create=function(t,e){if(typeof t>"u"||t==="")throw new Error("No input text");let i=EQ.M,r,o;return typeof e<"u"&&(i=EQ.from(e.errorCorrectionLevel,EQ.M),r=bP.from(e.version),o=IQ.from(e.maskPattern),e.toSJISFunc&&CP.setToSJISFunction(e.toSJISFunc)),Sje(t,r,i,o)}});var DQ=tn(t_=>{"use strict";function Vle(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let t=n.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+n);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(i){return[i,i]}))),t.length===6&&t.push("F","F");let e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+t.slice(0,6).join("")}}t_.getOptions=function(t){t||(t={}),t.color||(t.color={});let e=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,i=t.width&&t.width>=21?t.width:void 0,r=t.scale||4;return{width:i,scale:i?4:r,margin:e,color:{dark:Vle(t.color.dark||"#000000ff"),light:Vle(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}};t_.getScale=function(t,e){return e.width&&e.width>=t+e.margin*2?e.width/(t+e.margin*2):e.scale};t_.getImageWidth=function(t,e){let i=t_.getScale(t,e);return Math.floor((t+e.margin*2)*i)};t_.qrToImageData=function(t,e,i){let r=e.modules.size,o=e.modules.data,s=t_.getScale(r,i),a=Math.floor((r+i.margin*2)*s),l=i.margin*s,u=[i.color.light,i.color.dark];for(let d=0;d<a;d++)for(let h=0;h<a;h++){let f=(d*a+h)*4,A=i.color.light;if(d>=l&&h>=l&&d<a-l&&h<a-l){let g=Math.floor((d-l)/s),m=Math.floor((h-l)/s);A=u[o[g*r+m]?1:0]}t[f++]=A.r,t[f++]=A.g,t[f++]=A.b,t[f]=A.a}}});var Qle=tn(EP=>{"use strict";var MQ=DQ();function xje(n,t,e){n.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=e,t.width=e,t.style.height=e+"px",t.style.width=e+"px"}function Ije(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}EP.render=function(t,e,i){let r=i,o=e;typeof r>"u"&&(!e||!e.getContext)&&(r=e,e=void 0),e||(o=Ije()),r=MQ.getOptions(r);let s=MQ.getImageWidth(t.modules.size,r),a=o.getContext("2d"),l=a.createImageData(s,s);return MQ.qrToImageData(l.data,t,r),xje(a,o,s),a.putImageData(l,0,0),o};EP.renderToDataURL=function(t,e,i){let r=i;typeof r>"u"&&(!e||!e.getContext)&&(r=e,e=void 0),r||(r={});let o=EP.render(t,e,r),s=r.type||"image/png",a=r.rendererOpts||{};return o.toDataURL(s,a.quality)}});var Wle=tn(Gle=>{"use strict";var Tje=DQ();function jle(n,t){let e=n.a/255,i=t+'="'+n.hex+'"';return e<1?i+" "+t+'-opacity="'+e.toFixed(2).slice(1)+'"':i}function OQ(n,t,e){let i=n+t;return typeof e<"u"&&(i+=" "+e),i}function Dje(n,t,e){let i="",r=0,o=!1,s=0;for(let a=0;a<n.length;a++){let l=Math.floor(a%t),u=Math.floor(a/t);!l&&!o&&(o=!0),n[a]?(s++,a>0&&l>0&&n[a-1]||(i+=o?OQ("M",l+e,.5+u+e):OQ("m",r,0),r=0,o=!1),l+1<t&&n[a+1]||(i+=OQ("h",s),s=0)):r++}return i}Gle.render=function(t,e,i){let r=Tje.getOptions(e),o=t.modules.size,s=t.modules.data,a=o+r.margin*2,l=r.color.light.a?"<path "+jle(r.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+jle(r.color.dark,"stroke")+' d="'+Dje(s,o,r.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof i=="function"&&i(null,f),f}});var zle=tn(aI=>{"use strict";var Mje=zae(),FQ=Hle(),Kle=Qle(),Oje=Wle();function BQ(n,t,e,i,r){let o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!Mje())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(r=e,e=t,t=i=void 0):s===3&&(t.getContext&&typeof r>"u"?(r=i,i=void 0):(r=i,i=e,e=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(e=t,t=i=void 0):s===2&&!t.getContext&&(i=e,e=t,t=void 0),new Promise(function(l,u){try{let d=FQ.create(e,i);l(n(d,t,i))}catch(d){u(d)}})}try{let l=FQ.create(e,i);r(null,n(l,t,i))}catch(l){r(l)}}aI.create=FQ.create;aI.toCanvas=BQ.bind(null,Kle.render);aI.toDataURL=BQ.bind(null,Kle.renderToDataURL);aI.toString=BQ.bind(null,function(n,t,e){return Oje.render(n,e)})});function o9(n,t){return Object.is(n,t)}var Qo=null,GT=!1,WT=1,xh=Symbol("SIGNAL");function Rn(n){let t=Qo;return Qo=n,t}function s9(){return Qo}var HC={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zT(n){if(GT)throw new Error("");if(Qo===null)return;Qo.consumerOnSignalRead(n);let t=Qo.nextProducerIndex++;if(YT(Qo),t<Qo.producerNode.length&&Qo.producerNode[t]!==n&&UC(Qo)){let e=Qo.producerNode[t];$T(e,Qo.producerIndexOfThis[t])}Qo.producerNode[t]!==n&&(Qo.producerNode[t]=n,Qo.producerIndexOfThis[t]=UC(Qo)?u9(n,Qo,t):0),Qo.producerLastReadVersion[t]=n.version}function ohe(){WT++}function a9(n){if(!(UC(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===WT)){if(!n.producerMustRecompute(n)&&!WN(n)){n.dirty=!1,n.lastCleanEpoch=WT;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=WT}}function l9(n){if(n.liveConsumerNode===void 0)return;let t=GT;GT=!0;try{for(let e of n.liveConsumerNode)e.dirty||she(e)}finally{GT=t}}function c9(){return Qo?.consumerAllowSignalWrites!==!1}function she(n){n.dirty=!0,l9(n),n.consumerMarkedDirty?.(n)}function qT(n){return n&&(n.nextProducerIndex=0),Rn(n)}function GN(n,t){if(Rn(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(UC(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)$T(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function WN(n){YT(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(a9(e),i!==e.version))return!0}return!1}function KN(n){if(YT(n),UC(n))for(let t=0;t<n.producerNode.length;t++)$T(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function u9(n,t,e){if(d9(n),n.liveConsumerNode.length===0&&h9(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=u9(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function $T(n,t){if(d9(n),n.liveConsumerNode.length===1&&h9(n))for(let i=0;i<n.producerNode.length;i++)$T(n.producerNode[i],n.producerIndexOfThis[i]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];YT(r),r.producerIndexOfThis[i]=t}}function UC(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function YT(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function d9(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function h9(n){return n.producerNode!==void 0}function f9(n){let t=Object.create(ahe);t.computation=n;let e=()=>{if(a9(t),zT(t),t.value===KT)throw t.error;return t.value};return e[xh]=t,e}var QN=Symbol("UNSET"),jN=Symbol("COMPUTING"),KT=Symbol("ERRORED"),ahe=vt(Ee({},HC),{value:QN,dirty:!0,error:null,equal:o9,producerMustRecompute(n){return n.value===QN||n.value===jN},producerRecomputeValue(n){if(n.value===jN)throw new Error("Detected cycle in computations.");let t=n.value;n.value=jN;let e=qT(n),i;try{i=n.computation()}catch(r){i=KT,n.error=r}finally{GN(n,e)}if(t!==QN&&t!==KT&&i!==KT&&n.equal(t,i)){n.value=t;return}n.value=i,n.version++}});function lhe(){throw new Error}var p9=lhe;function A9(){p9()}function g9(n){p9=n}var che=null;function m9(n){let t=Object.create(zN);t.value=n;let e=()=>(zT(t),t.value);return e[xh]=t,e}function ZT(n,t){c9()||A9(),n.equal(n.value,t)||(n.value=t,uhe(n))}function v9(n,t){c9()||A9(),ZT(n,t(n.value))}var zN=vt(Ee({},HC),{equal:o9,value:void 0});function uhe(n){n.version++,ohe(),l9(n),che?.()}function Gt(n){return typeof n=="function"}function Ny(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var XT=Ny(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function v0(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Li=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(Gt(i))try{i()}catch(o){t=o instanceof XT?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{_9(o)}catch(s){t=t??[],s instanceof XT?t=[...t,...s.errors]:t.push(s)}}if(t)throw new XT(t)}}add(t){var e;if(t&&t!==this)if(this.closed)_9(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&v0(e,t)}remove(t){let{_finalizers:e}=this;e&&v0(e,t),t instanceof n&&t._removeParent(this)}};Li.EMPTY=(()=>{let n=new Li;return n.closed=!0,n})();var qN=Li.EMPTY;function JT(n){return n instanceof Li||n&&"closed"in n&&Gt(n.remove)&&Gt(n.add)&&Gt(n.unsubscribe)}function _9(n){Gt(n)?n():n.unsubscribe()}var fd={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ry={setTimeout(n,t,...e){let{delegate:i}=Ry;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=Ry;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function eD(n){Ry.setTimeout(()=>{let{onUnhandledError:t}=fd;if(t)t(n);else throw n})}function _0(){}var y9=$N("C",void 0,void 0);function w9(n){return $N("E",void 0,n)}function b9(n){return $N("N",n,void 0)}function $N(n,t,e){return{kind:n,value:t,error:e}}var y0=null;function Ly(n){if(fd.useDeprecatedSynchronousErrorHandling){let t=!y0;if(t&&(y0={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=y0;if(y0=null,e)throw i}}else n()}function C9(n){fd.useDeprecatedSynchronousErrorHandling&&y0&&(y0.errorThrown=!0,y0.error=n)}var w0=class extends Li{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,JT(t)&&t.add(this)):this.destination=fhe}static create(t,e,i){return new Wf(t,e,i)}next(t){this.isStopped?ZN(b9(t),this):this._next(t)}error(t){this.isStopped?ZN(w9(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ZN(y9,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dhe=Function.prototype.bind;function YN(n,t){return dhe.call(n,t)}var XN=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){tD(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){tD(i)}else tD(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){tD(e)}}},Wf=class extends w0{constructor(t,e,i){super();let r;if(Gt(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&fd.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&YN(t.next,o),error:t.error&&YN(t.error,o),complete:t.complete&&YN(t.complete,o)}):r=t}this.destination=new XN(r)}};function tD(n){fd.useDeprecatedSynchronousErrorHandling?C9(n):eD(n)}function hhe(n){throw n}function ZN(n,t){let{onStoppedNotification:e}=fd;e&&Ry.setTimeout(()=>e(n,t))}var fhe={closed:!0,next:_0,error:hhe,complete:_0};var Uy=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Za(n){return n}function JN(...n){return eR(n)}function eR(n){return n.length===0?Za:n.length===1?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}var $t=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=Ahe(e)?e:new Wf(e,i,r);return Ly(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=E9(i),new i((r,o)=>{let s=new Wf({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[Uy](){return this}pipe(...e){return eR(e)(this)}toPromise(e){return e=E9(e),new e((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function E9(n){var t;return(t=n??fd.Promise)!==null&&t!==void 0?t:Promise}function phe(n){return n&&Gt(n.next)&&Gt(n.error)&&Gt(n.complete)}function Ahe(n){return n&&n instanceof w0||phe(n)&&JT(n)}function tR(n){return Gt(n?.lift)}function an(n){return t=>{if(tR(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Wt(n,t,e,i,r){return new nR(n,t,e,i,r)}var nR=class extends w0{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Hy(){return an((n,t)=>{let e=null;n._refCount++;let i=Wt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}var Vy=class extends $t{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,tR(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Li;let e=this.getSubject();t.add(this.source.subscribe(Wt(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Li.EMPTY)}return t}refCount(){return Hy()(this)}};var Qy={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame,{delegate:i}=Qy;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);let r=t(o=>{e=void 0,n(o)});return new Li(()=>e?.(r))},requestAnimationFrame(...n){let{delegate:t}=Qy;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:t}=Qy;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var S9=Ny(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var St=(()=>{class n extends $t{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new nD(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new S9}next(e){Ly(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){Ly(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ly(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?qN:(this.currentObservers=null,o.push(e),new Li(()=>{this.currentObservers=null,v0(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new $t;return e.source=this,e}}return n.create=(t,e)=>new nD(t,e),n})(),nD=class extends St{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:qN}};var mo=class extends St{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var VC={now(){return(VC.delegate||Date).now()},delegate:void 0};var iD=class extends St{constructor(t=1/0,e=1/0,i=VC){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){let{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){let{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=e.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var rD=class extends Li{constructor(t,e){super()}schedule(t,e=0){return this}};var QC={setInterval(n,t,...e){let{delegate:i}=QC;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=QC;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var BA=class extends rD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return QC.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&QC.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,v0(i,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var ghe=1,iR,rR={};function x9(n){return n in rR?(delete rR[n],!0):!1}var I9={setImmediate(n){let t=ghe++;return rR[t]=!0,iR||(iR=Promise.resolve()),iR.then(()=>x9(t)&&n()),t},clearImmediate(n){x9(n)}};var{setImmediate:mhe,clearImmediate:vhe}=I9,jC={setImmediate(...n){let{delegate:t}=jC;return(t?.setImmediate||mhe)(...n)},clearImmediate(n){let{delegate:t}=jC;return(t?.clearImmediate||vhe)(n)},delegate:void 0};var oD=class extends BA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return i!==null&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=jC.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);let{actions:o}=t;e!=null&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==e&&(jC.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}};var jy=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}};jy.now=VC.now;var PA=class extends jy{constructor(t,e=jy.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}};var sD=class extends PA{flush(t){this._active=!0;let e=this._scheduled;this._scheduled=void 0;let{actions:i}=this,r;t=t||i.shift();do if(r=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}};var Gy=new sD(oD);var b0=new PA(BA),T9=b0;var aD=class extends BA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return i!==null&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Qy.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);let{actions:o}=t;e!=null&&e===t._scheduled&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==e&&(Qy.cancelAnimationFrame(e),t._scheduled=void 0)}};var lD=class extends PA{flush(t){this._active=!0;let e;t?e=t.id:(e=this._scheduled,this._scheduled=void 0);let{actions:i}=this,r;t=t||i.shift();do if(r=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}};var cD=new lD(aD);var jo=new $t(n=>n.complete());function uD(n){return n&&Gt(n.schedule)}function oR(n){return n[n.length-1]}function kA(n){return Gt(oR(n))?n.pop():void 0}function Ih(n){return uD(oR(n))?n.pop():void 0}function D9(n,t){return typeof oR(n)=="number"?n.pop():t}function O9(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(h){s(h)}}function l(d){try{u(i.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}function M9(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function C0(n){return this instanceof C0?(this.v=n,this):new C0(n)}function F9(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(A){return new Promise(function(g,m){o.push([f,A,g,m])>1||a(f,A)})})}function a(f,A){try{l(i[f](A))}catch(g){h(o[0][3],g)}}function l(f){f.value instanceof C0?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,A){f(A),o.shift(),o.length&&a(o[0][0],o[0][1])}}function B9(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof M9=="function"?M9(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Wy=n=>n&&typeof n.length=="number"&&typeof n!="function";function dD(n){return Gt(n?.then)}function hD(n){return Gt(n[Uy])}function fD(n){return Symbol.asyncIterator&&Gt(n?.[Symbol.asyncIterator])}function pD(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _he(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var AD=_he();function gD(n){return Gt(n?.[AD])}function mD(n){return F9(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:r}=yield C0(e.read());if(r)return yield C0(void 0);yield yield C0(i)}}finally{e.releaseLock()}})}function vD(n){return Gt(n?.getReader)}function Fn(n){if(n instanceof $t)return n;if(n!=null){if(hD(n))return yhe(n);if(Wy(n))return whe(n);if(dD(n))return bhe(n);if(fD(n))return P9(n);if(gD(n))return Che(n);if(vD(n))return Ehe(n)}throw pD(n)}function yhe(n){return new $t(t=>{let e=n[Uy]();if(Gt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function whe(n){return new $t(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function bhe(n){return new $t(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,eD)})}function Che(n){return new $t(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function P9(n){return new $t(t=>{She(n,t).catch(e=>t.error(e))})}function Ehe(n){return P9(mD(n))}function She(n,t){var e,i,r,o;return O9(this,void 0,void 0,function*(){try{for(e=B9(n);i=yield e.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})}function Fl(n,t,e,i=0,r=!1){let o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function _D(n,t=0){return an((e,i)=>{e.subscribe(Wt(i,r=>Fl(i,n,()=>i.next(r),t),()=>Fl(i,n,()=>i.complete(),t),r=>Fl(i,n,()=>i.error(r),t)))})}function yD(n,t=0){return an((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function k9(n,t){return Fn(n).pipe(yD(t),_D(t))}function N9(n,t){return Fn(n).pipe(yD(t),_D(t))}function R9(n,t){return new $t(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function L9(n,t){return new $t(e=>{let i;return Fl(e,t,()=>{i=n[AD](),Fl(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){e.error(s);return}o?e.complete():e.next(r)},0,!0)}),()=>Gt(i?.return)&&i.return()})}function wD(n,t){if(!n)throw new Error("Iterable cannot be null");return new $t(e=>{Fl(e,t,()=>{let i=n[Symbol.asyncIterator]();Fl(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function U9(n,t){return wD(mD(n),t)}function H9(n,t){if(n!=null){if(hD(n))return k9(n,t);if(Wy(n))return R9(n,t);if(dD(n))return N9(n,t);if(fD(n))return wD(n,t);if(gD(n))return L9(n,t);if(vD(n))return U9(n,t)}throw pD(n)}function hi(n,t){return t?H9(n,t):Fn(n)}function _t(...n){let t=Ih(n);return hi(n,t)}function Ky(n,t){let e=Gt(n)?n:()=>n,i=r=>r.error(e());return new $t(t?r=>t.schedule(i,0,r):i)}function ou(n){return!!n&&(n instanceof $t||Gt(n.lift)&&Gt(n.subscribe))}var Kf=Ny(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function V9(n){return n instanceof Date&&!isNaN(n)}function kt(n,t){return an((e,i)=>{let r=0;e.subscribe(Wt(i,o=>{i.next(n.call(t,o,r++))}))})}var{isArray:xhe}=Array;function Ihe(n,t){return xhe(t)?n(...t):n(t)}function zy(n){return kt(t=>Ihe(n,t))}var{isArray:The}=Array,{getPrototypeOf:Dhe,prototype:Mhe,keys:Ohe}=Object;function bD(n){if(n.length===1){let t=n[0];if(The(t))return{args:t,keys:null};if(Fhe(t)){let e=Ohe(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function Fhe(n){return n&&typeof n=="object"&&Dhe(n)===Mhe}function CD(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function qy(...n){let t=Ih(n),e=kA(n),{args:i,keys:r}=bD(n);if(i.length===0)return hi([],t);let o=new $t(Bhe(i,t,r?s=>CD(r,s):Za));return e?o.pipe(zy(e)):o}function Bhe(n,t,e=Za){return i=>{Q9(t,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)Q9(t,()=>{let u=hi(n[l],t),d=!1;u.subscribe(Wt(i,h=>{o[l]=h,d||(d=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Q9(n,t,e){n?Fl(e,n,t):t()}function j9(n,t,e,i,r,o,s,a){let l=[],u=0,d=0,h=!1,f=()=>{h&&!l.length&&!u&&t.complete()},A=m=>u<i?g(m):l.push(m),g=m=>{o&&t.next(m),u++;let b=!1;Fn(e(m,d++)).subscribe(Wt(t,S=>{r?.(S),o?A(S):t.next(S)},()=>{b=!0},void 0,()=>{if(b)try{for(u--;l.length&&u<i;){let S=l.shift();s?Fl(t,s,()=>g(S)):g(S)}f()}catch(S){t.error(S)}}))};return n.subscribe(Wt(t,A,()=>{h=!0,f()})),()=>{a?.()}}function vr(n,t,e=1/0){return Gt(t)?vr((i,r)=>kt((o,s)=>t(i,o,r,s))(Fn(n(i,r))),e):(typeof t=="number"&&(e=t),an((i,r)=>j9(i,r,n,e)))}function NA(n=1/0){return vr(Za,n)}function G9(){return NA(1)}function pd(...n){return G9()(hi(n,Ih(n)))}function E0(n){return new $t(t=>{Fn(n()).subscribe(t)})}function S0(...n){let t=kA(n),{args:e,keys:i}=bD(n),r=new $t(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let d=0;d<s;d++){let h=!1;Fn(e[d]).subscribe(Wt(o,f=>{h||(h=!0,u--),a[d]=f},()=>l--,void 0,()=>{(!l||!h)&&(u||o.next(i?CD(i,a):a),o.complete())}))}});return t?r.pipe(zy(t)):r}var Phe=["addListener","removeListener"],khe=["addEventListener","removeEventListener"],Nhe=["on","off"];function Ur(n,t,e,i){if(Gt(e)&&(i=e,e=void 0),i)return Ur(n,t,e).pipe(zy(i));let[r,o]=Uhe(n)?khe.map(s=>a=>n[s](t,a,e)):Rhe(n)?Phe.map(W9(n,t)):Lhe(n)?Nhe.map(W9(n,t)):[];if(!r&&Wy(n))return vr(s=>Ur(s,t,e))(Fn(n));if(!r)throw new TypeError("Invalid event target");return new $t(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function W9(n,t){return e=>i=>n[e](t,i)}function Rhe(n){return Gt(n.addListener)&&Gt(n.removeListener)}function Lhe(n){return Gt(n.on)&&Gt(n.off)}function Uhe(n){return Gt(n.addEventListener)&&Gt(n.removeEventListener)}function x0(n=0,t,e=T9){let i=-1;return t!=null&&(uD(t)?e=t:i=t),new $t(r=>{let o=V9(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function zf(...n){let t=Ih(n),e=D9(n,1/0),i=n;return i.length?i.length===1?Fn(i[0]):NA(e)(hi(i,t)):jo}var{isArray:Hhe}=Array;function ED(n){return n.length===1&&Hhe(n[0])?n[0]:n}function Di(n,t){return an((e,i)=>{let r=0;e.subscribe(Wt(i,o=>n.call(t,o,r++)&&i.next(o)))})}function sR(...n){return n=ED(n),n.length===1?Fn(n[0]):new $t(Vhe(n))}function Vhe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(Fn(n[i]).subscribe(Wt(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}function GC(...n){let t=kA(n),e=ED(n);return e.length?new $t(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)Fn(e[s]).subscribe(Wt(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(u=>u.shift());i.next(t?t(...l):l),r.some((u,d)=>!u.length&&o[d])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):jo}function K9(n){return an((t,e)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let u=r;r=null,e.next(u)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(Wt(e,u=>{i=!0,r=u,o||Fn(n(u)).subscribe(o=Wt(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}function $y(n,t=b0){return K9(()=>x0(n,t))}function su(n){return an((t,e)=>{let i=null,r=!1,o;i=t.subscribe(Wt(e,void 0,void 0,s=>{o=Fn(n(s,su(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function z9(n,t,e,i,r){return(o,s)=>{let a=e,l=t,u=0;o.subscribe(Wt(s,d=>{let h=u++;l=a?n(l,d,h):(a=!0,d),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Ad(n,t){return Gt(t)?vr(n,t,1):vr(n,1)}function aR(n,t=b0){return an((e,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let u=o;o=null,i.next(u)}};function l(){let u=s+n,d=t.now();if(d<u){r=this.schedule(void 0,u-d),i.add(r);return}a()}e.subscribe(Wt(i,u=>{o=u,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function RA(n){return an((t,e)=>{let i=!1;t.subscribe(Wt(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Qs(n){return n<=0?()=>jo:an((t,e)=>{let i=0;t.subscribe(Wt(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function lR(n){return kt(()=>n)}function SD(n=Qhe){return an((t,e)=>{let i=!1;t.subscribe(Wt(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Qhe(){return new Kf}function cR(...n){return t=>pd(t,_t(...n))}function qf(n){return an((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Th(n,t){let e=arguments.length>=2;return i=>i.pipe(n?Di((r,o)=>n(r,o,i)):Za,Qs(1),e?RA(t):SD(()=>new Kf))}function Yy(n){return n<=0?()=>jo:an((t,e)=>{let i=[];t.subscribe(Wt(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function uR(n,t){let e=arguments.length>=2;return i=>i.pipe(n?Di((r,o)=>n(r,o,i)):Za,Yy(1),e?RA(t):SD(()=>new Kf))}function dR(n,t){return an(z9(n,t,arguments.length>=2,!0))}function q9(n={}){let{connector:t=()=>new St,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,u=0,d=!1,h=!1,f=()=>{a?.unsubscribe(),a=void 0},A=()=>{f(),s=l=void 0,d=h=!1},g=()=>{let m=s;A(),m?.unsubscribe()};return an((m,b)=>{u++,!h&&!d&&f();let S=l=l??t();b.add(()=>{u--,u===0&&!h&&!d&&(a=hR(g,r))}),S.subscribe(b),!s&&u>0&&(s=new Wf({next:F=>S.next(F),error:F=>{h=!0,f(),a=hR(A,e,F),S.error(F)},complete:()=>{d=!0,f(),a=hR(A,i),S.complete()}}),Fn(m).subscribe(s))})(o)}}function hR(n,t,...e){if(t===!0){n();return}if(t===!1)return;let i=new Wf({next:()=>{i.unsubscribe(),n()}});return Fn(t(...e)).subscribe(i)}function WC(n,t,e){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n:i=n??1/0,q9({connector:()=>new iD(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function I0(...n){let t=Ih(n);return an((e,i)=>{(t?pd(n,e,t):pd(n,e)).subscribe(i)})}function vo(n,t){return an((e,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();e.subscribe(Wt(i,l=>{r?.unsubscribe();let u=0,d=o++;Fn(n(l,d)).subscribe(r=Wt(i,h=>i.next(t?t(l,h,d,u++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ui(n){return an((t,e)=>{Fn(n).subscribe(Wt(e,()=>e.complete(),_0)),!e.closed&&t.subscribe(e)})}function Vt(n,t,e){let i=Gt(n)||t||e?{next:n,error:t,complete:e}:n;return i?an((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Wt(o,l=>{var u;(u=i.next)===null||u===void 0||u.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,l),o.error(l)},()=>{var l,u;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):Za}function $9(n,t){return an((e,i)=>{let{leading:r=!0,trailing:o=!1}=t??{},s=!1,a=null,l=null,u=!1,d=()=>{l?.unsubscribe(),l=null,o&&(A(),u&&i.complete())},h=()=>{l=null,u&&i.complete()},f=g=>l=Fn(n(g)).subscribe(Wt(i,d,h)),A=()=>{if(s){s=!1;let g=a;a=null,i.next(g),!u&&f(g)}};e.subscribe(Wt(i,g=>{s=!0,a=g,!(l&&!l.closed)&&(r?A():f(g))},()=>{u=!0,!(o&&s&&l&&!l.closed)&&i.complete()}))})}function fR(n,t=b0,e){let i=x0(n,t);return $9(()=>i,e)}function xD(...n){let t=kA(n);return an((e,i)=>{let r=n.length,o=new Array(r),s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Fn(n[l]).subscribe(Wt(i,u=>{o[l]=u,!a&&!s[l]&&(s[l]=!0,(a=s.every(Za))&&(s=null))},_0));e.subscribe(Wt(i,l=>{if(a){let u=[l,...o];i.next(t?t(...u):u)}}))})}var VG="https://g.co/ng/security#xss",Qe=class extends Error{constructor(t,e){super(f2(t,e)),this.code=t}};function f2(n,t){return`${`NG0${Math.abs(n)}`}${t?": "+t:""}`}var QG=Symbol("InputSignalNode#UNSET"),jhe=vt(Ee({},zN),{transformFn:void 0,applyValueToInputSignal(n,t){ZT(n,t)}});function jG(n,t){let e=Object.create(jhe);e.value=n,e.transformFn=t?.transform;function i(){if(zT(e),e.value===QG)throw new Qe(-950,!1);return e.value}return i[xh]=e,i}function iE(n){return{toString:n}.toString()}var ID="__parameters__";function Ghe(n){return function(...e){if(n){let i=n(...e);for(let r in i)this[r]=i[r]}}}function GG(n,t,e){return iE(()=>{let i=Ghe(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,u,d){let h=l.hasOwnProperty(ID)?l[ID]:Object.defineProperty(l,ID,{value:[]})[ID];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Go=globalThis;function zi(n){for(let t in n)if(n[t]===zi)return t;throw Error("Could not find renamed property on target object.")}function Whe(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ja(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Ja).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let t=n.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function DR(n,t){return n==null||n===""?t===null?"":t:t==null||t===""?n:n+" "+t}var Khe=zi({__forward_ref__:zi});function ho(n){return n.__forward_ref__=ho,n.toString=function(){return Ja(this())},n}function Xa(n){return WG(n)?n():n}function WG(n){return typeof n=="function"&&n.hasOwnProperty(Khe)&&n.__forward_ref__===ho}function De(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function dt(n){return{providers:n.providers||[],imports:n.imports||[]}}function p2(n){return Y9(n,zG)||Y9(n,qG)}function KG(n){return p2(n)!==null}function Y9(n,t){return n.hasOwnProperty(t)?n[t]:null}function zhe(n){let t=n&&(n[zG]||n[qG]);return t||null}function Z9(n){return n&&(n.hasOwnProperty(X9)||n.hasOwnProperty(qhe))?n[X9]:null}var zG=zi({\u0275prov:zi}),X9=zi({\u0275inj:zi}),qG=zi({ngInjectableDef:zi}),qhe=zi({ngInjectorDef:zi}),Ke=class{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=De({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $G(n){return n&&!!n.\u0275providers}var $he=zi({\u0275cmp:zi}),Yhe=zi({\u0275dir:zi}),Zhe=zi({\u0275pipe:zi}),Xhe=zi({\u0275mod:zi}),HD=zi({\u0275fac:zi}),KC=zi({__NG_ELEMENT_ID__:zi}),J9=zi({__NG_ENV_ID__:zi});function js(n){return typeof n=="string"?n:n==null?"":String(n)}function Jhe(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():js(n)}function efe(n,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Qe(-200,n)}function L4(n,t){throw new Qe(-201,!1)}var Tn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Tn||{}),MR;function YG(){return MR}function Bl(n){let t=MR;return MR=n,t}function ZG(n,t,e){let i=p2(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&Tn.Optional)return null;if(t!==void 0)return t;L4(n,"Injector")}var tfe={},qC=tfe,OR="__NG_DI_FLAG__",VD="ngTempTokenPath",nfe="ngTokenPath",ife=/\n/gm,rfe="\u0275",eG="__source",e1;function ofe(){return e1}function LA(n){let t=e1;return e1=n,t}function sfe(n,t=Tn.Default){if(e1===void 0)throw new Qe(-203,!1);return e1===null?ZG(n,void 0,t):e1.get(n,t&Tn.Optional?null:void 0,t)}function Te(n,t=Tn.Default){return(YG()||sfe)(Xa(n),t)}function Oe(n,t=Tn.Default){return Te(n,A2(t))}function A2(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function FR(n){let t=[];for(let e=0;e<n.length;e++){let i=Xa(n[e]);if(Array.isArray(i)){if(i.length===0)throw new Qe(900,!1);let r,o=Tn.Default;for(let s=0;s<i.length;s++){let a=i[s],l=afe(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(Te(r,o))}else t.push(Te(i))}return t}function XG(n,t){return n[OR]=t,n.prototype[OR]=t,n}function afe(n){return n[OR]}function lfe(n,t,e,i){let r=n[VD];throw t[eG]&&r.unshift(t[eG]),n.message=cfe(`
`+n.message,r,e,i),n[nfe]=r,n[VD]=null,n}function cfe(n,t,e,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==rfe?n.slice(2):n;let r=Ja(t);if(Array.isArray(t))r=t.map(Ja).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ja(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(ife,`
  `)}`}var rE=XG(GG("Optional"),8);var g2=XG(GG("SkipSelf"),4);function M0(n,t){let e=n.hasOwnProperty(HD);return e?n[HD]:null}function ufe(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function dfe(n){return n.flat(Number.POSITIVE_INFINITY)}function U4(n,t){n.forEach(e=>Array.isArray(e)?U4(e,t):t(e))}function JG(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function QD(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function hfe(n,t){let e=[];for(let i=0;i<n;i++)e.push(t);return e}function ffe(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(r===1)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;){let o=r-2;n[r]=n[o],r--}n[t]=e,n[t+1]=i}}function H4(n,t,e){let i=oE(n,t);return i>=0?n[i|1]=e:(i=~i,ffe(n,i,t,e)),i}function pR(n,t){let e=oE(n,t);if(e>=0)return n[e|1]}function oE(n,t){return pfe(n,t,1)}function pfe(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}var n1={},Pl=[],i1=new Ke(""),eW=new Ke("",-1),tW=new Ke(""),jD=class{get(t,e=qC){if(e===qC){let i=new Error(`NullInjectorError: No provider for ${Ja(t)}!`);throw i.name="NullInjectorError",i}return e}},nW=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(nW||{}),Oh=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Oh||{}),VA=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(VA||{});function Afe(n,t,e){let i=n.length;for(;;){let r=n.indexOf(t,e);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function BR(n,t,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{let o=r,s=e[++i];gfe(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function iW(n){return n===3||n===4||n===6}function gfe(n){return n.charCodeAt(0)===64}function $C(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?tG(n,e,r,null,t[++i]):tG(n,e,r,null,null))}}return n}function tG(n,t,e,i,r){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===e){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var rW="ng-template";function mfe(n,t,e,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&Afe(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(V4(n))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function V4(n){return n.type===4&&n.value!==rW}function vfe(n,t,e){let i=n.type===4&&!e?rW:n.value;return t===i}function _fe(n,t,e){let i=4,r=n.attrs,o=r!==null?bfe(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!gd(i)&&!gd(l))return!1;if(s&&gd(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!vfe(n,l,e)||l===""&&t.length===1){if(gd(i))return!1;s=!0}}else if(i&8){if(r===null||!mfe(n,r,l,e)){if(gd(i))return!1;s=!0}}else{let u=t[++a],d=yfe(l,r,V4(n),e);if(d===-1){if(gd(i))return!1;s=!0;continue}if(u!==""){let h;if(d>o?h="":h=r[d+1].toLowerCase(),i&2&&u!==h){if(gd(i))return!1;s=!0}}}}return gd(i)||s}function gd(n){return(n&1)===0}function yfe(n,t,e,i){if(t===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){let s=t[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return Cfe(t,n)}function oW(n,t,e=!1){for(let i=0;i<t.length;i++)if(_fe(n,t[i],e))return!0;return!1}function wfe(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if(!(e&1))return t[e+1]}return null}function bfe(n){for(let t=0;t<n.length;t++){let e=n[t];if(iW(e))return t}return n.length}function Cfe(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function Efe(n,t){e:for(let e=0;e<t.length;e++){let i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function nG(n,t){return n?":not("+t.trim()+")":t}function Sfe(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(i&2){let a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!gd(s)&&(t+=nG(o,r),r=""),i=s,o=o||!gd(i);e++}return r!==""&&(t+=nG(o,r)),t}function xfe(n){return n.map(Sfe).join(",")}function Ife(n){let t=[],e=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&t.push(o,n[++i]):r===8&&e.push(o);else{if(!gd(r))break;r=o}i++}return{attrs:t,classes:e}}function wt(n){return iE(()=>{let t=uW(n),e=vt(Ee({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===nW.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Oh.Emulated,styles:n.styles||Pl,_:null,schemas:n.schemas||null,tView:null,id:""});dW(e);let i=n.dependencies;return e.directiveDefs=rG(i,!1),e.pipeDefs=rG(i,!0),e.id=Mfe(e),e})}function Tfe(n){return $f(n)||sW(n)}function Dfe(n){return n!==null}function ht(n){return iE(()=>({type:n.type,bootstrap:n.bootstrap||Pl,declarations:n.declarations||Pl,imports:n.imports||Pl,exports:n.exports||Pl,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function iG(n,t){if(n==null)return n1;let e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=VA.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(e[o]=a!==VA.None?[i,a]:i,t[o]=s):e[o]=i}return e}function Mt(n){return iE(()=>{let t=uW(n);return dW(t),t})}function kh(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function $f(n){return n[$he]||null}function sW(n){return n[Yhe]||null}function aW(n){return n[Zhe]||null}function lW(n){let t=$f(n)||sW(n)||aW(n);return t!==null?t.standalone:!1}function cW(n,t){let e=n[Xhe]||null;if(!e&&t===!0)throw new Error(`Type ${Ja(n)} does not have '\u0275mod' property.`);return e}function uW(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||n1,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Pl,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:iG(n.inputs,t),outputs:iG(n.outputs),debugInfo:null}}function dW(n){n.features?.forEach(t=>t(n))}function rG(n,t){if(!n)return null;let e=t?aW:Tfe;return()=>(typeof n=="function"?n():n).map(i=>e(i)).filter(Dfe)}function Mfe(n){let t=0,e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function H0(n){return{\u0275providers:n}}function Ofe(...n){return{\u0275providers:hW(!0,n),\u0275fromNgModule:!0}}function hW(n,...t){let e=[],i=new Set,r,o=s=>{e.push(s)};return U4(t,s=>{let a=s;PR(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&fW(r,o),e}function fW(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:r}=n[e];Q4(r,o=>{t(o,i)})}}function PR(n,t,e,i){if(n=Xa(n),!n)return!1;let r=null,o=Z9(n),s=!o&&$f(n);if(!o&&!s){let l=n.ngModule;if(o=Z9(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)PR(u,t,e,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{U4(o.imports,d=>{PR(d,t,e,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&fW(u,t)}if(!a){let u=M0(r)||(()=>new r);t({provide:r,useFactory:u,deps:Pl},r),t({provide:tW,useValue:r,multi:!0},r),t({provide:i1,useValue:()=>Te(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let u=n;Q4(l,d=>{t(d,u)})}}else return!1;return r!==n&&n.providers!==void 0}function Q4(n,t){for(let e of n)$G(e)&&(e=e.\u0275providers),Array.isArray(e)?Q4(e,t):t(e)}var Ffe=zi({provide:String,useValue:zi});function pW(n){return n!==null&&typeof n=="object"&&Ffe in n}function Bfe(n){return!!(n&&n.useExisting)}function Pfe(n){return!!(n&&n.useFactory)}function r1(n){return typeof n=="function"}function kfe(n){return!!n.useClass}var m2=new Ke(""),PD={},Nfe={},AR;function v2(){return AR===void 0&&(AR=new jD),AR}var uo=class{},YC=class extends uo{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,NR(t,s=>this.processProvider(s)),this.records.set(eW,Zy(void 0,this)),r.has("environment")&&this.records.set(uo,Zy(void 0,this));let o=this.records.get(m2);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tW,Pl,Tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Rn(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Rn(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let e=LA(this),i=Bl(void 0),r;try{return t()}finally{LA(e),Bl(i)}}get(t,e=qC,i=Tn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(J9))return t[J9](this);i=A2(i);let r,o=LA(this),s=Bl(void 0);try{if(!(i&Tn.SkipSelf)){let l=this.records.get(t);if(l===void 0){let u=Vfe(t)&&p2(t);u&&this.injectableDefInScope(u)?l=Zy(kR(t),PD):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&Tn.Self?v2():this.parent;return e=i&Tn.Optional&&e===qC?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[VD]=a[VD]||[]).unshift(Ja(t)),o)throw a;return lfe(a,t,"R3InjectorError",this.source)}else throw a}finally{Bl(s),LA(o)}}resolveInjectorInitializers(){let t=Rn(null),e=LA(this),i=Bl(void 0),r;try{let o=this.get(i1,Pl,Tn.Self);for(let s of o)s()}finally{LA(e),Bl(i),Rn(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(Ja(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processProvider(t){t=Xa(t);let e=r1(t)?t:Xa(t&&t.provide),i=Lfe(t);if(!r1(t)&&t.multi===!0){let r=this.records.get(e);r||(r=Zy(void 0,PD,!0),r.factory=()=>FR(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){let i=Rn(null);try{return e.value===PD&&(e.value=Nfe,e.value=e.factory()),typeof e.value=="object"&&e.value&&Hfe(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Rn(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Xa(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function kR(n){let t=p2(n),e=t!==null?t.factory:M0(n);if(e!==null)return e;if(n instanceof Ke)throw new Qe(204,!1);if(n instanceof Function)return Rfe(n);throw new Qe(204,!1)}function Rfe(n){if(n.length>0)throw new Qe(204,!1);let e=zhe(n);return e!==null?()=>e.factory(n):()=>new n}function Lfe(n){if(pW(n))return Zy(void 0,n.useValue);{let t=AW(n);return Zy(t,PD)}}function AW(n,t,e){let i;if(r1(n)){let r=Xa(n);return M0(r)||kR(r)}else if(pW(n))i=()=>Xa(n.useValue);else if(Pfe(n))i=()=>n.useFactory(...FR(n.deps||[]));else if(Bfe(n))i=()=>Te(Xa(n.useExisting));else{let r=Xa(n&&(n.useClass||n.provide));if(Ufe(n))i=()=>new r(...FR(n.deps));else return M0(r)||kR(r)}return i}function Zy(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Ufe(n){return!!n.deps}function Hfe(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Vfe(n){return typeof n=="function"||typeof n=="object"&&n instanceof Ke}function NR(n,t){for(let e of n)Array.isArray(e)?NR(e,t):e&&$G(e)?NR(e.\u0275providers,t):t(e)}function dc(n,t){n instanceof YC&&n.assertNotDestroyed();let e,i=LA(n),r=Bl(void 0);try{return t()}finally{LA(i),Bl(r)}}function gW(){return YG()!==void 0||ofe()!=null}function mW(n){if(!gW())throw new Qe(-203,!1)}function Qfe(n){let t=Go.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function jfe(n){return typeof n=="function"}var Nh=0,on=1,nn=2,ya=3,vd=4,Nl=5,o1=6,GD=7,va=8,s1=9,Fh=10,Dr=11,ZC=12,oG=13,h1=14,uc=15,O0=16,Xy=17,Yf=18,_2=19,vW=20,UA=21,gR=22,au=23,_o=25,j4=1;var F0=7,WD=8,a1=9,_a=10,KD=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(KD||{});function HA(n){return Array.isArray(n)&&typeof n[j4]=="object"}function Jf(n){return Array.isArray(n)&&n[j4]===!0}function G4(n){return(n.flags&4)!==0}function y2(n){return n.componentOffset>-1}function w2(n){return(n.flags&1)===1}function Zf(n){return!!n.template}function RR(n){return(n[nn]&512)!==0}var LR=class{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function _W(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}function ei(){return yW}function yW(n){return n.type.prototype.ngOnChanges&&(n.setInput=Wfe),Gfe}ei.ngInherit=!0;function Gfe(){let n=bW(this),t=n?.current;if(t){let e=n.previous;if(e===n1)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Wfe(n,t,e,i,r){let o=this.declaredInputs[i],s=bW(n)||Kfe(n,{previous:n1,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new LR(u&&u.currentValue,e,l===n1),_W(n,t,r,e)}var wW="__ngSimpleChanges__";function bW(n){return n[wW]||null}function Kfe(n,t){return n[wW]=t}var sG=null;var Dh=function(n,t,e){sG?.(n,t,e)},zfe="svg",qfe="math";function Bh(n){for(;Array.isArray(n);)n=n[Nh];return n}function $fe(n){for(;Array.isArray(n);){if(typeof n[j4]=="object")return n;n=n[Nh]}return null}function CW(n,t){return Bh(t[n])}function uu(n,t){return Bh(t[n.index])}function W4(n,t){return n.data[t]}function b2(n,t){return n[t]}function KA(n,t){let e=t[n];return HA(e)?e:e[Nh]}function Yfe(n){return(n[nn]&4)===4}function K4(n){return(n[nn]&128)===128}function Zfe(n){return Jf(n[ya])}function QA(n,t){return t==null?null:n[t]}function EW(n){n[Xy]=0}function SW(n){n[nn]&1024||(n[nn]|=1024,K4(n)&&C2(n))}function Xfe(n,t){for(;n>0;)t=t[h1],n--;return t}function XC(n){return!!(n[nn]&9216||n[au]?.dirty)}function UR(n){n[Fh].changeDetectionScheduler?.notify(7),n[nn]&64&&(n[nn]|=1024),XC(n)&&C2(n)}function C2(n){n[Fh].changeDetectionScheduler?.notify(0);let t=B0(n);for(;t!==null&&!(t[nn]&8192||(t[nn]|=8192,!K4(t)));)t=B0(t)}function xW(n,t){if((n[nn]&256)===256)throw new Qe(911,!1);n[UA]===null&&(n[UA]=[]),n[UA].push(t)}function Jfe(n,t){if(n[UA]===null)return;let e=n[UA].indexOf(t);e!==-1&&n[UA].splice(e,1)}function B0(n){let t=n[ya];return Jf(t)?t[ya]:t}var Cn={lFrame:RW(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var IW=!1;function epe(){return Cn.lFrame.elementDepthCount}function tpe(){Cn.lFrame.elementDepthCount++}function npe(){Cn.lFrame.elementDepthCount--}function TW(){return Cn.bindingsEnabled}function DW(){return Cn.skipHydrationRootTNode!==null}function ipe(n){return Cn.skipHydrationRootTNode===n}function rpe(){Cn.skipHydrationRootTNode=null}function Lt(){return Cn.lFrame.lView}function nr(){return Cn.lFrame.tView}function we(n){return Cn.lFrame.contextLView=n,n[va]}function be(n){return Cn.lFrame.contextLView=null,n}function Gs(){let n=MW();for(;n!==null&&n.type===64;)n=n.parent;return n}function MW(){return Cn.lFrame.currentTNode}function ope(){let n=Cn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function zA(n,t){let e=Cn.lFrame;e.currentTNode=n,e.isParent=t}function z4(){return Cn.lFrame.isParent}function q4(){Cn.lFrame.isParent=!1}function OW(){return Cn.lFrame.contextLView}function FW(){return IW}function aG(n){IW=n}function qA(){let n=Cn.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function $4(){return Cn.lFrame.bindingIndex}function spe(n){return Cn.lFrame.bindingIndex=n}function V0(){return Cn.lFrame.bindingIndex++}function sE(n){let t=Cn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function ape(){return Cn.lFrame.inI18n}function lpe(n,t){let e=Cn.lFrame;e.bindingIndex=e.bindingRootIndex=n,HR(t)}function cpe(){return Cn.lFrame.currentDirectiveIndex}function HR(n){Cn.lFrame.currentDirectiveIndex=n}function BW(n){let t=Cn.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function PW(){return Cn.lFrame.currentQueryIndex}function Y4(n){Cn.lFrame.currentQueryIndex=n}function upe(n){let t=n[on];return t.type===2?t.declTNode:t.type===1?n[Nl]:null}function kW(n,t,e){if(e&Tn.SkipSelf){let r=t,o=n;for(;r=r.parent,r===null&&!(e&Tn.Host);)if(r=upe(o),r===null||(o=o[h1],r.type&10))break;if(r===null)return!1;t=r,n=o}let i=Cn.lFrame=NW();return i.currentTNode=t,i.lView=n,!0}function Z4(n){let t=NW(),e=n[on];Cn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function NW(){let n=Cn.lFrame,t=n===null?null:n.child;return t===null?RW(n):t}function RW(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function LW(){let n=Cn.lFrame;return Cn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var UW=LW;function X4(){let n=LW();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function dpe(n){return(Cn.lFrame.contextLView=Xfe(n,Cn.lFrame.contextLView))[va]}function du(){return Cn.lFrame.selectedIndex}function P0(n){Cn.lFrame.selectedIndex=n}function aE(){let n=Cn.lFrame;return W4(n.tView,n.selectedIndex)}function hpe(){return Cn.lFrame.currentNamespace}var HW=!0;function E2(){return HW}function S2(n){HW=n}function fpe(n,t,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=yW(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function x2(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),u&&((n.viewHooks??=[]).push(e,u),(n.viewCheckHooks??=[]).push(e,u)),d!=null&&(n.destroyHooks??=[]).push(e,d)}}function kD(n,t,e){VW(n,t,3,e)}function ND(n,t,e,i){(n[nn]&3)===e&&VW(n,t,e,i)}function mR(n,t){let e=n[nn];(e&3)===t&&(e&=16383,e+=1,n[nn]=e)}function VW(n,t,e,i){let r=i!==void 0?n[Xy]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(n[Xy]+=65536),(a<o||o==-1)&&(ppe(n,e,t,l),n[Xy]=(n[Xy]&4294901760)+l+2),l++}function lG(n,t){Dh(4,n,t);let e=Rn(null);try{t.call(n)}finally{Rn(e),Dh(5,n,t)}}function ppe(n,t,e,i){let r=e[i]<0,o=e[i+1],s=r?-e[i]:e[i],a=n[s];r?n[nn]>>14<n[Xy]>>16&&(n[nn]&3)===t&&(n[nn]+=16384,lG(a,o)):lG(a,o)}var t1=-1,k0=class{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}};function Ape(n){return n instanceof k0}function gpe(n){return(n.flags&8)!==0}function mpe(n){return(n.flags&16)!==0}var vR={},VR=class{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=A2(i);let r=this.injector.get(t,vR,i);return r!==vR||e===vR?r:this.parentInjector.get(t,e,i)}};function QW(n){return n!==t1}function zD(n){return n&32767}function vpe(n){return n>>16}function qD(n,t){let e=vpe(n),i=t;for(;e>0;)i=i[h1],e--;return i}var QR=!0;function $D(n){let t=QR;return QR=n,t}var _pe=256,jW=_pe-1,GW=5,ype=0,Mh={};function wpe(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(KC)&&(i=e[KC]),i==null&&(i=e[KC]=ype++);let r=i&jW,o=1<<r;t.data[n+(r>>GW)]|=o}function YD(n,t){let e=WW(n,t);if(e!==-1)return e;let i=t[on];i.firstCreatePass&&(n.injectorIndex=t.length,_R(i.data,n),_R(t,null),_R(i.blueprint,null));let r=J4(n,t),o=n.injectorIndex;if(QW(r)){let s=zD(r),a=qD(r,t),l=a[on].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=r,o}function _R(n,t){n.push(0,0,0,0,0,0,0,0,t)}function WW(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function J4(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;r!==null;){if(i=YW(r),i===null)return t1;if(e++,r=r[h1],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return t1}function jR(n,t,e){wpe(n,t,e)}function bpe(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(iW(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===t)return e[r+1];r=r+2}}}return null}function KW(n,t,e){if(e&Tn.Optional||n!==void 0)return n;L4(t,"NodeInjector")}function zW(n,t,e,i){if(e&Tn.Optional&&i===void 0&&(i=null),!(e&(Tn.Self|Tn.Host))){let r=n[s1],o=Bl(void 0);try{return r?r.get(t,i,e&Tn.Optional):ZG(t,i,e&Tn.Optional)}finally{Bl(o)}}return KW(i,t,e)}function qW(n,t,e,i=Tn.Default,r){if(n!==null){if(t[nn]&2048&&!(i&Tn.Self)){let s=xpe(n,t,e,i,Mh);if(s!==Mh)return s}let o=$W(n,t,e,i,Mh);if(o!==Mh)return o}return zW(t,e,i,r)}function $W(n,t,e,i,r){let o=Epe(e);if(typeof o=="function"){if(!kW(t,n,i))return i&Tn.Host?KW(r,e,i):zW(t,e,i,r);try{let s;if(s=o(i),s==null&&!(i&Tn.Optional))L4(e);else return s}finally{UW()}}else if(typeof o=="number"){let s=null,a=WW(n,t),l=t1,u=i&Tn.Host?t[uc][Nl]:null;for((a===-1||i&Tn.SkipSelf)&&(l=a===-1?J4(n,t):t[a+8],l===t1||!uG(i,!1)?a=-1:(s=t[on],a=zD(l),t=qD(l,t)));a!==-1;){let d=t[on];if(cG(o,a,d.data)){let h=Cpe(a,t,e,s,i,u);if(h!==Mh)return h}l=t[a+8],l!==t1&&uG(i,t[on].data[a+8]===u)&&cG(o,a,t)?(s=d,a=zD(l),t=qD(l,t)):a=-1}}return r}function Cpe(n,t,e,i,r,o){let s=t[on],a=s.data[n+8],l=i==null?y2(a)&&QR:i!=s&&(a.type&3)!==0,u=r&Tn.Host&&o===a,d=RD(a,s,e,l,u);return d!==null?N0(t,s,d,a):Mh}function RD(n,t,e,i,r){let o=n.providerIndexes,s=t.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,d=o>>20,h=i?a:a+d,f=r?a+d:u;for(let A=h;A<f;A++){let g=s[A];if(A<l&&e===g||A>=l&&g.type===e)return A}if(r){let A=s[l];if(A&&Zf(A)&&A.type===e)return l}return null}function N0(n,t,e,i){let r=n[e],o=t.data;if(Ape(r)){let s=r;s.resolving&&efe(Jhe(o[e]));let a=$D(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?Bl(s.injectImpl):null,d=kW(n,i,Tn.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&fpe(e,o[e],t)}finally{u!==null&&Bl(u),$D(a),s.resolving=!1,UW()}}return r}function Epe(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(KC)?n[KC]:void 0;return typeof t=="number"?t>=0?t&jW:Spe:t}function cG(n,t,e){let i=1<<n;return!!(e[t+(n>>GW)]&i)}function uG(n,t){return!(n&Tn.Self)&&!(n&Tn.Host&&t)}var D0=class{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return qW(this._tNode,this._lView,t,A2(i),e)}};function Spe(){return new D0(Gs(),Lt())}function Ws(n){return iE(()=>{let t=n.prototype.constructor,e=t[HD]||GR(t),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[HD]||GR(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function GR(n){return WG(n)?()=>{let t=GR(Xa(n));return t&&t()}:M0(n)}function xpe(n,t,e,i,r){let o=n,s=t;for(;o!==null&&s!==null&&s[nn]&2048&&!(s[nn]&512);){let a=$W(o,s,e,i|Tn.Self,Mh);if(a!==Mh)return a;let l=o.parent;if(!l){let u=s[vW];if(u){let d=u.get(e,Mh,i);if(d!==Mh)return d}l=YW(s),s=s[h1]}o=l}return r}function YW(n){let t=n[on],e=t.type;return e===2?t.declTNode:e===1?n[Nl]:null}function Q0(n){return bpe(Gs(),n)}function dG(n,t=null,e=null,i){let r=ZW(n,t,e,i);return r.resolveInjectorInitializers(),r}function ZW(n,t=null,e=null,i,r=new Set){let o=[e||Pl,Ofe(n)];return i=i||(typeof n=="object"?void 0:Ja(n)),new YC(o,t||v2(),i||null,r)}var Ci=class n{static{this.THROW_IF_NOT_FOUND=qC}static{this.NULL=new jD}static create(t,e){if(Array.isArray(t))return dG({name:""},e,t,"");{let i=t.name??"";return dG({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=De({token:n,providedIn:"any",factory:()=>Te(eW)})}static{this.__NG_ELEMENT_ID__=-1}};var Ipe=new Ke("");Ipe.__NG_ELEMENT_ID__=n=>{let t=Gs();if(t===null)throw new Qe(204,!1);if(t.type&2)return t.value;if(n&Tn.Optional)return null;throw new Qe(204,!1)};var Tpe="ngOriginalError";function yR(n){return n[Tpe]}var lu=class{constructor(){this._console=console}handleError(t){let e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&yR(t);for(;e&&yR(e);)e=yR(e);return e||null}},XW=new Ke("",{providedIn:"root",factory:()=>Oe(lu).handleError.bind(void 0)}),I2=(()=>{class n{static{this.__NG_ELEMENT_ID__=Dpe}static{this.__NG_ENV_ID__=e=>e}}return n})(),WR=class extends I2{constructor(t){super(),this._lView=t}onDestroy(t){return xW(this._lView,t),()=>Jfe(this._lView,t)}};function Dpe(){return new WR(Lt())}function hG(n,t){return jG(n,t)}function Mpe(n){return jG(QG,n)}var j0=(hG.required=Mpe,hG);function Ope(){return f1(Gs(),Lt())}function f1(n,t){return new Kt(uu(n,t))}var Kt=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=Ope}}return n})();function Fpe(n){return n instanceof Kt?n.nativeElement:n}var ep=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new mo(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=De({token:n,providedIn:"root",factory:()=>new n})}}return n})();var KR=class extends St{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,gW()&&(this.destroyRef=Oe(I2,{optional:!0})??void 0,this.pendingTasks=Oe(ep,{optional:!0})??void 0)}emit(t){let e=Rn(null);try{super.next(t)}finally{Rn(e)}}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof Li&&t.add(a),a}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(e),i!==void 0&&this.pendingTasks?.remove(i)})}}},at=KR;function Bpe(){return this._results[Symbol.iterator]()}var zR=class n{get changes(){return this._changes??=new at}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=n.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Bpe)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=dfe(t);(this._changesDetected=!ufe(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function JW(n){return(n.flags&128)===128}var eK=new Map,Ppe=0;function kpe(){return Ppe++}function Npe(n){eK.set(n[_2],n)}function Rpe(n){eK.delete(n[_2])}var fG="__ngContext__";function jA(n,t){HA(t)?(n[fG]=t[_2],Npe(t)):n[fG]=t}function tK(n){return iK(n[ZC])}function nK(n){return iK(n[vd])}function iK(n){for(;n!==null&&!Jf(n);)n=n[vd];return n}var qR;function rK(n){qR=n}function oK(){if(qR!==void 0)return qR;if(typeof document<"u")return document;throw new Qe(210,!1)}var T2=new Ke("",{providedIn:"root",factory:()=>Lpe}),Lpe="ng",e3=new Ke(""),Wo=new Ke("",{providedIn:"platform",factory:()=>"unknown"});var lE=new Ke(""),t3=new Ke("",{providedIn:"root",factory:()=>oK().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Upe="h",Hpe="b";var Vpe=()=>null;function n3(n,t,e=!1){return Vpe(n,t,e)}var sK=!1,Qpe=new Ke("",{providedIn:"root",factory:()=>sK});var TD;function jpe(){if(TD===void 0&&(TD=null,Go.trustedTypes))try{TD=Go.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return TD}function D2(n){return jpe()?.createHTML(n)||n}var DD;function Gpe(){if(DD===void 0&&(DD=null,Go.trustedTypes))try{DD=Go.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return DD}function pG(n){return Gpe()?.createHTML(n)||n}var Xf=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${VG})`}},$R=class extends Xf{getTypeName(){return"HTML"}},YR=class extends Xf{getTypeName(){return"Style"}},ZR=class extends Xf{getTypeName(){return"Script"}},XR=class extends Xf{getTypeName(){return"URL"}},JR=class extends Xf{getTypeName(){return"ResourceURL"}};function _d(n){return n instanceof Xf?n.changingThisBreaksApplicationSecurity:n}function $A(n,t){let e=Wpe(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${VG})`)}return e===t}function Wpe(n){return n instanceof Xf&&n.getTypeName()||null}function aK(n){return new $R(n)}function lK(n){return new YR(n)}function cK(n){return new ZR(n)}function uK(n){return new XR(n)}function dK(n){return new JR(n)}function Kpe(n){let t=new t4(n);return zpe()?new e4(t):t}var e4=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(D2(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}},t4=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=D2(t),e}};function zpe(){try{return!!new window.DOMParser().parseFromString(D2(""),"text/html")}catch{return!1}}var qpe=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function M2(n){return n=String(n),n.match(qpe)?n:"unsafe:"+n}function tp(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function cE(...n){let t={};for(let e of n)for(let i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}var hK=tp("area,br,col,hr,img,wbr"),fK=tp("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pK=tp("rp,rt"),$pe=cE(pK,fK),Ype=cE(fK,tp("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zpe=cE(pK,tp("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),AG=cE(hK,Ype,Zpe,$pe),AK=tp("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xpe=tp("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jpe=tp("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),eAe=cE(AK,Xpe,Jpe),tAe=tp("script,style,template"),n4=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=rAe(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=iAe(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(t){let e=gG(t).toLowerCase();if(!AG.hasOwnProperty(e))return this.sanitizedSomething=!0,!tAe.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=t.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!eAe.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;AK[a]&&(l=M2(l)),this.buf.push(" ",s,'="',mG(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=gG(t).toLowerCase();AG.hasOwnProperty(e)&&!hK.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(mG(t))}};function nAe(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function iAe(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw gK(t);return t}function rAe(n){let t=n.firstChild;if(t&&nAe(n,t))throw gK(t);return t}function gG(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function gK(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var oAe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sAe=/([^\#-~ |!])/g;function mG(n){return n.replace(/&/g,"&amp;").replace(oAe,function(t){let e=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(sAe,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var MD;function i3(n,t){let e=null;try{MD=MD||Kpe(n);let i=t?String(t):"";e=MD.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=MD.getInertBodyElement(i)}while(i!==o);let a=new n4().sanitizeChildren(vG(e)||e);return D2(a)}finally{if(e){let i=vG(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function vG(n){return"content"in n&&aAe(n)?n.content:null}function aAe(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var hu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(hu||{});function wa(n){let t=mK();return t?pG(t.sanitize(hu.HTML,n)||""):$A(n,"HTML")?pG(_d(n)):i3(oK(),js(n))}function yo(n){let t=mK();return t?t.sanitize(hu.URL,n)||"":$A(n,"URL")?_d(n):M2(js(n))}function mK(){let n=Lt();return n&&n[Fh].sanitizer}var lAe=/^>|^->|<!--|-->|--!>|<!-$/g,cAe=/(<|>)/g,uAe="\u200B$1\u200B";function dAe(n){return n.replace(lAe,t=>t.replace(cAe,uAe))}function O2(n){return n.ownerDocument.defaultView}function np(n){return n.ownerDocument}function vK(n){return n instanceof Function?n():n}function _K(n){return(n??Oe(Ci)).get(Wo)==="browser"}var Ph=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ph||{}),hAe;function r3(n,t){return hAe(n,t)}function Jy(n,t,e,i,r){if(i!=null){let o,s=!1;Jf(i)?o=i:HA(i)&&(s=!0,i=i[Nh]);let a=Bh(i);n===0&&e!==null?r==null?EK(t,e,a):ZD(t,e,a,r||null,!0):n===1&&e!==null?ZD(t,e,a,r||null,!0):n===2?IAe(t,a,s):n===3&&t.destroyNode(a),o!=null&&DAe(t,n,o,e,r)}}function fAe(n,t){return n.createText(t)}function pAe(n,t,e){n.setValue(t,e)}function AAe(n,t){return n.createComment(dAe(t))}function yK(n,t,e){return n.createElement(t,e)}function gAe(n,t){wK(n,t),t[Nh]=null,t[Nl]=null}function mAe(n,t,e,i,r,o){i[Nh]=r,i[Nl]=t,P2(n,i,e,1,r,o)}function wK(n,t){t[Fh].changeDetectionScheduler?.notify(8),P2(n,t,t[Dr],2,null,null)}function vAe(n){let t=n[ZC];if(!t)return wR(n[on],n);for(;t;){let e=null;if(HA(t))e=t[ZC];else{let i=t[_a];i&&(e=i)}if(!e){for(;t&&!t[vd]&&t!==n;)HA(t)&&wR(t[on],t),t=t[ya];t===null&&(t=n),HA(t)&&wR(t[on],t),e=t&&t[vd]}t=e}}function _Ae(n,t,e,i){let r=_a+i,o=e.length;i>0&&(e[r-1][vd]=t),i<o-_a?(t[vd]=e[r],JG(e,_a+i,t)):(e.push(t),t[vd]=null),t[ya]=e;let s=t[O0];s!==null&&e!==s&&bK(s,t);let a=t[Yf];a!==null&&a.insertView(n),UR(t),t[nn]|=128}function bK(n,t){let e=n[a1],i=t[ya];if(HA(i))n[nn]|=KD.HasTransplantedViews;else{let r=i[ya][uc];t[uc]!==r&&(n[nn]|=KD.HasTransplantedViews)}e===null?n[a1]=[t]:e.push(t)}function o3(n,t){let e=n[a1],i=e.indexOf(t);e.splice(i,1)}function JC(n,t){if(n.length<=_a)return;let e=_a+t,i=n[e];if(i){let r=i[O0];r!==null&&r!==n&&o3(r,i),t>0&&(n[e-1][vd]=i[vd]);let o=QD(n,_a+t);gAe(i[on],i);let s=o[Yf];s!==null&&s.detachView(o[on]),i[ya]=null,i[vd]=null,i[nn]&=-129}return i}function F2(n,t){if(!(t[nn]&256)){let e=t[Dr];e.destroyNode&&P2(n,t,e,3,null,null),vAe(t)}}function wR(n,t){if(t[nn]&256)return;let e=Rn(null);try{t[nn]&=-129,t[nn]|=256,t[au]&&KN(t[au]),wAe(n,t),yAe(n,t),t[on].type===1&&t[Dr].destroy();let i=t[O0];if(i!==null&&Jf(t[ya])){i!==t[ya]&&o3(i,t);let r=t[Yf];r!==null&&r.detachView(n)}Rpe(t)}finally{Rn(e)}}function yAe(n,t){let e=n.cleanup,i=t[GD];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[e[o+1]];e[o].call(s)}i!==null&&(t[GD]=null);let r=t[UA];if(r!==null){t[UA]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function wAe(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=t[e[i]];if(!(r instanceof k0)){let o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Dh(4,a,l);try{l.call(a)}finally{Dh(5,a,l)}}else{Dh(4,r,o);try{o.call(r)}finally{Dh(5,r,o)}}}}}function CK(n,t,e){return bAe(n,t.parent,e)}function bAe(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[Nh];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===Oh.None||o===Oh.Emulated)return null}return uu(i,e)}}function ZD(n,t,e,i,r){n.insertBefore(t,e,i,r)}function EK(n,t,e){n.appendChild(t,e)}function _G(n,t,e,i,r){i!==null?ZD(n,t,e,i,r):EK(n,t,e)}function CAe(n,t,e,i){n.removeChild(t,e,i)}function s3(n,t){return n.parentNode(t)}function EAe(n,t){return n.nextSibling(t)}function SK(n,t,e){return xAe(n,t,e)}function SAe(n,t,e){return n.type&40?uu(n,e):null}var xAe=SAe,yG;function B2(n,t,e,i){let r=CK(n,i,t),o=t[Dr],s=i.parent||t[Nl],a=SK(s,i,t);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)_G(o,r,e[l],a,!1);else _G(o,r,e,a,!1);yG!==void 0&&yG(o,i,t,e,r)}function LD(n,t){if(t!==null){let e=t.type;if(e&3)return uu(t,n);if(e&4)return i4(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return LD(n,i);{let r=n[t.index];return Jf(r)?i4(-1,r):Bh(r)}}else{if(e&32)return r3(t,n)()||Bh(n[t.index]);{let i=xK(n,t);if(i!==null){if(Array.isArray(i))return i[0];let r=B0(n[uc]);return LD(r,i)}else return LD(n,t.next)}}}return null}function xK(n,t){if(t!==null){let i=n[uc][Nl],r=t.projection;return i.projection[r]}return null}function i4(n,t){let e=_a+n+1;if(e<t.length){let i=t[e],r=i[on].firstChild;if(r!==null)return LD(i,r)}return t[F0]}function IAe(n,t,e){let i=s3(n,t);i&&CAe(n,i,t,e)}function a3(n,t,e,i,r,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=i[e.index],l=e.type;if(s&&t===0&&(a&&jA(Bh(a),i),e.flags|=2),(e.flags&32)!==32)if(l&8)a3(n,t,e.child,i,r,o,!1),Jy(t,n,r,a,o);else if(l&32){let u=r3(e,i),d;for(;d=u();)Jy(t,n,r,d,o);Jy(t,n,r,a,o)}else l&16?IK(n,t,i,e,r,o):Jy(t,n,r,a,o);e=s?e.projectionNext:e.next}}function P2(n,t,e,i,r,o){a3(e,i,n.firstChild,t,r,o,!1)}function TAe(n,t,e){let i=t[Dr],r=CK(n,e,t),o=e.parent||t[Nl],s=SK(o,e,t);IK(i,0,t,e,r,s)}function IK(n,t,e,i,r,o){let s=e[uc],l=s[Nl].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];Jy(t,n,r,d,o)}else{let u=l,d=s[ya];JW(i)&&(u.flags|=128),a3(n,t,u,d,r,o,!0)}}function DAe(n,t,e,i,r){let o=e[F0],s=Bh(e);o!==s&&Jy(t,n,i,o,r);for(let a=_a;a<e.length;a++){let l=e[a];P2(l[on],l,n,t,i,o)}}function MAe(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:Ph.DashCase;r==null?n.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ph.Important),n.setStyle(e,i,r,o))}}function OAe(n,t,e){n.setAttribute(t,"style",e)}function TK(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function DK(n,t,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&BR(n,t,i),r!==null&&TK(n,t,r),o!==null&&OAe(n,t,o)}var ps={};function x(n=1){MK(nr(),Lt(),du()+n,!1)}function MK(n,t,e,i){if(!i)if((t[nn]&3)===3){let o=n.preOrderCheckHooks;o!==null&&kD(t,o,e)}else{let o=n.preOrderHooks;o!==null&&ND(t,o,0,e)}P0(e)}function ae(n,t=Tn.Default){let e=Lt();if(e===null)return Te(n,t);let i=Gs();return qW(i,e,Xa(n),t)}function l3(){let n="invalid";throw new Error(n)}function OK(n,t,e,i,r,o){let s=Rn(null);try{let a=null;r&VA.SignalBased&&(a=t[i][xh]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&VA.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(t,o)),n.setInput!==null?n.setInput(t,a,o,e,i):_W(t,a,i,o)}finally{Rn(s)}}function FAe(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)P0(~r);else{let o=r,s=e[++i],a=e[++i];lpe(s,o);let l=t[o];a(2,l)}}}finally{P0(-1)}}function k2(n,t,e,i,r,o,s,a,l,u,d){let h=t.blueprint.slice();return h[Nh]=r,h[nn]=i|4|128|8|64,(u!==null||n&&n[nn]&2048)&&(h[nn]|=2048),EW(h),h[ya]=h[h1]=n,h[va]=e,h[Fh]=s||n&&n[Fh],h[Dr]=a||n&&n[Dr],h[s1]=l||n&&n[s1]||null,h[Nl]=o,h[_2]=kpe(),h[o1]=d,h[vW]=u,h[uc]=t.type==2?n[uc]:h,h}function G0(n,t,e,i,r){let o=n.data[t];if(o===null)o=BAe(n,t,e,i,r),ape()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let s=ope();o.injectorIndex=s===null?-1:s.injectorIndex}return zA(o,!0),o}function BAe(n,t,e,i,r){let o=MW(),s=z4(),a=s?o:o&&o.parent,l=n.data[t]=UAe(n,a,e,t,i,r);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function FK(n,t,e,i){if(e===0)return-1;let r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function BK(n,t,e,i,r){let o=du(),s=i&2;try{P0(-1),s&&t.length>_o&&MK(n,t,_o,!1),Dh(s?2:0,r),e(i,r)}finally{P0(o),Dh(s?3:1,r)}}function c3(n,t,e){if(G4(t)){let i=Rn(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{Rn(i)}}}function u3(n,t,e){TW()&&(WAe(n,t,e,uu(e,t)),(e.flags&64)===64&&NK(n,t,e))}function d3(n,t,e=uu){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?e(t,n):n[s];n[r++]=a}}}function PK(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=h3(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function h3(n,t,e,i,r,o,s,a,l,u,d){let h=_o+i,f=h+r,A=PAe(h,f),g=typeof u=="function"?u():u;return A[on]={type:n,blueprint:A,template:e,queries:null,viewQuery:a,declTNode:t,data:A.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:d}}function PAe(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:ps);return e}function kAe(n,t,e,i){let o=i.get(Qpe,sK)||e===Oh.ShadowDom,s=n.selectRootElement(t,o);return NAe(s),s}function NAe(n){RAe(n)}var RAe=()=>null;function LAe(n,t,e,i){let r=UK(t);r.push(e),n.firstCreatePass&&HK(n).push(i,r.length-1)}function UAe(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return DW()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function wG(n,t,e,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;i??={};let a,l=VA.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(r!==null){if(!r.hasOwnProperty(o))continue;u=r[o]}n===0?bG(i,e,u,a,l):bG(i,e,u,a)}return i}function bG(n,t,e,i,r){let o;n.hasOwnProperty(e)?(o=n[e]).push(t,i):o=n[e]=[t,i],r!==void 0&&o.push(r)}function HAe(n,t,e){let i=t.directiveStart,r=t.directiveEnd,o=n.data,s=t.attrs,a=[],l=null,u=null;for(let d=i;d<r;d++){let h=o[d],f=e?e.get(h):null,A=f?f.inputs:null,g=f?f.outputs:null;l=wG(0,h.inputs,d,l,A),u=wG(1,h.outputs,d,u,g);let m=l!==null&&s!==null&&!V4(t)?nge(l,d,s):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}function VAe(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function N2(n,t,e,i,r,o,s,a){let l=uu(t,e),u=t.inputs,d;!a&&u!=null&&(d=u[i])?(p3(n,e,d,i,r),y2(t)&&QAe(e,t.index)):t.type&3?(i=VAe(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(l,i,r)):t.type&12}function QAe(n,t){let e=KA(t,n);e[nn]&16||(e[nn]|=64)}function f3(n,t,e,i){if(TW()){let r=i===null?null:{"":-1},o=zAe(n,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&kK(n,t,e,s,r,a),r&&qAe(e,i,r)}e.mergedAttrs=$C(e.mergedAttrs,e.attrs)}function kK(n,t,e,i,r,o){for(let u=0;u<i.length;u++)jR(YD(e,t),n,i[u].type);YAe(e,n.data.length,i.length);for(let u=0;u<i.length;u++){let d=i[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=FK(n,t,i.length,null);for(let u=0;u<i.length;u++){let d=i[u];e.mergedAttrs=$C(e.mergedAttrs,d.hostAttrs),ZAe(n,e,t,l,d),$Ae(l,d,r),d.contentQueries!==null&&(e.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(e.flags|=64);let h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}HAe(n,e,o)}function jAe(n,t,e,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;GAe(s)!=a&&s.push(a),s.push(e,i,o)}}function GAe(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function WAe(n,t,e,i){let r=e.directiveStart,o=e.directiveEnd;y2(e)&&XAe(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||YD(e,t),jA(i,t);let s=e.initialInputs;for(let a=r;a<o;a++){let l=n.data[a],u=N0(t,n,a,e);if(jA(u,t),s!==null&&tge(t,a-r,u,l,e,s),Zf(l)){let d=KA(e.index,t);d[va]=N0(t,n,a,e)}}}function NK(n,t,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,s=cpe();try{P0(o);for(let a=i;a<r;a++){let l=n.data[a],u=t[a];HR(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&KAe(l,u)}}finally{P0(-1),HR(s)}}function KAe(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function zAe(n,t){let e=n.directiveRegistry,i=null,r=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(oW(t,s.selectors,!1))if(i||(i=[]),Zf(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;r4(n,t,l)}else i.unshift(s),r4(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function r4(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function qAe(n,t,e){if(t){let i=n.localNames=[];for(let r=0;r<t.length;r+=2){let o=e[t[r+1]];if(o==null)throw new Qe(-301,!1);i.push(t[r],o)}}}function $Ae(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Zf(t)&&(e[""]=n)}}function YAe(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function ZAe(n,t,e,i,r){n.data[i]=r;let o=r.factory||(r.factory=M0(r.type,!0)),s=new k0(o,Zf(r),ae);n.blueprint[i]=s,e[i]=s,jAe(n,t,i,FK(n,e,r.hostVars,ps),r)}function XAe(n,t,e){let i=uu(t,n),r=PK(e),o=n[Fh].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=R2(n,k2(n,r,null,s,i,t,null,o.createRenderer(i,e),null,null,null));n[t.index]=a}function JAe(n,t,e,i,r,o){let s=uu(n,t);ege(t[Dr],s,o,n.value,e,i,r)}function ege(n,t,e,i,r,o,s){if(o==null)n.removeAttribute(t,r,e);else{let a=s==null?js(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}function tge(n,t,e,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],d=s[a++],h=s[a++];OK(i,e,l,u,d,h)}}function nge(n,t,e){let i=null,r=0;for(;r<e.length;){let o=e[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){i.push(o,s[a+1],s[a+2],e[r+1]);break}}r+=2}return i}function RK(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function LK(n,t){let e=n.contentQueries;if(e!==null){let i=Rn(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s!==-1){let a=n.data[s];Y4(o),a.contentQueries(2,t[s],s)}}}finally{Rn(i)}}}function R2(n,t){return n[ZC]?n[oG][vd]=t:n[ZC]=t,n[oG]=t,t}function o4(n,t,e){Y4(0);let i=Rn(null);try{t(n,e)}finally{Rn(i)}}function UK(n){return n[GD]??=[]}function HK(n){return n.cleanup??=[]}function ige(n,t,e){return(n===null||Zf(n))&&(e=$fe(e[t.index])),e[Dr]}function VK(n,t){let e=n[s1],i=e?e.get(lu,null):null;i&&i.handleError(t)}function p3(n,t,e,i,r){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],u=t[s],d=n.data[s];OK(d,u,i,a,l,r)}}function L2(n,t,e){let i=CW(t,n);pAe(n[Dr],i,e)}function rge(n,t){let e=KA(t,n),i=e[on];oge(i,e);let r=e[Nh];r!==null&&e[o1]===null&&(e[o1]=n3(r,e[s1])),A3(i,e,e[va])}function oge(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function A3(n,t,e){Z4(t);try{let i=n.viewQuery;i!==null&&o4(1,i,e);let r=n.template;r!==null&&BK(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[Yf]?.finishViewCreation(n),n.staticContentQueries&&LK(n,t),n.staticViewQueries&&o4(2,n.viewQuery,e);let o=n.components;o!==null&&sge(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[nn]&=-5,X4()}}function sge(n,t){for(let e=0;e<t.length;e++)rge(n,t[e])}function uE(n,t,e,i){let r=Rn(null);try{let o=t.tView,a=n[nn]&4096?4096:16,l=k2(n,o,e,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[t.index];l[O0]=u;let d=n[Yf];return d!==null&&(l[Yf]=d.createEmbeddedView(o)),A3(o,l,e),l}finally{Rn(r)}}function QK(n,t){let e=_a+t;if(e<n.length)return n[e]}function l1(n,t){return!t||t.firstChild===null||JW(n)}function dE(n,t,e,i=!0){let r=t[on];if(_Ae(r,t,n,e),i){let s=i4(e,n),a=t[Dr],l=s3(a,n[F0]);l!==null&&mAe(r,n[Nl],a,t,l,s)}let o=t[o1];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function jK(n,t){let e=JC(n,t);return e!==void 0&&F2(e[on],e),e}function XD(n,t,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&i.push(Bh(o)),Jf(o)&&age(o,i);let s=e.type;if(s&8)XD(n,t,e.child,i);else if(s&32){let a=r3(e,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=xK(t,e);if(Array.isArray(a))i.push(...a);else{let l=B0(t[uc]);XD(l[on],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function age(n,t){for(let e=_a;e<n.length;e++){let i=n[e],r=i[on].firstChild;r!==null&&XD(i[on],i,r,t)}n[F0]!==n[Nh]&&t.push(n[F0])}var GK=[];function lge(n){return n[au]??cge(n)}function cge(n){let t=GK.pop()??Object.create(dge);return t.lView=n,t}function uge(n){n.lView[au]!==n&&(n.lView=null,GK.push(n))}var dge=vt(Ee({},HC),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{C2(n.lView)},consumerOnSignalRead(){this.lView[au]=this}});function hge(n){let t=n[au]??Object.create(fge);return t.lView=n,t}var fge=vt(Ee({},HC),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let t=B0(n.lView);for(;t&&!WK(t[on]);)t=B0(t);t&&SW(t)},consumerOnSignalRead(){this.lView[au]=this}});function WK(n){return n.type!==2}var pge=100;function KK(n,t=!0,e=0){let i=n[Fh],r=i.rendererFactory,o=!1;o||r.begin?.();try{Age(n,e)}catch(s){throw t&&VK(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function Age(n,t){let e=FW();try{aG(!0),s4(n,t);let i=0;for(;XC(n);){if(i===pge)throw new Qe(103,!1);i++,s4(n,1)}}finally{aG(e)}}function gge(n,t,e,i){let r=t[nn];if((r&256)===256)return;let o=!1,s=!1;!o&&t[Fh].inlineEffectRunner?.flush(),Z4(t);let a=!0,l=null,u=null;o||(WK(n)?(u=lge(t),l=qT(u)):s9()===null?(a=!1,u=hge(t),l=qT(u)):t[au]&&(KN(t[au]),t[au]=null));try{EW(t),spe(n.bindingStartIndex),e!==null&&BK(n,t,e,2,i);let d=(r&3)===3;if(!o)if(d){let A=n.preOrderCheckHooks;A!==null&&kD(t,A,null)}else{let A=n.preOrderHooks;A!==null&&ND(t,A,0,null),mR(t,0)}if(s||mge(t),zK(t,0),n.contentQueries!==null&&LK(n,t),!o)if(d){let A=n.contentCheckHooks;A!==null&&kD(t,A)}else{let A=n.contentHooks;A!==null&&ND(t,A,1),mR(t,1)}FAe(n,t);let h=n.components;h!==null&&$K(t,h,0);let f=n.viewQuery;if(f!==null&&o4(2,f,i),!o)if(d){let A=n.viewCheckHooks;A!==null&&kD(t,A)}else{let A=n.viewHooks;A!==null&&ND(t,A,2),mR(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[gR]){for(let A of t[gR])A();t[gR]=null}o||(t[nn]&=-73)}catch(d){throw o||C2(t),d}finally{u!==null&&(GN(u,l),a&&uge(u)),X4()}}function zK(n,t){for(let e=tK(n);e!==null;e=nK(e))for(let i=_a;i<e.length;i++){let r=e[i];qK(r,t)}}function mge(n){for(let t=tK(n);t!==null;t=nK(t)){if(!(t[nn]&KD.HasTransplantedViews))continue;let e=t[a1];for(let i=0;i<e.length;i++){let r=e[i];SW(r)}}}function vge(n,t,e){let i=KA(t,n);qK(i,e)}function qK(n,t){K4(n)&&s4(n,t)}function s4(n,t){let i=n[on],r=n[nn],o=n[au],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&WN(o)),s||=!1,o&&(o.dirty=!1),n[nn]&=-9217,s)gge(i,n,i.template,n[va]);else if(r&8192){zK(n,1);let a=i.components;a!==null&&$K(n,a,1)}}function $K(n,t,e){for(let i=0;i<t.length;i++)vge(n,t[i],e)}function g3(n,t){let e=FW()?64:1088;for(n[Fh].changeDetectionScheduler?.notify(t);n;){n[nn]|=e;let i=B0(n);if(RR(n)&&!i)return n;n=i}return null}var R0=class{get rootNodes(){let t=this._lView,e=t[on];return XD(e,t,e.firstChild,[])}constructor(t,e,i=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[va]}set context(t){this._lView[va]=t}get destroyed(){return(this._lView[nn]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ya];if(Jf(t)){let e=t[WD],i=e?e.indexOf(this):-1;i>-1&&(JC(t,i),QD(e,i))}this._attachedToViewContainer=!1}F2(this._lView[on],this._lView)}onDestroy(t){xW(this._lView,t)}markForCheck(){g3(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[nn]&=-129}reattach(){UR(this._lView),this._lView[nn]|=128}detectChanges(){this._lView[nn]|=1024,KK(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=RR(this._lView),e=this._lView[O0];e!==null&&!t&&o3(e,this._lView),wK(this._lView[on],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Qe(902,!1);this._appRef=t;let e=RR(this._lView),i=this._lView[O0];i!==null&&!e&&bK(i,this._lView),UR(this._lView)}},Ln=(()=>{class n{static{this.__NG_ELEMENT_ID__=wge}}return n})(),_ge=Ln,yge=class extends _ge{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){let r=uE(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:i});return new R0(r)}};function wge(){return U2(Gs(),Lt())}function U2(n,t){return n.type&4?new yge(t,n,f1(n,t)):null}var gtt=new RegExp(`^(\\d+)*(${Hpe}|${Upe})*(.*)`);var bge=()=>null;function c1(n,t){return bge(n,t)}var u1=class{},YK=new Ke("",{providedIn:"root",factory:()=>!1});var ZK=new Ke(""),a4=class{},JD=class{};function Cge(n){let t=Error(`No component factory found for ${Ja(n)}.`);return t[Ege]=n,t}var Ege="ngComponent";var l4=class{resolveComponentFactory(t){throw Cge(t)}},cu=class{static{this.NULL=new l4}},GA=class{},Ko=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Sge()}}return n})();function Sge(){let n=Lt(),t=Gs(),e=KA(t.index,n);return(HA(e)?e:n)[Dr]}var xge=(()=>{class n{static{this.\u0275prov=De({token:n,providedIn:"root",factory:()=>null})}}return n})();var CG=new Set;function yd(n){CG.has(n)||(CG.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function XK(n){let t=!0;return setTimeout(()=>{t&&(t=!1,n())}),typeof Go.requestAnimationFrame=="function"&&Go.requestAnimationFrame(()=>{t&&(t=!1,n())}),()=>{t=!1}}function EG(n){let t=!0;return queueMicrotask(()=>{t&&n()}),()=>{t=!1}}function SG(...n){}var Pt=class n{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new at(!1),this.onMicrotaskEmpty=new at(!1),this.onStable=new at(!1),this.onError=new at(!1),typeof Zone>"u")throw new Qe(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.callbackScheduled=!1,Dge(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Qe(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Qe(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,Ige,SG,SG);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},Ige={};function m3(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Tge(n){n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,Zone.root.run(()=>{XK(()=>{n.callbackScheduled=!1,c4(n),n.isCheckStableRunning=!0,m3(n),n.isCheckStableRunning=!1})}),c4(n))}function Dge(n){let t=()=>{Tge(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(Mge(a))return e.invokeTask(r,o,s,a);try{return xG(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),IG(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return xG(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Oge(a)&&t(),IG(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,c4(n),m3(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function c4(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function xG(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function IG(n){n._nesting--,m3(n)}var e2=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new at,this.onMicrotaskEmpty=new at,this.onStable=new at,this.onError=new at}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}};function Mge(n){return JK(n,"__ignore_ng_zone__")}function Oge(n){return JK(n,"__scheduler_tick__")}function JK(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}function Fge(n="zone.js",t){return n==="noop"?new e2:n==="zone.js"?new Pt(t):n}var fs=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(fs||{}),ez={destroy(){}};function H2(n,t){!t&&mW(H2);let e=t?.injector??Oe(Ci);return _K(e)?(yd("NgAfterRender"),tz(n,e,!1,t?.phase??fs.MixedReadWrite)):ez}function ip(n,t){!t&&mW(ip);let e=t?.injector??Oe(Ci);return _K(e)?(yd("NgAfterNextRender"),tz(n,e,!0,t?.phase??fs.MixedReadWrite)):ez}function Bge(n,t){if(n instanceof Function)switch(t){case fs.EarlyRead:return{earlyRead:n};case fs.Write:return{write:n};case fs.MixedReadWrite:return{mixedReadWrite:n};case fs.Read:return{read:n}}return n}function tz(n,t,e,i){let r=Bge(n,i),o=t.get(v3),s=o.handler??=new d4,a=[],l=[],u=()=>{for(let f of l)s.unregister(f);d()},d=t.get(I2).onDestroy(u),h=(f,A)=>{if(!A)return;let g=e?(...b)=>{u(),A(...b)}:A,m=dc(t,()=>new u4(f,a,g));s.register(m),l.push(m)};return h(fs.EarlyRead,r.earlyRead),h(fs.Write,r.write),h(fs.MixedReadWrite,r.mixedReadWrite),h(fs.Read,r.read),{destroy:u}}var u4=class{constructor(t,e,i){this.phase=t,this.pipelinedArgs=e,this.callbackFn=i,this.zone=Oe(Pt),this.errorHandler=Oe(lu,{optional:!0}),Oe(u1,{optional:!0})?.notify(6)}invoke(){try{let t=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,t)}catch(t){this.errorHandler?.handleError(t)}}},d4=class{constructor(){this.executingCallbacks=!1,this.buckets={[fs.EarlyRead]:new Set,[fs.Write]:new Set,[fs.MixedReadWrite]:new Set,[fs.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let e of t)e.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},v3=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of e)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=De({token:n,providedIn:"root",factory:()=>new n})}}return n})();function t2(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=DR(r,a);else if(o==2){let l=a,u=t[++s];i=DR(i,l+": "+u+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}var n2=class extends cu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=$f(t);return new L0(e,this.ngModule)}};function TG(n,t){let e=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:VA.None;t?e.push({propName:s,templateName:i,isSignal:(a&VA.SignalBased)!==0}):e.push({propName:s,templateName:i})}return e}function Pge(n){let t=n.toLowerCase();return t==="svg"?zfe:t==="math"?qfe:null}var L0=class extends JD{get inputs(){let t=this.componentDef,e=t.inputTransforms,i=TG(t.inputs,!0);if(e!==null)for(let r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return TG(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=xfe(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=Rn(null);try{r=r||this.ngModule;let s=r instanceof uo?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new VR(t,s):t,l=a.get(GA,null);if(l===null)throw new Qe(407,!1);let u=a.get(xge,null),d=a.get(v3,null),h=a.get(u1,null),f={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:h},A=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=i?kAe(A,i,this.componentDef.encapsulation,a):yK(A,g,Pge(g)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let S=null;m!==null&&(S=n3(m,a,!0));let F=h3(0,null,null,1,0,null,null,null,null,null,null),R=k2(null,F,null,b,null,null,f,A,a,null,S);Z4(R);let B,P;try{let L=this.componentDef,j,G=null;L.findHostDirectiveDefs?(j=[],G=new Map,L.findHostDirectiveDefs(L,j,G),j.push(L)):j=[L];let Y=kge(R,m),Z=Nge(Y,m,L,j,R,f,A);P=W4(F,_o),m&&Uge(A,L,m,i),e!==void 0&&Hge(P,this.ngContentSelectors,e),B=Lge(Z,L,j,G,R,[Vge]),A3(F,R,null)}finally{X4()}return new h4(this.componentType,B,f1(P,R),R,P)}finally{Rn(o)}}},h4=class extends a4{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new R0(r,void 0,!1),this.componentType=t}setInput(t,e){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;p3(o[on],o,r,t,e),this.previousInputValues.set(t,e);let s=KA(this._tNode.index,o);g3(s,1)}}get injector(){return new D0(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function kge(n,t){let e=n[on],i=_o;return n[i]=t,G0(e,i,2,"#host",null)}function Nge(n,t,e,i,r,o,s){let a=r[on];Rge(i,n,t,s);let l=null;t!==null&&(l=n3(t,r[s1]));let u=o.rendererFactory.createRenderer(t,e),d=16;e.signals?d=4096:e.onPush&&(d=64);let h=k2(r,PK(e),null,d,r[n.index],n,o,u,null,null,l);return a.firstCreatePass&&r4(a,n,i.length-1),R2(r,h),r[n.index]=h}function Rge(n,t,e,i){for(let r of n)t.mergedAttrs=$C(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(t2(t,t.mergedAttrs,!0),e!==null&&DK(i,e,t))}function Lge(n,t,e,i,r,o){let s=Gs(),a=r[on],l=uu(s,r);kK(a,r,s,e,null,i);for(let d=0;d<e.length;d++){let h=s.directiveStart+d,f=N0(r,a,h,s);jA(f,r)}NK(a,r,s),l&&jA(l,r);let u=N0(r,a,s.directiveStart+s.componentOffset,s);if(n[va]=r[va]=u,o!==null)for(let d of o)d(u,t);return c3(a,s,r),u}function Uge(n,t,e,i){if(i)BR(n,e,["ng-version","18.1.0"]);else{let{attrs:r,classes:o}=Ife(t.selectors[0]);r&&BR(n,e,r),o&&o.length>0&&TK(n,e,o.join(" "))}}function Hge(n,t,e){let i=n.projection=[];for(let r=0;r<t.length;r++){let o=e[r];i.push(o!=null?Array.from(o):null)}}function Vge(){let n=Gs();x2(Lt()[on],n)}var hc=(()=>{class n{static{this.__NG_ELEMENT_ID__=Qge}}return n})();function Qge(){let n=Gs();return iz(n,Lt())}var jge=hc,nz=class extends jge{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return f1(this._hostTNode,this._hostLView)}get injector(){return new D0(this._hostTNode,this._hostLView)}get parentInjector(){let t=J4(this._hostTNode,this._hostLView);if(QW(t)){let e=qD(t,this._hostLView),i=zD(t),r=e[on].data[i+8];return new D0(r,e)}else return new D0(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=DG(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-_a}createEmbeddedView(t,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=c1(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,l1(this._hostTNode,s)),a}createComponent(t,e,i,r,o){let s=t&&!jfe(t),a;if(s)a=e;else{let g=e||{};a=g.index,i=g.injector,r=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?t:new L0($f(t)),u=i||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?u:this.parentInjector).get(uo,null);m&&(o=m)}let d=$f(l.componentType??{}),h=c1(this._lContainer,d?.id??null),f=h?.firstChild??null,A=l.create(u,r,f,o);return this.insertImpl(A.hostView,a,l1(this._hostTNode,h)),A}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let r=t._lView;if(Zfe(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[ya],u=new nz(l,l[Nl],l[ya]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return dE(s,r,o,i),t.attachToViewContainerRef(),JG(bR(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=DG(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=JC(this._lContainer,e);i&&(QD(bR(this._lContainer),e),F2(i[on],i))}detach(t){let e=this._adjustIndex(t,-1),i=JC(this._lContainer,e);return i&&QD(bR(this._lContainer),e)!=null?new R0(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function DG(n){return n[WD]}function bR(n){return n[WD]||(n[WD]=[])}function iz(n,t){let e,i=t[n.index];return Jf(i)?e=i:(e=RK(i,t,null,n),t[n.index]=e,R2(t,e)),Wge(e,t,n,i),new nz(e,n,t)}function Gge(n,t){let e=n[Dr],i=e.createComment(""),r=uu(t,n),o=s3(e,r);return ZD(e,o,i,EAe(e,r),!1),i}var Wge=qge,Kge=()=>!1;function zge(n,t,e){return Kge(n,t,e)}function qge(n,t,e,i){if(n[F0])return;let r;e.type&8?r=Bh(i):r=Gge(t,e),n[F0]=r}var f4=class n{constructor(t){this.queryList=t,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},p4=class n{constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)_3(t,e).matches!==null&&this.queries[e].setDirty()}},i2=class{constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=nme(t):this.predicate=t}},A4=class n{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},g4=class n{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,e,$ge(e,o)),this.matchTNodeWithReadOption(t,e,RD(e,t,o,!1,!1))}else i===Ln?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,RD(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Kt||r===hc||r===Ln&&e.type&4)this.addMatch(e.index,-2);else{let o=RD(e,t,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function $ge(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function Yge(n,t){return n.type&11?f1(n,t):n.type&4?U2(n,t):null}function Zge(n,t,e,i){return e===-1?Yge(t,n):e===-2?Xge(n,t,i):N0(n,n[on],e,t)}function Xge(n,t,e){if(e===Kt)return f1(t,n);if(e===Ln)return U2(t,n);if(e===hc)return iz(t,n)}function rz(n,t,e,i){let r=t[Yf].queries[i];if(r.matches===null){let o=n.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let d=o[u];a.push(Zge(t,d,s[l+1],e.metadata.read))}}r.matches=a}return r.matches}function m4(n,t,e,i){let r=n.queries.getByIndex(e),o=r.matches;if(o!==null){let s=rz(n,t,r,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let u=o[a+1],d=t[-l];for(let h=_a;h<d.length;h++){let f=d[h];f[O0]===f[ya]&&m4(f[on],f,u,i)}if(d[a1]!==null){let h=d[a1];for(let f=0;f<h.length;f++){let A=h[f];m4(A[on],A,u,i)}}}}}return i}function Jge(n,t){return n[Yf].queries[t].queryList}function oz(n,t,e){let i=new zR((e&4)===4);return LAe(n,t,i,i.destroy),(t[Yf]??=new p4).queries.push(new f4(i))-1}function eme(n,t,e){let i=nr();return i.firstCreatePass&&(sz(i,new i2(n,t,e),-1),(t&2)===2&&(i.staticViewQueries=!0)),oz(i,Lt(),t)}function tme(n,t,e,i){let r=nr();if(r.firstCreatePass){let o=Gs();sz(r,new i2(t,e,i),o.index),ime(r,n),(e&2)===2&&(r.staticContentQueries=!0)}return oz(r,Lt(),e)}function nme(n){return n.split(",").map(t=>t.trim())}function sz(n,t,e){n.queries===null&&(n.queries=new A4),n.queries.track(new g4(t,e))}function ime(n,t){let e=n.contentQueries||(n.contentQueries=[]),i=e.length?e[e.length-1]:-1;t!==i&&e.push(n.queries.length-1,t)}function _3(n,t){return n.queries.getByIndex(t)}function rme(n,t){let e=n[on],i=_3(e,t);return i.crossesNgTemplate?m4(e,n,t,[]):rz(e,n,i,t)}function ome(n){return typeof n=="function"&&n[xh]!==void 0}function fc(n,t){yd("NgSignals");let e=m9(n),i=e[xh];return t?.equal&&(i.equal=t.equal),e.set=r=>ZT(i,r),e.update=r=>v9(i,r),e.asReadonly=sme.bind(e),e}function sme(){let n=this[xh];if(n.readonlyFn===void 0){let t=()=>this();t[xh]=n,n.readonlyFn=t}return n.readonlyFn}function az(n){return ome(n)&&typeof n.set=="function"}function ame(n){let t=[],e=new Map;function i(r){let o=e.get(r);if(!o){let s=n(r);e.set(r,o=s.then(dme))}return o}return r2.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(u=>{r.template=u}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let u=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((h,f)=>{a.push(""),s.push(i(h).then(A=>{a[u+f]=A,d.splice(d.indexOf(h),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(u=>{a.push(u),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>hme(o));t.push(l)}),cme(),Promise.all(t).then(()=>{})}var r2=new Map,lme=new Set;function cme(){let n=r2;return r2=new Map,n}function ume(){return r2.size===0}function dme(n){return typeof n=="string"?n:n.text()}function hme(n){lme.delete(n)}function fme(n){return Object.getPrototypeOf(n.prototype).constructor}function Hr(n){let t=fme(n.type),e=!0,i=[n];for(;t;){let r;if(Zf(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Qe(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);let s=n;s.inputs=OD(n.inputs),s.inputTransforms=OD(n.inputTransforms),s.declaredInputs=OD(n.declaredInputs),s.outputs=OD(n.outputs);let a=r.hostBindings;a&&vme(n,a);let l=r.viewQuery,u=r.contentQueries;if(l&&gme(n,l),u&&mme(n,u),pme(n,r),Whe(n.outputs,r.outputs),Zf(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Hr&&(e=!1)}}t=Object.getPrototypeOf(t)}Ame(i)}function pme(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];if(i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=t.inputTransforms[r]}}}function Ame(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=$C(r.hostAttrs,e=$C(e,r.hostAttrs))}}function OD(n){return n===n1?{}:n===Pl?[]:n}function gme(n,t){let e=n.viewQuery;e?n.viewQuery=(i,r)=>{t(i,r),e(i,r)}:n.viewQuery=t}function mme(n,t){let e=n.contentQueries;e?n.contentQueries=(i,r,o)=>{t(i,r,o),e(i,r,o)}:n.contentQueries=t}function vme(n,t){let e=n.hostBindings;e?n.hostBindings=(i,r)=>{t(i,r),e(i,r)}:n.hostBindings=t}var WA=class{},eE=class{};var o2=class extends WA{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new n2(this);let r=cW(t);this._bootstrapComponents=vK(r.bootstrap),this._r3Injector=ZW(t,e,[{provide:WA,useValue:this},{provide:cu,useValue:this.componentFactoryResolver},...i],Ja(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},s2=class extends eE{constructor(t){super(),this.moduleType=t}create(t){return new o2(this.moduleType,t,[])}};function _me(n,t,e){return new o2(n,t,e)}var v4=class extends WA{constructor(t){super(),this.componentFactoryResolver=new n2(this),this.instance=null;let e=new YC([...t.providers,{provide:WA,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],t.parent||v2(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function V2(n,t,e=null){return new v4({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}function lz(n){return y3(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function yme(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),i;for(;!(i=e.next()).done;)t(i.value)}}function y3(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function p1(n,t,e){return n[t]=e}function cz(n,t){return n[t]}function kl(n,t,e){let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function tE(n,t,e,i){let r=kl(n,t,e);return kl(n,t+1,i)||r}function w3(n,t,e,i,r){let o=tE(n,t,e,i);return kl(n,t+2,r)||o}function b3(n,t,e,i,r,o){let s=tE(n,t,e,i);return tE(n,t+2,r,o)||s}function wme(n){return(n.flags&32)===32}function bme(n,t,e,i,r,o,s,a,l){let u=t.consts,d=G0(t,n,4,s||null,a||null);f3(t,e,d,QA(u,l)),x2(t,d);let h=d.tView=h3(2,d,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,d),h.queries=t.queries.embeddedTView(d)),d}function a2(n,t,e,i,r,o,s,a,l,u){let d=e+_o,h=t.firstCreatePass?bme(d,t,n,i,r,o,s,a,l):t.data[d];zA(h,!1);let f=Cme(t,n,h,e);E2()&&B2(t,n,f,h),jA(f,n);let A=RK(f,n,f,h);return n[d]=A,R2(n,A),zge(A,h,n),w2(h)&&u3(t,n,h),l!=null&&d3(n,h,u),h}function he(n,t,e,i,r,o,s,a){let l=Lt(),u=nr(),d=QA(u.consts,o);return a2(l,u,n,t,e,i,r,d,s,a),he}var Cme=Eme;function Eme(n,t,e,i){return S2(!0),t[Dr].createComment("")}function _r(n,t,e,i){let r=Lt(),o=V0();if(kl(r,o,t)){let s=nr(),a=aE();JAe(a,r,n,t,e,i)}return _r}function uz(n,t,e,i){return kl(n,V0(),e)?t+js(e)+i:ps}function Sme(n,t,e,i,r,o){let s=$4(),a=tE(n,s,e,r);return sE(2),a?t+js(e)+i+js(r)+o:ps}function xme(n,t,e,i,r,o,s,a){let l=$4(),u=w3(n,l,e,r,s);return sE(3),u?t+js(e)+i+js(r)+o+js(s)+a:ps}function Ime(n,t,e,i,r,o,s,a,l,u,d,h,f,A,g,m){let b=$4(),S=b3(n,b,e,r,s,l);return S=w3(n,b+4,d,f,g)||S,sE(7),S?t+js(e)+i+js(r)+o+js(s)+a+js(l)+u+js(d)+h+js(f)+A+js(g)+m:ps}function FD(n,t){return n<<17|t<<2}function U0(n){return n>>17&32767}function Tme(n){return(n&2)==2}function Dme(n,t){return n&131071|t<<17}function _4(n){return n|2}function d1(n){return(n&131068)>>2}function CR(n,t){return n&-131069|t<<2}function Mme(n){return(n&1)===1}function y4(n){return n|1}function Ome(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=U0(s),l=d1(s);n[i]=e;let u=!1,d;if(Array.isArray(e)){let h=e;d=h[1],(d===null||oE(h,d)>0)&&(u=!0)}else d=e;if(r)if(l!==0){let f=U0(n[a+1]);n[i+1]=FD(f,a),f!==0&&(n[f+1]=CR(n[f+1],i)),n[a+1]=Dme(n[a+1],i)}else n[i+1]=FD(a,0),a!==0&&(n[a+1]=CR(n[a+1],i)),a=i;else n[i+1]=FD(l,0),a===0?a=i:n[l+1]=CR(n[l+1],i),l=i;u&&(n[i+1]=_4(n[i+1])),MG(n,d,i,!0),MG(n,d,i,!1),Fme(t,d,n,i,o),s=FD(a,l),o?t.classBindings=s:t.styleBindings=s}function Fme(n,t,e,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&oE(o,t)>=0&&(e[i+1]=y4(e[i+1]))}function MG(n,t,e,i){let r=n[e+1],o=t===null,s=i?U0(r):d1(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];Bme(l,t)&&(a=!0,n[s+1]=i?y4(u):_4(u)),s=i?U0(u):d1(u)}a&&(n[e+1]=i?_4(r):y4(r))}function Bme(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?oE(n,t)>=0:!1}var md={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pme(n){return n.substring(md.key,md.keyEnd)}function kme(n){return Nme(n),dz(n,hz(n,0,md.textEnd))}function dz(n,t){let e=md.textEnd;return e===t?-1:(t=md.keyEnd=Rme(n,md.key=t,e),hz(n,t,e))}function Nme(n){md.key=0,md.keyEnd=0,md.value=0,md.valueEnd=0,md.textEnd=n.length}function hz(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Rme(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function W(n,t,e){let i=Lt(),r=V0();if(kl(i,r,t)){let o=nr(),s=aE();N2(o,s,i,n,t,i[Dr],e,!1)}return W}function w4(n,t,e,i,r){let o=t.inputs,s=r?"class":"style";p3(n,e,o[s],s,i)}function Vr(n,t,e){return fz(n,t,e,!1),Vr}function zn(n,t){return fz(n,t,null,!0),zn}function Ks(n){Ume(Wme,Lme,n,!0)}function Lme(n,t){for(let e=kme(t);e>=0;e=dz(t,e))H4(n,Pme(t),!0)}function fz(n,t,e,i){let r=Lt(),o=nr(),s=sE(2);if(o.firstUpdatePass&&Az(o,n,s,i),t!==ps&&kl(r,s,t)){let a=o.data[du()];gz(o,a,r,r[Dr],n,r[s+1]=zme(t,e),i,s)}}function Ume(n,t,e,i){let r=nr(),o=sE(2);r.firstUpdatePass&&Az(r,null,o,i);let s=Lt();if(e!==ps&&kl(s,o,e)){let a=r.data[du()];if(mz(a,i)&&!pz(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=DR(l,e||"")),w4(r,a,s,e,i)}else Kme(r,a,s,s[Dr],s[o+1],s[o+1]=Gme(n,t,e),i,o)}}function pz(n,t){return t>=n.expandoStartIndex}function Az(n,t,e,i){let r=n.data;if(r[e+1]===null){let o=r[du()],s=pz(n,e);mz(o,i)&&t===null&&!s&&(t=!1),t=Hme(r,o,t,i),Ome(r,o,t,e,s,i)}}function Hme(n,t,e,i){let r=BW(n),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(e=ER(null,n,t,e,i),e=nE(e,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==r)if(e=ER(r,n,t,e,i),o===null){let l=Vme(n,t,i);l!==void 0&&Array.isArray(l)&&(l=ER(null,n,t,l[1],i),l=nE(l,t.attrs,i),Qme(n,t,i,l))}else o=jme(n,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),e}function Vme(n,t,e){let i=e?t.classBindings:t.styleBindings;if(d1(i)!==0)return n[U0(i)]}function Qme(n,t,e,i){let r=e?t.classBindings:t.styleBindings;n[U0(r)]=i}function jme(n,t,e){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=nE(i,s,e)}return nE(i,t.attrs,e)}function ER(n,t,e,i,r){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],i=nE(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(e.directiveStylingLast=a),i}function nE(n,t,e){let i=e?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),H4(n,s,e?!0:t[++o]))}return n===void 0?null:n}function Gme(n,t,e){if(e==null||e==="")return Pl;let i=[],r=_d(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function Wme(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&H4(n,i,e)}function Kme(n,t,e,i,r,o,s,a){r===ps&&(r=Pl);let l=0,u=0,d=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;d!==null||h!==null;){let f=l<r.length?r[l+1]:void 0,A=u<o.length?o[u+1]:void 0,g=null,m;d===h?(l+=2,u+=2,f!==A&&(g=h,m=A)):h===null||d!==null&&d<h?(l+=2,g=d):(u+=2,g=h,m=A),g!==null&&gz(n,t,e,i,g,m,s,a),d=l<r.length?r[l]:null,h=u<o.length?o[u]:null}}function gz(n,t,e,i,r,o,s,a){if(!(t.type&3))return;let l=n.data,u=l[a+1],d=Mme(u)?OG(l,t,e,r,d1(u),s):void 0;if(!l2(d)){l2(o)||Tme(u)&&(o=OG(l,null,e,r,a,s));let h=CW(du(),e);MAe(i,s,h,r,o)}}function OG(n,t,e,i,r,o){let s=t===null,a;for(;r>0;){let l=n[r],u=Array.isArray(l),d=u?l[1]:l,h=d===null,f=e[r+1];f===ps&&(f=h?Pl:void 0);let A=h?pR(f,i):d===i?f:void 0;if(u&&!l2(A)&&(A=pR(l,i)),l2(A)&&(a=A,s))return a;let g=n[r+1];r=s?U0(g):d1(g)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=pR(l,i))}return a}function l2(n){return n!==void 0}function zme(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Ja(_d(n)))),n}function mz(n,t){return(n.flags&(t?8:16))!==0}var b4=class{destroy(t){}updateValue(t,e){}swap(t,e){let i=Math.min(t,e),r=Math.max(t,e),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(t,e){this.attach(e,this.detach(t))}};function SR(n,t,e,i,r){return n===e&&Object.is(t,i)?1:Object.is(r(n,t),r(e,i))?-1:0}function qme(n,t,e){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;o<=s&&o<=l;){let u=n.at(o),d=t[o],h=SR(o,u,o,d,e);if(h!==0){h<0&&n.updateValue(o,d),o++;continue}let f=n.at(s),A=t[l],g=SR(s,f,l,A,e);if(g!==0){g<0&&n.updateValue(s,A),s--,l--;continue}let m=e(o,u),b=e(s,f),S=e(o,d);if(Object.is(S,b)){let F=e(l,A);Object.is(F,m)?(n.swap(o,s),n.updateValue(s,A),l--,s--):n.move(s,o),n.updateValue(o,d),o++;continue}if(i??=new c2,r??=BG(n,o,s,e),C4(n,i,o,S))n.updateValue(o,d),o++,s++;else if(r.has(S))i.set(m,n.detach(o)),s--;else{let F=n.create(o,t[o]);n.attach(o,F),o++,s++}}for(;o<=l;)FG(n,i,e,o,t[o]),o++}else if(t!=null){let l=t[Symbol.iterator](),u=l.next();for(;!u.done&&o<=s;){let d=n.at(o),h=u.value,f=SR(o,d,o,h,e);if(f!==0)f<0&&n.updateValue(o,h),o++,u=l.next();else{i??=new c2,r??=BG(n,o,s,e);let A=e(o,h);if(C4(n,i,o,A))n.updateValue(o,h),o++,s++,u=l.next();else if(!r.has(A))n.attach(o,n.create(o,h)),o++,s++,u=l.next();else{let g=e(o,d);i.set(g,n.detach(o)),s--}}}for(;!u.done;)FG(n,i,e,n.length,u.value),u=l.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(l=>{n.destroy(l)})}function C4(n,t,e,i){return t!==void 0&&t.has(i)?(n.attach(e,t.get(i)),t.delete(i),!0):!1}function FG(n,t,e,i,r){if(C4(n,t,i,e(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function BG(n,t,e,i){let r=new Set;for(let o=t;o<=e;o++)r.add(i(o,n.at(o)));return r}var c2=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,e)}}};function C3(n,t){yd("NgControlFlow");let e=Lt(),i=V0(),r=e[i]!==ps?e[i]:-1,o=r!==-1?u2(e,_o+r):void 0,s=0;if(kl(e,i,n)){let a=Rn(null);try{if(o!==void 0&&jK(o,s),n!==-1){let l=_o+n,u=u2(e,l),d=I4(e[on],l),h=c1(u,d.tView.ssrId),f=uE(e,d,t,{dehydratedView:h});dE(u,f,s,l1(d,h))}}finally{Rn(a)}}else if(o!==void 0){let a=QK(o,s);a!==void 0&&(a[va]=t)}}var E4=class{constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-_a}};function E3(n,t){return t}var S4=class{constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}};function S3(n,t,e,i,r,o,s,a,l,u,d,h,f){yd("NgControlFlow");let A=Lt(),g=nr(),m=l!==void 0,b=Lt(),S=a?s.bind(b[uc][va]):s,F=new S4(m,S);b[_o+n]=F,a2(A,g,n+1,t,e,i,r,QA(g.consts,o)),m&&a2(A,g,n+2,l,u,d,h,QA(g.consts,f))}var x4=class extends b4{constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-_a}at(t){return this.getLView(t)[va].$implicit}attach(t,e){let i=e[o1];this.needsIndexUpdate||=t!==this.length,dE(this.lContainer,e,t,l1(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,$me(this.lContainer,t)}create(t,e){let i=c1(this.lContainer,this.templateTNode.tView.ssrId),r=uE(this.hostLView,this.templateTNode,new E4(this.lContainer,e,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(t){F2(t[on],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[va].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[va].$index=t}getLView(t){return Yme(this.lContainer,t)}};function x3(n){let t=Rn(null),e=du();try{let i=Lt(),r=i[on],o=i[e],s=e+1,a=u2(i,s);if(o.liveCollection===void 0){let u=I4(r,s);o.liveCollection=new x4(a,i,u)}else o.liveCollection.reset();let l=o.liveCollection;if(qme(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let u=V0(),d=l.length===0;if(kl(i,u,d)){let h=e+2,f=u2(i,h);if(d){let A=I4(r,h),g=c1(f,A.tView.ssrId),m=uE(i,A,void 0,{dehydratedView:g});dE(f,m,0,l1(A,g))}else jK(f,0)}}}finally{Rn(t)}}function u2(n,t){return n[t]}function $me(n,t){return JC(n,t)}function Yme(n,t){return QK(n,t)}function I4(n,t){return W4(n,t)}function Zme(n,t,e,i,r,o){let s=t.consts,a=QA(s,r),l=G0(t,n,2,i,a);return f3(t,e,l,QA(s,o)),l.attrs!==null&&t2(l,l.attrs,!1),l.mergedAttrs!==null&&t2(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function I(n,t,e,i){let r=Lt(),o=nr(),s=_o+n,a=r[Dr],l=o.firstCreatePass?Zme(s,o,r,t,e,i):o.data[s],u=Xme(o,r,l,a,t,n);r[s]=u;let d=w2(l);return zA(l,!0),DK(a,u,l),!wme(l)&&E2()&&B2(o,r,u,l),epe()===0&&jA(u,r),tpe(),d&&(u3(o,r,l),c3(o,l,r)),i!==null&&d3(r,l),I}function M(){let n=Gs();z4()?q4():(n=n.parent,zA(n,!1));let t=n;ipe(t)&&rpe(),npe();let e=nr();return e.firstCreatePass&&(x2(e,n),G4(n)&&e.queries.elementEnd(n)),t.classesWithoutHost!=null&&gpe(t)&&w4(e,t,Lt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&mpe(t)&&w4(e,t,Lt(),t.stylesWithoutHost,!1),M}function se(n,t,e,i){return I(n,t,e,i),M(),se}var Xme=(n,t,e,i,r,o)=>(S2(!0),yK(i,r,hpe()));function Jme(n,t,e,i,r){let o=t.consts,s=QA(o,i),a=G0(t,n,8,"ng-container",s);s!==null&&t2(a,s,!0);let l=QA(o,r);return f3(t,e,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function zo(n,t,e){let i=Lt(),r=nr(),o=n+_o,s=r.firstCreatePass?Jme(o,r,i,t,e):r.data[o];zA(s,!0);let a=e0e(r,i,s,n);return i[o]=a,E2()&&B2(r,i,a,s),jA(a,i),w2(s)&&(u3(r,i,s),c3(r,s,i)),e!=null&&d3(i,s),zo}function qo(){let n=Gs(),t=nr();return z4()?q4():(n=n.parent,zA(n,!1)),t.firstCreatePass&&(x2(t,n),G4(n)&&t.queries.elementEnd(n)),qo}function hE(n,t,e){return zo(n,t,e),qo(),hE}var e0e=(n,t,e,i)=>(S2(!0),AAe(t[Dr],""));function We(){return Lt()}function I3(n,t,e){let i=Lt(),r=V0();if(kl(i,r,t)){let o=nr(),s=aE(),a=BW(o.data),l=ige(a,s,i);N2(o,s,i,n,t,l,e,!0)}return I3}var T0=void 0;function t0e(n){let t=n,e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&i===0?1:5}var n0e=["en",[["a","p"],["AM","PM"],T0],[["AM","PM"],T0,T0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],T0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],T0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",T0,"{1} 'at' {0}",T0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",t0e],xR={};function pc(n){let t=i0e(n),e=PG(t);if(e)return e;let i=t.split("-")[0];if(e=PG(i),e)return e;if(i==="en")return n0e;throw new Qe(701,!1)}function PG(n){return n in xR||(xR[n]=Go.ng&&Go.ng.common&&Go.ng.common.locales&&Go.ng.common.locales[n]),xR[n]}var Zr=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Zr||{});function i0e(n){return n.toLowerCase().replace(/_/g,"-")}var d2="en-US";var r0e=d2;function o0e(n){typeof n=="string"&&(r0e=n.toLowerCase().replace(/_/g,"-"))}var s0e=(n,t,e)=>{};function ve(n,t,e,i){let r=Lt(),o=nr(),s=Gs();return vz(o,r,r[Dr],s,n,t,i),ve}function a0e(n,t,e,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===e&&r[o+1]===i){let a=t[GD],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function vz(n,t,e,i,r,o,s){let a=w2(i),u=n.firstCreatePass&&HK(n),d=t[va],h=UK(t),f=!0;if(i.type&3||s){let m=uu(i,t),b=s?s(m):m,S=h.length,F=s?B=>s(Bh(B[i.index])):i.index,R=null;if(!s&&a&&(R=a0e(n,t,r,i.index)),R!==null){let B=R.__ngLastListenerFn__||R;B.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,f=!1}else{o=NG(i,t,d,o),s0e(m,r,o);let B=e.listen(b,r,o);h.push(o,B),u&&u.push(r,F,S,S+1)}}else o=NG(i,t,d,o);let A=i.outputs,g;if(f&&A!==null&&(g=A[r])){let m=g.length;if(m)for(let b=0;b<m;b+=2){let S=g[b],F=g[b+1],P=t[S][F].subscribe(o),L=h.length;h.push(o,P),u&&u.push(r,i.index,L,-(L+1))}}}function kG(n,t,e,i){let r=Rn(null);try{return Dh(6,t,e),e(i)!==!1}catch(o){return VK(n,o),!1}finally{Dh(7,t,e),Rn(r)}}function NG(n,t,e,i){return function r(o){if(o===Function)return i;let s=n.componentOffset>-1?KA(n.index,t):t;g3(s,5);let a=kG(t,e,i,o),l=r.__ngNextListenerFn__;for(;l;)a=kG(t,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function te(n=1){return dpe(n)}function l0e(n,t){let e=null,i=wfe(n);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){e=r;continue}if(i===null?oW(n,o,!0):Efe(i,o))return r}return e}function Ac(n){let t=Lt()[uc][Nl];if(!t.projection){let e=n?n.length:1,i=t.projection=hfe(e,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=n?l0e(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function gc(n,t=0,e,i,r,o){let s=Lt(),a=nr(),l=i?n+1:null;l!==null&&a2(s,a,l,i,r,o,null,e);let u=G0(a,_o+n,16,null,e||null);u.projection===null&&(u.projection=t),q4();let h=!s[o1]||DW();s[uc][Nl].projection[u.projection]===null&&l!==null?c0e(s,a,l):h&&(u.flags&32)!==32&&TAe(a,s,u)}function c0e(n,t,e){let i=_o+e,r=t.data[i],o=n[i],s=c1(o,r.tView.ssrId),a=uE(n,r,void 0,{dehydratedView:s});dE(o,a,0,l1(r,s))}function nt(n,t,e){return Rh(n,"",t,"",e),nt}function Rh(n,t,e,i,r){let o=Lt(),s=uz(o,t,e,i);if(s!==ps){let a=nr(),l=aE();N2(a,l,o,n,s,o[Dr],r,!1)}return Rh}function $o(n,t,e,i){tme(n,t,e,i)}function Mi(n,t,e){eme(n,t,e)}function ln(n){let t=Lt(),e=nr(),i=PW();Y4(i+1);let r=_3(e,i);if(n.dirty&&Yfe(t)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=rme(t,i);n.reset(o,Fpe),n.notifyOnChanges()}return!0}return!1}function cn(){return Jge(Lt(),PW())}function T3(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}function Mr(n){let t=OW();return b2(t,_o+n)}function H(n,t=""){let e=Lt(),i=nr(),r=n+_o,o=i.firstCreatePass?G0(i,r,1,t,null):i.data[r],s=u0e(i,e,o,t,n);e[r]=s,E2()&&B2(i,e,s,o),zA(o,!1)}var u0e=(n,t,e,i,r)=>(S2(!0),fAe(t[Dr],i));function de(n){return le("",n,""),de}function le(n,t,e){let i=Lt(),r=uz(i,n,t,e);return r!==ps&&L2(i,du(),r),le}function pn(n,t,e,i,r){let o=Lt(),s=Sme(o,n,t,e,i,r);return s!==ps&&L2(o,du(),s),pn}function D3(n,t,e,i,r,o,s){let a=Lt(),l=xme(a,n,t,e,i,r,o,s);return l!==ps&&L2(a,du(),l),D3}function mc(n,t,e,i,r,o,s,a,l,u,d,h,f,A,g){let m=Lt(),b=Ime(m,n,t,e,i,r,o,s,a,l,u,d,h,f,A,g);return b!==ps&&L2(m,du(),b),mc}function Ye(n,t,e){az(t)&&(t=t());let i=Lt(),r=V0();if(kl(i,r,t)){let o=nr(),s=aE();N2(o,s,i,n,t,i[Dr],e,!1)}return Ye}function Xe(n,t){let e=az(n);return e&&n.set(t),e}function Ze(n,t){let e=Lt(),i=nr(),r=Gs();return vz(i,e,e[Dr],r,n,t),Ze}var _z={};function M3(n){let t=nr(),e=Lt(),i=n+_o,r=G0(t,i,128,null,null);return zA(r,!1),T3(t,e,i,_z),M3}function O3(n){yd("NgLet");let t=nr(),e=Lt(),i=du();return T3(t,e,i,n),n}function F3(n){let t=OW(),e=b2(t,_o+n);if(e===_z)throw new Qe(314,!1);return e}function d0e(n,t,e){let i=nr();if(i.firstCreatePass){let r=Zf(n);T4(e,i.data,i.blueprint,r,!0),T4(t,i.data,i.blueprint,r,!1)}}function T4(n,t,e,i,r){if(n=Xa(n),Array.isArray(n))for(let o=0;o<n.length;o++)T4(n[o],t,e,i,r);else{let o=nr(),s=Lt(),a=Gs(),l=r1(n)?n:Xa(n.provide),u=AW(n),d=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(r1(n)||!n.multi){let A=new k0(u,r,ae),g=TR(l,t,r?d:d+f,h);g===-1?(jR(YD(a,s),o,l),IR(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(A),s.push(A)):(e[g]=A,s[g]=A)}else{let A=TR(l,t,d+f,h),g=TR(l,t,d,d+f),m=A>=0&&e[A],b=g>=0&&e[g];if(r&&!b||!r&&!m){jR(YD(a,s),o,l);let S=p0e(r?f0e:h0e,e.length,r,i,u);!r&&b&&(e[g].providerFactory=S),IR(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(S),s.push(S)}else{let S=yz(e[r?g:A],u,!r&&i);IR(o,n,A>-1?A:g,S)}!r&&i&&b&&e[g].componentProviders++}}}function IR(n,t,e,i){let r=r1(t),o=kfe(t);if(r||o){let l=(o?Xa(t.useClass):t).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){let d=u.indexOf(e);d===-1?u.push(e,[i,l]):u[d+1].push(i,l)}else u.push(e,l)}}}function yz(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function TR(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function h0e(n,t,e,i){return D4(this.multi,[])}function f0e(n,t,e,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=N0(e,e[on],this.providerFactory.index,i);o=a.slice(0,s),D4(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],D4(r,o);return o}function D4(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function p0e(n,t,e,i,r){let o=new k0(n,e,ae);return o.multi=[],o.index=t,o.componentProviders=0,yz(o,r,i&&!e),o}function Or(n,t=[]){return e=>{e.providersResolver=(i,r)=>d0e(i,r?r(n):n,t)}}var A0e=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=hW(!1,e.type),r=i.length>0?V2([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=De({token:n,providedIn:"environment",factory:()=>new n(Te(uo))})}}return n})();function zs(n){yd("NgStandalone"),n.getStandaloneInjector=t=>t.get(A0e).getOrCreateStandaloneInjector(n)}function Qr(n,t,e){let i=qA()+n,r=Lt();return r[i]===ps?p1(r,i,e?t.call(e):t()):cz(r,i)}function fu(n,t,e,i){return wz(Lt(),qA(),n,t,e,i)}function W0(n,t,e,i,r){return bz(Lt(),qA(),n,t,e,i,r)}function el(n,t,e,i,r,o){return g0e(Lt(),qA(),n,t,e,i,r,o)}function B3(n,t,e,i,r,o,s){return m0e(Lt(),qA(),n,t,e,i,r,o,s)}function P3(n,t,e,i,r,o,s,a){let l=qA()+n,u=Lt(),d=b3(u,l,e,i,r,o);return kl(u,l+4,s)||d?p1(u,l+5,a?t.call(a,e,i,r,o,s):t(e,i,r,o,s)):cz(u,l+5)}function Q2(n,t){let e=n[t];return e===ps?void 0:e}function wz(n,t,e,i,r,o){let s=t+e;return kl(n,s,r)?p1(n,s+1,o?i.call(o,r):i(r)):Q2(n,s+1)}function bz(n,t,e,i,r,o,s){let a=t+e;return tE(n,a,r,o)?p1(n,a+2,s?i.call(s,r,o):i(r,o)):Q2(n,a+2)}function g0e(n,t,e,i,r,o,s,a){let l=t+e;return w3(n,l,r,o,s)?p1(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):Q2(n,l+3)}function m0e(n,t,e,i,r,o,s,a,l){let u=t+e;return b3(n,u,r,o,s,a)?p1(n,u+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):Q2(n,u+4)}function K(n,t){let e=nr(),i,r=n+_o;e.firstCreatePass?(i=v0e(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=M0(i.type,!0)),s,a=Bl(ae);try{let l=$D(!1),u=o();return $D(l),T3(e,Lt(),r,u),u}finally{Bl(a)}}function v0e(n,t){if(t)for(let e=t.length-1;e>=0;e--){let i=t[e];if(n===i.name)return i}}function z(n,t,e){let i=n+_o,r=Lt(),o=b2(r,i);return Cz(r,i)?wz(r,qA(),t,o.transform,e,o):o.transform(e)}function qs(n,t,e,i){let r=n+_o,o=Lt(),s=b2(o,r);return Cz(o,r)?bz(o,qA(),t,s.transform,e,i,s):s.transform(e,i)}function Cz(n,t){return n[on].data[t].pure}function Lh(n,t){return U2(n,t)}var BD=null;function _0e(n){BD!==null&&(n.defaultEncapsulation!==BD.defaultEncapsulation||n.preserveWhitespaces!==BD.preserveWhitespaces)||(BD=n)}var j2=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var k3=new Ke(""),fE=new Ke(""),G2=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,N3||(y0e(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(e)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(Te(Pt),Te(W2),Te(fE))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})(),W2=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return N3?.findTestabilityInTree(this,e,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function y0e(n){N3=n}var N3;function K0(n){return!!n&&typeof n.then=="function"}function Ez(n){return!!n&&typeof n.subscribe=="function"}var K2=new Ke(""),Sz=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Oe(K2,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=r();if(K0(o))e.push(o);else if(Ez(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),z2=new Ke("");function w0e(){g9(()=>{throw new Qe(600,!1)})}function b0e(n){return n.isBoundToModule}var C0e=10;function E0e(n,t,e){try{let i=e();return K0(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}function xz(n,t){return Array.isArray(t)?t.reduce(xz,n):Ee(Ee({},n),t)}var $s=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Oe(XW),this.afterRenderEffectManager=Oe(v3),this.zonelessEnabled=Oe(YK),this.externalTestViews=new Set,this.beforeRender=new St,this.afterTick=new St,this.componentTypes=[],this.components=[],this.isStable=Oe(ep).hasPendingTasks.pipe(kt(e=>!e)),this._injector=Oe(uo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){let r=e instanceof JD;if(!this._injector.get(Sz).done){let f=!r&&lW(e),A=!1;throw new Qe(405,A)}let s;r?s=e:s=this._injector.get(cu).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=b0e(s)?void 0:this._injector.get(WA),l=i||s.selector,u=s.create(Ci.NULL,[],l,a),d=u.location.nativeElement,h=u.injector.get(k3,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),UD(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new Qe(101,!1);let i=Rn(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Rn(i),this.afterTick.next()}}detectChangesInAttachedViews(e){let i=null;this._injector.destroyed||(i=this._injector.get(GA,null,{optional:!0}));let r=0,o=this.afterRenderEffectManager;for(;r<C0e;){let s=r===0;if(e||!s){this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)S0e(a,l,s,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(r++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:a})=>XC(a))&&(o.execute(),!this.allViews.some(({_lView:a})=>XC(a))))break}}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;UD(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let i=this._injector.get(z2,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>UD(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Qe(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function UD(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function S0e(n,t,e,i){if(!e&&!XC(n))return;KK(n,t,e&&!i?0:1)}var M4=class{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},q2=(()=>{class n{compileModuleSync(e){return new s2(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=cW(e),o=vK(r.declarations).reduce((s,a)=>{let l=$f(a);return l&&s.push(new L0(l)),s},[]);return new M4(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),x0e=new Ke("");function I0e(n,t,e){let i=new s2(e);return Promise.resolve(i)}function RG(n){for(let t=n.length-1;t>=0;t--)if(n[t]!==void 0)return n[t]}var T0e=(()=>{class n{constructor(){this.zone=Oe(Pt),this.changeDetectionScheduler=Oe(u1),this.applicationRef=Oe($s)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function D0e({ngZoneFactory:n,ignoreChangesOutsideZone:t}){return n??=()=>new Pt(Iz()),[{provide:Pt,useFactory:n},{provide:i1,multi:!0,useFactory:()=>{let e=Oe(T0e,{optional:!0});return()=>e.initialize()}},{provide:i1,multi:!0,useFactory:()=>{let e=Oe(O0e);return()=>{e.initialize()}}},{provide:XW,useFactory:M0e},t===!0?{provide:ZK,useValue:!0}:[]]}function M0e(){let n=Oe(Pt),t=Oe(lu);return e=>n.runOutsideAngular(()=>t.handleError(e))}function Iz(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var O0e=(()=>{class n{constructor(){this.subscription=new Li,this.initialized=!1,this.zone=Oe(Pt),this.pendingTasks=Oe(ep)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pt.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pt.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var F0e=(()=>{class n{constructor(){this.appRef=Oe($s),this.taskService=Oe(ep),this.ngZone=Oe(Pt),this.zonelessEnabled=Oe(YK),this.disableScheduling=Oe(ZK,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Li,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof e2||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?EG:XK;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Pt.isInAngularZone())}tick(e){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(e)},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,EG(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function B0e(){return typeof $localize<"u"&&$localize.locale||d2}var A1=new Ke("",{providedIn:"root",factory:()=>Oe(A1,Tn.Optional|Tn.SkipSelf)||B0e()});var Tz=new Ke(""),Dz=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){let r=Fge(i?.ngZone,Iz({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{let o=i?.ignoreChangesOutsideZone,s=_me(e.moduleType,this.injector,[...D0e({ngZoneFactory:()=>r,ignoreChangesOutsideZone:o}),{provide:u1,useExisting:F0e}]),a=s.injector.get(lu,null);return r.runOutsideAngular(()=>{let l=r.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{UD(this._modules,s),l.unsubscribe()})}),E0e(a,r,()=>{let l=s.injector.get(Sz);return l.runInitializers(),l.donePromise.then(()=>{let u=s.injector.get(A1,d2);return o0e(u||d2),this._moduleDoBootstrap(s),s})})})}bootstrapModule(e,i=[]){let r=xz({},i);return I0e(this.injector,r,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){let i=e.injector.get($s);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(i);else throw new Qe(-403,!1);this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let e=this._injector.get(Tz,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(Te(Ci))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),zC=null,Mz=new Ke("");function P0e(n){if(zC&&!zC.get(Mz,!1))throw new Qe(400,!1);w0e(),zC=n;let t=n.get(Dz);return R0e(n),t}function R3(n,t,e=[]){let i=`Platform: ${t}`,r=new Ke(i);return(o=[])=>{let s=Oz();if(!s||s.injector.get(Mz,!1)){let a=[...e,...o,{provide:r,useValue:!0}];n?n(a):P0e(k0e(a,i))}return N0e(r)}}function k0e(n=[],t){return Ci.create({name:t,providers:[{provide:m2,useValue:"platform"},{provide:Tz,useValue:new Set([()=>zC=null])},...n]})}function N0e(n){let t=Oz();if(!t)throw new Qe(401,!1);return t}function Oz(){return zC?.get(Dz)??null}function R0e(n){n.get(e3,null)?.forEach(e=>e())}function $2(){return!1}var Yo=(()=>{class n{static{this.__NG_ELEMENT_ID__=L0e}}return n})();function L0e(n){return U0e(Gs(),Lt(),(n&16)===16)}function U0e(n,t,e){if(y2(n)&&!e){let i=KA(n.index,t);return new R0(i,i)}else if(n.type&175){let i=t[uc];return new R0(i,t)}return null}var O4=class{constructor(){}supports(t){return lz(t)}create(t){return new F4(t)}},H0e=(n,t)=>t,F4=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||H0e}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let s=!i||e&&e.currentIndex<LG(i,r,o)?e:i,a=LG(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,s.previousIndex==null)r++;else{o||(o=[]);let u=a-r,d=l-r;if(u!=d){for(let f=0;f<u;f++){let A=f<o.length?o[f]:o[f]=0,g=A+f;d<=g&&g<u&&(o[f]=A+1)}let h=s.previousIndex;o[h]=d-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!lz(t))throw new Qe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),i=!0):(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,yme(t,a=>{s=this._trackByFn(r,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,r),i=!0):(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new B4(e,i),o,r)),t}_verifyReinsertion(t,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){let r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new h2),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new h2),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},B4=class{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},P4=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},h2=class{constructor(){this.map=new Map}put(t){let e=t.trackById,i=this.map.get(e);i||(i=new P4,this.map.set(e,i)),i.add(t)}get(t,e){let i=t,r=this.map.get(i);return r?r.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function LG(n,t,e){let i=n.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}var k4=class{constructor(){}supports(t){return t instanceof Map||y3(t)}create(){return new N4}},N4=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||y3(t)))throw new Qe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let r=this._records.get(t);this._maybeAddToChanges(r,e);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new R4(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}},R4=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function UG(){return new Y2([new O4])}var Y2=(()=>{class n{static{this.\u0275prov=De({token:n,providedIn:"root",factory:UG})}constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||UG()),deps:[[n,new g2,new rE]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new Qe(901,!1)}}return n})();function HG(){return new L3([new k4])}var L3=(()=>{class n{static{this.\u0275prov=De({token:n,providedIn:"root",factory:HG})}constructor(e){this.factories=e}static create(e,i){if(i){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||HG()),deps:[[n,new g2,new rE]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i)return i;throw new Qe(901,!1)}}return n})();var Fz=R3(null,"core",[]),Bz=(()=>{class n{constructor(e){}static{this.\u0275fac=function(i){return new(i||n)(Te($s))}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var Pz=new Ke("");function g1(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function U3(n,t=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):t}function rp(n,t){yd("NgSignals");let e=f9(n);return t?.equal&&(e[xh].equal=t.equal),e}function pu(n){let t=Rn(null);try{return n()}finally{Rn(t)}}function Z2(n,t){let e=$f(n),i=t.elementInjector||v2();return new L0(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function kz(n){let t=$f(n);if(!t)return null;let e=new L0(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var jz=null;function Uh(){return jz}function Gz(n){jz??=n}var sM=class{};var rn=new Ke(""),X3=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:()=>Oe(Q0e),providedIn:"platform"})}}return n})(),Wz=new Ke(""),Q0e=(()=>{class n extends X3{constructor(){super(),this._doc=Oe(rn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Uh().getBaseHref(this._doc)}onPopState(e){let i=Uh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=Uh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function J3(n,t){if(n.length==0)return t;if(t.length==0)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,e==2?n+t.substring(1):e==1?n+t:n+"/"+t}function Nz(n){let t=n.match(/#|\?|$/),e=t&&t.index||n.length,i=e-(n[e-1]==="/"?1:0);return n.slice(0,i)+n.slice(e)}function sp(n){return n&&n[0]!=="?"?"?"+n:n}var z0=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:()=>Oe(eL),providedIn:"root"})}}return n})(),Kz=new Ke(""),eL=(()=>{class n extends z0{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Oe(rn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return J3(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+sp(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+sp(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+sp(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(Te(X3),Te(Kz,8))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zz=(()=>{class n extends z0{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=J3(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+sp(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+sp(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(Te(X3),Te(Kz,8))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})(),Hh=(()=>{class n{constructor(e){this._subject=new at,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=W0e(Nz(Rz(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+sp(i))}normalize(e){return n.stripTrailingSlash(G0e(this._basePath,Rz(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sp(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sp(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=sp}static{this.joinWithSlash=J3}static{this.stripTrailingSlash=Nz}static{this.\u0275fac=function(i){return new(i||n)(Te(z0))}}static{this.\u0275prov=De({token:n,factory:()=>j0e(),providedIn:"root"})}}return n})();function j0e(){return new Hh(Te(z0))}function G0e(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Rz(n){return n.replace(/\/index.html$/,"")}function W0e(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var qz=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(qz||{});var tl=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(tl||{}),qi=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(qi||{}),vc=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(vc||{}),_c={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function K0e(n){return pc(n)[Zr.LocaleId]}function z0e(n,t,e){let i=pc(n),r=[i[Zr.DayPeriodsFormat],i[Zr.DayPeriodsStandalone]],o=Au(r,t);return Au(o,e)}function q0e(n,t,e){let i=pc(n),r=[i[Zr.DaysFormat],i[Zr.DaysStandalone]],o=Au(r,t);return Au(o,e)}function $0e(n,t,e){let i=pc(n),r=[i[Zr.MonthsFormat],i[Zr.MonthsStandalone]],o=Au(r,t);return Au(o,e)}function Y0e(n,t){let i=pc(n)[Zr.Eras];return Au(i,t)}function X2(n,t){let e=pc(n);return Au(e[Zr.DateFormat],t)}function J2(n,t){let e=pc(n);return Au(e[Zr.TimeFormat],t)}function eM(n,t){let i=pc(n)[Zr.DateTimeFormat];return Au(i,t)}function ap(n,t){let e=pc(n),i=e[Zr.NumberSymbols][t];if(typeof i>"u"){if(t===_c.CurrencyDecimal)return e[Zr.NumberSymbols][_c.Decimal];if(t===_c.CurrencyGroup)return e[Zr.NumberSymbols][_c.Group]}return i}function Z0e(n,t){return pc(n)[Zr.NumberFormats][t]}function $z(n){if(!n[Zr.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Zr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function X0e(n){let t=pc(n);return $z(t),(t[Zr.ExtraData][2]||[]).map(i=>typeof i=="string"?H3(i):[H3(i[0]),H3(i[1])])}function J0e(n,t,e){let i=pc(n);$z(i);let r=[i[Zr.ExtraData][0],i[Zr.ExtraData][1]],o=Au(r,t)||[];return Au(o,e)||[]}function Au(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function H3(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var eve=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,tM={},tve=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,lp=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(lp||{}),pi=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(pi||{}),fi=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(fi||{});function Yz(n,t,e,i){let r=uve(n);t=op(e,t)||t;let s=[],a;for(;t;)if(a=tve.exec(t),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;t=d}else{s.push(t);break}let l=r.getTimezoneOffset();i&&(l=Xz(i,l),r=cve(r,i,!0));let u="";return s.forEach(d=>{let h=ave(d);u+=h?h(r,e,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function aM(n,t,e){let i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function op(n,t){let e=K0e(n);if(tM[e]??={},tM[e][t])return tM[e][t];let i="";switch(t){case"shortDate":i=X2(n,vc.Short);break;case"mediumDate":i=X2(n,vc.Medium);break;case"longDate":i=X2(n,vc.Long);break;case"fullDate":i=X2(n,vc.Full);break;case"shortTime":i=J2(n,vc.Short);break;case"mediumTime":i=J2(n,vc.Medium);break;case"longTime":i=J2(n,vc.Long);break;case"fullTime":i=J2(n,vc.Full);break;case"short":let r=op(n,"shortTime"),o=op(n,"shortDate");i=nM(eM(n,vc.Short),[r,o]);break;case"medium":let s=op(n,"mediumTime"),a=op(n,"mediumDate");i=nM(eM(n,vc.Medium),[s,a]);break;case"long":let l=op(n,"longTime"),u=op(n,"longDate");i=nM(eM(n,vc.Long),[l,u]);break;case"full":let d=op(n,"fullTime"),h=op(n,"fullDate");i=nM(eM(n,vc.Full),[d,h]);break}return i&&(tM[e][t]=i),i}function nM(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return t!=null&&i in t?t[i]:e})),n}function wd(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function nve(n,t){return wd(n,3).substring(0,t)}function wo(n,t,e=0,i=!1,r=!1){return function(o,s){let a=ive(n,o);if((e>0||a>-e)&&(a+=e),n===pi.Hours)a===0&&e===-12&&(a=12);else if(n===pi.FractionalSeconds)return nve(a,t);let l=ap(s,_c.MinusSign);return wd(a,t,l,i,r)}}function ive(n,t){switch(n){case pi.FullYear:return t.getFullYear();case pi.Month:return t.getMonth();case pi.Date:return t.getDate();case pi.Hours:return t.getHours();case pi.Minutes:return t.getMinutes();case pi.Seconds:return t.getSeconds();case pi.FractionalSeconds:return t.getMilliseconds();case pi.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function ir(n,t,e=tl.Format,i=!1){return function(r,o){return rve(r,o,n,t,e,i)}}function rve(n,t,e,i,r,o){switch(e){case fi.Months:return $0e(t,r,i)[n.getMonth()];case fi.Days:return q0e(t,r,i)[n.getDay()];case fi.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let u=X0e(t),d=J0e(t,r,i),h=u.findIndex(f=>{if(Array.isArray(f)){let[A,g]=f,m=s>=A.hours&&a>=A.minutes,b=s<g.hours||s===g.hours&&a<g.minutes;if(A.hours<g.hours){if(m&&b)return!0}else if(m||b)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(h!==-1)return d[h]}return z0e(t,r,i)[s<12?0:1];case fi.Eras:return Y0e(t,i)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function iM(n){return function(t,e,i){let r=-1*i,o=ap(e,_c.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case lp.Short:return(r>=0?"+":"")+wd(s,2,o)+wd(Math.abs(r%60),2,o);case lp.ShortGMT:return"GMT"+(r>=0?"+":"")+wd(s,1,o);case lp.Long:return"GMT"+(r>=0?"+":"")+wd(s,2,o)+":"+wd(Math.abs(r%60),2,o);case lp.Extended:return i===0?"Z":(r>=0?"+":"")+wd(s,2,o)+":"+wd(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var ove=0,oM=4;function sve(n){let t=aM(n,ove,1).getDay();return aM(n,0,1+(t<=oM?oM:oM+7)-t)}function Zz(n){let t=n.getDay(),e=t===0?-3:oM-t;return aM(n.getFullYear(),n.getMonth(),n.getDate()+e)}function V3(n,t=!1){return function(e,i){let r;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{let o=Zz(e),s=sve(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return wd(r,n,ap(i,_c.MinusSign))}}function rM(n,t=!1){return function(e,i){let o=Zz(e).getFullYear();return wd(o,n,ap(i,_c.MinusSign),t)}}var Q3={};function ave(n){if(Q3[n])return Q3[n];let t;switch(n){case"G":case"GG":case"GGG":t=ir(fi.Eras,qi.Abbreviated);break;case"GGGG":t=ir(fi.Eras,qi.Wide);break;case"GGGGG":t=ir(fi.Eras,qi.Narrow);break;case"y":t=wo(pi.FullYear,1,0,!1,!0);break;case"yy":t=wo(pi.FullYear,2,0,!0,!0);break;case"yyy":t=wo(pi.FullYear,3,0,!1,!0);break;case"yyyy":t=wo(pi.FullYear,4,0,!1,!0);break;case"Y":t=rM(1);break;case"YY":t=rM(2,!0);break;case"YYY":t=rM(3);break;case"YYYY":t=rM(4);break;case"M":case"L":t=wo(pi.Month,1,1);break;case"MM":case"LL":t=wo(pi.Month,2,1);break;case"MMM":t=ir(fi.Months,qi.Abbreviated);break;case"MMMM":t=ir(fi.Months,qi.Wide);break;case"MMMMM":t=ir(fi.Months,qi.Narrow);break;case"LLL":t=ir(fi.Months,qi.Abbreviated,tl.Standalone);break;case"LLLL":t=ir(fi.Months,qi.Wide,tl.Standalone);break;case"LLLLL":t=ir(fi.Months,qi.Narrow,tl.Standalone);break;case"w":t=V3(1);break;case"ww":t=V3(2);break;case"W":t=V3(1,!0);break;case"d":t=wo(pi.Date,1);break;case"dd":t=wo(pi.Date,2);break;case"c":case"cc":t=wo(pi.Day,1);break;case"ccc":t=ir(fi.Days,qi.Abbreviated,tl.Standalone);break;case"cccc":t=ir(fi.Days,qi.Wide,tl.Standalone);break;case"ccccc":t=ir(fi.Days,qi.Narrow,tl.Standalone);break;case"cccccc":t=ir(fi.Days,qi.Short,tl.Standalone);break;case"E":case"EE":case"EEE":t=ir(fi.Days,qi.Abbreviated);break;case"EEEE":t=ir(fi.Days,qi.Wide);break;case"EEEEE":t=ir(fi.Days,qi.Narrow);break;case"EEEEEE":t=ir(fi.Days,qi.Short);break;case"a":case"aa":case"aaa":t=ir(fi.DayPeriods,qi.Abbreviated);break;case"aaaa":t=ir(fi.DayPeriods,qi.Wide);break;case"aaaaa":t=ir(fi.DayPeriods,qi.Narrow);break;case"b":case"bb":case"bbb":t=ir(fi.DayPeriods,qi.Abbreviated,tl.Standalone,!0);break;case"bbbb":t=ir(fi.DayPeriods,qi.Wide,tl.Standalone,!0);break;case"bbbbb":t=ir(fi.DayPeriods,qi.Narrow,tl.Standalone,!0);break;case"B":case"BB":case"BBB":t=ir(fi.DayPeriods,qi.Abbreviated,tl.Format,!0);break;case"BBBB":t=ir(fi.DayPeriods,qi.Wide,tl.Format,!0);break;case"BBBBB":t=ir(fi.DayPeriods,qi.Narrow,tl.Format,!0);break;case"h":t=wo(pi.Hours,1,-12);break;case"hh":t=wo(pi.Hours,2,-12);break;case"H":t=wo(pi.Hours,1);break;case"HH":t=wo(pi.Hours,2);break;case"m":t=wo(pi.Minutes,1);break;case"mm":t=wo(pi.Minutes,2);break;case"s":t=wo(pi.Seconds,1);break;case"ss":t=wo(pi.Seconds,2);break;case"S":t=wo(pi.FractionalSeconds,1);break;case"SS":t=wo(pi.FractionalSeconds,2);break;case"SSS":t=wo(pi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=iM(lp.Short);break;case"ZZZZZ":t=iM(lp.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=iM(lp.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=iM(lp.Long);break;default:return null}return Q3[n]=t,t}function Xz(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function lve(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function cve(n,t,e){let i=e?-1:1,r=n.getTimezoneOffset(),o=Xz(t,r);return lve(n,i*(o-r))}function uve(n){if(Lz(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return aM(r,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(eve))return dve(i)}let t=new Date(n);if(!Lz(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function dve(n){let t=new Date(0),e=0,i=0,r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,a,l,u),t}function Lz(n){return n instanceof Date&&!isNaN(n.valueOf())}var hve=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Uz=22,lM=".",pE="0",fve=";",pve=",",j3="#";function Ave(n,t,e,i,r,o,s=!1){let a="",l=!1;if(!isFinite(n))a=ap(e,_c.Infinity);else{let u=_ve(n);s&&(u=vve(u));let d=t.minInt,h=t.minFrac,f=t.maxFrac;if(o){let F=o.match(hve);if(F===null)throw new Error(`${o} is not a valid digit info`);let R=F[1],B=F[3],P=F[5];R!=null&&(d=G3(R)),B!=null&&(h=G3(B)),P!=null?f=G3(P):B!=null&&h>f&&(f=h)}yve(u,h,f);let A=u.digits,g=u.integerLen,m=u.exponent,b=[];for(l=A.every(F=>!F);g<d;g++)A.unshift(0);for(;g<0;g++)A.unshift(0);g>0?b=A.splice(g,A.length):(b=A,A=[0]);let S=[];for(A.length>=t.lgSize&&S.unshift(A.splice(-t.lgSize,A.length).join(""));A.length>t.gSize;)S.unshift(A.splice(-t.gSize,A.length).join(""));A.length&&S.unshift(A.join("")),a=S.join(ap(e,i)),b.length&&(a+=ap(e,r)+b.join("")),m&&(a+=ap(e,_c.Exponential)+"+"+m)}return n<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function gve(n,t,e){let i=Z0e(t,qz.Decimal),r=mve(i,ap(t,_c.MinusSign));return Ave(n,r,t,_c.Group,_c.Decimal,e)}function mve(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(fve),r=i[0],o=i[1],s=r.indexOf(lM)!==-1?r.split(lM):[r.substring(0,r.lastIndexOf(pE)+1),r.substring(r.lastIndexOf(pE)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(j3));for(let d=0;d<l.length;d++){let h=l.charAt(d);h===pE?e.minFrac=e.maxFrac=d+1:h===j3?e.maxFrac=d+1:e.posSuf+=h}let u=a.split(pve);if(e.gSize=u[1]?u[1].length:0,e.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=r.length-e.posPre.length-e.posSuf.length,h=o.indexOf(j3);e.negPre=o.substring(0,h).replace(/'/g,""),e.negSuf=o.slice(h+d).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function vve(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function _ve(n){let t=Math.abs(n)+"",e=0,i,r,o,s,a;for((r=t.indexOf(lM))>-1&&(t=t.replace(lM,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===pE;o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;t.charAt(a)===pE;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>Uz&&(i=i.splice(0,Uz-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}function yve(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen,o=Math.min(Math.max(t,r),e),s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let h=s;h<i.length;h++)i[h]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let h=1;h<s;h++)i[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,u=t+n.integerLen,d=i.reduceRight(function(h,f,A,g){return f=f+h,g[A]=f<10?f:f-10,l&&(g[A]===0&&A>=u?g.pop():l=!1),f>=10?1:0},0);d&&(i.unshift(d),n.integerLen++)}function G3(n){let t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function cM(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var W3=/\s+/,Hz=[],Fr=(()=>{class n{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=Hz,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(W3):Hz}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(W3):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(W3).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(ae(Kt),ae(Ko))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var K3=class{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ti=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new K3(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),Vz(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);Vz(o,r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(ae(hc),ae(Ln),ae(Y2))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function Vz(n,t){n.context.$implicit=t.item}var En=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new z3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Qz("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Qz("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(ae(hc),ae(Ln))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),z3=class{constructor(){this.$implicit=null,this.ngIf=null}};function Qz(n,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Ja(t)}'.`)}var uM=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){let[r,o]=e.split("."),s=r.indexOf("-")===-1?void 0:Ph.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||n)(ae(Kt),ae(L3),ae(Ko))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),dM=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||n)(ae(hc))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ei]})}}return n})();function Jz(n,t){return new Qe(2100,!1)}var wve="mediumDate",bve=new Ke(""),Cve=new Ke(""),eq=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(e==null||e===""||e!==e)return null;try{let s=i??this.defaultOptions?.dateFormat??wve,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Yz(e,s,o||this.locale,a)}catch(s){throw Jz(n,s.message)}}static{this.\u0275fac=function(i){return new(i||n)(ae(A1,16),ae(bve,24),ae(Cve,24))}}static{this.\u0275pipe=kh({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var tq=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!Eve(e))return null;r||=this._locale;try{let o=Sve(e);return gve(o,r,i)}catch(o){throw Jz(n,o.message)}}static{this.\u0275fac=function(i){return new(i||n)(ae(A1,16))}}static{this.\u0275pipe=kh({name:"number",type:n,pure:!0,standalone:!0})}}return n})();function Eve(n){return!(n==null||n===""||n!==n)}function Sve(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var As=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})(),tL="browser",xve="server";function Vh(n){return n===tL}function hM(n){return n===xve}var nq=(()=>{class n{static{this.\u0275prov=De({token:n,providedIn:"root",factory:()=>Vh(Oe(Wo))?new q3(Oe(rn),window):new $3})}}return n})(),q3=class{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=Ive(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function Ive(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var $3=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},m1=class{};var gE=class{},pM=class{},nl=class n{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var iL=class{encodeKey(t){return iq(t)}encodeValue(t){return iq(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Tve(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var Dve=/%(\d[a-f0-9])/gi,Mve={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iq(n){return encodeURIComponent(n).replace(Dve,(t,e)=>Mve[e]??t)}function fM(n){return`${n}`}var ZA=class n{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new iL,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Tve(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(fM):[fM(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(fM(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(fM(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var rL=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Ove(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function rq(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function oq(n){return typeof Blob<"u"&&n instanceof Blob}function sq(n){return typeof FormData<"u"&&n instanceof FormData}function Fve(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var AE=class n{constructor(t,e,i,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(Ove(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new nl,this.context??=new rL,!this.params)this.params=new ZA,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||rq(this.body)||oq(this.body)||sq(this.body)||Fve(this.body)?this.body:this.body instanceof ZA?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||sq(this.body)?null:oq(this.body)?this.body.type||null:rq(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ZA?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,u=t.headers||this.headers,d=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(u=Object.keys(t.setHeaders).reduce((f,A)=>f.set(A,t.setHeaders[A]),u)),t.setParams&&(d=Object.keys(t.setParams).reduce((f,A)=>f.set(A,t.setParams[A]),d)),new n(e,i,s,{params:d,headers:u,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},XA=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(XA||{}),mE=class{constructor(t,e=200,i="OK"){this.headers=t.headers||new nl,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},AM=class n extends mE{constructor(t={}){super(t),this.type=XA.ResponseHeader}clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},vE=class n extends mE{constructor(t={}){super(t),this.type=XA.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},YA=class extends mE{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},dq=200,Bve=204;function nL(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var _E=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof AE)o=e;else{let l;r.headers instanceof nl?l=r.headers:l=new nl(r.headers);let u;r.params&&(r.params instanceof ZA?u=r.params:u=new ZA({fromObject:r.params})),o=new AE(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=_t(o).pipe(Ad(l=>this.handler.handle(l)));if(e instanceof AE||r.observe==="events")return s;let a=s.pipe(Di(l=>l instanceof vE));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(kt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(kt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(kt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(kt(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new ZA().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,nL(r,i))}post(e,i,r={}){return this.request("POST",e,nL(r,i))}put(e,i,r={}){return this.request("PUT",e,nL(r,i))}static{this.\u0275fac=function(i){return new(i||n)(Te(gE))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})(),Pve=/^\)\]\}',?\n/,kve="X-Request-URL";function aq(n){if(n.url)return n.url;let t=kve.toLocaleLowerCase();return n.headers.get(t)}var Nve=(()=>{class n{constructor(){this.fetchImpl=Oe(oL,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=Oe(Pt)}handle(e){return new $t(i=>{let r=new AbortController;return this.doRequest(e,r.signal,i).then(sL,o=>i.error(new YA({error:o}))),()=>r.abort()})}doRequest(e,i,r){return hd(this,null,function*(){let o=this.createRequestInit(e),s;try{let A=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,Ee({signal:i},o)));Rve(A),r.next({type:XA.Sent}),s=yield A}catch(A){r.error(new YA({error:A,status:A.status??0,statusText:A.statusText,url:e.urlWithParams,headers:A.headers}));return}let a=new nl(s.headers),l=s.statusText,u=aq(s)??e.urlWithParams,d=s.status,h=null;if(e.reportProgress&&r.next(new AM({headers:a,status:d,statusText:l,url:u})),s.body){let A=s.headers.get("content-length"),g=[],m=s.body.getReader(),b=0,S,F,R=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>hd(this,null,function*(){for(;;){let{done:P,value:L}=yield m.read();if(P)break;if(g.push(L),b+=L.length,e.reportProgress){F=e.responseType==="text"?(F??"")+(S??=new TextDecoder).decode(L,{stream:!0}):void 0;let j=()=>r.next({type:XA.DownloadProgress,total:A?+A:void 0,loaded:b,partialText:F});R?R.run(j):j()}}}));let B=this.concatChunks(g,b);try{let P=s.headers.get("Content-Type")??"";h=this.parseBody(e,B,P)}catch(P){r.error(new YA({error:P,headers:new nl(s.headers),status:s.status,statusText:s.statusText,url:aq(s)??e.urlWithParams}));return}}d===0&&(d=h?dq:0),d>=200&&d<300?(r.next(new vE({body:h,headers:a,status:d,statusText:l,url:u})),r.complete()):r.error(new YA({error:h,headers:a,status:d,statusText:l,url:u}))})}parseBody(e,i,r){switch(e.responseType){case"json":let o=new TextDecoder().decode(i).replace(Pve,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>i[o]=s.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let o=e.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r}}concatChunks(e,i){let r=new Uint8Array(i),o=0;for(let s of e)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})(),oL=class{};function sL(){}function Rve(n){n.then(sL,sL)}function hq(n,t){return t(n)}function Lve(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}function Uve(n,t,e){return(i,r)=>dc(e,()=>t(i,o=>n(o,r)))}var Hve=new Ke(""),aL=new Ke(""),Vve=new Ke(""),fq=new Ke("",{providedIn:"root",factory:()=>!0});function Qve(){let n=null;return(t,e)=>{n===null&&(n=(Oe(Hve,{optional:!0})??[]).reduceRight(Lve,hq));let i=Oe(ep);if(Oe(fq)){let o=i.add();return n(t,e).pipe(qf(()=>i.remove(o)))}else return n(t,e)}}var lq=(()=>{class n extends gE{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Oe(ep),this.contributeToStability=Oe(fq)}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(aL),...this.injector.get(Vve,[])]));this.chain=i.reduceRight((r,o)=>Uve(r,o,this.injector),hq)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(qf(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(Te(pM),Te(uo))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})();var jve=/^\)\]\}',?\n/;function Gve(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var cq=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Qe(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?hi(i.\u0275loadImpl()):_t(null)).pipe(vo(()=>new $t(o=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((m,b)=>s.setRequestHeader(m,b.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let m=e.detectContentTypeHeader();m!==null&&s.setRequestHeader("Content-Type",m)}if(e.responseType){let m=e.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=e.serializeBody(),l=null,u=()=>{if(l!==null)return l;let m=s.statusText||"OK",b=new nl(s.getAllResponseHeaders()),S=Gve(s)||e.url;return l=new AM({headers:b,status:s.status,statusText:m,url:S}),l},d=()=>{let{headers:m,status:b,statusText:S,url:F}=u(),R=null;b!==Bve&&(R=typeof s.response>"u"?s.responseText:s.response),b===0&&(b=R?dq:0);let B=b>=200&&b<300;if(e.responseType==="json"&&typeof R=="string"){let P=R;R=R.replace(jve,"");try{R=R!==""?JSON.parse(R):null}catch(L){R=P,B&&(B=!1,R={error:L,text:R})}}B?(o.next(new vE({body:R,headers:m,status:b,statusText:S,url:F||void 0})),o.complete()):o.error(new YA({error:R,headers:m,status:b,statusText:S,url:F||void 0}))},h=m=>{let{url:b}=u(),S=new YA({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(S)},f=!1,A=m=>{f||(o.next(u()),f=!0);let b={type:XA.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(b.total=m.total),e.responseType==="text"&&s.responseText&&(b.partialText=s.responseText),o.next(b)},g=m=>{let b={type:XA.UploadProgress,loaded:m.loaded};m.lengthComputable&&(b.total=m.total),o.next(b)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",A),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:XA.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",A),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(Te(m1))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})(),pq=new Ke(""),Wve="XSRF-TOKEN",Kve=new Ke("",{providedIn:"root",factory:()=>Wve}),zve="X-XSRF-TOKEN",qve=new Ke("",{providedIn:"root",factory:()=>zve}),gM=class{},$ve=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=cM(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(Te(rn),Te(Wo),Te(Kve))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})();function Yve(n,t){let e=n.url.toLowerCase();if(!Oe(pq)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=Oe(gM).getToken(),r=Oe(qve);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Aq=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Aq||{});function Zve(n,t){return{\u0275kind:n,\u0275providers:t}}function Xve(...n){let t=[_E,cq,lq,{provide:gE,useExisting:lq},{provide:pM,useFactory:()=>Oe(Nve,{optional:!0})??Oe(cq)},{provide:aL,useValue:Yve,multi:!0},{provide:pq,useValue:!0},{provide:gM,useClass:$ve}];for(let e of n)t.push(...e.\u0275providers);return H0(t)}var uq=new Ke("");function Jve(){return Zve(Aq.LegacyInterceptors,[{provide:uq,useFactory:Qve},{provide:aL,useExisting:uq,multi:!0}])}var gq=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({providers:[Xve(Jve())]})}}return n})();var uL=class extends sM{constructor(){super(...arguments),this.supportsDOMEvents=!0}},dL=class n extends uL{static makeCurrent(){Gz(new n)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=t_e();return e==null?null:n_e(e)}resetBaseElement(){yE=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return cM(document.cookie,t)}},yE=null;function t_e(){return yE=yE||document.querySelector("base"),yE?yE.getAttribute("href"):null}function n_e(n){return new URL(n,document.baseURI).pathname}var hL=class{addToWindow(t){Go.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new Qe(5103,!1);return o},Go.getAllAngularTestabilities=()=>t.getAllTestabilities(),Go.getAllAngularRootElements=()=>t.getAllRootElements();let e=i=>{let r=Go.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Go.frameworkStabilizers||(Go.frameworkStabilizers=[]),Go.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,i){if(e==null)return null;let r=t.getTestability(e);return r??(i?Uh().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},i_e=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})(),mM=new Ke(""),_q=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new Qe(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(Te(mM),Te(Pt))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})(),wE=class{constructor(t){this._doc=t}},lL="ng-app-id",yq=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hM(o),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${lL}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(lL),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(lL,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(Te(rn),Te(T2),Te(t3,8),Te(Wo))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})(),cL={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},pL=/%COMP%/g,wq="%COMP%",r_e=`_nghost-${wq}`,o_e=`_ngcontent-${wq}`,s_e=!0,a_e=new Ke("",{providedIn:"root",factory:()=>s_e});function l_e(n){return o_e.replace(pL,n)}function c_e(n){return r_e.replace(pL,n)}function bq(n,t){return t.map(e=>e.replace(pL,n))}var vM=(()=>{class n{constructor(e,i,r,o,s,a,l,u=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=hM(a),this.defaultRenderer=new bE(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Oh.ShadowDom&&(i=vt(Ee({},i),{encapsulation:Oh.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof _M?r.applyToHost(e):r instanceof CE&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Oh.Emulated:o=new _M(l,u,i,this.appId,d,s,a,h);break;case Oh.ShadowDom:return new fL(l,u,e,i,s,a,this.nonce,h);default:o=new CE(l,u,i,d,s,a,h);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(Te(_q),Te(yq),Te(T2),Te(a_e),Te(rn),Te(Wo),Te(Pt),Te(t3))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})(),bE=class{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(cL[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(mq(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(mq(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Qe(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=cL[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=cL[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Ph.DashCase|Ph.Important)?t.style.setProperty(e,i,r&Ph.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Ph.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if(typeof t=="string"&&(t=Uh().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function mq(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var fL=class extends bE{constructor(t,e,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=bq(r.id,r.styles);for(let d of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},CE=class extends bE{constructor(t,e,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?bq(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},_M=class extends CE{constructor(t,e,i,r,o,s,a,l){let u=r+"-"+i.id;super(t,e,i,o,s,a,l,u),this.contentAttr=l_e(u),this.hostAttr=c_e(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},u_e=(()=>{class n extends wE{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(Te(rn))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})(),d_e=(()=>{class n extends wE{constructor(e){super(e),this.delegate=Oe(Pz,{optional:!0})}supports(e){return this.delegate?this.delegate.supports(e):!1}addEventListener(e,i,r){return this.delegate.addEventListener(e,i,r)}removeEventListener(e,i,r){return this.delegate.removeEventListener(e,i,r)}static{this.\u0275fac=function(i){return new(i||n)(Te(rn))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})(),vq=["alt","control","meta","shift"],h_e={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f_e={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},p_e=(()=>{class n extends wE{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Uh().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),vq.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),s+=u+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=h_e[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),vq.forEach(s=>{if(s!==r){let a=f_e[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(Te(rn))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})();function A_e(){dL.makeCurrent()}function g_e(){return new lu}function m_e(){return rK(document),document}var v_e=[{provide:Wo,useValue:tL},{provide:e3,useValue:A_e,multi:!0},{provide:rn,useFactory:m_e,deps:[]}],Cq=R3(Fz,"browser",v_e),__e=new Ke(""),y_e=[{provide:fE,useClass:hL,deps:[]},{provide:k3,useClass:G2,deps:[Pt,W2,fE]},{provide:G2,useClass:G2,deps:[Pt,W2,fE]}],w_e=[{provide:m2,useValue:"root"},{provide:lu,useFactory:g_e,deps:[]},{provide:mM,useClass:u_e,multi:!0,deps:[rn,Pt,Wo]},{provide:mM,useClass:p_e,multi:!0,deps:[rn]},{provide:mM,useClass:d_e,multi:!0},vM,yq,_q,{provide:GA,useExisting:vM},{provide:m1,useClass:i_e,deps:[]},[]],yM=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:T2,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(Te(__e,12))}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({providers:[...w_e,...y_e],imports:[As,Bz]})}}return n})();var wM=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(Te(rn))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var q0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=Te(b_e),r},providedIn:"root"})}}return n})(),b_e=(()=>{class n extends q0{constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case hu.NONE:return i;case hu.HTML:return $A(i,"HTML")?_d(i):i3(this._doc,String(i)).toString();case hu.STYLE:return $A(i,"Style")?_d(i):i;case hu.SCRIPT:if($A(i,"Script"))return _d(i);throw new Qe(5200,!1);case hu.URL:return $A(i,"URL")?_d(i):M2(String(i));case hu.RESOURCE_URL:if($A(i,"ResourceURL"))return _d(i);throw new Qe(5201,!1);default:throw new Qe(5202,!1)}}bypassSecurityTrustHtml(e){return aK(e)}bypassSecurityTrustStyle(e){return lK(e)}bypassSecurityTrustScript(e){return cK(e)}bypassSecurityTrustUrl(e){return uK(e)}bypassSecurityTrustResourceUrl(e){return dK(e)}static{this.\u0275fac=function(i){return new(i||n)(Te(rn))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var yn="primary",LE=Symbol("RouteTitle"),_L=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function E1(n){return new _L(n)}function C_e(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function E_e(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Qh(n[e],t[e]))return!1;return!0}function Qh(n,t){let e=n?yL(n):void 0,i=t?yL(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Pq(n[r],t[r]))return!1;return!0}function yL(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Pq(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function kq(n){return n.length>0?n[n.length-1]:null}function eg(n){return ou(n)?n:K0(n)?hi(Promise.resolve(n)):_t(n)}var S_e={exact:Rq,subset:Lq},Nq={exact:x_e,subset:I_e,ignored:()=>!0};function Eq(n,t,e){return S_e[e.paths](n.root,t.root,e.matrixParams)&&Nq[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function x_e(n,t){return Qh(n,t)}function Rq(n,t,e){if(!Y0(n.segments,t.segments)||!EM(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!Rq(n.children[i],t.children[i],e))return!1;return!0}function I_e(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Pq(n[e],t[e]))}function Lq(n,t,e){return Uq(n,t,t.segments,e)}function Uq(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!Y0(r,e)||t.hasChildren()||!EM(r,e,i))}else if(n.segments.length===e.length){if(!Y0(n.segments,e)||!EM(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!Lq(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!Y0(n.segments,r)||!EM(n.segments,r,i)||!n.children[yn]?!1:Uq(n.children[yn],t,o,i)}}function EM(n,t,e){return t.every((i,r)=>Nq[e](n[r].parameters,i.parameters))}var up=class{constructor(t=new Ei([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=E1(this.queryParams),this._queryParamMap}toString(){return M_e.serialize(this)}},Ei=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return SM(this)}},$0=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=E1(this.parameters),this._parameterMap}toString(){return Vq(this)}};function T_e(n,t){return Y0(n,t)&&n.every((e,i)=>Qh(e.parameters,t[i].parameters))}function Y0(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function D_e(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===yn&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==yn&&(e=e.concat(t(r,i)))}),e}var UE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:()=>new S1,providedIn:"root"})}}return n})(),S1=class{parse(t){let e=new bL(t);return new up(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${EE(t.root,!0)}`,i=B_e(t.queryParams),r=typeof t.fragment=="string"?`#${O_e(t.fragment)}`:"";return`${e}${i}${r}`}},M_e=new S1;function SM(n){return n.segments.map(t=>Vq(t)).join("/")}function EE(n,t){if(!n.hasChildren())return SM(n);if(t){let e=n.children[yn]?EE(n.children[yn],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==yn&&i.push(`${r}:${EE(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=D_e(n,(i,r)=>r===yn?[EE(n.children[yn],!1)]:[`${r}:${EE(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[yn]!=null?`${SM(n)}/${e[0]}`:`${SM(n)}/(${e.join("//")})`}}function Hq(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bM(n){return Hq(n).replace(/%3B/gi,";")}function O_e(n){return encodeURI(n)}function wL(n){return Hq(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xM(n){return decodeURIComponent(n)}function Sq(n){return xM(n.replace(/\+/g,"%20"))}function Vq(n){return`${wL(n.path)}${F_e(n.parameters)}`}function F_e(n){return Object.entries(n).map(([t,e])=>`;${wL(t)}=${wL(e)}`).join("")}function B_e(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${bM(e)}=${bM(r)}`).join("&"):`${bM(e)}=${bM(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var P_e=/^[^\/()?;#]+/;function AL(n){let t=n.match(P_e);return t?t[0]:""}var k_e=/^[^\/()?;=#]+/;function N_e(n){let t=n.match(k_e);return t?t[0]:""}var R_e=/^[^=?&#]+/;function L_e(n){let t=n.match(R_e);return t?t[0]:""}var U_e=/^[^&#]+/;function H_e(n){let t=n.match(U_e);return t?t[0]:""}var bL=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ei([],{}):new Ei([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[yn]=new Ei(t,e)),i}parseSegment(){let t=AL(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Qe(4009,!1);return this.capture(t),new $0(xM(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=N_e(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=AL(this.remaining);r&&(i=r,this.capture(i))}t[xM(e)]=xM(i)}parseQueryParam(t){let e=L_e(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=H_e(this.remaining);s&&(i=s,this.capture(i))}let r=Sq(e),o=Sq(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=AL(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Qe(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=yn);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[yn]:new Ei([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Qe(4011,!1)}};function Qq(n){return n.segments.length>0?new Ei([],{[yn]:n}):n}function jq(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=jq(r);if(i===yn&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new Ei(n.segments,t);return V_e(e)}function V_e(n){if(n.numberOfChildren===1&&n.children[yn]){let t=n.children[yn];return new Ei(n.segments.concat(t.segments),t.children)}return n}function ME(n){return n instanceof up}function Q_e(n,t,e=null,i=null){let r=Gq(n);return Wq(r,t,e,i)}function Gq(n){let t;function e(o){let s={};for(let l of o.children){let u=e(l);s[l.outlet]=u}let a=new Ei(o.url,s);return o===n&&(t=a),a}let i=e(n.root),r=Qq(i);return t??r}function Wq(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return gL(r,r,r,e,i);let o=j_e(t);if(o.toRoot())return gL(r,r,new Ei([],{}),e,i);let s=G_e(o,r,n),a=s.processChildren?IE(s.segmentGroup,s.index,o.commands):zq(s.segmentGroup,s.index,o.commands);return gL(r,s.segmentGroup,a,e,i)}function IM(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function OE(n){return typeof n=="object"&&n!=null&&n.outlets}function gL(n,t,e,i,r){let o={};i&&Object.entries(i).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===t?s=e:s=Kq(n,t,e);let a=Qq(jq(s));return new up(a,o,r)}function Kq(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=Kq(o,t,e)}),new Ei(n.segments,i)}var TM=class{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&IM(i[0]))throw new Qe(4003,!1);let r=i.find(OE);if(r&&r!==kq(i))throw new Qe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function j_e(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new TM(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new TM(e,t,i)}var w1=class{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function G_e(n,t,e){if(n.isAbsolute)return new w1(t,!0,0);if(!e)return new w1(t,!1,NaN);if(e.parent===null)return new w1(e,!0,0);let i=IM(n.commands[0])?0:1,r=e.segments.length-1+i;return W_e(e,r,n.numberOfDoubleDots)}function W_e(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Qe(4005,!1);r=i.segments.length}return new w1(i,!1,r-o)}function K_e(n){return OE(n[0])?n[0].outlets:{[yn]:n}}function zq(n,t,e){if(n??=new Ei([],{}),n.segments.length===0&&n.hasChildren())return IE(n,t,e);let i=z_e(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Ei(n.segments.slice(0,i.pathIndex),{});return o.children[yn]=new Ei(n.segments.slice(i.pathIndex),n.children),IE(o,0,r)}else return i.match&&r.length===0?new Ei(n.segments,{}):i.match&&!n.hasChildren()?CL(n,t,e):i.match?IE(n,0,r):CL(n,t,e)}function IE(n,t,e){if(e.length===0)return new Ei(n.segments,{});{let i=K_e(e),r={};if(Object.keys(i).some(o=>o!==yn)&&n.children[yn]&&n.numberOfChildren===1&&n.children[yn].segments.length===0){let o=IE(n.children[yn],t,e);return new Ei(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=zq(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ei(n.segments,r)}}function z_e(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let s=n.segments[r],a=e[i];if(OE(a))break;let l=`${a}`,u=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!Iq(l,u,s))return o;i+=2}else{if(!Iq(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function CL(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(OE(o)){let l=q_e(o.outlets);return new Ei(i,l)}if(r===0&&IM(e[0])){let l=n.segments[t];i.push(new $0(l.path,xq(e[0]))),r++;continue}let s=OE(o)?o.outlets[yn]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&IM(a)?(i.push(new $0(s,xq(a))),r+=2):(i.push(new $0(s,{})),r++)}return new Ei(i,{})}function q_e(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=CL(new Ei([],{}),0,i))}),t}function xq(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Iq(n,t,e){return n==e.path&&Qh(t,e.parameters)}var TE="imperative",gs=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(gs||{}),gu=class{constructor(t,e){this.id=t,this.url=e}},x1=class extends gu{constructor(t,e,i="imperative",r=null){super(t,e),this.type=gs.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},dp=class extends gu{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=gs.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wc=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(wc||{}),DM=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(DM||{}),cp=class extends gu{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=gs.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},JA=class extends gu{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=gs.NavigationSkipped}},FE=class extends gu{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=gs.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},MM=class extends gu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=gs.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},EL=class extends gu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=gs.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},SL=class extends gu{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=gs.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},xL=class extends gu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=gs.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},IL=class extends gu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=gs.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},TL=class{constructor(t){this.route=t,this.type=gs.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},DL=class{constructor(t){this.route=t,this.type=gs.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ML=class{constructor(t){this.snapshot=t,this.type=gs.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},OL=class{constructor(t){this.snapshot=t,this.type=gs.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},FL=class{constructor(t){this.snapshot=t,this.type=gs.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},BL=class{constructor(t){this.snapshot=t,this.type=gs.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},OM=class{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=gs.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},BE=class{},I1=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function $_e(n,t){return n.providers&&!n._injector&&(n._injector=V2(n.providers,t,`Route: ${n.path}`)),n._injector??t}function bd(n){return n.outlet||yn}function Y_e(n,t){let e=n.filter(i=>bd(i)===t);return e.push(...n.filter(i=>bd(i)!==t)),e}function HE(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var PL=class{get injector(){return HE(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new VE(this.rootInjector),this.attachRef=null}},VE=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new PL(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)(Te(uo))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FM=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=kL(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=kL(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=NL(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return NL(t,this._root).map(e=>e.value)}};function kL(n,t){if(n===t.value)return t;for(let e of t.children){let i=kL(n,e);if(i)return i}return null}function NL(n,t){if(n===t.value)return[t];for(let e of t.children){let i=NL(n,e);if(i.length)return i.unshift(t),i}return[]}var yc=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function y1(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var BM=class extends FM{constructor(t,e){super(t),this.snapshot=e,WL(this,t)}toString(){return this.snapshot.toString()}};function qq(n){let t=Z_e(n),e=new mo([new $0("",{})]),i=new mo({}),r=new mo({}),o=new mo({}),s=new mo(""),a=new jh(e,i,o,s,r,yn,n,t.root);return a.snapshot=t.root,new BM(new yc(a,[]),t)}function Z_e(n){let t={},e={},i={},r="",o=new b1([],t,i,r,e,yn,n,null,{});return new kM("",new yc(o,[]))}var jh=class{constructor(t,e,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(kt(u=>u[LE]))??_t(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(kt(t=>E1(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(kt(t=>E1(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function PM(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:Ee(Ee({},t.params),n.params),data:Ee(Ee({},t.data),n.data),resolve:Ee(Ee(Ee(Ee({},n.data),t.data),r?.data),n._resolvedData)}:i={params:Ee({},n.params),data:Ee({},n.data),resolve:Ee(Ee({},n.data),n._resolvedData??{})},r&&Yq(r)&&(i.resolve[LE]=r.title),i}var b1=class{get title(){return this.data?.[LE]}constructor(t,e,i,r,o,s,a,l,u){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=E1(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=E1(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},kM=class extends FM{constructor(t,e){super(e),this.url=t,WL(this,e)}toString(){return $q(this._root)}};function WL(n,t){t.value._routerState=n,t.children.forEach(e=>WL(n,e))}function $q(n){let t=n.children.length>0?` { ${n.children.map($q).join(", ")} } `:"";return`${n.value}${t}`}function mL(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Qh(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Qh(t.params,e.params)||n.paramsSubject.next(e.params),E_e(t.url,e.url)||n.urlSubject.next(e.url),Qh(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function RL(n,t){let e=Qh(n.params,t.params)&&T_e(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||RL(n.parent,t.parent))}function Yq(n){return typeof n.title=="string"||n.title===null}var KL=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=yn,this.activateEvents=new at,this.deactivateEvents=new at,this.attachEvents=new at,this.detachEvents=new at,this.parentContexts=Oe(VE),this.location=Oe(hc),this.changeDetector=Oe(Yo),this.inputBinder=Oe(HM,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Qe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Qe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Qe(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Qe(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new LL(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ei]})}}return n})(),LL=class n{__ngOutletInjector(t){return new n(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===jh?this.route:t===VE?this.childContexts:this.parent.get(t,e)}},HM=new Ke(""),Tq=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=qy([i.queryParams,i.params,i.data]).pipe(vo(([o,s,a],l)=>(a=Ee(Ee(Ee({},o),s),a),l===0?_t(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=kz(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})();function X_e(n,t,e){let i=PE(n,t._root,e?e._root:void 0);return new BM(i,t)}function PE(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=J_e(n,t,e);return new yc(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>PE(n,a)),s}}let i=eye(t.value),r=t.children.map(o=>PE(n,o));return new yc(i,r)}}function J_e(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return PE(n,i,r);return PE(n,i)})}function eye(n){return new jh(new mo(n.url),new mo(n.params),new mo(n.queryParams),new mo(n.fragment),new mo(n.data),n.outlet,n.component,n)}var kE=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Zq="ngNavigationCancelingError";function NM(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=ME(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Xq(!1,wc.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function Xq(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Zq]=!0,e.cancellationCode=t,e}function tye(n){return Jq(n)&&ME(n.url)}function Jq(n){return!!n&&n[Zq]}var nye=(n,t,e,i)=>kt(r=>(new UL(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),UL=class{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),mL(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=y1(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=y1(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=y1(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=y1(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new BL(o.value.snapshot))}),t.children.length&&this.forwardEvent(new OL(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(mL(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),mL(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},RM=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},C1=class{constructor(t,e){this.component=t,this.route=e}};function iye(n,t,e){let i=n._root,r=t?t._root:null;return SE(i,r,e,[i.value])}function rye(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function D1(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!KG(n)?n:t.get(n):i}function SE(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=y1(t);return n.children.forEach(s=>{oye(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>DE(a,e.getContext(s),r)),r}function oye(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=sye(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new RM(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?SE(n,t,a?a.children:null,i,r):SE(n,t,e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new C1(a.outlet.component,s))}else s&&DE(t,a,r),r.canActivateChecks.push(new RM(i)),o.component?SE(n,null,a?a.children:null,i,r):SE(n,null,e,i,r);return r}function sye(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Y0(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Y0(n.url,t.url)||!Qh(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!RL(n,t)||!Qh(n.queryParams,t.queryParams);case"paramsChange":default:return!RL(n,t)}}function DE(n,t,e){let i=y1(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?t?DE(s,t.children.getContext(o),e):DE(s,null,e):DE(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new C1(t.outlet.component,r)):e.canDeactivateChecks.push(new C1(null,r)):e.canDeactivateChecks.push(new C1(null,r))}function QE(n){return typeof n=="function"}function aye(n){return typeof n=="boolean"}function lye(n){return n&&QE(n.canLoad)}function cye(n){return n&&QE(n.canActivate)}function uye(n){return n&&QE(n.canActivateChild)}function dye(n){return n&&QE(n.canDeactivate)}function hye(n){return n&&QE(n.canMatch)}function e$(n){return n instanceof Kf||n?.name==="EmptyError"}var CM=Symbol("INITIAL_VALUE");function T1(){return vo(n=>qy(n.map(t=>t.pipe(Qs(1),I0(CM)))).pipe(kt(t=>{for(let e of t)if(e!==!0){if(e===CM)return CM;if(e===!1||fye(e))return e}return!0}),Di(t=>t!==CM),Qs(1)))}function fye(n){return ME(n)||n instanceof kE}function pye(n,t){return vr(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?_t(vt(Ee({},e),{guardsResult:!0})):Aye(s,i,r,n).pipe(vr(a=>a&&aye(a)?gye(i,o,n,t):_t(a)),kt(a=>vt(Ee({},e),{guardsResult:a})))})}function Aye(n,t,e,i){return hi(n).pipe(vr(r=>wye(r.component,r.route,e,t,i)),Th(r=>r!==!0,!0))}function gye(n,t,e,i){return hi(t).pipe(Ad(r=>pd(vye(r.route.parent,i),mye(r.route,i),yye(n,r.path,e),_ye(n,r.route,e))),Th(r=>r!==!0,!0))}function mye(n,t){return n!==null&&t&&t(new FL(n)),_t(!0)}function vye(n,t){return n!==null&&t&&t(new ML(n)),_t(!0)}function _ye(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return _t(!0);let r=i.map(o=>E0(()=>{let s=HE(t)??e,a=D1(o,s),l=cye(a)?a.canActivate(t,n):dc(s,()=>a(t,n));return eg(l).pipe(Th())}));return _t(r).pipe(T1())}function yye(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>rye(s)).filter(s=>s!==null).map(s=>E0(()=>{let a=s.guards.map(l=>{let u=HE(s.node)??e,d=D1(l,u),h=uye(d)?d.canActivateChild(i,n):dc(u,()=>d(i,n));return eg(h).pipe(Th())});return _t(a).pipe(T1())}));return _t(o).pipe(T1())}function wye(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return _t(!0);let s=o.map(a=>{let l=HE(t)??r,u=D1(a,l),d=dye(u)?u.canDeactivate(n,t,e,i):dc(l,()=>u(n,t,e,i));return eg(d).pipe(Th())});return _t(s).pipe(T1())}function bye(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return _t(!0);let o=r.map(s=>{let a=D1(s,n),l=lye(a)?a.canLoad(t,e):dc(n,()=>a(t,e));return eg(l)});return _t(o).pipe(T1(),t$(i))}function t$(n){return JN(Vt(t=>{if(typeof t!="boolean")throw NM(n,t)}),kt(t=>t===!0))}function Cye(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return _t(!0);let o=r.map(s=>{let a=D1(s,n),l=hye(a)?a.canMatch(t,e):dc(n,()=>a(t,e));return eg(l)});return _t(o).pipe(T1(),t$(i))}var NE=class{constructor(t){this.segmentGroup=t||null}},RE=class extends Error{constructor(t){super(),this.urlTree=t}};function _1(n){return Ky(new NE(n))}function Eye(n){return Ky(new Qe(4e3,!1))}function Sye(n){return Ky(Xq(!1,wc.GuardRejected))}var HL=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return _t(i);if(r.numberOfChildren>1||!r.children[yn])return Eye(`${t.redirectTo}`);r=r.children[yn]}}applyRedirectCommands(t,e,i,r,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:u,routeConfig:d,url:h,outlet:f,params:A,data:g,title:m}=r,b=dc(o,()=>a({params:A,data:g,queryParams:l,fragment:u,routeConfig:d,url:h,outlet:f,title:m}));if(b instanceof up)throw new RE(b);e=b}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new RE(s);return s}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new up(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new Ei(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new Qe(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}},VL={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xye(n,t,e,i,r){let o=zL(n,t,e);return o.matched?(i=$_e(t,i),Cye(i,t,e,r).pipe(kt(s=>s===!0?o:Ee({},VL)))):_t(o)}function zL(n,t,e){if(t.path==="**")return Iye(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?Ee({},VL):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||C_e)(e,n,t);if(!r)return Ee({},VL);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?Ee(Ee({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Iye(n){return{matched:!0,parameters:n.length>0?kq(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Dq(n,t,e,i){return e.length>0&&Mye(n,e,i)?{segmentGroup:new Ei(t,Dye(i,new Ei(e,n.children))),slicedSegments:[]}:e.length===0&&Oye(n,e,i)?{segmentGroup:new Ei(n.segments,Tye(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Ei(n.segments,n.children),slicedSegments:e}}function Tye(n,t,e,i){let r={};for(let o of e)if(VM(n,t,o)&&!i[bd(o)]){let s=new Ei([],{});r[bd(o)]=s}return Ee(Ee({},i),r)}function Dye(n,t){let e={};e[yn]=t;for(let i of n)if(i.path===""&&bd(i)!==yn){let r=new Ei([],{});e[bd(i)]=r}return e}function Mye(n,t,e){return e.some(i=>VM(n,t,i)&&bd(i)!==yn)}function Oye(n,t,e){return e.some(i=>VM(n,t,i))}function VM(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Fye(n,t,e,i){return bd(n)!==i&&(i===yn||!VM(t,e,n))?!1:zL(t,n,e).matched}function Bye(n,t,e){return t.length===0&&!n.children[e]}var QL=class{};function Pye(n,t,e,i,r,o,s="emptyOnly"){return new jL(n,t,e,i,r,s,o).recognize()}var kye=31,jL=class{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new HL(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Qe(4002,`'${t.segmentGroup}'`)}recognize(){let t=Dq(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(kt(({children:e,rootSnapshot:i})=>{let r=new yc(i,e),o=new kM("",r),s=Q_e(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new b1([],Object.freeze({}),Object.freeze(Ee({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),yn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,yn,e).pipe(kt(i=>({children:i,rootSnapshot:e})),su(i=>{if(i instanceof RE)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof NE?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(kt(s=>s instanceof yc?[s]:[]))}processChildren(t,e,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return hi(o).pipe(Ad(s=>{let a=i.children[s],l=Y_e(e,s);return this.processSegmentGroup(t,l,a,s,r)}),dR((s,a)=>(s.push(...a),s)),RA(null),uR(),vr(s=>{if(s===null)return _1(i);let a=n$(s);return Nye(a),_t(a)}))}processSegment(t,e,i,r,o,s,a){return hi(e).pipe(Ad(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,r,o,s,a).pipe(su(u=>{if(u instanceof NE)return _t(null);throw u}))),Th(l=>!!l),su(l=>{if(e$(l))return Bye(i,r,o)?_t(new QL):_1(i);throw l}))}processSegmentAgainstRoute(t,e,i,r,o,s,a,l){return Fye(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s,l):_1(r):_1(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s,a){let{matched:l,parameters:u,consumedSegments:d,positionalParamSegments:h,remainingSegments:f}=zL(e,r,o);if(!l)return _1(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>kye&&(this.allowRedirects=!1));let A=new b1(o,u,Object.freeze(Ee({},this.urlTree.queryParams)),this.urlTree.fragment,Mq(r),bd(r),r.component??r._loadedComponent??null,r,Oq(r)),g=PM(A,a,this.paramsInheritanceStrategy);A.params=Object.freeze(g.params),A.data=Object.freeze(g.data);let m=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h,A,t);return this.applyRedirects.lineralizeSegments(r,m).pipe(vr(b=>this.processSegment(t,i,e,b.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a=xye(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(vo(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(vo(({routes:u})=>{let d=i._loadedInjector??t,{parameters:h,consumedSegments:f,remainingSegments:A}=l,g=new b1(f,h,Object.freeze(Ee({},this.urlTree.queryParams)),this.urlTree.fragment,Mq(i),bd(i),i.component??i._loadedComponent??null,i,Oq(i)),m=PM(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:b,slicedSegments:S}=Dq(e,f,A,u);if(S.length===0&&b.hasChildren())return this.processChildren(d,u,b,g).pipe(kt(R=>new yc(g,R)));if(u.length===0&&S.length===0)return _t(new yc(g,[]));let F=bd(i)===o;return this.processSegment(d,u,b,S,F?yn:o,!0,g).pipe(kt(R=>new yc(g,R instanceof yc?[R]:[])))}))):_1(e)))}getChildConfig(t,e,i){return e.children?_t({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?_t({routes:e._loadedRoutes,injector:e._loadedInjector}):bye(t,e,i,this.urlSerializer).pipe(vr(r=>r?this.configLoader.loadChildren(t,e).pipe(Vt(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):Sye(e))):_t({routes:[],injector:t})}};function Nye(n){n.sort((t,e)=>t.value.outlet===yn?-1:e.value.outlet===yn?1:t.value.outlet.localeCompare(e.value.outlet))}function Rye(n){let t=n.value.routeConfig;return t&&t.path===""}function n$(n){let t=[],e=new Set;for(let i of n){if(!Rye(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=n$(i.children);t.push(new yc(i.value,r))}return t.filter(i=>!e.has(i))}function Mq(n){return n.data||{}}function Oq(n){return n.resolve||{}}function Lye(n,t,e,i,r,o){return vr(s=>Pye(n,t,e,i,s.extractedUrl,r,o).pipe(kt(({state:a,tree:l})=>vt(Ee({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Uye(n,t){return vr(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return _t(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of i$(l))s.add(u);let a=0;return hi(s).pipe(Ad(l=>o.has(l)?Hye(l,i,n,t):(l.data=PM(l,l.parent,n).resolve,_t(void 0))),Vt(()=>a++),Yy(1),vr(l=>a===s.size?_t(e):jo))})}function i$(n){let t=n.children.map(e=>i$(e)).flat();return[n,...t]}function Hye(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!Yq(r)&&(o[LE]=r.title),Vye(o,n,t,i).pipe(kt(s=>(n._resolvedData=s,n.data=PM(n,n.parent,e).resolve,null)))}function Vye(n,t,e,i){let r=yL(n);if(r.length===0)return _t({});let o={};return hi(r).pipe(vr(s=>Qye(n[s],t,e,i).pipe(Th(),Vt(a=>{if(a instanceof kE)throw NM(new S1,a);o[s]=a}))),Yy(1),lR(o),su(s=>e$(s)?jo:Ky(s)))}function Qye(n,t,e,i){let r=HE(t)??i,o=D1(n,r),s=o.resolve?o.resolve(t,e):dc(r,()=>o(t,e));return eg(s)}function vL(n){return vo(t=>{let e=n(t);return e?hi(e).pipe(kt(()=>t)):_t(t)})}var r$=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===yn);return i}getResolvedTitleForRoute(e){return e.data[LE]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:()=>Oe(jye),providedIn:"root"})}}return n})(),jye=(()=>{class n extends r${constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(Te(wM))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jE=new Ke("",{providedIn:"root",factory:()=>({})}),Gye=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=wt({type:n,selectors:[["ng-component"]],standalone:!0,features:[zs],decls:1,vars:0,template:function(i,r){i&1&&se(0,"router-outlet")},dependencies:[KL],encapsulation:2})}}return n})();function qL(n){let t=n.children&&n.children.map(qL),e=t?vt(Ee({},n),{children:t}):Ee({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==yn&&(e.component=Gye),e}var LM=new Ke(""),$L=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Oe(q2)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return _t(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=eg(e.loadComponent()).pipe(kt(o$),Vt(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),qf(()=>{this.componentLoaders.delete(e)})),r=new Vy(i,()=>new St).pipe(Hy());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return _t({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Wye(i,this.compiler,e,this.onLoadEndListener).pipe(qf(()=>{this.childrenLoaders.delete(i)})),s=new Vy(o,()=>new St).pipe(Hy());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Wye(n,t,e,i){return eg(n.loadChildren()).pipe(kt(o$),vr(r=>r instanceof eE||Array.isArray(r)?_t(r):hi(t.compileModuleAsync(r))),kt(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(LM,[],{optional:!0,self:!0}).flat()),{routes:s.map(qL),injector:o}}))}function Kye(n){return n&&typeof n=="object"&&"default"in n}function o$(n){return Kye(n)?n.default:n}var YL=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:()=>Oe(zye),providedIn:"root"})}}return n})(),zye=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),s$=new Ke(""),a$=new Ke("");function qye(n,t,e){let i=n.get(a$),r=n.get(rn);return n.get(Pt).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=r.startViewTransition(()=>(o(),$ye(n))),{onViewTransitionCreated:l}=i;return l&&dc(n,()=>l({transition:a,from:t,to:e})),s})}function $ye(n){return new Promise(t=>{ip({read:()=>setTimeout(t)},{injector:n})})}var Yye=new Ke(""),ZL=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new St,this.transitionAbortSubject=new St,this.configLoader=Oe($L),this.environmentInjector=Oe(uo),this.urlSerializer=Oe(UE),this.rootContexts=Oe(VE),this.location=Oe(Hh),this.inputBindingEnabled=Oe(HM,{optional:!0})!==null,this.titleStrategy=Oe(r$),this.options=Oe(jE,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Oe(YL),this.createViewTransition=Oe(s$,{optional:!0}),this.navigationErrorHandler=Oe(Yye,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>_t(void 0),this.rootComponentType=null;let e=r=>this.events.next(new TL(r)),i=r=>this.events.next(new DL(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(vt(Ee(Ee({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new mo({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:TE,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Di(o=>o.id!==0),kt(o=>vt(Ee({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),vo(o=>{let s=!1,a=!1;return _t(o).pipe(vo(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",wc.SupersededByNewNavigation),jo;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?vt(Ee({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new JA(l.id,this.urlSerializer.serialize(l.rawUrl),h,DM.IgnoredSameUrlNavigation)),l.resolve(!1),jo}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return _t(l).pipe(vo(h=>{let f=this.transitions?.getValue();return this.events.next(new x1(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?jo:Promise.resolve(h)}),Lye(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Vt(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=vt(Ee({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new MM(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:A,restoredState:g,extras:m}=l,b=new x1(h,this.urlSerializer.serialize(f),A,g);this.events.next(b);let S=qq(this.rootComponentType).snapshot;return this.currentTransition=o=vt(Ee({},l),{targetSnapshot:S,urlAfterRedirects:f,extras:vt(Ee({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,_t(o)}else{let h="";return this.events.next(new JA(l.id,this.urlSerializer.serialize(l.extractedUrl),h,DM.IgnoredByUrlHandlingStrategy)),l.resolve(!1),jo}}),Vt(l=>{let u=new EL(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),kt(l=>(this.currentTransition=o=vt(Ee({},l),{guards:iye(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),pye(this.environmentInjector,l=>this.events.next(l)),Vt(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw NM(this.urlSerializer,l.guardsResult);let u=new SL(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Di(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",wc.GuardRejected),!1)),vL(l=>{if(l.guards.canActivateChecks.length)return _t(l).pipe(Vt(u=>{let d=new xL(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),vo(u=>{let d=!1;return _t(u).pipe(Uye(this.paramsInheritanceStrategy,this.environmentInjector),Vt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",wc.NoDataFromResolver)}}))}),Vt(u=>{let d=new IL(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),vL(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Vt(f=>{d.component=f}),kt(()=>{})));for(let f of d.children)h.push(...u(f));return h};return qy(u(l.targetSnapshot.root)).pipe(RA(null),Qs(1))}),vL(()=>this.afterPreactivation()),vo(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?hi(d).pipe(kt(()=>o)):_t(o)}),kt(l=>{let u=X_e(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=vt(Ee({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Vt(()=>{this.events.next(new BE)}),nye(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Qs(1),Vt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Ui(this.transitionAbortSubject.pipe(Vt(l=>{throw l}))),qf(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",wc.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),su(l=>{if(a=!0,Jq(l))this.events.next(new cp(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),tye(l)?this.events.next(new I1(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let u=new FE(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let d=dc(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof kE){let{message:h,cancellationCode:f}=NM(this.urlSerializer,d);this.events.next(new cp(o.id,this.urlSerializer.serialize(o.extractedUrl),h,f)),this.events.next(new I1(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let h=e.errorHandler(l);o.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return jo}))}))}cancelNavigationTransition(e,i,r){let o=new cp(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Zye(n){return n!==TE}var Xye=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:()=>Oe(Jye),providedIn:"root"})}}return n})(),GL=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},Jye=(()=>{class n extends GL{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ws(n)))(r||n)}})()}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),l$=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:()=>Oe(e1e),providedIn:"root"})}}return n})(),e1e=(()=>{class n extends l${constructor(){super(...arguments),this.location=Oe(Hh),this.urlSerializer=Oe(UE),this.options=Oe(jE,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Oe(YL),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new up,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qq(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof x1)this.stateMemento=this.createStateMemento();else if(e instanceof JA)this.rawUrlTree=i.initialUrl;else if(e instanceof MM){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof BE?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof cp&&(e.code===wc.GuardRejected||e.code===wc.NoDataFromResolver)?this.restoreHistory(i):e instanceof FE?this.restoreHistory(i,!0):e instanceof dp&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=e instanceof up?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=Ee(Ee({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=Ee(Ee({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ws(n)))(r||n)}})()}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xE=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(xE||{});function c$(n,t){n.events.pipe(Di(e=>e instanceof dp||e instanceof cp||e instanceof FE||e instanceof JA),kt(e=>e instanceof dp||e instanceof JA?xE.COMPLETE:(e instanceof cp?e.code===wc.Redirect||e.code===wc.SupersededByNewNavigation:!1)?xE.REDIRECTING:xE.FAILED),Di(e=>e!==xE.REDIRECTING),Qs(1)).subscribe(()=>{t()})}function t1e(n){throw n}var n1e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},i1e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Un=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Oe(j2),this.stateManager=Oe(l$),this.options=Oe(jE,{optional:!0})||{},this.pendingTasks=Oe(ep),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Oe(ZL),this.urlSerializer=Oe(UE),this.location=Oe(Hh),this.urlHandlingStrategy=Oe(YL),this._events=new St,this.errorHandler=this.options.errorHandler||t1e,this.navigated=!1,this.routeReuseStrategy=Oe(Xye),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Oe(LM,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Oe(HM,{optional:!0}),this.eventsSubscription=new Li,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof cp&&i.code!==wc.Redirect&&i.code!==wc.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof dp)this.navigated=!0;else if(i instanceof I1){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=Ee({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Zye(r.source)},s);this.scheduleNavigation(a,TE,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}o1e(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),TE,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=Ee({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(qL),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:s,d=null;switch(a){case"merge":d=Ee(Ee({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=r?r.snapshot:this.routerState.snapshot.root;h=Gq(f)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return Wq(h,e,d,u??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=ME(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,TE,null,i)}navigate(e,i={skipLocationChange:!1}){return r1e(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=Ee({},n1e):i===!1?r=Ee({},i1e):r=i,ME(e))return Eq(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Eq(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((h,f)=>{a=h,l=f});let d=this.pendingTasks.add();return c$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function r1e(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new Qe(4008,!1)}function o1e(n){return!(n instanceof BE)&&!(n instanceof I1)}var UM=class{};var s1e=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Di(e=>e instanceof dp),Ad(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=V2(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return hi(r).pipe(NA())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=_t(null);let o=r.pipe(vr(s=>s===null?_t(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return hi([o,s]).pipe(NA())}else return o})}static{this.\u0275fac=function(i){return new(i||n)(Te(Un),Te(q2),Te(uo),Te(UM),Te($L))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),u$=new Ke(""),a1e=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=Oe(uo),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof x1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof dp?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof JA&&e.code===DM.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof OM&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>hd(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),ip(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new OM(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){l3()}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})();function l1e(n){return n.routerState.root}function GE(n,t){return{\u0275kind:n,\u0275providers:t}}function c1e(){let n=Oe(Ci);return t=>{let e=n.get($s);if(t!==e.components[0])return;let i=n.get(Un),r=n.get(d$);n.get(XL)===1&&i.initialNavigation(),n.get(h$,null,Tn.Optional)?.setUpPreloading(),n.get(u$,null,Tn.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var d$=new Ke("",{factory:()=>new St}),XL=new Ke("",{providedIn:"root",factory:()=>1});function u1e(){return GE(2,[{provide:XL,useValue:0},{provide:K2,multi:!0,deps:[Ci],useFactory:t=>{let e=t.get(Wz,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=t.get(Un),o=t.get(d$);c$(r,()=>{i(!0)}),t.get(ZL).afterPreactivation=()=>(i(!0),o.closed?_t(void 0):o),r.initialNavigation()}))}}])}function d1e(){return GE(3,[{provide:K2,multi:!0,useFactory:()=>{let t=Oe(Un);return()=>{t.setUpLocationChangeListener()}}},{provide:XL,useValue:2}])}var h$=new Ke("");function h1e(n){return GE(0,[{provide:h$,useExisting:s1e},{provide:UM,useExisting:n}])}function f1e(){return GE(8,[Tq,{provide:HM,useExisting:Tq}])}function p1e(n){let t=[{provide:s$,useValue:qye},{provide:a$,useValue:Ee({skipNextTransition:!!n?.skipInitialTransition},n)}];return GE(9,t)}var Fq=new Ke("ROUTER_FORROOT_GUARD"),A1e=[Hh,{provide:UE,useClass:S1},Un,VE,{provide:jh,useFactory:l1e,deps:[Un]},$L,[]],JL=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[A1e,[],{provide:LM,multi:!0,useValue:e},{provide:Fq,useFactory:_1e,deps:[[Un,new rE,new g2]]},{provide:jE,useValue:i||{}},i?.useHash?m1e():v1e(),g1e(),i?.preloadingStrategy?h1e(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?y1e(i):[],i?.bindToComponentInputs?f1e().\u0275providers:[],i?.enableViewTransitions?p1e().\u0275providers:[],w1e()]}}static forChild(e){return{ngModule:n,providers:[{provide:LM,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(Te(Fq,8))}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();function g1e(){return{provide:u$,useFactory:()=>{let n=Oe(nq),t=Oe(Pt),e=Oe(jE),i=Oe(ZL),r=Oe(UE);return e.scrollOffset&&n.setOffset(e.scrollOffset),new a1e(r,i,n,t,e)}}}function m1e(){return{provide:z0,useClass:zz}}function v1e(){return{provide:z0,useClass:eL}}function _1e(n){return"guarded"}function y1e(n){return[n.initialNavigation==="disabled"?d1e().\u0275providers:[],n.initialNavigation==="enabledBlocking"?u1e().\u0275providers:[]]}var Bq=new Ke("");function w1e(){return[{provide:Bq,useFactory:c1e},{provide:z2,multi:!0,useExisting:Bq}]}var b$=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(ae(Ko),ae(Kt))}}static{this.\u0275dir=Mt({type:n})}}return n})(),k1=(()=>{class n extends b${static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ws(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,features:[Hr]})}}return n})(),bc=new Ke(""),b1e={provide:bc,useExisting:ho(()=>oU),multi:!0},oU=(()=>{class n extends k1{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ws(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&ve("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Or([b1e]),Hr]})}}return n})(),C1e={provide:bc,useExisting:ho(()=>Hi),multi:!0};function E1e(){let n=Uh()?Uh().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var S1e=new Ke(""),Hi=(()=>{class n extends b${constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!E1e())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(ae(Ko),ae(Kt),ae(S1e,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&ve("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Or([C1e]),Hr]})}}return n})();function tg(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function C$(n){return n!=null&&typeof n.length=="number"}var Z0=new Ke(""),N1=new Ke(""),x1e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ys=class{static min(t){return I1e(t)}static max(t){return T1e(t)}static required(t){return E$(t)}static requiredTrue(t){return D1e(t)}static email(t){return M1e(t)}static minLength(t){return O1e(t)}static maxLength(t){return F1e(t)}static pattern(t){return B1e(t)}static nullValidator(t){return jM(t)}static compose(t){return M$(t)}static composeAsync(t){return O$(t)}};function I1e(n){return t=>{if(tg(t.value)||tg(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function T1e(n){return t=>{if(tg(t.value)||tg(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function E$(n){return tg(n.value)?{required:!0}:null}function D1e(n){return n.value===!0?null:{required:!0}}function M1e(n){return tg(n.value)||x1e.test(n.value)?null:{email:!0}}function O1e(n){return t=>tg(t.value)||!C$(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function F1e(n){return t=>C$(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function B1e(n){if(!n)return jM;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(tg(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function jM(n){return null}function S$(n){return n!=null}function x$(n){return K0(n)?hi(n):n}function I$(n){let t={};return n.forEach(e=>{t=e!=null?Ee(Ee({},t),e):t}),Object.keys(t).length===0?null:t}function T$(n,t){return t.map(e=>e(n))}function P1e(n){return!n.validate}function D$(n){return n.map(t=>P1e(t)?t:e=>t.validate(e))}function M$(n){if(!n)return null;let t=n.filter(S$);return t.length==0?null:function(e){return I$(T$(e,t))}}function sU(n){return n!=null?M$(D$(n)):null}function O$(n){if(!n)return null;let t=n.filter(S$);return t.length==0?null:function(e){let i=T$(e,t).map(x$);return S0(i).pipe(kt(I$))}}function aU(n){return n!=null?O$(D$(n)):null}function f$(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function F$(n){return n._rawValidators}function B$(n){return n._rawAsyncValidators}function eU(n){return n?Array.isArray(n)?n:[n]:[]}function GM(n,t){return Array.isArray(n)?n.includes(t):n===t}function p$(n,t){let e=eU(t);return eU(n).forEach(r=>{GM(e,r)||e.push(r)}),e}function A$(n,t){return eU(t).filter(e=>!GM(n,e))}var WM=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=sU(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=aU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},rl=class extends WM{get formDirective(){return null}get path(){return null}},ng=class extends WM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},KM=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},k1e={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Qnt=vt(Ee({},k1e),{"[class.ng-submitted]":"isSubmitted"}),Vi=(()=>{class n extends KM{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(ae(ng,2))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&zn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Hr]})}}return n})(),Qi=(()=>{class n extends KM{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(ae(rl,10))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&zn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Hr]})}}return n})();var WE="VALID",QM="INVALID",M1="PENDING",KE="DISABLED",ig=class{},zM=class extends ig{constructor(t,e){super(),this.value=t,this.source=e}},qE=class extends ig{constructor(t,e){super(),this.pristine=t,this.source=e}},$E=class extends ig{constructor(t,e){super(),this.touched=t,this.source=e}},O1=class extends ig{constructor(t,e){super(),this.status=t,this.source=e}},tU=class extends ig{constructor(t){super(),this.source=t}},nU=class extends ig{constructor(t){super(),this.source=t}};function lU(n){return(ZM(n)?n.validators:n)||null}function N1e(n){return Array.isArray(n)?sU(n):n||null}function cU(n,t){return(ZM(t)?t.asyncValidators:n)||null}function R1e(n){return Array.isArray(n)?aU(n):n||null}function ZM(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function P$(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new Qe(1e3,"");if(!i[e])throw new Qe(1001,"")}function k$(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new Qe(1002,"")})}var B1=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=rp(()=>this.statusReactive()),this.statusReactive=fc(void 0),this._pristine=rp(()=>this.pristineReactive()),this.pristineReactive=fc(!0),this._touched=rp(()=>this.touchedReactive()),this.touchedReactive=fc(!1),this._events=new St,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return pu(this.statusReactive)}set status(t){pu(()=>this.statusReactive.set(t))}get valid(){return this.status===WE}get invalid(){return this.status===QM}get pending(){return this.status==M1}get disabled(){return this.status===KE}get enabled(){return this.status!==KE}get pristine(){return pu(this.pristineReactive)}set pristine(t){pu(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return pu(this.touchedReactive)}set touched(t){pu(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(p$(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(p$(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(A$(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(A$(t,this._rawAsyncValidators))}hasValidator(t){return GM(this._rawValidators,t)}hasAsyncValidator(t){return GM(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(vt(Ee({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new $E(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new $E(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(vt(Ee({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new qE(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new qE(!0,i))}markAsPending(t={}){this.status=M1;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new O1(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(vt(Ee({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=KE,this.errors=null,this._forEachChild(r=>{r.disable(vt(Ee({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new zM(this.value,i)),this._events.next(new O1(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(vt(Ee({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=WE,this._forEachChild(i=>{i.enable(vt(Ee({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(vt(Ee({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===WE||this.status===M1)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new zM(this.value,e)),this._events.next(new O1(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(vt(Ee({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?KE:WE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=M1,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=x$(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new O1(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new at,this.statusChanges=new at}_calculateStatus(){return this._allControlsDisabled()?KE:this.errors?QM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(M1)?M1:this._anyControlsHaveStatus(QM)?QM:WE}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new qE(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new $E(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ZM(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=N1e(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=R1e(this._rawAsyncValidators)}},P1=class extends B1{constructor(t,e,i){super(lU(e),cU(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){k$(this,!0,t),Object.keys(t).forEach(i=>{P$(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var iU=class extends P1{};var R1=new Ke("CallSetDisabledState",{providedIn:"root",factory:()=>YE}),YE="always";function XM(n,t){return[...t.path,n]}function qM(n,t,e=YE){uU(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),U1e(n,t),V1e(n,t),H1e(n,t),L1e(n,t)}function g$(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),YM(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function $M(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function L1e(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function uU(n,t){let e=F$(n);t.validator!==null?n.setValidators(f$(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=B$(n);t.asyncValidator!==null?n.setAsyncValidators(f$(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();$M(t._rawValidators,r),$M(t._rawAsyncValidators,r)}function YM(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=F$(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=B$(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return $M(t._rawValidators,i),$M(t._rawAsyncValidators,i),e}function U1e(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&N$(n,t)})}function H1e(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&N$(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function N$(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function V1e(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function R$(n,t){n==null,uU(n,t)}function Q1e(n,t){return YM(n,t)}function L$(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function j1e(n){return Object.getPrototypeOf(n.constructor)===k1}function U$(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function H$(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===Hi?e=o:j1e(o)?i=o:r=o}),r||i||e||null}function G1e(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var W1e={provide:rl,useExisting:ho(()=>Oi)},zE=Promise.resolve(),Oi=(()=>{class n extends rl{get submitted(){return pu(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=rp(()=>this.submittedReactive()),this.submittedReactive=fc(!1),this._directives=new Set,this.ngSubmit=new at,this.form=new P1({},sU(e),aU(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){zE.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),qM(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){zE.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){zE.then(()=>{let i=this._findContainer(e.path),r=new P1({});R$(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){zE.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){zE.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),U$(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(ae(Z0,10),ae(N1,10),ae(R1,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&ve("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Or([W1e]),Hr]})}}return n})();function m$(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function v$(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var F1=class extends B1{constructor(t=null,e,i){super(lU(e),cU(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ZM(e)&&(e.nonNullable||e.initialValueIsDefault)&&(v$(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){m$(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){m$(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){v$(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var K1e=n=>n instanceof F1,z1e=(()=>{class n extends rl{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return XM(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ws(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,features:[Hr]})}}return n})();var q1e={provide:ng,useExisting:ho(()=>$i)},_$=Promise.resolve(),$i=(()=>{class n extends ng{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new F1,this._registered=!1,this.name="",this.update=new at,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=H$(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),L$(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){qM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){_$.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&g1(i);_$.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?XM(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(ae(rl,9),ae(Z0,10),ae(N1,10),ae(bc,10),ae(Yo,8),ae(R1,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Or([q1e]),Hr,ei]})}}return n})(),ji=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),$1e={provide:bc,useExisting:ho(()=>ZE),multi:!0},ZE=(()=>{class n extends k1{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ws(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&ve("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Or([$1e]),Hr]})}}return n})(),Y1e={provide:bc,useExisting:ho(()=>XE),multi:!0};var Z1e=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e){this._accessors.splice(i,1);return}}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return e[0].control?e[0]._parent===i._control._parent&&e[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XE=(()=>{class n extends k1{constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Oe(R1,{optional:!0})??YE}ngOnInit(){this._control=this._injector.get(ng),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||n)(ae(Ko),ae(Kt),ae(Z1e),ae(Ci))}}static{this.\u0275dir=Mt({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&ve("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Or([Y1e]),Hr]})}}return n})();var V$=new Ke("");var X1e={provide:rl,useExisting:ho(()=>L1)},L1=(()=>{class n extends rl{get submitted(){return pu(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=rp(()=>this._submittedReactive()),this._submittedReactive=fc(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new at,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(YM(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return qM(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){g$(e.control||null,e,!1),G1e(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),U$(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new tU(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new nU(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(g$(i||null,e),K1e(r)&&(qM(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);R$(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&Q1e(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){uU(this.form,this),this._oldForm&&YM(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(ae(Z0,10),ae(N1,10),ae(R1,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&ve("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Or([X1e]),Hr,ei]})}}return n})(),J1e={provide:rl,useExisting:ho(()=>U1)},U1=(()=>{class n extends z1e{constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){Q$(this._parent)}static{this.\u0275fac=function(i){return new(i||n)(ae(rl,13),ae(Z0,10),ae(N1,10))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Or([J1e]),Hr]})}}return n})(),ewe={provide:rl,useExisting:ho(()=>H1)},H1=(()=>{class n extends rl{constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return XM(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){Q$(this._parent)}static{this.\u0275fac=function(i){return new(i||n)(ae(rl,13),ae(Z0,10),ae(N1,10))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Or([ewe]),Hr]})}}return n})();function Q$(n){return!(n instanceof U1)&&!(n instanceof L1)&&!(n instanceof H1)}var twe={provide:ng,useExisting:ho(()=>JE)},JE=(()=>{class n extends ng{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new at,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=H$(this,o)}ngOnChanges(e){this._added||this._setUpControl(),L$(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return XM(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(ae(rl,13),ae(Z0,10),ae(N1,10),ae(bc,10),ae(V$,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Or([twe]),Hr,ei]})}}return n})(),nwe={provide:bc,useExisting:ho(()=>JM),multi:!0};function j$(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function iwe(n){return n.split(":")[0]}var JM=(()=>{class n extends k1{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),r=j$(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=iwe(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ws(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&ve("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Or([nwe]),Hr]})}}return n})(),G$=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(j$(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(ae(Kt),ae(Ko),ae(JM,9))}}static{this.\u0275dir=Mt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),rwe={provide:bc,useExisting:ho(()=>W$),multi:!0};function y$(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function owe(n){return n.split(":")[0]}var W$=(()=>{class n extends k1{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);r.push(u)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);r.push(u)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=owe(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ws(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&ve("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Or([rwe]),Hr]})}}return n})(),K$=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(y$(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(y$(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(ae(Kt),ae(Ko),ae(W$,9))}}static{this.\u0275dir=Mt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var swe=(()=>{class n{constructor(){this._validator=jM}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):jM,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,features:[ei]})}}return n})();var awe={provide:Z0,useExisting:ho(()=>X0),multi:!0};var X0=(()=>{class n extends swe{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g1,this.createValidator=e=>E$}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ws(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&_r("required",r._enabled?"":null)},inputs:{required:"required"},features:[Or([awe]),Hr]})}}return n})();var z$=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})(),rU=class extends B1{constructor(t,e,i){super(lU(e),cU(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){k$(this,!1,t),t.forEach((i,r)=>{P$(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function w$(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var eO=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return w$(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new P1(r,o)}record(e,i=null){let r=this._reduceControls(e);return new iU(r,i)}control(e,i,r){let o={};return this.useNonNullable?(w$(i)?o=i:(o.validators=i,o.asyncValidators=r),new F1(e,vt(Ee({},o),{nonNullable:!0}))):new F1(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new rU(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof F1)return e;if(e instanceof B1)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var tO=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:R1,useValue:e.callSetDisabledState??YE}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({imports:[z$]})}}return n})(),nO=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:V$,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:R1,useValue:e.callSetDisabledState??YE}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({imports:[z$]})}}return n})();var iO=class{};var et=(()=>{class n{static{this.KEY_DEFAULT_LANGUAGE="hungerzdesk_dl"}static{this.KEY_USER="hungerzdesk_user"}static{this.KEY_NOTIFICATIONS="hungerzdesk_notis"}static{this.KEY_TOKEN="hungerzdesk_token"}static{this.KEY_SETTINGS="hungerzdesk_settings"}static{this.KEY_ADDRESS="hungerzdesk_address"}static{this.KEY_ADDRESSES="hungerzdesk_addresses"}static{this.KEY_APPOINT_REQ="hungerzdesk_appoint_req"}static{this.KEY_APPOINT_MYRATES="hungerzdesk_appoint_myrates"}static{this.KEY_LOCALE="hungerzdesk_locale"}static{this.KEY_LOCATION_DEFAULT="hungerzdesk_location_def"}static{this.KEY_PROFILE="hungerzdesk_profile"}static{this.KEY_BANK_DETAIL="hungerzdesk_bank_detail"}static{this.KEY_DARK_MODE="hungerzdesk_dark_mode"}static{this.KEY_CART_CHANGED="gungerzc_cart_changed"}static{this.KEY_PRINTER_NETWORK_CONFIG="gungerzc_network_config"}static{this.KEY_LAST_ORDER_NOTIFIED="gungerzc_last_order_notified"}static{this.KEY_LAST_TABLE_BOOKING_NOTIFIED="gungerzc_last_tb_notified"}static{this.KEY_LAST_MESSAGE_NOTIFIED="gungerzc_last_msg_notified"}static{this.KEY_LAST_ENABLE_AUTO_PRINT="gungerzc_enable_auto_print"}static{this.REF_USERS="fire_app/users"}static{this.REF_CHAT="fire_app/chats"}static{this.REF_INBOX="fire_app/inbox"}static{this.REF_USERS_FCM_IDS="fire_app/user_fcm_ids"}static{this.SCOPE_ECOMMERCE="ecommerce"}static{this.SCOPE_SPECIALIZATION="specializations"}static{this.ROLE_USER="customer"}static{this.ROLE_VENDOR="vendor"}static{this.ROLE_DESK="desk"}static{this.ROLE_DELIVERY="delivery"}}return n})();var rO=class{constructor(t,e,i){this.title=t,this.detail=e,this.time=i}};var rg=Ri(eS()),He=class n{static getZplReceiptFormat(t){let e="^XA";e+=`^CF0,60^FO5,40^FB650,1,0,C^FD${t.vendor.name}^FS`;let i=t.vendor.area&&t.vendor.area?t.vendor.area.trim():t.vendor.address.trim();i.length>28&&(i=i.substring(0,28).trim()),e+=`^CFF,30^FO100,110^FB450,1,0,C^FD${i}^FS`,e+=`^FO100,145^FB450,1,0,C^FD${"tel: "+t.vendor.user.mobile_number}^FS`;for(let a=0;a<18;a++)e+=`^FO${a*35+5},190^GB30,1,1^FS`;e+=`^CF1,50,15^FO10,220^FB650,1,0,C^FD${"Due "+t.created_at}^FS`,e+=`^FO50,270^FB550,1,0,C^FD${"Order number: "+t.id}^FS`;for(let a=0;a<18;a++)e+=`^FO${a*35+5},340^GB30,1,1^FS`;e+=`^CFA,30^FO550,380^FD${n.getSetting("currency_code")}^FS`;let r=380,o=0;for(let a=0;a<t.products.length;a++){r+=a==0?40:50,r+=o,o*=0;let l=`^CFA,30^FO20,${r}^FD${t.products[a].quantity}^FS`;l+=`^FO90,${r}^FD${t.products[a].vendor_product.product.title.trim().substring(0,21)}^FS`;let u=t.products[a].vendor_product.product.title.length/21>1,d=0;for(;u;){d+=1;let h=t.products[a].vendor_product.product.title.trim().substring(0+21*d,21+21*d);h.trim().length>0?l+=`^FO90,${r+d*30}^FD${h.trim()}^FS`:d-=1,u=h.trim().length>0}if(o+=d*30,t.products[a].addon_choices&&t.products[a].addon_choices.length){o+=t.products[a].addon_choices.length*30;let h=r+d*30+40;for(let f=0;f<t.products[a].addon_choices.length;f++)l+=`^CFA,20^FO90,${h+f*30}^FD${"with "+t.products[a].addon_choices[f].addon_choice.title.substring(0,30)}^FS`}l+=`^CFA,30^FO${n.getTextEndPaddingStart(n.getCurrencyIconRemoved(t.products[a].total_toshow))},${r}^FD${n.getCurrencyIconRemoved(t.products[a].total_toshow)}^FS`,e+=l}let s=r+o+50;e+=`^CFA,30^FO20,${s}^FDSubtotal^FS`,e+=`^CFA,30^FO${n.getTextEndPaddingStart(n.getCurrencyIconRemoved(t.subtotal_toshow))},${s}^FD${n.getCurrencyIconRemoved(t.subtotal_toshow)}^FS`,t.discount_toshow&&t.discount_toshow.length&&(s+=30,e+=`^CFA,30^FO20,${s}^FDDiscount^FS`,e+=`^CFA,30^FO${n.getTextEndPaddingStart(n.getCurrencyIconRemoved(t.discount_toshow))},${s}^FD${n.getCurrencyIconRemoved(t.discount_toshow)}^FS`),s+=30,e+=`^CFA,30^FO20,${s}^FDService Fee^FS`,e+=`^CFA,30^FO${n.getTextEndPaddingStart(n.getCurrencyIconRemoved(t.taxes_toshow))},${s}^FD${n.getCurrencyIconRemoved(t.taxes_toshow)}^FS`;for(let a=0;a<4;a++)e+=`^FO${500+a*35},${s+40}^GB30,1,1^FS`;s+=60,e+=`^CFA,30^FO20,${s}^FDTotal^FS`,e+=`^CFA,30^FO${n.getTextEndPaddingStart(n.getCurrencyIconRemoved(t.total_toshow))},${s}^FD${n.getCurrencyIconRemoved(t.total_toshow)}^FS`,s+=45;for(let a=0;a<18;a++)e+=`^FO${a*35+5},${s}^GB30,1,1^FS`;if(s+=45,e+=`^CFF^FO20,${s}^FDCustomer ID:^FS`,s+=30,e+=`^CFA,30,20^FO40,${s}^FD${t.user?t.user.id:"..."}^FS`,s+=50,e+=`^CFF^FO20,${s}^FDCustomer Details:^FS`,s+=30,e+=`^CFA,30,20^FO40,${s}^FD${(t.user?t.user.name:t.customer_name&&t.customer_name.length?t.customer_name:"...")+"."}^FS`,s+=30,e+=`^CFA,30,20^FO40,${s}^FD${t.user?t.user.mobile_number:t.customer_mobile&&t.customer_mobile.length?t.customer_mobile:"..."}^FS`,t.address&&t.address.formatted_address&&t.address.formatted_address.length){s+=30,e+=`^CFA,30,20^FO40,${s}^FD${t.address.formatted_address.substring(0,20)}^FS`;let a=t.address.formatted_address.length/20>1,l=0;for(;a;){l+=1;let u=t.address.formatted_address.trim().substring(0+20*l,20+20*l);u.trim().length>0?(s+=30,e+=`^CFA,30,20^FO40,${s}^FD${u.trim()}^FS`):l-=1,a=u.trim().length>0}}return e+="^XZ",console.log("ZPL: ",e),e}static getCurrencyIconRemoved(t){let e=`${t}`;return isNaN(parseInt(e.charAt(0)))&&(e=e.slice(1)),e=e.trim(),e}static getTextEndPaddingStart(t){return t.length<5?540:t.length<6?520:t.length<7?500:480}static getSplitWithGroupingOf(t,e){let i=[],r=t.split(" "),o=Math.round(r.length/e),s=0,a="";for(let u of r)a+=u,a+=" ",s+=1,s==o&&(i.push(a.trim()),a="",s=0);if(a.trim().length&&i.push(a.trim()),i.length-e>0){let u="";for(let d=e;d<i.length;d++)u+=i[d],u+=" ";i.splice(e),i[e-1]+=" "+u.trim()}return i}static formatDuration(t){return t||(t=0),rg.default.utc(t*1e3).format("mm:ss")}static formatDistance(t,e){t||(t=0);let i=e=="km"?1e3:1609.34;return Number(t/i).toFixed(2)}static formatPhone(t){let e=t.replace(/\s/g,"");for(;e.startsWith("0");)e=e.substring(1);return e}static getBankDetail(){return JSON.parse(window.localStorage.getItem(et.KEY_BANK_DETAIL))}static setBankDetail(t){window.localStorage.setItem(et.KEY_BANK_DETAIL,JSON.stringify(t))}static getPrinterNetworkConfig(){return JSON.parse(window.localStorage.getItem(et.KEY_PRINTER_NETWORK_CONFIG))}static setPrinterNetworkConfig(t){window.localStorage.setItem(et.KEY_PRINTER_NETWORK_CONFIG,JSON.stringify(t))}static setProfile(t){window.localStorage.setItem(et.KEY_PROFILE,JSON.stringify(t))}static getProfile(){return JSON.parse(window.localStorage.getItem(et.KEY_PROFILE))}static setLocationDefault(t){window.localStorage.setItem(et.KEY_LOCATION_DEFAULT,JSON.stringify(t))}static getLocationDefault(){return JSON.parse(window.localStorage.getItem(et.KEY_LOCATION_DEFAULT))}static setSettings(t){window.localStorage.setItem(et.KEY_SETTINGS,JSON.stringify(t))}static getSettings(){return JSON.parse(window.localStorage.getItem(et.KEY_SETTINGS))}static setLoggedInUser(t){window.localStorage.setItem(et.KEY_USER,JSON.stringify(t))}static setDefaultThemeMode(t){window.localStorage.setItem(et.KEY_DARK_MODE,t)}static getThemeMode(){return window.localStorage.getItem(et.KEY_DARK_MODE)}static setLoggedInUserResponse(t){window.localStorage.removeItem(et.KEY_USER),window.localStorage.removeItem(et.KEY_PROFILE),window.localStorage.removeItem(et.KEY_TOKEN),window.localStorage.removeItem(et.KEY_ADDRESS),window.localStorage.removeItem(et.KEY_ADDRESSES),window.localStorage.removeItem(et.KEY_NOTIFICATIONS),t&&t.vendor&&t.token&&(window.localStorage.setItem(et.KEY_USER,JSON.stringify(t.vendor)),window.localStorage.setItem(et.KEY_TOKEN,t.token))}static getToken(){return window.localStorage.getItem(et.KEY_TOKEN)}static getChatChild(t,e){let i=[t,e];return i.sort((r,o)=>r>o?-1:1),i[0]+"-"+i[1]}static getLoggedInUser(){return JSON.parse(window.localStorage.getItem(et.KEY_USER))}static getLocale(){let t=window.localStorage.getItem(et.KEY_LOCALE);return t&&t.length?t:"en"}static getLanguageDefault(){return window.localStorage.getItem(et.KEY_DEFAULT_LANGUAGE)}static setLanguageDefault(t){window.localStorage.setItem(et.KEY_DEFAULT_LANGUAGE,t)}static setLocale(t){window.localStorage.setItem(et.KEY_LOCALE,t)}static setAddressSelected(t){window.localStorage.setItem(et.KEY_ADDRESS,JSON.stringify(t))}static getSetting(t){let e=this.getSettings(),i;if(e){for(let r of e)if(r.key==t){i=r.value;break}}return i||(i=""),i}static getSettingsValue(t){let e=this.getSettings(),i=new Array;if(e){for(let r of t)for(let o of e)if(o.key==r){i.push(o.value);break}}return i}static saveNotification(t,e,i){let r=JSON.parse(window.localStorage.getItem(et.KEY_NOTIFICATIONS));r||(r=new Array),r.push(new rO(t,e,i)),window.localStorage.setItem(et.KEY_NOTIFICATIONS,JSON.stringify(r))}static formatMillisDateTime(t,e){return(0,rg.default)(t).locale(e).format("ddd, MMM D, HH:mm")}static formatTimestampDateTime(t,e){return rg.default.utc(t).locale(e).format("ddd, MMM D, HH:mm")}static formatMillisDate(t,e){return(0,rg.default)(t).locale(e).format("Do MMM YYYY")}static formatTimestampDate(t,e){return rg.default.utc(t).locale(e).format("Do MMM YYYY")}static formatMillisTime(t,e){return(0,rg.default)(t).locale(e).format("HH:mm")}static formatTimestampTime(t,e){return rg.default.utc(t).locale(e).format("HH:mm")}};var Xr=new Ke("app.config"),Q1=function(n){return n[n.ZPL=0]="ZPL",n[n.ESC=1]="ESC",n}(Q1||{}),q$={appName:"Hungerz Desk",apiBase:"https://hungerz.vtlabs.dev/",googleApiKey:"AIzaSyBNkC40LLMIkOY-myYT2Vmq12Z0lYBU-tw",printerConfig:{enabled:!1,enableAutoPrint:!0,format:Q1.ZPL,network:{host:"127.0.0.1",port:"9100"}},availableLanguages:[{code:"en",name:"English"},{code:"ar",name:"\u0639\u0631\u0628\u0649"},{code:"fr",name:"fran\xE7ais"},{code:"es",name:"Espa\xF1ola"},{code:"id",name:"bahasa Indonesia"},{code:"pt",name:"portugu\xEAs"},{code:"tr",name:"T\xFCrk"},{code:"it",name:"Italiana"},{code:"sw",name:"Kiswahili"}],demoMode:!0,demoLoginCredentials:{country:"91",phoneNumber:"9876543214",otp:"123456"},firebaseConfig:{webApplicationId:"206386231949-5ric2o57offk0abjvqsdg1ekhql9jusm.apps.googleusercontent.com",apiKey:"AIzaSyCASetR4zmFZ5wTH6N8rLc_9ELBZzJmWYw",authDomain:"hungerz-4fcca.firebaseapp.com",databaseURL:"https://hungerz-4fcca-default-rtdb.firebaseio.com",projectId:"hungerz-4fcca",storageBucket:"hungerz-4fcca.appspot.com",messagingSenderId:"206386231949"}};var oO=class{};var j1=class n{static getDefault(){let t=new n;return t.categories=new Array,t.user=new oO,t.availability=G1.getDefault(),t.meta={green_time:"",yellow_time:"",red_time:"",tables:0,table_booking:!1,no_of_tables:0,desk_app:!1,review_app:!1,emenu_app:!1,kiosk_app:!1,kitchecn_app:!1,auto_accept_order_customer:!1,auto_accept_order_kiosk:!1,auto_accept_order_emenu:!1,auto_accept_order_desk:!1},t}static getUpdateRequest(t){let e=new hU;e.name=t.name,e.details=t.details?t.details:"empty",e.image_urls=t.image_urls,e.address=t.address,e.latitude=t.latitude,e.longitude=t.longitude,e.availability=new Array;for(let i of t.availability)i.selected&&e.availability.push(G1.getRequest(i));return e.meta=JSON.stringify(t.meta),e}},hU=class{},G1=class n{constructor(t){this.days=t,this.selected=!1,this.setTime("07:00","21:00")}setTime(t,e){let i=t.split(":"),r=e.split(":");this.dateFromISO=i[0]+":"+i[1],this.dateToISO=r[0]+":"+r[1]}static getDefault(){return[new n("mon"),new n("tue"),new n("wed"),new n("thu"),new n("fri"),new n("sat"),new n("sun")]}static getRequest(t){return{days:t.days,from:t.dateFromISO,to:t.dateToISO}}};var sO=class{};var J0=class n{constructor(){this.summary=[{total:0,order_type:"NORMAL",percent:"0"},{total:0,order_type:"TAKEAWAY",percent:"0"},{total:0,order_type:"DINEIN",percent:"0"}]}static fillRest(t){let e=t,i=new n().summary;if(!e)e=i;else if(e.length!=3)for(let r of i){let o=!1;for(let s of t)if(s.order_type==r.order_type){o=!0;break}o||e.push(r)}return e}};var ev=class{constructor(){this.summary=[{total:0,category_id:"",percent:"0",color:"#898989"}]}};var aO=class{constructor(){this.summary=[]}};var fU=Ri(eS());var ni=(()=>{class n{constructor(e,i){if(this.config=e,this.http=i,this.uuid="xxx",this.platform="android",this.times=new Array,!this.times.length)for(let r=1;r<60;r++)this.times.push({key:r+":00 min",value:6e4*r},{key:r+":30 min",value:6e4*r+500})}reloadSetting(){this.currency_icon=He.getSetting("currency_icon"),this.locale=He.getSetting("locale")}setupHeaders(e){let i=e||He.getToken(),r=He.getLanguageDefault();this.myHeaders=i?new nl({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+i,"X-Localization":String(r||this.config.availableLanguages[0].code)}):new nl({Accept:"application/json","Content-Type":"application/json","X-Localization":String(r||this.config.availableLanguages[0].code)})}getCountries(){return this.http.get("./assets/json/countries.json").pipe(Vt(e=>{let i=-1;i!=-1&&e.unshift(e.splice(i,1)[0])}),su(this.handleError("getCountries",[])))}getSigningCertificate(){let e=new nl().set("Content-Type","text/plain; charset=utf-8");return this.getURL("./assets/json/ffoods_cert_string.crt",{headers:e,responseType:"text"})}getSigningSignature(){let e=new nl().set("Content-Type","text/plain; charset=utf-8");return this.getURL("./assets/json/ffoods_pem_string.pem",{headers:e,responseType:"text"})}getReceiptFormat(e){let i=new nl().set("Content-Type","text/plain; charset=utf-8");return this.getURL(`${this.config.apiBase}api/orders/${e}/print`,{headers:i,responseType:"text"})}getContactLink(){return this.http.get("https://dashboard.vtlabs.dev/whatsapp.php?product_name=hungerz&source=application",{headers:this.myHeaders})}postNotification(e,i){return this.http.post(this.config.apiBase+"api/user/push-notification",{role:e,user_id:i},{headers:this.myHeaders})}getURL(e,i){return this.http.get(e,i||{headers:this.myHeaders})}getSettings(){return this.http.get(this.config.apiBase+"api/settings",{headers:this.myHeaders})}submitSupport(e){return this.http.post(this.config.apiBase+"api/support",e,{headers:this.myHeaders})}autheticationDelegations(e){return this.http.post(this.config.apiBase+"api/authetication-delegations/authenticate",e,{headers:this.myHeaders})}getUser(){return this.http.get(this.config.apiBase+"api/user",{headers:this.myHeaders}).pipe(Vt(e=>this.setupUserMe(e)))}updateUser(e){return this.http.put(this.config.apiBase+"api/user",e,{headers:this.myHeaders}).pipe(Vt(i=>this.setupUserMe(i)))}getProfile(){return this.http.get(this.config.apiBase+"api/vendors",{headers:this.myHeaders}).pipe(Vt(e=>this.setupProfile(e)))}updateProfile(e,i){return this.http.put(this.config.apiBase+"api/vendors/"+i,e,{headers:this.myHeaders}).pipe(Vt(r=>this.setupProfile(r)))}updateProduct(e,i){return this.http.put(this.config.apiBase+"api/products/"+e,i,{headers:this.myHeaders})}deleteProduct(e){return this.http.delete(this.config.apiBase+"api/products/"+e,{headers:this.myHeaders})}updateProductQuantity(e,i){return this.http.put(this.config.apiBase+"api/products/"+e,i,{headers:this.myHeaders})}createProduct(e){return this.http.post(this.config.apiBase+"api/products",e,{headers:this.myHeaders})}walletTransfer(e){return this.http.post(this.config.apiBase+"api/user/wallet/payout",e,{headers:this.myHeaders})}updateOrder(e,i){return this.reloadSetting(),this.http.put(this.config.apiBase+"api/orders/"+e,i,{headers:this.myHeaders}).pipe(Vt(r=>this.setupOrder(r)))}getOrders(e,i,r,o){this.reloadSetting();let s=new URLSearchParams;return e&&s.append("vendor",String(e)),r&&s.append("search",String(r)),o&&(s.append(o=="accepted"?"status":o,o=="accepted"?"accepted":"1"),o=="prepared_and_completed"&&s.append("date",(0,fU.default)().format("YYYY-MM-DD"))),i?s.append("page",String(i)):s.append("pagination","0"),this.http.get(this.config.apiBase+"api/orders?"+s.toString(),{headers:this.myHeaders}).pipe(Vt(a=>{for(let l of a.data)this.setupOrder(l)}))}getOrderById(e){return this.reloadSetting(),this.http.get(this.config.apiBase+"api/orders/"+e,{headers:this.myHeaders}).pipe(Vt(i=>{this.setupOrder(i)}))}getProducts(e,i,r){let o=new URLSearchParams;return e&&o.append("vendor",String(e)),r&&o.append("search",String(r)),i&&o.append("page",String(i)),this.http.get(this.config.apiBase+"api/products?"+o.toString(),{headers:this.myHeaders}).pipe(Vt(s=>{if(s&&s.data&&s.data.length)for(let a of s.data)this.setupProduct(a)}))}getProductsForTypes(e,i,r){this.reloadSetting();let o=[];for(let s of r)o.push(this.getBestProducts(e,i,s));return S0(o).pipe(su(s=>_t(s)))}getBestProducts(e,i,r){let o=new URLSearchParams;return o.append("vendor",String(e)),o.append("pagination","0"),o.append(r,"1"),o.append("scope",i),this.http.get(this.config.apiBase+"api/products?"+o.toString(),{headers:this.myHeaders}).pipe(Vt(s=>{if(s&&s.data&&s.data.length)for(let a of s.data)this.setupProduct(a)}),su(this.handleError("getProducts",new sO)))}getReviewsVendor(e,i,r){let o=new URLSearchParams;return r&&o.append("search",String(r)),i&&o.append("page",String(i)),this.http.get(this.config.apiBase+"api/vendors/ratings/"+e+o,{headers:this.myHeaders}).pipe(Vt(s=>{let a=He.getLocale();for(let l of s.data)l.created_at=He.formatTimestampDate(l.created_at,a)}))}getAppointmentList(e,i,r){let o=new URLSearchParams;return e&&o.append("appointee",e),r&&o.append("search",String(r)),i&&o.append("page",String(i)),this.http.get(this.config.apiBase+"api/appointment?"+o,{headers:this.myHeaders}).pipe(Vt(s=>{s.data.map(a=>this.setupAppointments(a))}))}setupAppointments(e){e.updated_at=He.formatTimestampDateTime(e.updated_at,this.locale)}addressAdd(e){return this.http.post(this.config.apiBase+"api/addresses",e,{headers:this.myHeaders})}addressUpdate(e){return this.http.put(this.config.apiBase+"api/addresses/"+e.id+"/update",e,{headers:this.myHeaders})}getInsightEarning(e){let i=new URLSearchParams;return i.append("duration",e.duration),i.append("limit",String(e.limit)),this.http.get(this.config.apiBase+"api/user/wallet/earnings?"+i.toString(),{headers:this.myHeaders}).pipe(Vt(r=>{r.total_earnings||(r.total_earnings=0),r.total_earnings=Number(Number(r.total_earnings).toFixed(2))}))}getInsightOrder(e,i){let r=new URLSearchParams;return r.append("duration",i.duration),r.append("limit",String(i.limit)),this.http.get(this.config.apiBase+"api/vendors/insights/"+e+"?"+r.toString(),{headers:this.myHeaders}).pipe(Vt(o=>{o.revenue||(o.revenue=0),o.revenue=Number(Number(o.revenue).toFixed(2)),o.items_sold||(o.items_sold=0),o.chart_data||(o.chart_data=[{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"}]),o.items_sold_chart||(o.items_sold_chart=[{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"}])}))}getInsightOrderTypes(e,i){let r=new URLSearchParams;return r.append("duration",i.duration),r.append("limit",String(i.limit)),this.http.get(this.config.apiBase+"api/vendors/insights-order-type/"+e+"?"+r.toString(),{headers:this.myHeaders}).pipe(Vt(o=>{o.summary||(o.summary=new J0().summary)}))}getInsightCategory(e,i){let r=new URLSearchParams;return r.append("duration",i.duration),r.append("limit",String(i.limit)),this.http.get(this.config.apiBase+"api/vendors/insights-categories/"+e+"?"+r.toString(),{headers:this.myHeaders}).pipe(Vt(o=>{o.summary||(o.summary=new ev().summary)}))}getInsightFeedback(e,i){let r=new URLSearchParams;return r.append("duration",i.duration),r.append("limit",String(i.limit)),this.http.get(this.config.apiBase+"api/vendors/insights-feedback/"+e+"?"+r.toString(),{headers:this.myHeaders}).pipe(Vt(o=>{o.summary||(o.summary=new aO().summary)}))}getPaymentMethods(){return this.http.get(this.config.apiBase+"api/payment/methods",{headers:this.myHeaders})}createOrder(e){return this.http.post(this.config.apiBase+"api/orders",e,{headers:this.myHeaders}).pipe(Vt(i=>this.setupOrder(i.order)))}createAppointment(e){return this.http.post(this.config.apiBase+"api/appointment",e,{headers:this.myHeaders})}updateAppointment(e,i){return this.http.put(this.config.apiBase+"api/appointment/"+e,i,{headers:this.myHeaders}).pipe(Vt(r=>this.setupAppointments(r)))}setupProfile(e){if(this.profileId=e.id,e.image_urls=[],e.mediaurls&&e.mediaurls.images){for(let r of e.mediaurls.images)if(r.default){e.image_urls.push(r.default);break}}e.address!=null&&(e.address=String(e.address)),e.latitude!=null&&(e.latitude=String(e.latitude)),e.longitude!=null&&(e.longitude=String(e.longitude)),e.categories||(e.categories=[]);for(let r of e.categories)this.setupCategory(r);e.product_categories||(e.product_categories=[]);for(let r of e.product_categories)this.setupCategory(r);typeof e.meta=="string"&&(e.meta=JSON.parse(e.meta)),e.meta==null&&(e.meta={}),e.meta.table_booking||(e.meta.table_booking=!0),e.meta.green_time||(e.meta.green_time=this.times[0].value),e.meta.yellow_time||(e.meta.yellow_time=this.times[1].value),e.meta.red_time||(e.meta.red_time=this.times[2].value);let i=G1.getDefault();if(e.availability&&e.availability.length)for(let r of e.availability){let o=0;switch(r.days){case"mon":o=0;break;case"tue":o=1;break;case"wed":o=2;break;case"thu":o=3;break;case"fri":o=4;break;case"sat":o=5;break;case"sun":o=6;break}i[o].selected=!0,i[o].setTime(r.from,r.to)}e.availability=i}getCategoriesParents(e){let i=new URLSearchParams;return i.append("pagination","0"),i.append("parent","1"),e!=null&&i.append("scope",e),this.http.get(this.config.apiBase+"api/categories?"+i.toString(),{headers:this.myHeaders}).pipe(Vt(r=>{if(r&&r.length)for(let o of r)this.setupCategory(o)}))}getCategoriesChild(e){let i=new URLSearchParams,r=new Array;for(let o of e)r.push(o.id);return i.append(r.length>1?"categories":"category",r.join()),i.append("pagination","0"),this.http.get(this.config.apiBase+"api/categories?"+i.toString(),{headers:this.myHeaders}).pipe(Vt(o=>{if(o&&o.length)for(let s of o)this.setupCategory(s)}))}getBalance(){return this.http.get(this.config.apiBase+"api/user/wallet/balance",{headers:this.myHeaders}).pipe(Vt(e=>{e.balance||(e.balance=0),e.balance=Number(e.balance.toFixed(2))}))}getTransactions(e){let i=new URLSearchParams;return e&&i.append("page",String(e)),this.http.get(this.config.apiBase+"api/user/wallet/transactions?"+i,{headers:this.myHeaders}).pipe(Vt(r=>{if(r&&r.data&&r.data.length)for(let o of r.data)this.setupTransaction(o)}))}getFeedbackMatter(e){return this.http.get(this.config.apiBase+"api/vendors/feedback/"+e,{headers:this.myHeaders})}createFeedbackMatter(e,i){return this.http.post(this.config.apiBase+"api/vendors/feedback/"+e,i,{headers:this.myHeaders})}getProductsWithParams(e){return this.reloadSetting(),this.http.get(this.config.apiBase+"api/products?"+e.toString(),{headers:this.myHeaders}).pipe(Vt(i=>{if(i&&i.data&&i.data.length&&this.setupProductRemoveUnfilled(i.data),i&&i.data&&i.data.length)for(let r of i.data)this.setupProduct(r)}))}getVendorProfileWithId(e){return this.http.get(this.config.apiBase+"api/vendors/"+e,{headers:this.myHeaders}).pipe(Vt(i=>this.setupProfileWith(i)))}addCustomers(e){return this.http.post(this.config.apiBase+"api/customers",e,{headers:this.myHeaders})}updateCustomers(e,i){return this.http.put(this.config.apiBase+"api/customers/"+e,i,{headers:this.myHeaders})}getCustomers(e,i,r){let o=new URLSearchParams;return e&&o.append("vendor_id",e),r&&o.append("search",String(r)),i&&o.append("page",String(i)),this.http.get(this.config.apiBase+"api/customers?"+o,{headers:this.myHeaders}).pipe(Vt(s=>{let a=He.getLocale();for(let l of s.data)l.created_at=He.formatTimestampDate(l.created_at,a)}))}deleteCustomer(e){return this.http.delete(this.config.apiBase+"api/customers/"+e,{headers:this.myHeaders})}createAuthentication(e){return this.http.post(this.config.apiBase+"api/authetication-delegations",e,{headers:this.myHeaders})}getAuthenticationList(e){return this.http.get(this.config.apiBase+"api/authetication-delegations?vendor_id="+e,{headers:this.myHeaders})}setupProductRemoveUnfilled(e){let i=!1;for(let r=0;r<e.length;r++)(!e[r].categories||!e[r].categories.length||!e[r].vendor_products||!e[r].vendor_products.length)&&(i=!0,e.splice(r,1));i&&this.setupProductRemoveUnfilled(e)}setupProfileWith(e){if(e.image_urls=[],e.mediaurls&&e.mediaurls.images){for(let i of e.mediaurls.images)if(i.default){e.image_urls.push(i.default);break}}e.address!=null&&(e.address=String(e.address)),e.latitude!=null&&(e.latitude=String(e.latitude)),e.longitude!=null&&(e.longitude=String(e.longitude)),e.product_categories||(e.product_categories=[]);for(let i of e.product_categories)this.setupCategory(i);typeof e.meta=="string"&&(e.meta=JSON.parse(e.meta)),e.meta==null&&(e.meta={}),e.meta!=null&&(e.meta={opening_time:He.formatMillisDateTime(Number(e.meta.opening_time),this.locale),closing_time:He.formatMillisDateTime(Number(e.meta.closing_time),this.locale)})}setupTransaction(e){e.created_at=He.formatTimestampDateTime(e.created_at,this.locale),e.updated_at=He.formatTimestampDateTime(e.updated_at,this.locale),e.amount||(e.amount=0),e.amount=Number(e.amount.toFixed(2)),e.meta&&e.meta.source_amount&&(e.meta.source_amount=Number(Number(e.meta.source_amount).toFixed(2)))}setupCategory(e){if(e.mediaurls&&e.mediaurls.images){for(let i of e.mediaurls.images)if(i.default){e.image=i.default;break}}e.image||(e.image="assets/images/plc_item_image.png")}setupProduct(e){e.addon_groups||(e.addon_groups=[]),e.addon_groups=e.addon_groups.sort((i,r)=>i.min_choices<r.min_choices?1:i.min_choices>r.min_choices?-1:0);for(let i of e.addon_groups)if(e.addOnChoicesIsMust||(e.addOnChoicesIsMust=i.min_choices>0),i.addon_choices)for(let r of i.addon_choices)r.price||(r.price=0),r.priceToShow=this.currency_icon+r.price.toFixed(2);if(e.ratings||(e.ratings=0),e.ratings_count||(e.ratings_count=0),e.price||(e.price=0),e.ratings=Number(e.ratings.toFixed(2)),e.vendor_products&&e.vendor_products.length){for(let i of e.vendor_products)if(i.vendor&&i.sale_price&&i.vendor.id==this.profileId&&(e.sale_price=i.sale_price),i.priceToShow=this.currency_icon+i.price.toFixed(2),i.vendor){(!i.vendor.mediaurls||!i.vendor.mediaurls.images)&&(i.vendor.mediaurls={images:[]}),i.vendor.image="assets/images/plc_item_image.png";for(let r of i.vendor.mediaurls.images)if(r.default){i.vendor.image=r.default;break}}}if(e.priceToShow=this.currency_icon+e.price.toFixed(2),e.sale_price&&(e.sale_priceToShow=this.currency_icon+e.sale_price.toFixed(2)),e.categories&&e.categories.length)for(let i of e.categories)this.setupCategory(i);if(e.image_urls=new Array,e.mediaurls&&e.mediaurls.images)for(let i of e.mediaurls.images)i.default&&e.image_urls.push(i.default);e.image_urls.length||e.image_urls.push("assets/images/plc_item_image.png"),typeof e.meta=="string"&&(e.meta=JSON.parse(e.meta)),e.meta==null&&(e.meta={}),e.meta.cooking_time||(e.meta.cooking_time=""),e.meta.energy||(e.meta.energy=""),e.meta.serving||(e.meta.serving=""),e.meta.ingredients||(e.meta.ingredients=[]),e.meta.food_type||(e.meta.food_type="veg"),e.meta.food_type=String(e.meta.food_type).includes("non")?"non_veg":"veg";try{delete e.meta.discounted_price}catch(i){console.log(i)}}setupUserMe(e){if((!e.mediaurls||!e.mediaurls.images)&&(e.mediaurls={images:[]}),!e.image_url){for(let i of e.mediaurls.images)if(i.default){e.image_url=i.default;break}}}setupOrder(e){e.created_at_milliseconds=(0,fU.default)(e.created_at).toDate().getTime(),e.created_at=He.formatTimestampDateTime(e.created_at,this.locale),e.scheduled_on&&(e.scheduled_on=He.formatTimestampDate(e.scheduled_on,this.locale)),e.total_toshow=this.currency_icon+Number(e.total).toFixed(2),e.subtotal_toshow=this.currency_icon+Number(e.subtotal).toFixed(2),e.delivery_fee&&(e.delivery_fee_toshow=this.currency_icon+Number(e.delivery_fee).toFixed(2)),e.discount&&(e.discount_toshow=this.currency_icon+Number(e.discount).toFixed(2)),e.taxes_toshow=this.currency_icon+Number(e.taxes?e.taxes:0).toFixed(2);for(let i of e.products)if(i.addon_choices&&i.addon_choices.length&&i.addon_choices.map(r=>{i.addonChoiceToShow=i.addonChoiceToShow?i.addonChoiceToShow+", "+r.addon_choice.title:r.addon_choice.title}),i.total_toshow=this.currency_icon+Number(i.total).toFixed(2),i.vendor_product&&(i.vendor_product.price||(i.vendor_product.price=0),i.vendor_product.priceToShow=this.currency_icon+Number(i.vendor_product.price).toFixed(2),i.vendor_product.sale_price&&(i.vendor_product.sale_priceToShow=this.currency_icon+Number(i.vendor_product.sale_price).toFixed(2)),i.vendor_product.product)){if(i.vendor_product.product.price||(i.vendor_product.product.price=0),i.vendor_product.product.priceToShow=this.currency_icon+Number(i.vendor_product.product.price).toFixed(2),i.vendor_product.product.image_urls=new Array,i.vendor_product.product.mediaurls&&i.vendor_product.product.mediaurls.images)for(let r of i.vendor_product.product.mediaurls.images)r.default&&i.vendor_product.product.image_urls.push(r.default);i.vendor_product.product.image_urls.length||i.vendor_product.product.image_urls.push("assets/images/plc_item_image.png"),i.vendor_product.product.prescription_required=i.vendor_product.product.meta&&i.vendor_product.product.meta.prescription}if(e.vendor){(!e.vendor.mediaurls||!e.vendor.mediaurls.images)&&(e.vendor.mediaurls={images:[]}),e.vendor.image="assets/images/plc_item_image.png";for(let i of e.vendor.mediaurls.images)if(i.default){e.vendor.image=i.default;break}}if(e.user){(!e.user.mediaurls||!e.user.mediaurls.images)&&(e.user.mediaurls={images:[]}),e.user.image_url="assets/images/empty_dp.png";for(let i of e.user.mediaurls.images)if(i.default){e.user.image_url=i.default;break}}if(e.delivery&&e.delivery.delivery&&e.delivery.delivery.user){(!e.delivery.delivery.user.mediaurls||!e.delivery.delivery.user.mediaurls.images)&&(e.delivery.delivery.user.mediaurls={images:[]}),e.delivery.delivery.user.image_url="assets/images/empty_dp.png";for(let i of e.delivery.delivery.user.mediaurls.images)if(i.default){e.delivery.delivery.user.image_url=i.default;break}}if(e.order_type&&(e.order_type=e.order_type.toLowerCase()),typeof e.meta=="string"&&(e.meta=JSON.parse(e.meta)),e.meta==null&&(e.meta={}),e.meta.table&&(e.meta.table=Number(e.meta.table)),e.meta.product_ids_done)for(let i of e.products)i.done=e.meta.product_ids_done.includes(i.id)}handleError(e="operation",i){return r=>(console.error(r),console.log(`${e} failed: ${r.message}`),_t(i))}static{this.\u0275fac=function(i){return new(i||n)(Te(Xr),Te(_E))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var mn=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(mn||{}),Gh="*";function lO(n,t){return{type:mn.Trigger,name:n,definitions:t,options:{}}}function W1(n,t=null){return{type:mn.Animate,styles:t,timings:n}}function $$(n,t=null){return{type:mn.Sequence,steps:n,options:t}}function Cd(n){return{type:mn.Style,styles:n,offset:null}}function K1(n,t,e){return{type:mn.State,name:n,styles:t,options:e}}function z1(n,t,e=null){return{type:mn.Transition,expr:n,animation:t,options:e}}var og=class{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},tS=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},cO="!";var Y$=["toast-component",""];function lwe(n,t){if(n&1){let e=We();I(0,"button",5),ve("click",function(){we(e);let r=te();return be(r.remove())}),I(1,"span",6),H(2,"\xD7"),M()()}}function cwe(n,t){if(n&1&&(zo(0),H(1),qo()),n&2){let e=te(2);x(),le("[",e.duplicatesCount+1,"]")}}function uwe(n,t){if(n&1&&(I(0,"div"),H(1),he(2,cwe,2,1,"ng-container",4),M()),n&2){let e=te();Ks(e.options.titleClass),_r("aria-label",e.title),x(),le(" ",e.title," "),x(),W("ngIf",e.duplicatesCount)}}function dwe(n,t){if(n&1&&se(0,"div",7),n&2){let e=te();Ks(e.options.messageClass),W("innerHTML",e.message,wa)}}function hwe(n,t){if(n&1&&(I(0,"div",8),H(1),M()),n&2){let e=te();Ks(e.options.messageClass),_r("aria-label",e.message),x(),le(" ",e.message," ")}}function fwe(n,t){if(n&1&&(I(0,"div"),se(1,"div",9),M()),n&2){let e=te();x(),Vr("width",e.width()+"%")}}function pwe(n,t){if(n&1){let e=We();I(0,"button",5),ve("click",function(){we(e);let r=te();return be(r.remove())}),I(1,"span",6),H(2,"\xD7"),M()()}}function Awe(n,t){if(n&1&&(zo(0),H(1),qo()),n&2){let e=te(2);x(),le("[",e.duplicatesCount+1,"]")}}function gwe(n,t){if(n&1&&(I(0,"div"),H(1),he(2,Awe,2,1,"ng-container",4),M()),n&2){let e=te();Ks(e.options.titleClass),_r("aria-label",e.title),x(),le(" ",e.title," "),x(),W("ngIf",e.duplicatesCount)}}function mwe(n,t){if(n&1&&se(0,"div",7),n&2){let e=te();Ks(e.options.messageClass),W("innerHTML",e.message,wa)}}function vwe(n,t){if(n&1&&(I(0,"div",8),H(1),M()),n&2){let e=te();Ks(e.options.messageClass),_r("aria-label",e.message),x(),le(" ",e.message," ")}}function _we(n,t){if(n&1&&(I(0,"div"),se(1,"div",9),M()),n&2){let e=te();x(),Vr("width",e.width()+"%")}}var pU=class{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},AU=class{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},gU=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new St;_activate=new St;_manualClose=new St;_resetTimeout=new St;_countDuplicate=new St;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},q1=class{toastId;config;message;title;toastType;toastRef;_onTap=new St;_onAction=new St;constructor(t,e,i,r,o,s){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},Z$={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},X$=new Ke("ToastConfig"),mU=class extends AU{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){let i=this._componentFactoryResolver.resolveComponentFactory(t.component),r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},ywe=(()=>{class n{_document=Oe(rn);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vU=class{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}},wwe=(()=>{class n{_overlayContainer=Oe(ywe);_componentFactoryResolver=Oe(cu);_appRef=Oe($s);_document=Oe(rn);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new mU(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new vU(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uO=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,r,o,s){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=s,this.toastrConfig=Ee(Ee({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Ee(Ee({},e.default.iconClasses),e.config.iconClasses))}show(e,i,r={},o=""){return this._preBuildNotification(o,e,i,this.applyConfig(r))}success(e,i,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}error(e,i,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}info(e,i,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}warning(e,i,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}clear(e){for(let i of this.toasts)if(e!==void 0){if(i.toastId===e){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(e){let i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,o){let{includeTitleDuplicates:s}=this.toastrConfig;for(let a of this.toasts){let l=s&&a.title===e;if((!s||l)&&a.message===i)return a.toastRef.onDuplicate(r,o),a}return null}applyConfig(e={}){return Ee(Ee({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,o)):this._buildNotification(e,i,r,o)}_buildNotification(e,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let s=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&s!==null)return s;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let u=i;i&&o.enableHtml&&(u=this.sanitizer.sanitize(hu.HTML,i));let d=new gU(l),h=new q1(this.index,o,u,r,e,d),f=[{provide:q1,useValue:h}],A=Ci.create({providers:f,parent:this._injector}),g=new pU(o.toastComponent,A),m=l.attach(g,o.newestOnTop);d.componentInstance=m.instance;let b={toastId:this.index,title:r||"",message:i||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:h.onTap(),onAction:h.onAction(),portal:m};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{b.toastRef.activate()})),this.toasts.push(b),b}static \u0275fac=function(i){return new(i||n)(Te(X$),Te(wwe),Te(Ci),Te(q0),Te(Pt))};static \u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bwe=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=fc(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=fc({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>vt(Ee({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>vt(Ee({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>vt(Ee({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||n)(ae(uO),ae(q1),ae(Pt))};static \u0275cmp=wt({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&ve("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(I3("@flyInOut",r._state),Ks(r.toastClasses),Vr("display",r.displayStyle))},standalone:!0,features:[zs],attrs:Y$,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&he(0,lwe,3,0,"button",0)(1,uwe,3,5,"div",1)(2,dwe,1,3,"div",2)(3,hwe,2,4,"div",3)(4,fwe,2,2,"div",4),i&2&&(W("ngIf",r.options.closeButton),x(),W("ngIf",r.title),x(),W("ngIf",r.message&&r.options.enableHtml),x(),W("ngIf",r.message&&!r.options.enableHtml),x(),W("ngIf",r.options.progressBar))},dependencies:[En],encapsulation:2,data:{animation:[lO("flyInOut",[K1("inactive",Cd({opacity:0})),K1("active",Cd({opacity:1})),K1("removed",Cd({opacity:0})),z1("inactive => active",W1("{{ easeTime }}ms {{ easing }}")),z1("active => removed",W1("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),Cwe=vt(Ee({},Z$),{toastComponent:bwe}),Ewe=(n={})=>H0([{provide:X$,useValue:{default:Cwe,config:n}}]),J$=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[Ewe(e)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=dt({})}return n})();var Swe=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=fc(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=fc("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||n)(ae(uO),ae(q1),ae($s))};static \u0275cmp=wt({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&ve("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Ks(r.toastClasses),Vr("display",r.displayStyle))},standalone:!0,features:[zs],attrs:Y$,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&he(0,pwe,3,0,"button",0)(1,gwe,3,5,"div",1)(2,mwe,1,3,"div",2)(3,vwe,2,4,"div",3)(4,_we,2,2,"div",4),i&2&&(W("ngIf",r.options.closeButton),x(),W("ngIf",r.title),x(),W("ngIf",r.message&&r.options.enableHtml),x(),W("ngIf",r.message&&!r.options.enableHtml),x(),W("ngIf",r.options.progressBar))},dependencies:[En],encapsulation:2,changeDetection:0})}return n})(),Mit=vt(Ee({},Z$),{toastComponent:Swe});var Iwe=["overlay"],Twe=["*"];function Dwe(n,t){n&1&&se(0,"div")}function Mwe(n,t){if(n&1&&(I(0,"div"),he(1,Dwe,1,0,"div",6),M()),n&2){let e=te(2);Ks(e.spinner.class),Vr("color",e.spinner.color),x(),W("ngForOf",e.spinner.divArray)}}function Owe(n,t){if(n&1&&(se(0,"div",7),K(1,"safeHtml")),n&2){let e=te(2);W("innerHTML",z(1,1,e.template),wa)}}function Fwe(n,t){if(n&1&&(I(0,"div",2,0),he(2,Mwe,2,5,"div",3)(3,Owe,2,3,"div",4),I(4,"div",5),gc(5),M()()),n&2){let e=te();Vr("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),W("@.disabled",e.disableAnimation)("@fadeIn","in"),x(2),W("ngIf",!e.template),x(),W("ngIf",e.template),x(),Vr("z-index",e.spinner.zIndex)}}var Bwe={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},_U={BD_COLOR:"rgba(51,51,51,0.8)",SPINNER_COLOR:"#fff",Z_INDEX:99999},yU="primary",tv=class n{constructor(t){Object.assign(this,t)}static create(t){return!t?.template&&!t?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new n(t)}},wU=(()=>{class n{constructor(){this.spinnerObservable=new mo(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(Di(i=>i&&i.name===e))}show(e=yU,i){return new Promise((r,o)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=e,this.spinnerObservable.next(new tv(vt(Ee({},i),{show:!0}))),r(!0)):(this.spinnerObservable.next(new tv({name:e,show:!0})),r(!0))},10)})}hide(e=yU,i=10){return new Promise((r,o)=>{setTimeout(()=>{this.spinnerObservable.next(new tv({name:e,show:!1})),r(!0)},i)})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eY=new Ke("NGX_SPINNER_CONFIG"),Pwe=(()=>{class n{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}static{this.\u0275fac=function(i){return new(i||n)(ae(q0,16))}}static{this.\u0275pipe=kh({name:"safeHtml",type:n,pure:!0,standalone:!0})}}return n})(),tY=(()=>{class n{constructor(e,i,r,o){this.spinnerService=e,this.changeDetector=i,this.elementRef=r,this.globalConfig=o,this.disableAnimation=!1,this.spinner=new tv,this.ngUnsubscribe=new St,this.setDefaultOptions=()=>{let{type:s}=this.globalConfig??{};this.spinner=tv.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??s,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor=_U.BD_COLOR,this.zIndex=_U.Z_INDEX,this.color=_U.SPINNER_COLOR,this.size="large",this.fullScreen=!0,this.name=yU,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Ui(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement?!0:e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(let i in e)if(i){let r=e[i];if(r.isFirstChange())return;typeof r.currentValue<"u"&&r.currentValue!==r.previousValue&&r.currentValue!==""&&(this.spinner[i]=r.currentValue,i==="showSpinner"&&(r.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),i==="name"&&this.initObservable())}}getClass(e,i){this.spinner.divCount=Bwe[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((o,s)=>s);let r="";switch(i.toLowerCase()){case"small":r="la-sm";break;case"medium":r="la-2x";break;case"large":r="la-3x";break;default:break}return"la-"+e+" "+r}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(i){return new(i||n)(ae(wU),ae(Yo),ae(Kt),ae(eY,8))}}static{this.\u0275cmp=wt({type:n,selectors:[["ngx-spinner"]],viewQuery:function(i,r){if(i&1&&Mi(Iwe,5),i&2){let o;ln(o=cn())&&(r.spinnerDOM=o.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},standalone:!0,features:[ei,zs],ngContentSelectors:Twe,decls:1,vars:1,consts:[["overlay",""],["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(i,r){i&1&&(Ac(),he(0,Fwe,6,12,"div",1)),i&2&&W("ngIf",r.spinner.show)},dependencies:[Pwe,En,ti],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[lO("fadeIn",[K1("in",Cd({opacity:1})),z1(":enter",[Cd({opacity:0}),W1(300)]),z1(":leave",W1(200,Cd({opacity:0})))])]},changeDetection:0})}}return n})(),nY=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:eY,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({imports:[As]})}}return n})();var ui=(()=>{class n{constructor(e,i){this.toastr=e,this.loadingController=i}showSuccessToastr(e,i,r){return this.toastr.success(e,"",{positionClass:`${i&&(i=="toast-bottom-center"||i=="toast-top-center")?i:"toast-top-right"}`,timeOut:r&&r>0?r:2e3})}showErrorToastr(e,i,r){return this.toastr.error(e,"",{positionClass:`${i&&(i=="toast-bottom-center"||i=="toast-top-center")?i:"toast-top-right"}`,timeOut:r&&r>0?r:2e3})}presentLoader(e){return new Promise(i=>{this.isLoading?i(!1):(this.loadingText=e||"Loading...",this.loadingController.show().then(r=>{this.isLoading=!0,i(!0)},r=>{console.log("loadingController.create",r),i(!1)}))})}dismissLoader(){return new Promise(e=>{if(this.isLoading)try{this.loadingController.hide().then(i=>{this.isLoading=!1,e(!0)},i=>{console.log(i),this.isLoading=!1,e(!1)})}catch(i){console.log(i),this.isLoading=!1,e(!1)}else e(!1)})}presentLoading(e){return setTimeout(()=>{this.loadingText=e||"Loading...",this.loadingController.show()},100)}dismissLoading(){try{this.loadingController.hide()}catch(e){console.error("dismissLoading",e)}}static{this.\u0275fac=function(i){return new(i||n)(Te(uO),Te(wU))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ag=class{},rY=(()=>{class n extends ag{getTranslation(e){return _t({})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ws(n)))(r||n)}})();static \u0275prov=De({token:n,factory:n.\u0275fac})}return n})(),nS=class{},oY=(()=>{class n{handle(e){return e.key}static \u0275fac=function(i){return new(i||n)};static \u0275prov=De({token:n,factory:n.\u0275fac})}return n})();function dO(n,t){if(n===t)return!0;if(n===null||t===null)return!1;if(n!==n&&t!==t)return!0;let e=typeof n,i=typeof t,r,o,s;if(e==i&&e=="object")if(Array.isArray(n)){if(!Array.isArray(t))return!1;if((r=n.length)==t.length){for(o=0;o<r;o++)if(!dO(n[o],t[o]))return!1;return!0}}else{if(Array.isArray(t))return!1;s=Object.create(null);for(o in n){if(!dO(n[o],t[o]))return!1;s[o]=!0}for(o in t)if(!(o in s)&&typeof t[o]<"u")return!1;return!0}return!1}function sg(n){return typeof n<"u"&&n!==null}function bU(n){return n&&typeof n=="object"&&!Array.isArray(n)}function lY(n,t){let e=Object.assign({},n);return bU(n)&&bU(t)&&Object.keys(t).forEach(i=>{bU(t[i])?i in n?e[i]=lY(n[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e}var $1=class{},sY=(()=>{class n extends $1{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,i){let r;return typeof e=="string"?r=this.interpolateString(e,i):typeof e=="function"?r=this.interpolateFunction(e,i):r=e,r}getValue(e,i){let r=typeof i=="string"?i.split("."):[i];i="";do i+=r.shift(),sg(e)&&sg(e[i])&&(typeof e[i]=="object"||!r.length)?(e=e[i],i=""):r.length?i+=".":e=void 0;while(r.length);return e}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(r,o)=>{let s=this.getValue(i,o);return sg(s)?s:r}):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ws(n)))(r||n)}})();static \u0275prov=De({token:n,factory:n.\u0275fac})}return n})(),Y1=class{},aY=(()=>{class n extends Y1{compile(e,i){return e}compileTranslations(e,i){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ws(n)))(r||n)}})();static \u0275prov=De({token:n,factory:n.\u0275fac})}return n})(),hO=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new at;onLangChange=new at;onDefaultLangChange=new at},CU=new Ke("USE_STORE"),EU=new Ke("USE_DEFAULT_LANG"),SU=new Ke("DEFAULT_LANGUAGE"),xU=new Ke("USE_EXTEND"),qn=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new at;_onLangChange=new at;_onDefaultLangChange=new at;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,i,r,o,s,a=!0,l=!1,u=!1,d){this.store=e,this.currentLoader=i,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=l,this.extend=u,d&&this.setDefaultLang(d)}setDefaultLang(e){if(e===this.defaultLang)return;let i=this.retrieveTranslations(e);typeof i<"u"?(this.defaultLang==null&&(this.defaultLang=e),i.pipe(Qs(1)).subscribe(r=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return _t(this.translations[e]);let i=this.retrieveTranslations(e);return typeof i<"u"?(this.currentLang||(this.currentLang=e),i.pipe(Qs(1)).subscribe(r=>{this.changeLang(e)}),i):(this.changeLang(e),_t(this.translations[e]))}retrieveTranslations(e){let i;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),i=this._translationRequests[e]),i}getTranslation(e){this.pending=!0;let i=this.currentLoader.getTranslation(e).pipe(WC(1),Qs(1));return this.loadingTranslations=i.pipe(kt(r=>this.compiler.compileTranslations(r,e)),WC(1),Qs(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?Ee(Ee({},r),this.translations[e]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(e,i,r=!1){i=this.compiler.compileTranslations(i,e),(r||this.extend)&&this.translations[e]?this.translations[e]=lY(this.translations[e],i):this.translations[e]=i,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(i=>{this.langs.indexOf(i)===-1&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,i,r){let o;if(i instanceof Array){let s={},a=!1;for(let l of i)s[l]=this.getParsedResult(e,l,r),ou(s[l])&&(a=!0);if(a){let l=i.map(u=>ou(s[u])?s[u]:_t(s[u]));return S0(l).pipe(kt(u=>{let d={};return u.forEach((h,f)=>{d[i[f]]=h}),d}))}return s}if(e&&(o=this.parser.interpolate(this.parser.getValue(e,i),r)),typeof o>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],i),r)),typeof o>"u"){let s={key:i,translateService:this};typeof r<"u"&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return typeof o<"u"?o:i}get(e,i){if(!sg(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Ad(r=>(r=this.getParsedResult(r,e,i),ou(r)?r:_t(r))));{let r=this.getParsedResult(this.translations[this.currentLang],e,i);return ou(r)?r:_t(r)}}getStreamOnTranslationChange(e,i){if(!sg(e)||!e.length)throw new Error('Parameter "key" required');return pd(E0(()=>this.get(e,i)),this.onTranslationChange.pipe(vo(r=>{let o=this.getParsedResult(r.translations,e,i);return typeof o.subscribe=="function"?o:_t(o)})))}stream(e,i){if(!sg(e)||!e.length)throw new Error('Parameter "key" required');return pd(E0(()=>this.get(e,i)),this.onLangChange.pipe(vo(r=>{let o=this.getParsedResult(r.translations,e,i);return ou(o)?o:_t(o)})))}instant(e,i){if(!sg(e)||!e.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],e,i);if(ou(r)){if(e instanceof Array){let o={};return e.forEach((s,a)=>{o[e[a]]=e[a]}),o}return e}else return r}set(e,i,r=this.currentLang){this.translations[r][e]=this.compiler.compile(i,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;if(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof e>"u"))return e.indexOf("-")!==-1&&(e=e.split("-")[0]),e.indexOf("_")!==-1&&(e=e.split("_")[0]),e}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}static \u0275fac=function(i){return new(i||n)(Te(hO),Te(ag),Te(Y1),Te($1),Te(nS),Te(EU),Te(CU),Te(xU),Te(SU))};static \u0275prov=De({token:n,factory:n.\u0275fac})}return n})();var Gn=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,i){this.translate=e,this._ref=i}updateValue(e,i,r){let o=s=>{this.value=s!==void 0?s:e,this.lastKey=e,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(r,e,i);ou(s.subscribe)?s.subscribe(o):o(s)}this.translate.get(e,i).subscribe(o)}transform(e,...i){if(!e||!e.length)return e;if(dO(e,this.lastKey)&&dO(i,this.lastParams))return this.value;let r;if(sg(i[0])&&i.length)if(typeof i[0]=="string"&&i[0].length){let o=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{r=JSON.parse(o)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else typeof i[0]=="object"&&!Array.isArray(i[0])&&(r=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||n)(ae(qn,16),ae(Yo,16))};static \u0275pipe=kh({name:"translate",type:n,pure:!1});static \u0275prov=De({token:n,factory:n.\u0275fac})}return n})(),IU=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:ag,useClass:rY},e.compiler||{provide:Y1,useClass:aY},e.parser||{provide:$1,useClass:sY},e.missingTranslationHandler||{provide:nS,useClass:oY},hO,{provide:CU,useValue:e.isolate},{provide:EU,useValue:e.useDefaultLang},{provide:xU,useValue:e.extend},{provide:SU,useValue:e.defaultLanguage},qn]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:ag,useClass:rY},e.compiler||{provide:Y1,useClass:aY},e.parser||{provide:$1,useClass:sY},e.missingTranslationHandler||{provide:nS,useClass:oY},{provide:CU,useValue:e.isolate},{provide:EU,useValue:e.useDefaultLang},{provide:xU,useValue:e.extend},{provide:SU,useValue:e.defaultLanguage},qn]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=dt({})}return n})();var kwe=["*"],Nwe=(n,t,e,i,r)=>({"custom-content":n,circle:t,progress:e,"progress-dark":i,pulse:r});function Rwe(n,t){n&1&&gc(0)}function Lwe(n,t){if(n&1&&(I(0,"div",0),he(1,Rwe,1,0),M()),n&2){let e=te(),i=F3(0),r=F3(1);W("ngClass",P3(5,Nwe,i==="custom-content",i==="circle",r==="progress",r==="progress-dark",r==="pulse"))("ngStyle",e.styles()),_r("aria-label",e.ariaLabel())("aria-valuetext",e.loadingText()),x(),C3(i==="custom-content"?1:-1)}}var cY=new Ke("ngx-skeleton-loader.config"),bo=(()=>{class n{constructor(){this.#e=Oe(cY,{optional:!0}),this.count=j0(this.#e?.count||1,{transform:U3}),this.loadingText=j0(this.#e?.loadingText||"Loading..."),this.appearance=j0(this.#e?.appearance||"line"),this.animation=j0(this.#e?.animation||"progress"),this.ariaLabel=j0(this.#e?.ariaLabel||"loading"),this.theme=j0(this.#e?.theme||null),this.items=rp(()=>{let e=this.count()||1;return this.appearance()==="custom-content"&&$2()&&e!==1&&(console.error('`NgxSkeletonLoaderComponent` enforces elements with "custom-content" appearance as DOM nodes. Forcing "count" to "1".'),e=1),[...Array(e)].map((i,r)=>r)}),this.styles=rp(()=>{let e=this.theme();return this.#e?.theme?.extendsFromRoot?Ee(Ee({},this.#e?.theme),e):e})}#e;static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=wt({type:n,selectors:[["ngx-skeleton-loader"]],inputs:{count:[1,"count"],loadingText:[1,"loadingText"],appearance:[1,"appearance"],animation:[1,"animation"],ariaLabel:[1,"ariaLabel"],theme:[1,"theme"]},standalone:!0,features:[zs],ngContentSelectors:kwe,decls:4,vars:2,consts:[["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",1,"skeleton-loader",3,"ngClass","ngStyle"]],template:function(i,r){i&1&&(Ac(),M3(0)(1),S3(2,Lwe,2,11,"div",0,E3)),i&2&&(O3(r.appearance()),x(),O3(r.animation()),x(),x3(r.items()))},dependencies:[Fr,uM],styles:['.skeleton-loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:#eff1f6 no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.skeleton-loader[_ngcontent-%COMP%]:after, .skeleton-loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.skeleton-loader.progress[_ngcontent-%COMP%]:after, .skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:after, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.skeleton-loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,#fff0,#fff9,#fff0)}.skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.skeleton-loader.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.custom-content[_ngcontent-%COMP%]{height:100%;background:none}@media (prefers-reduced-motion: reduce){.skeleton-loader.pulse[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%], .skeleton-loader.progress[_ngcontent-%COMP%]:before{animation:none}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%]{background-image:none}}@media screen and (min-device-width: 1200px){.skeleton-loader[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:wait}}@keyframes _ngcontent-%COMP%_progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0})}}return n})(),uY=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:cY,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({imports:[As]})}}return n})();var Uwe=()=>[1,2,3],Hwe=()=>[1],Vwe=()=>[1,2];function Qwe(n,t){n&1&&(I(0,"div",12)(1,"form")(2,"div",13)(3,"div",14)(4,"h2"),se(5,"ngx-skeleton-loader",15),M(),I(6,"div",16),se(7,"ngx-skeleton-loader",17),M(),I(8,"div",16),se(9,"ngx-skeleton-loader",17),M()()()()())}function jwe(n,t){if(n&1&&(I(0,"div",10),he(1,Qwe,10,0,"div",11),M()),n&2){let e=t.$implicit;x(),W("ngForOf",e==3?Qr(1,Hwe):Qr(2,Vwe))}}function Gwe(n,t){n&1&&(I(0,"div",8),he(1,jwe,2,3,"div",9),M()),n&2&&(x(),W("ngForOf",Qr(1,Uwe)))}function Wwe(n,t){n&1&&(I(0,"h2"),H(1),K(2,"translate"),M()),n&2&&(x(),de(z(2,1,"kitchen_app")))}function Kwe(n,t){if(n&1){let e=We();I(0,"h4",31),ve("click",function(){we(e);let r=te().index,o=te(2);return be(o.deleteForm(r,o.authenticationForm.controls.kitchenArray))}),se(1,"img",32),M()}}function zwe(n,t){n&1&&(I(0,"div")(1,"span",33),H(2),K(3,"translate"),M()()),n&2&&(x(2),de(z(3,1,"enter_phone_number")))}function qwe(n,t){n&1&&(I(0,"div")(1,"span",33),H(2),K(3,"translate"),M()()),n&2&&(x(2),de(z(3,1,"enterValidNumber")))}function $we(n,t){if(n&1&&(I(0,"div",26),he(1,Wwe,3,3,"h2",27),I(2,"div",28),se(3,"input",29),K(4,"translate"),he(5,Kwe,2,0,"h4",30),M(),he(6,zwe,4,3,"div",27)(7,qwe,4,3,"div",27),M()),n&2){let e=t.$implicit,i=t.index,r=te(2);W("formGroupName",i),x(),W("ngIf",i==0),x(2),nt("placeholder",z(4,7,"enter_phone_number")),W("readOnly",i<r.isDemoModeArray[0]&&r.config.demoMode),x(2),W("ngIf",r.authenticationForm.controls.kitchenArray.controls.length>1),x(),W("ngIf",e.controls.identifier.hasError("required")&&e.controls.identifier.touched),x(),W("ngIf",e.controls.identifier.hasError("pattern"))}}function Ywe(n,t){n&1&&(I(0,"h2"),H(1),K(2,"translate"),M()),n&2&&(x(),de(z(2,1,"emenu_app")))}function Zwe(n,t){if(n&1){let e=We();I(0,"h4",31),ve("click",function(){we(e);let r=te().index,o=te(2);return be(o.deleteForm(r,o.authenticationForm.controls.emenuArray))}),se(1,"img",32),M()}}function Xwe(n,t){n&1&&(I(0,"div")(1,"span",33),H(2),K(3,"translate"),M()()),n&2&&(x(2),de(z(3,1,"enter_phone_number")))}function Jwe(n,t){n&1&&(I(0,"div")(1,"span",33),H(2),K(3,"translate"),M()()),n&2&&(x(2),de(z(3,1,"enterValidNumber")))}function ebe(n,t){if(n&1&&(I(0,"div",26),he(1,Ywe,3,3,"h2",27),I(2,"div",28),se(3,"input",29),K(4,"translate"),he(5,Zwe,2,0,"h4",30),M(),he(6,Xwe,4,3,"div",27)(7,Jwe,4,3,"div",27),M()),n&2){let e=t.$implicit,i=t.index,r=te(2);W("formGroupName",i),x(),W("ngIf",i==0),x(2),nt("placeholder",z(4,7,"enter_phone_number")),W("readOnly",i<r.isDemoModeArray[0]&&r.config.demoMode),x(2),W("ngIf",r.authenticationForm.controls.emenuArray.controls.length>1),x(),W("ngIf",e.controls.identifier.hasError("required")&&e.controls.identifier.touched),x(),W("ngIf",e.controls.identifier.hasError("pattern"))}}function tbe(n,t){n&1&&(I(0,"h2"),H(1),K(2,"translate"),M()),n&2&&(x(),de(z(2,1,"desk_app")))}function nbe(n,t){if(n&1){let e=We();I(0,"h4",31),ve("click",function(){we(e);let r=te().index,o=te(2);return be(o.deleteForm(r,o.authenticationForm.controls.deskArray))}),se(1,"img",32),M()}}function ibe(n,t){n&1&&(I(0,"div")(1,"span",33),H(2),K(3,"translate"),M()()),n&2&&(x(2),de(z(3,1,"enter_phone_number")))}function rbe(n,t){n&1&&(I(0,"div")(1,"span",33),H(2),K(3,"translate"),M()()),n&2&&(x(2),de(z(3,1,"enterValidNumber")))}function obe(n,t){if(n&1&&(I(0,"div",26),he(1,tbe,3,3,"h2",27),I(2,"div",28),se(3,"input",29),K(4,"translate"),he(5,nbe,2,0,"h4",30),M(),he(6,ibe,4,3,"div",27)(7,rbe,4,3,"div",27),M()),n&2){let e=t.$implicit,i=t.index,r=te(2);W("formGroupName",i),x(),W("ngIf",i==0),x(2),nt("placeholder",z(4,7,"enter_phone_number")),W("readOnly",i<r.isDemoModeArray[0]&&r.config.demoMode),x(2),W("ngIf",r.authenticationForm.controls.deskArray.controls.length>1),x(),W("ngIf",e.controls.identifier.hasError("required")&&e.controls.identifier.touched),x(),W("ngIf",e.controls.identifier.hasError("pattern"))}}function sbe(n,t){n&1&&(I(0,"h2"),H(1),K(2,"translate"),M()),n&2&&(x(),de(z(2,1,"kiosk_app")))}function abe(n,t){if(n&1){let e=We();I(0,"h4",31),ve("click",function(){we(e);let r=te().index,o=te(2);return be(o.deleteForm(r,o.authenticationForm.controls.kioskArray))}),se(1,"img",32),M()}}function lbe(n,t){n&1&&(I(0,"div")(1,"span",33),H(2),K(3,"translate"),M()()),n&2&&(x(2),de(z(3,1,"enter_phone_number")))}function cbe(n,t){n&1&&(I(0,"div")(1,"span",33),H(2),K(3,"translate"),M()()),n&2&&(x(2),de(z(3,1,"enterValidNumber")))}function ube(n,t){if(n&1&&(I(0,"div",26),he(1,sbe,3,3,"h2",27),I(2,"div",28),se(3,"input",29),K(4,"translate"),he(5,abe,2,0,"h4",30),M(),he(6,lbe,4,3,"div",27)(7,cbe,4,3,"div",27),M()),n&2){let e=t.$implicit,i=t.index,r=te(2);W("formGroupName",i),x(),W("ngIf",i==0),x(2),nt("placeholder",z(4,7,"enter_phone_number")),W("readOnly",i<r.isDemoModeArray[0]&&r.config.demoMode),x(2),W("ngIf",r.authenticationForm.controls.kioskArray.controls.length>1),x(),W("ngIf",e.controls.identifier.hasError("required")&&e.controls.identifier.touched),x(),W("ngIf",e.controls.identifier.hasError("pattern"))}}function dbe(n,t){n&1&&(I(0,"h2"),H(1),K(2,"translate"),M()),n&2&&(x(),de(z(2,1,"review_app")))}function hbe(n,t){if(n&1){let e=We();I(0,"h4",31),ve("click",function(){we(e);let r=te().index,o=te(2);return be(o.deleteForm(r,o.authenticationForm.controls.reviewArray))}),se(1,"img",32),M()}}function fbe(n,t){n&1&&(I(0,"div")(1,"span",33),H(2),K(3,"translate"),M()()),n&2&&(x(2),de(z(3,1,"enter_phone_number")))}function pbe(n,t){n&1&&(I(0,"div")(1,"span",33),H(2),K(3,"translate"),M()()),n&2&&(x(2),de(z(3,1,"enterValidNumber")))}function Abe(n,t){if(n&1&&(I(0,"div",26),he(1,dbe,3,3,"h2",27),I(2,"div",28),se(3,"input",29),K(4,"translate"),he(5,hbe,2,0,"h4",30),M(),he(6,fbe,4,3,"div",27)(7,pbe,4,3,"div",27),M()),n&2){let e=t.$implicit,i=t.index,r=te(2);W("formGroupName",i),x(),W("ngIf",i==0),x(2),nt("placeholder",z(4,7,"enter_phone_number")),W("readOnly",i<r.isDemoModeArray[0]&&r.config.demoMode),x(2),W("ngIf",r.authenticationForm.controls.reviewArray.controls.length>1),x(),W("ngIf",e.controls.identifier.hasError("required")&&e.controls.identifier.touched),x(),W("ngIf",e.controls.identifier.hasError("pattern"))}}function gbe(n,t){if(n&1){let e=We();I(0,"div",18)(1,"div",10)(2,"div",12)(3,"form",19)(4,"div",13),he(5,$we,8,9,"div",20),I(6,"h3",21),ve("click",function(){we(e);let r=te();return be(r.addKitchenForm())}),I(7,"span"),H(8),K(9,"translate"),M()()()()(),I(10,"div",12)(11,"form",22)(12,"div",13),he(13,ebe,8,9,"div",20),I(14,"h3",21),ve("click",function(){we(e);let r=te();return be(r.addEmenuForm())}),I(15,"span"),H(16),K(17,"translate"),M()()()()(),I(18,"div",12)(19,"form",23)(20,"div",13),he(21,obe,8,9,"div",20),I(22,"h3",21),ve("click",function(){we(e);let r=te();return be(r.addDeskForm())}),I(23,"span"),H(24),K(25,"translate"),M()()()()()(),I(26,"div",10)(27,"div",12)(28,"form",24)(29,"div",13),he(30,ube,8,9,"div",20),I(31,"h3",21),ve("click",function(){we(e);let r=te();return be(r.addKioskForm())}),I(32,"span"),H(33),K(34,"translate"),M()()()()(),I(35,"div",12)(36,"form",25)(37,"div",13),he(38,Abe,8,9,"div",20),I(39,"h3",21),ve("click",function(){we(e);let r=te();return be(r.addReviewForm())}),I(40,"span"),H(41),K(42,"translate"),M()()()()()()()}if(n&2){let e=te();W("formGroup",e.authenticationForm),x(5),W("ngForOf",e.authenticationForm.controls.kitchenArray.controls),x(3),le("+ ",z(9,11,"add_more"),""),x(5),W("ngForOf",e.authenticationForm.controls.emenuArray.controls),x(3),le("+ ",z(17,13,"add_more"),""),x(5),W("ngForOf",e.authenticationForm.controls.deskArray.controls),x(3),le("+ ",z(25,15,"add_more"),""),x(6),W("ngForOf",e.authenticationForm.controls.kioskArray.controls),x(3),le("+ ",z(34,17,"add_more"),""),x(5),W("ngForOf",e.authenticationForm.controls.reviewArray.controls),x(3),le("+ ",z(42,19,"add_more"),"")}}var dY=(()=>{class n{constructor(e,i,r,o,s,a){this.config=e,this.formBuilder=i,this.apiService=r,this.uiElementService=o,this.translate=s,this.router=a,this.subscriptions=new Array,this.isLoading=!0,this.authenticationRequest=new iO,this.isDemoModeArray=[0,0,0,0,0],this.translate.get("loading").subscribe(l=>{this.loadAuthentications()})}ngOnInit(){}ngOnDestroy(){for(let e of this.subscriptions)e.unsubscribe();this.uiElementService.dismissLoading()}loadAuthentications(){this.subscriptions.push(this.apiService.getAuthenticationList(He.getProfile().id).subscribe(e=>{e&&e.length?this.loadAuthenticationForm(!0):this.loadAuthenticationForm(!1),e.map(i=>{i.type=="kitchen"?(this.isDemoModeArray[0]+=1,this.authenticationForm.controls.kitchenArray.push(this.initKitchenForm(i))):i.type=="emenu"?(this.isDemoModeArray[1]+=1,this.authenticationForm.controls.emenuArray.push(this.initEmenuForm(i))):i.type=="desk"?(this.isDemoModeArray[2]+=1,this.authenticationForm.controls.deskArray.push(this.initDeskForm(i))):i.type=="kiosk"?(this.isDemoModeArray[3]+=1,this.authenticationForm.controls.kioskArray.push(this.initKioskForm(i))):i.type=="review"&&(this.isDemoModeArray[4]+=1,this.authenticationForm.controls.reviewArray.push(this.initReviewForm(i)))}),this.isLoading=!1,this.uiElementService.dismissLoading()},e=>{console.log("getCategoriesParents",e),this.loadAuthenticationForm(!1),this.isLoading=!1,this.uiElementService.dismissLoading()}))}loadAuthenticationForm(e){this.authenticationForm=this.formBuilder.group({kitchenArray:this.formBuilder.array(e?[]:[this.initKitchenForm()]),emenuArray:this.formBuilder.array(e?[]:[this.initEmenuForm()]),deskArray:this.formBuilder.array(e?[]:[this.initDeskForm()]),kioskArray:this.formBuilder.array(e?[]:[this.initKioskForm()]),reviewArray:this.formBuilder.array(e?[]:[this.initReviewForm()])})}initKitchenForm(e){return this.formBuilder.group({identifier:[e?e.identifier:"",[Ys.pattern("(([+][(]?[0-9]{1,3}[)]?)|([(]?[0-9]{4}[)]?))s*[)]?[-s.]?[(]?[0-9]{1,3}[)]?([-s.]?[0-9]{3})([-s.]?[0-9]{3,4})")]],type:["kitchen"]})}addKitchenForm(){this.authenticationForm.get("kitchenArray").push(this.initKitchenForm())}initEmenuForm(e){return this.formBuilder.group({identifier:[e?e.identifier:"",[Ys.pattern("(([+][(]?[0-9]{1,3}[)]?)|([(]?[0-9]{4}[)]?))s*[)]?[-s.]?[(]?[0-9]{1,3}[)]?([-s.]?[0-9]{3})([-s.]?[0-9]{3,4})")]],type:["emenu"]})}addEmenuForm(){this.authenticationForm.get("emenuArray").push(this.initEmenuForm())}initDeskForm(e){return this.formBuilder.group({identifier:[e?e.identifier:"",[Ys.pattern("(([+][(]?[0-9]{1,3}[)]?)|([(]?[0-9]{4}[)]?))s*[)]?[-s.]?[(]?[0-9]{1,3}[)]?([-s.]?[0-9]{3})([-s.]?[0-9]{3,4})")]],type:["desk"]})}addDeskForm(e){this.authenticationForm.get("deskArray").push(this.initDeskForm())}initKioskForm(e){return this.formBuilder.group({identifier:[e?e.identifier:"",[Ys.pattern("(([+][(]?[0-9]{1,3}[)]?)|([(]?[0-9]{4}[)]?))s*[)]?[-s.]?[(]?[0-9]{1,3}[)]?([-s.]?[0-9]{3})([-s.]?[0-9]{3,4})")]],type:["kiosk"]})}addKioskForm(e){this.authenticationForm.get("kioskArray").push(this.initKioskForm())}initReviewForm(e){return this.formBuilder.group({identifier:[e?e.identifier:"",[Ys.pattern("(([+][(]?[0-9]{1,3}[)]?)|([(]?[0-9]{4}[)]?))s*[)]?[-s.]?[(]?[0-9]{1,3}[)]?([-s.]?[0-9]{3})([-s.]?[0-9]{3,4})")]],type:["review"]})}addReviewForm(){this.authenticationForm.get("reviewArray").push(this.initReviewForm())}deleteForm(e,i){this.config.demoMode?this.uiElementService.showErrorToastr(this.translate.instant("disabled_this_feature_for_demo_perpose")):i.removeAt(e)}onSubmitAuthentication(){if(this.authenticationForm.status=="VALID"){let e=new Array;this.authenticationForm.value.kitchenArray.map(i=>{i&&i.identifier&&i.identifier.length&&e.push(i)}),this.authenticationForm.value.emenuArray.map(i=>{i&&i.identifier&&i.identifier.length&&e.push(i)}),this.authenticationForm.value.deskArray.map(i=>{i&&i.identifier&&i.identifier.length&&e.push(i)}),this.authenticationForm.value.kioskArray.map(i=>{i&&i.identifier&&i.identifier.length&&e.push(i)}),this.authenticationForm.value.reviewArray.map(i=>{i&&i.identifier&&i.identifier.length&&e.push(i)}),e&&e.length?(this.authenticationRequest.identifiers=e,this.authenticationRequest.vendor_id=He.getProfile().id,this.isLoading=!0,this.uiElementService.presentLoading(this.translate.instant("loading")),this.subscriptions.push(this.apiService.createAuthentication(this.authenticationRequest).subscribe(i=>{this.isLoading=!1,this.uiElementService.dismissLoading(),this.uiElementService.showSuccessToastr(this.translate.instant("updated")),this.router.navigate(["./dashboard"])},i=>{console.log("getCategoriesParents",i),this.isLoading=!1,this.uiElementService.dismissLoading()}))):this.uiElementService.showErrorToastr(this.translate.instant("enter_phone_number"))}else this.uiElementService.showErrorToastr(this.translate.instant("enter_phone_number"))}static{this.\u0275fac=function(i){return new(i||n)(ae(Xr),ae(eO),ae(ni),ae(ui),ae(qn),ae(Un))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-authentication"]],decls:13,vars:8,consts:[[1,"body_wrapper","p-2","p-lg-4"],[1,"pageTitle","pb-4"],[1,"row","align-items-center"],[1,"col-12","col-md-3","col-xl-7","pb-2","pb-md-0"],[1,"col-12","col-md-9","col-xl-5","pb-2","pb-md-0"],["type","button",1,"btn","m-0","mt-2","mt-md-0","end",3,"click"],["class","row g-3",4,"ngIf"],["class","row g-3",3,"formGroup",4,"ngIf"],[1,"row","g-3"],["class","col-12 col-md-6 animate__animated animate__fadeInUp ",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","animate__animated","animate__fadeInUp"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"form_inner"],[1,"form-group"],["count","1","appearance","line",2,"width","50%"],[1,"input_box","d-flex","align-items-center",2,"min-height","42px","padding","0","margin-bottom","10px"],["count","1","appearance","line",2,"width","100%","height","40px"],[1,"row","g-3",3,"formGroup"],["formArrayName","kitchenArray"],["class","form-group",3,"formGroupName",4,"ngFor","ngForOf"],[1,"",3,"click"],["formArrayName","emenuArray"],["formArrayName","deskArray"],["formArrayName","kioskArray"],["formArrayName","reviewArray"],[1,"form-group",3,"formGroupName"],[4,"ngIf"],[1,"input_box","d-flex","align-items-center"],["type","tel","formControlName","identifier",1,"form-control",3,"readOnly","placeholder"],["class","end",3,"click",4,"ngIf"],[1,"end",3,"click"],["src","assets/images/icons/ic_trash.svg"],[2,"color","red"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),H(5),K(6,"translate"),M()(),I(7,"div",4)(8,"button",5),ve("click",function(){return r.onSubmitAuthentication()}),H(9),K(10,"translate"),M()()()(),he(11,Gwe,2,2,"div",6)(12,gbe,43,21,"div",7),M()),i&2&&(x(5),le(" ",z(6,4,"authentication")," "),x(4),le(" ",z(10,6,"save")," "),x(2),W("ngIf",r.isLoading),x(),W("ngIf",!r.isLoading))},dependencies:[ti,En,ji,Hi,Vi,Qi,Oi,L1,JE,U1,H1,bo,Gn],styles:[".card[_ngcontent-%COMP%]{background:var(--bg-white);border-radius:0;border:0;box-shadow:none;padding:15px;margin-bottom:1rem}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.95rem;font-weight:600;padding-bottom:15px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:block;margin-bottom:10px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]{padding:0 15px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;padding:0;min-width:25px;cursor:pointer;text-align:end}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary);font-size:1.2rem;min-width:fit-content;line-height:38px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:17px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--text-light2);font-size:.9rem;min-width:fit-content;margin:0}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:fit-content;display:flex;align-items:center;color:var(--primary)!important;cursor:pointer;text-transform:uppercase;font-weight:600}"]})}}return n})();var iS=class{constructor(){this.meta={person:"",note:""},this.is_guest=!0,this.amount=0,this.duplicate_slots_allowed=-1,this.time_to="00:00"}};var vbe=["*"];var _be=["dialog"];var fY={animation:!0,transitionTimerDelayMs:5},ybe=(()=>{class n{constructor(){this.animation=fY.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wbe(n){let{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n),i=parseFloat(t),r=parseFloat(e);return(i+r)*1e3}function pY(n){return typeof n=="string"}function TU(n){return n!=null}function bbe(n){return n&&n.then}function AY(n){return(n||document.body).getBoundingClientRect()}function Cbe(n){return t=>new $t(e=>{let i=s=>n.run(()=>e.next(s)),r=s=>n.run(()=>e.error(s)),o=()=>n.run(()=>e.complete());return t.subscribe({next:i,error:r,complete:o})})}var Ebe=()=>{},{transitionTimerDelayMs:Sbe}=fY,fO=new Map,nv=(n,t,e,i)=>{let r=i.context||{},o=fO.get(t);if(o)switch(i.runningTransition){case"continue":return jo;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),fO.delete(t)}let s=e(t,i.animation,r)||Ebe;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return n.run(()=>s()),_t(void 0).pipe(Cbe(n));let a=new St,l=new St,u=a.pipe(cR(!0));fO.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let d=wbe(t);return n.runOutsideAngular(()=>{let h=Ur(t,"transitionend").pipe(Ui(u),Di(({target:A})=>A===t)),f=x0(d+Sbe).pipe(Ui(u));sR(f,h,l).pipe(Ui(u)).subscribe(()=>{fO.delete(t),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var gY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var mY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var vY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})(),_Y=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var Qrt=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||t()):!1})();var xbe=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function yY(n){let t=Array.from(n.querySelectorAll(xbe)).filter(e=>e.tabIndex!==-1);return[t[0],t[t.length-1]]}var Ibe=(n,t,e,i=!1)=>{n.runOutsideAngular(()=>{let r=Ur(t,"focusin").pipe(Ui(e),kt(o=>o.target));Ur(t,"keydown").pipe(Ui(e),Di(o=>o.key==="Tab"),xD(r)).subscribe(([o,s])=>{let[a,l]=yY(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Ur(t,"click").pipe(Ui(e),xD(r),kt(o=>o[1])).subscribe(o=>o.focus())})};var jrt=new Date(1882,10,12),Grt=new Date(2174,10,25);var Wrt=1e3*60*60*24;var OU=1080,Tbe=24*OU,Dbe=12*OU+793,Krt=29*Tbe+Dbe,zrt=11*OU+204;var wY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var bY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})(),Mbe=(()=>{class n{constructor(){this._ngbConfig=Oe(ybe),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Z1=class{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}};var Obe=(()=>{class n{constructor(){this._document=Oe(rn)}hide(){let e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(e>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Fbe=(()=>{class n{constructor(){this._nativeElement=Oe(Kt).nativeElement,this._zone=Oe(Pt),this._injector=Oe(Ci)}ngOnInit(){ip(()=>nv(this._zone,this._nativeElement,(e,i)=>{i&&AY(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:fs.MixedReadWrite})}hide(){return nv(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=wt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(Ks("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),zn("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[zs],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})(),X1=class{update(t){}close(t){}dismiss(t){}},Bbe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Pbe=["animation","backdropClass"],DU=class{_applyWindowOptions(t,e){Bbe.forEach(i=>{TU(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){Pbe.forEach(i=>{TU(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ui(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ui(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new St,this._dismissed=new St,this._hidden=new St,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let e=this._beforeDismiss();bbe(e)?e.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):e!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():_t(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),GC(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},MU=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(MU||{}),kbe=(()=>{class n{constructor(){this._document=Oe(rn),this._elRef=Oe(Kt),this._zone=Oe(Pt),this._injector=Oe(Ci),this._closed$=new St,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new at,this.shown=new St,this.hidden=new St}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":pY(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,ip(()=>this._show(),{injector:this._injector,phase:fs.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=nv(this._zone,e,()=>e.classList.remove("show"),i),o=nv(this._zone,this._dialogEl.nativeElement,()=>{},i),s=GC(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let e={animation:this.animation,runningTransition:"continue"},i=nv(this._zone,this._elRef.nativeElement,(o,s)=>{s&&AY(o),o.classList.add("show")},e),r=nv(this._zone,this._dialogEl.nativeElement,()=>{},e);GC(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Ur(e,"keydown").pipe(Ui(this._closed$),Di(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(MU.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;Ur(this._dialogEl.nativeElement,"mousedown").pipe(Ui(this._closed$),Vt(()=>i=!1),vo(()=>Ur(e,"mouseup").pipe(Ui(this._closed$),Qs(1))),Di(({target:r})=>e===r)).subscribe(()=>{i=!0}),Ur(e,"click").pipe(Ui(this._closed$)).subscribe(({target:r})=>{e===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(MU.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){let i=e.querySelector("[ngbAutofocus]"),r=yY(e)[0];(i||r||e).focus()}}_restoreFocus(){let e=this._document.body,i=this._elWithFocus,r;i&&i.focus&&e.contains(i)?r=i:r=e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&nv(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=wt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&Mi(_be,7),i&2){let o;ln(o=cn())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(_r("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Ks("modal d-block"+(r.windowClass?" "+r.windowClass:"")),zn("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[zs],ngContentSelectors:vbe,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(Ac(),I(0,"div",1,0)(2,"div",2),gc(3),M()()),i&2&&Ks("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return n})(),Nbe=(()=>{class n{constructor(){this._applicationRef=Oe($s),this._injector=Oe(Ci),this._environmentInjector=Oe(uo),this._document=Oe(rn),this._scrollBar=Oe(Obe),this._activeWindowCmptHasChanged=new St,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new at;let e=Oe(Pt);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];Ibe(e,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){let o=r.container instanceof HTMLElement?r.container:TU(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new X1;e=r.injector||e;let a=e.get(uo,null)||this._environmentInjector,l=this._getContentRef(e,a,i,s,r),u=r.backdrop!==!1?this._attachBackdrop(o):void 0,d=this._attachWindowComponent(o,l.nodes),h=new DU(d,l,u,r.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(Qs(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=f=>{h.close(f)},s.dismiss=f=>{h.dismiss(f)},s.update=f=>{h.update(f)},h.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=Z2(Fbe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=Z2(kbe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,o,s){return r?r instanceof Ln?this._createFromTemplateRef(r,o):pY(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new Z1([])}_createFromTemplateRef(e,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=e.createEmbeddedView(r);return this._applicationRef.attachView(o),new Z1([o.rootNodes],o)}_createFromString(e){let i=this._document.createTextNode(`${e}`);return new Z1([[i]])}_createFromComponent(e,i,r,o,s){let a=Ci.create({providers:[{provide:X1,useValue:o}],parent:e}),l=Z2(r,{environmentInjector:i,elementInjector:a}),u=l.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Z1([[u]],l.hostView,l)}_setAriaHidden(e){let i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){let i=()=>{let r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{let i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FU=(()=>{class n{constructor(){this._injector=Oe(Ci),this._modalStack=Oe(Nbe),this._config=Oe(Mbe)}open(e,i={}){let r=Ee(vt(Ee({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),CY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({providers:[FU]})}}return n})();var EY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var SY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var xY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var IY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var TY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var DY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var MY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var OY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var FY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var qrt=new Ke("live announcer delay",{providedIn:"root",factory:()=>100});var BY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var PY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})(),Rbe=[gY,mY,vY,_Y,wY,bY,CY,EY,PY,SY,xY,IY,TY,DY,MY,OY,FY,BY],kY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({imports:[Rbe,gY,mY,vY,_Y,wY,bY,CY,EY,PY,SY,xY,IY,TY,DY,MY,OY,FY,BY]})}}return n})();function Lbe(n,t){if(n&1){let e=We();I(0,"button",9),ve("click",function(){we(e);let r=te();return be(r.decline())}),H(1),M()}if(n&2){let e=te();x(),de(e.btnCancelText)}}function Ube(n,t){if(n&1){let e=We();I(0,"button",10),ve("click",function(){we(e);let r=te();return be(r.accept())}),H(1),M()}if(n&2){let e=te();x(),de(e.btnOkText)}}var RY=(()=>{class n{constructor(e){this.activeModal=e}ngOnInit(){}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}static{this.\u0275fac=function(i){return new(i||n)(ae(X1))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:11,vars:4,consts:[[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn","close",3,"click"],[1,"zmdi","zmdi-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","class","btn Cencel",3,"click",4,"ngIf"],["type","button","class","btn ",3,"click",4,"ngIf"],["type","button",1,"btn","Cencel",3,"click"],["type","button",1,"btn",3,"click"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"h4",2),H(3),M(),I(4,"button",3),ve("click",function(){return r.dismiss()}),se(5,"i",4),M()(),I(6,"div",5),H(7),M(),I(8,"div",6),he(9,Lbe,2,1,"button",7)(10,Ube,2,1,"button",8),M()()),i&2&&(x(3),de(r.title),x(4),le(" ",r.message," "),x(2),W("ngIf",r.btnCancelText),x(),W("ngIf",r.btnOkText))},dependencies:[En],styles:['.modal-content[_ngcontent-%COMP%]{background:var(--bg-white)!important;overflow:hidden;border-radius:7px}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--bg-color)}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-black);font-size:1.1rem;width:100%}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{background:none!important;padding:0;font-weight:400;box-shadow:none!important;min-height:30px;border:1.5px solid var(--primary);border-radius:50%;line-height:30px;height:3px;min-width:30px;width:30px;color:var(--primary)!important}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:0;line-height:28px;font-size:1rem;text-align:center;width:100%}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{color:var(--text-light);font-size:.8rem}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top:0 solid var(--bg-color);padding:0;display:flex;align-items:center;flex-wrap:nowrap}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{width:100%;margin:0;overflow:hidden;border-radius:0}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:nth-child(2){position:relative}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:nth-child(2):after{content:"";position:absolute;top:0;left:0;width:1px;height:100%;background-color:var(--text-white);z-index:9999;margin:0 auto}']})}}return n})();var Ca=(()=>{class n{constructor(e){this.modalService=e}confirm(e,i,r="OK",o,s="sm"){let a=this.modalService.open(RY,{size:s});return a.componentInstance.title=e,a.componentInstance.message=i,a.componentInstance.btnOkText=r,o&&(a.componentInstance.btnCancelText=o),a.result}static{this.\u0275fac=function(i){return new(i||n)(Te(FU))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})();var vs=(()=>{class n{constructor(){this.selectedLanguage=new St,this.authResponse=new St,this.profile=new St,this.updatePoductStatus=new St,this.orderUpdateEvent=new St,this.tableBookingUpdateEvent=new St,this.chatEvent=new St}getChatObservable(){return this.chatEvent.asObservable()}setChatData(e){this.chatEvent.next(e)}getTableBookingObservable(){return this.tableBookingUpdateEvent.asObservable()}setTableBookingData(e){this.tableBookingUpdateEvent.next(e)}getOrderObservable(){return this.orderUpdateEvent.asObservable()}setOrderData(e){this.orderUpdateEvent.next(e)}getLanguageObservable(){return this.selectedLanguage.asObservable()}setLanguageData(e){this.selectedLanguage.next(e)}getLoginObservable(){return this.authResponse.asObservable()}setLoginData(e){this.authResponse.next(e)}getProfileObservable(){return this.profile.asObservable()}setProfileData(e){this.profile.next(e)}getUpdatePoductObservable(){return this.updatePoductStatus.asObservable()}setUpdatePoductData(e){this.updatePoductStatus.next(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Hbe(n,t){if(n&1){let e=We();I(0,"a",12),ve("keyup.enter",function(){we(e),te(3);let r=Mr(1);return be(r.previous())})("click",function(){we(e),te(3);let r=Mr(1);return be(r.previous())}),H(1),I(2,"span",13),H(3),M()()}if(n&2){let e=te(3);x(),le(" ",e.previousLabel," "),x(2),de(e.screenReaderPageLabel)}}function Vbe(n,t){if(n&1&&(I(0,"span",14),H(1),I(2,"span",13),H(3),M()()),n&2){let e=te(3);x(),le(" ",e.previousLabel," "),x(2),de(e.screenReaderPageLabel)}}function Qbe(n,t){if(n&1&&(I(0,"li",9),he(1,Hbe,4,2,"a",10)(2,Vbe,4,2,"span",11),M()),n&2){te(2);let e=Mr(1);zn("disabled",e.isFirstPage()),x(),W("ngIf",1<e.getCurrent()),x(),W("ngIf",e.isFirstPage())}}function jbe(n,t){if(n&1){let e=We();I(0,"a",12),ve("keyup.enter",function(){we(e);let r=te().$implicit;te(2);let o=Mr(1);return be(o.setCurrent(r.value))})("click",function(){we(e);let r=te().$implicit;te(2);let o=Mr(1);return be(o.setCurrent(r.value))}),I(1,"span",13),H(2),M(),I(3,"span"),H(4),K(5,"number"),M()()}if(n&2){let e=te().$implicit,i=te(2);x(2),le("",i.screenReaderPageLabel," "),x(2),de(e.label==="..."?e.label:qs(5,2,e.label,""))}}function Gbe(n,t){if(n&1&&(zo(0),I(1,"span",16)(2,"span",13),H(3),M(),I(4,"span"),H(5),K(6,"number"),M()(),qo()),n&2){let e=te().$implicit,i=te(2);x(3),le("",i.screenReaderCurrentLabel," "),x(2),de(e.label==="..."?e.label:qs(6,2,e.label,""))}}function Wbe(n,t){if(n&1&&(I(0,"li"),he(1,jbe,6,5,"a",10)(2,Gbe,7,5,"ng-container",15),M()),n&2){let e=t.$implicit;te(2);let i=Mr(1);zn("current",i.getCurrent()===e.value)("ellipsis",e.label==="..."),x(),W("ngIf",i.getCurrent()!==e.value),x(),W("ngIf",i.getCurrent()===e.value)}}function Kbe(n,t){if(n&1){let e=We();I(0,"a",12),ve("keyup.enter",function(){we(e),te(3);let r=Mr(1);return be(r.next())})("click",function(){we(e),te(3);let r=Mr(1);return be(r.next())}),H(1),I(2,"span",13),H(3),M()()}if(n&2){let e=te(3);x(),le(" ",e.nextLabel," "),x(2),de(e.screenReaderPageLabel)}}function zbe(n,t){if(n&1&&(I(0,"span",14),H(1),I(2,"span",13),H(3),M()()),n&2){let e=te(3);x(),le(" ",e.nextLabel," "),x(2),de(e.screenReaderPageLabel)}}function qbe(n,t){if(n&1&&(I(0,"li",17),he(1,Kbe,4,2,"a",10)(2,zbe,4,2,"span",11),M()),n&2){te(2);let e=Mr(1);zn("disabled",e.isLastPage()),x(),W("ngIf",!e.isLastPage()),x(),W("ngIf",e.isLastPage())}}function $be(n,t){if(n&1&&(I(0,"ul",4),he(1,Qbe,3,4,"li",5),I(2,"li",6),H(3),M(),he(4,Wbe,3,6,"li",7)(5,qbe,3,4,"li",8),M()),n&2){let e=te(),i=Mr(1);zn("responsive",e.responsive),x(),W("ngIf",e.directionLinks),x(2),pn(" ",i.getCurrent()," / ",i.getLastPage()," "),x(),W("ngForOf",i.pages)("ngForTrackBy",e.trackByIndex),x(),W("ngIf",e.directionLinks)}}var rS=class{constructor(){this.change=new at,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return t.id==null&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let i in this.instances[t.id])t[i]!==this.instances[t.id][i]&&(this.instances[t.id][i]=t[i],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let i=this.instances[t],r=Math.ceil(i.totalItems/i.itemsPerPage);e<=r&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}},Ybe=Number.MAX_SAFE_INTEGER,mu=(()=>{class n{constructor(e){this.service=e,this.state={}}transform(e,i){if(!(e instanceof Array)){let h=i.id||this.service.defaultId();return this.state[h]?this.state[h].slice:e}let r=i.totalItems&&i.totalItems!==e.length,o=this.createInstance(e,i),s=o.id,a,l,u=o.itemsPerPage,d=this.service.register(o);if(!r&&e instanceof Array){if(u=+u||Ybe,a=(o.currentPage-1)*u,l=a+u,this.stateIsIdentical(s,e,a,l))return this.state[s].slice;{let f=e.slice(a,l);return this.saveState(s,e,f,a,l),this.service.change.emit(s),f}}else return d&&this.service.change.emit(s),this.saveState(s,e,e,a,l),e}createInstance(e,i){return this.checkConfig(i),{id:i.id!=null?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||e.length}}checkConfig(e){let r=["itemsPerPage","currentPage"].filter(o=>!(o in e));if(0<r.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${r.join(", ")}`)}saveState(e,i,r,o,s){this.state[e]={collection:i,size:i.length,slice:r,start:o,end:s}}stateIsIdentical(e,i,r,o){let s=this.state[e];return!s||!(s.size===i.length&&s.start===r&&s.end===o)?!1:s.slice.every((l,u)=>l===i[r+u])}}return n.\u0275fac=function(e){return new(e||n)(ae(rS,16))},n.\u0275pipe=kh({name:"paginate",type:n,pure:!1}),n})();var Zbe=(()=>{class n{constructor(e,i){this.service=e,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new at,this.pageBoundsCorrection=new at,this.pages=[],this.changeSub=this.service.change.subscribe(r=>{this.id===r&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id),i=this.outOfBoundCorrection(e);i!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){let i=Math.ceil(e.totalItems/e.itemsPerPage);return i<e.currentPage&&0<i?i:e.currentPage<1?1:e.currentPage}createPageArray(e,i,r,o){o=+o;let s=[],a=Math.max(Math.ceil(r/i),1),l=Math.ceil(o/2),u=e<=l,d=a-l<e,h=!u&&!d,f=o<a,A=1;for(;A<=a&&A<=o;){let g,m=this.calculatePageNumber(A,e,o,a),b=A===2&&(h||d),S=A===o-1&&(h||u);f&&(b||S)?g="...":g=m,s.push({label:g,value:m}),A++}return s}calculatePageNumber(e,i,r,o){let s=Math.ceil(r/2);return e===r?o:e===1?e:r<o?o-s<i?o-r+e:s<i?i-s+e:e:e}}return n.\u0275fac=function(e){return new(e||n)(ae(rS),ae(Yo))},n.\u0275dir=Mt({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[ei]}),n})();function BU(n){return!!n&&n!=="false"}var vu=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new at,this.pageBoundsCorrection=new at,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=BU(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=BU(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=BU(e)}trackByIndex(e){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=wt({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,i){if(e&1){let r=We();I(0,"pagination-template",1,0),ve("pageChange",function(s){return we(r),be(i.pageChange.emit(s))})("pageBoundsCorrection",function(s){return we(r),be(i.pageBoundsCorrection.emit(s))}),I(2,"nav",2),he(3,$be,6,8,"ul",3),M()()}if(e&2){let r=Mr(1);W("id",i.id)("maxSize",i.maxSize),x(2),_r("aria-label",i.screenReaderPaginationLabel),x(),W("ngIf",!(i.autoHide&&r.pages.length<=1))}},dependencies:[Zbe,En,ti,tq],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),n})(),LY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ht({type:n}),n.\u0275inj=dt({providers:[rS],imports:[[As]]}),n})();var Xbe=["content"],Jbe=["scroll"],eCe=["padding"],VY=["*"],sS=n=>({searchTerm:n});function tCe(n,t){if(n&1&&(I(0,"div",6),hE(1,7),M()),n&2){let e=te();x(),W("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",fu(2,sS,e.filterValue))}}function nCe(n,t){if(n&1&&(I(0,"div",8),hE(1,7),M()),n&2){let e=te();x(),W("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",fu(2,sS,e.filterValue))}}var iCe=["searchInput"],rCe=["clearButton"],oCe=(n,t,e)=>({item:n,clear:t,label:e}),sCe=(n,t)=>({items:n,clear:t}),aCe=(n,t,e,i)=>({item:n,item$:t,index:e,searchTerm:i});function lCe(n,t){if(n&1){let e=We();I(0,"span",22),ve("click",function(){we(e);let r=te().$implicit,o=te(2);return be(o.unselect(r))}),H(1,"\xD7"),M(),se(2,"span",23)}if(n&2){let e=te().$implicit,i=te(2);x(2),W("ngItemLabel",e.label)("escape",i.escapeHTML)}}function cCe(n,t){}function uCe(n,t){if(n&1&&(I(0,"div",20),he(1,lCe,3,2,"ng-template",null,1,Lh)(3,cCe,0,0,"ng-template",21),M()),n&2){let e=t.$implicit,i=Mr(2),r=te(2);zn("ng-value-disabled",e.disabled),x(3),W("ngTemplateOutlet",r.labelTemplate||i)("ngTemplateOutletContext",el(4,oCe,e.value,r.clearItem,e.label))}}function dCe(n,t){if(n&1&&(zo(0),he(1,uCe,4,8,"div",19),qo()),n&2){let e=te();x(),W("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByOption)}}function hCe(n,t){}function fCe(n,t){if(n&1&&he(0,hCe,0,0,"ng-template",21),n&2){let e=te();W("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",W0(2,sCe,e.selectedValues,e.clearItem))}}function pCe(n,t){n&1&&se(0,"div",25)}function ACe(n,t){}function gCe(n,t){if(n&1&&(zo(0),he(1,pCe,1,0,"ng-template",null,2,Lh)(3,ACe,0,0,"ng-template",24),qo()),n&2){let e=Mr(2),i=te();x(3),W("ngTemplateOutlet",i.loadingSpinnerTemplate||e)}}function mCe(n,t){if(n&1&&(I(0,"span",26,3)(2,"span",27),H(3,"\xD7"),M()()),n&2){let e=te();nt("title",e.clearAllText)}}function vCe(n,t){if(n&1&&se(0,"span",32),n&2){let e=te().$implicit,i=te(2);W("ngItemLabel",e.label)("escape",i.escapeHTML)}}function _Ce(n,t){}function yCe(n,t){if(n&1){let e=We();I(0,"div",31),ve("click",function(){let r=we(e).$implicit,o=te(2);return be(o.toggleItem(r))})("mouseover",function(){let r=we(e).$implicit,o=te(2);return be(o.onItemHover(r))}),he(1,vCe,1,2,"ng-template",null,4,Lh)(3,_Ce,0,0,"ng-template",21),M()}if(n&2){let e=t.$implicit,i=Mr(2),r=te(2);zn("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===r.itemsList.markedItem),_r("role",e.children?"group":"option")("aria-selected",e.selected)("id",e==null?null:e.htmlId),x(3),W("ngTemplateOutlet",e.children?r.optgroupTemplate||i:r.optionTemplate||i)("ngTemplateOutletContext",B3(17,aCe,e.value,e,e.index,r.searchTerm))}}function wCe(n,t){if(n&1&&(I(0,"span")(1,"span",34),H(2),M(),H(3),M()),n&2){let e=te(3);x(2),de(e.addTagText),x(),le('"',e.searchTerm,'"')}}function bCe(n,t){}function CCe(n,t){if(n&1){let e=We();I(0,"div",33),ve("mouseover",function(){we(e);let r=te(2);return be(r.itemsList.unmarkItem())})("click",function(){we(e);let r=te(2);return be(r.selectTag())}),he(1,wCe,4,2,"ng-template",null,5,Lh)(3,bCe,0,0,"ng-template",21),M()}if(n&2){let e=Mr(2),i=te(2);zn("ng-option-marked",!i.itemsList.markedItem),x(3),W("ngTemplateOutlet",i.tagTemplate||e)("ngTemplateOutletContext",fu(4,sS,i.searchTerm))}}function ECe(n,t){if(n&1&&(I(0,"div",35),H(1),M()),n&2){let e=te(3);x(),de(e.notFoundText)}}function SCe(n,t){}function xCe(n,t){if(n&1&&(zo(0),he(1,ECe,2,1,"ng-template",null,6,Lh)(3,SCe,0,0,"ng-template",21),qo()),n&2){let e=Mr(2),i=te(2);x(3),W("ngTemplateOutlet",i.notFoundTemplate||e)("ngTemplateOutletContext",fu(2,sS,i.searchTerm))}}function ICe(n,t){if(n&1&&(I(0,"div",35),H(1),M()),n&2){let e=te(3);x(),de(e.typeToSearchText)}}function TCe(n,t){}function DCe(n,t){if(n&1&&(zo(0),he(1,ICe,2,1,"ng-template",null,7,Lh)(3,TCe,0,0,"ng-template",24),qo()),n&2){let e=Mr(2),i=te(2);x(3),W("ngTemplateOutlet",i.typeToSearchTemplate||e)}}function MCe(n,t){if(n&1&&(I(0,"div",35),H(1),M()),n&2){let e=te(3);x(),de(e.loadingText)}}function OCe(n,t){}function FCe(n,t){if(n&1&&(zo(0),he(1,MCe,2,1,"ng-template",null,8,Lh)(3,OCe,0,0,"ng-template",21),qo()),n&2){let e=Mr(2),i=te(2);x(3),W("ngTemplateOutlet",i.loadingTextTemplate||e)("ngTemplateOutletContext",fu(2,sS,i.searchTerm))}}function BCe(n,t){if(n&1){let e=We();I(0,"ng-dropdown-panel",28),ve("update",function(r){we(e);let o=te();return be(o.viewPortItems=r)})("scroll",function(r){we(e);let o=te();return be(o.scroll.emit(r))})("scrollToEnd",function(r){we(e);let o=te();return be(o.scrollToEnd.emit(r))})("outsideClick",function(){we(e);let r=te();return be(r.close())}),zo(1),he(2,yCe,4,22,"div",29)(3,CCe,4,6,"div",30),qo(),he(4,xCe,4,4,"ng-container",12)(5,DCe,4,1,"ng-container",12)(6,FCe,4,4,"ng-container",12),M()}if(n&2){let e=te();zn("ng-select-multiple",e.multiple),W("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.classes:null)("id",e.dropdownId),x(2),W("ngForOf",e.viewPortItems)("ngForTrackBy",e.trackByOption),x(),W("ngIf",e.showAddTag),x(),W("ngIf",e.showNoItemsFound()),x(),W("ngIf",e.showTypeToSearch()),x(),W("ngIf",e.loading&&e.itemsList.filteredItems.length===0)}}var QY=/[&<>"']/g,PCe=RegExp(QY.source),kCe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function NCe(n){return n&&PCe.test(n)?n.replace(QY,t=>kCe[t]):n}function jr(n){return n!=null}function oS(n){return typeof n=="object"&&jr(n)}function RCe(n){return n instanceof Promise}function AO(n){return n instanceof Function}var LCe=(()=>{class n{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?NCe(this.ngItemLabel):this.ngItemLabel}static{this.\u0275fac=function(i){return new(i||n)(ae(Kt))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[ei]})}}return n})(),UCe=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(ae(Ln))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ng-option-tmp",""]]})}}return n})(),HCe=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(ae(Ln))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ng-optgroup-tmp",""]]})}}return n})(),VCe=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(ae(Ln))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ng-label-tmp",""]]})}}return n})(),QCe=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(ae(Ln))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ng-multi-label-tmp",""]]})}}return n})(),jCe=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(ae(Ln))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ng-header-tmp",""]]})}}return n})(),GCe=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(ae(Ln))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ng-footer-tmp",""]]})}}return n})(),WCe=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(ae(Ln))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ng-notfound-tmp",""]]})}}return n})(),KCe=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(ae(Ln))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ng-typetosearch-tmp",""]]})}}return n})(),zCe=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(ae(Ln))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ng-loadingtext-tmp",""]]})}}return n})(),qCe=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(ae(Ln))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ng-tag-tmp",""]]})}}return n})(),$Ce=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(ae(Ln))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ng-loadingspinner-tmp",""]]})}}return n})();function jY(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}var YCe={"\u24B6":"A",\uFF21:"A",\u00C0:"A",\u00C1:"A",\u00C2:"A",\u1EA6:"A",\u1EA4:"A",\u1EAA:"A",\u1EA8:"A",\u00C3:"A",\u0100:"A",\u0102:"A",\u1EB0:"A",\u1EAE:"A",\u1EB4:"A",\u1EB2:"A",\u0226:"A",\u01E0:"A",\u00C4:"A",\u01DE:"A",\u1EA2:"A",\u00C5:"A",\u01FA:"A",\u01CD:"A",\u0200:"A",\u0202:"A",\u1EA0:"A",\u1EAC:"A",\u1EB6:"A",\u1E00:"A",\u0104:"A","\u023A":"A","\u2C6F":"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B",\uFF22:"B",\u1E02:"B",\u1E04:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0181:"B","\u24B8":"C",\uFF23:"C",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0187:"C","\u023B":"C","\uA73E":"C","\u24B9":"D",\uFF24:"D",\u1E0A:"D",\u010E:"D",\u1E0C:"D",\u1E10:"D",\u1E12:"D",\u1E0E:"D",\u0110:"D",\u018B:"D",\u018A:"D",\u0189:"D","\uA779":"D",\u01F1:"DZ",\u01C4:"DZ",\u01F2:"Dz",\u01C5:"Dz","\u24BA":"E",\uFF25:"E",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u1EC0:"E",\u1EBE:"E",\u1EC4:"E",\u1EC2:"E",\u1EBC:"E",\u0112:"E",\u1E14:"E",\u1E16:"E",\u0114:"E",\u0116:"E",\u00CB:"E",\u1EBA:"E",\u011A:"E",\u0204:"E",\u0206:"E",\u1EB8:"E",\u1EC6:"E",\u0228:"E",\u1E1C:"E",\u0118:"E",\u1E18:"E",\u1E1A:"E",\u0190:"E",\u018E:"E","\u24BB":"F",\uFF26:"F",\u1E1E:"F",\u0191:"F","\uA77B":"F","\u24BC":"G",\uFF27:"G",\u01F4:"G",\u011C:"G",\u1E20:"G",\u011E:"G",\u0120:"G",\u01E6:"G",\u0122:"G",\u01E4:"G",\u0193:"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H",\uFF28:"H",\u0124:"H",\u1E22:"H",\u1E26:"H",\u021E:"H",\u1E24:"H",\u1E28:"H",\u1E2A:"H",\u0126:"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I",\uFF29:"I",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u0128:"I",\u012A:"I",\u012C:"I",\u0130:"I",\u00CF:"I",\u1E2E:"I",\u1EC8:"I",\u01CF:"I",\u0208:"I",\u020A:"I",\u1ECA:"I",\u012E:"I",\u1E2C:"I",\u0197:"I","\u24BF":"J",\uFF2A:"J",\u0134:"J","\u0248":"J","\u24C0":"K",\uFF2B:"K",\u1E30:"K",\u01E8:"K",\u1E32:"K",\u0136:"K",\u1E34:"K",\u0198:"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L",\uFF2C:"L",\u013F:"L",\u0139:"L",\u013D:"L",\u1E36:"L",\u1E38:"L",\u013B:"L",\u1E3C:"L",\u1E3A:"L",\u0141:"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L",\u01C7:"LJ",\u01C8:"Lj","\u24C2":"M",\uFF2D:"M",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u019C:"M","\u24C3":"N",\uFF2E:"N",\u01F8:"N",\u0143:"N",\u00D1:"N",\u1E44:"N",\u0147:"N",\u1E46:"N",\u0145:"N",\u1E4A:"N",\u1E48:"N","\u0220":"N",\u019D:"N","\uA790":"N","\uA7A4":"N",\u01CA:"NJ",\u01CB:"Nj","\u24C4":"O",\uFF2F:"O",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u1ED2:"O",\u1ED0:"O",\u1ED6:"O",\u1ED4:"O",\u00D5:"O",\u1E4C:"O",\u022C:"O",\u1E4E:"O",\u014C:"O",\u1E50:"O",\u1E52:"O",\u014E:"O",\u022E:"O",\u0230:"O",\u00D6:"O",\u022A:"O",\u1ECE:"O",\u0150:"O",\u01D1:"O",\u020C:"O",\u020E:"O",\u01A0:"O",\u1EDC:"O",\u1EDA:"O",\u1EE0:"O",\u1EDE:"O",\u1EE2:"O",\u1ECC:"O",\u1ED8:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u0186:"O",\u019F:"O","\uA74A":"O","\uA74C":"O",\u01A2:"OI","\uA74E":"OO",\u0222:"OU","\u24C5":"P",\uFF30:"P",\u1E54:"P",\u1E56:"P",\u01A4:"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q",\uFF31:"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R",\uFF32:"R",\u0154:"R",\u1E58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1E5A:"R",\u1E5C:"R",\u0156:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S",\uFF33:"S","\u1E9E":"S",\u015A:"S",\u1E64:"S",\u015C:"S",\u1E60:"S",\u0160:"S",\u1E66:"S",\u1E62:"S",\u1E68:"S",\u0218:"S",\u015E:"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T",\uFF34:"T",\u1E6A:"T",\u0164:"T",\u1E6C:"T",\u021A:"T",\u0162:"T",\u1E70:"T",\u1E6E:"T",\u0166:"T",\u01AC:"T",\u01AE:"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U",\uFF35:"U",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u0168:"U",\u1E78:"U",\u016A:"U",\u1E7A:"U",\u016C:"U",\u00DC:"U",\u01DB:"U",\u01D7:"U",\u01D5:"U",\u01D9:"U",\u1EE6:"U",\u016E:"U",\u0170:"U",\u01D3:"U",\u0214:"U",\u0216:"U",\u01AF:"U",\u1EEA:"U",\u1EE8:"U",\u1EEE:"U",\u1EEC:"U",\u1EF0:"U",\u1EE4:"U",\u1E72:"U",\u0172:"U",\u1E76:"U",\u1E74:"U","\u0244":"U","\u24CB":"V",\uFF36:"V",\u1E7C:"V",\u1E7E:"V",\u01B2:"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W",\uFF37:"W",\u1E80:"W",\u1E82:"W",\u0174:"W",\u1E86:"W",\u1E84:"W",\u1E88:"W","\u2C72":"W","\u24CD":"X",\uFF38:"X",\u1E8A:"X",\u1E8C:"X","\u24CE":"Y",\uFF39:"Y",\u1EF2:"Y",\u00DD:"Y",\u0176:"Y",\u1EF8:"Y",\u0232:"Y",\u1E8E:"Y",\u0178:"Y",\u1EF6:"Y",\u1EF4:"Y",\u01B3:"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z",\uFF3A:"Z",\u0179:"Z",\u1E90:"Z",\u017B:"Z",\u017D:"Z",\u1E92:"Z",\u1E94:"Z",\u01B5:"Z",\u0224:"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a",\uFF41:"a",\u1E9A:"a",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u1EA7:"a",\u1EA5:"a",\u1EAB:"a",\u1EA9:"a",\u00E3:"a",\u0101:"a",\u0103:"a",\u1EB1:"a",\u1EAF:"a",\u1EB5:"a",\u1EB3:"a",\u0227:"a",\u01E1:"a",\u00E4:"a",\u01DF:"a",\u1EA3:"a",\u00E5:"a",\u01FB:"a",\u01CE:"a",\u0201:"a",\u0203:"a",\u1EA1:"a",\u1EAD:"a",\u1EB7:"a",\u1E01:"a",\u0105:"a","\u2C65":"a",\u0250:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b",\uFF42:"b",\u1E03:"b",\u1E05:"b",\u1E07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24D2":"c",\uFF43:"c",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0188:"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d",\uFF44:"d",\u1E0B:"d",\u010F:"d",\u1E0D:"d",\u1E11:"d",\u1E13:"d",\u1E0F:"d",\u0111:"d",\u018C:"d",\u0256:"d",\u0257:"d","\uA77A":"d",\u01F3:"dz",\u01C6:"dz","\u24D4":"e",\uFF45:"e",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u1EC1:"e",\u1EBF:"e",\u1EC5:"e",\u1EC3:"e",\u1EBD:"e",\u0113:"e",\u1E15:"e",\u1E17:"e",\u0115:"e",\u0117:"e",\u00EB:"e",\u1EBB:"e",\u011B:"e",\u0205:"e",\u0207:"e",\u1EB9:"e",\u1EC7:"e",\u0229:"e",\u1E1D:"e",\u0119:"e",\u1E19:"e",\u1E1B:"e","\u0247":"e",\u025B:"e",\u01DD:"e","\u24D5":"f",\uFF46:"f",\u1E1F:"f",\u0192:"f","\uA77C":"f","\u24D6":"g",\uFF47:"g",\u01F5:"g",\u011D:"g",\u1E21:"g",\u011F:"g",\u0121:"g",\u01E7:"g",\u0123:"g",\u01E5:"g",\u0260:"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h",\uFF48:"h",\u0125:"h",\u1E23:"h",\u1E27:"h",\u021F:"h",\u1E25:"h",\u1E29:"h",\u1E2B:"h",\u1E96:"h",\u0127:"h","\u2C68":"h","\u2C76":"h",\u0265:"h",\u0195:"hv","\u24D8":"i",\uFF49:"i",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u0129:"i",\u012B:"i",\u012D:"i",\u00EF:"i",\u1E2F:"i",\u1EC9:"i",\u01D0:"i",\u0209:"i",\u020B:"i",\u1ECB:"i",\u012F:"i",\u1E2D:"i",\u0268:"i",\u0131:"i","\u24D9":"j",\uFF4A:"j",\u0135:"j",\u01F0:"j","\u0249":"j","\u24DA":"k",\uFF4B:"k",\u1E31:"k",\u01E9:"k",\u1E33:"k",\u0137:"k",\u1E35:"k",\u0199:"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l",\uFF4C:"l",\u0140:"l",\u013A:"l",\u013E:"l",\u1E37:"l",\u1E39:"l",\u013C:"l",\u1E3D:"l",\u1E3B:"l",\u017F:"l",\u0142:"l",\u019A:"l",\u026B:"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l",\u01C9:"lj","\u24DC":"m",\uFF4D:"m",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m",\u026F:"m","\u24DD":"n",\uFF4E:"n",\u01F9:"n",\u0144:"n",\u00F1:"n",\u1E45:"n",\u0148:"n",\u1E47:"n",\u0146:"n",\u1E4B:"n",\u1E49:"n",\u019E:"n",\u0272:"n",\u0149:"n","\uA791":"n","\uA7A5":"n",\u01CC:"nj","\u24DE":"o",\uFF4F:"o",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u1ED3:"o",\u1ED1:"o",\u1ED7:"o",\u1ED5:"o",\u00F5:"o",\u1E4D:"o",\u022D:"o",\u1E4F:"o",\u014D:"o",\u1E51:"o",\u1E53:"o",\u014F:"o",\u022F:"o",\u0231:"o",\u00F6:"o",\u022B:"o",\u1ECF:"o",\u0151:"o",\u01D2:"o",\u020D:"o",\u020F:"o",\u01A1:"o",\u1EDD:"o",\u1EDB:"o",\u1EE1:"o",\u1EDF:"o",\u1EE3:"o",\u1ECD:"o",\u1ED9:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u0254:"o","\uA74B":"o","\uA74D":"o",\u0275:"o",\u01A3:"oi",\u0223:"ou","\uA74F":"oo","\u24DF":"p",\uFF50:"p",\u1E55:"p",\u1E57:"p",\u01A5:"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q",\uFF51:"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r",\uFF52:"r",\u0155:"r",\u1E59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1E5B:"r",\u1E5D:"r",\u0157:"r",\u1E5F:"r","\u024D":"r",\u027D:"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s",\uFF53:"s",\u00DF:"s",\u015B:"s",\u1E65:"s",\u015D:"s",\u1E61:"s",\u0161:"s",\u1E67:"s",\u1E63:"s",\u1E69:"s",\u0219:"s",\u015F:"s","\u023F":"s","\uA7A9":"s","\uA785":"s",\u1E9B:"s","\u24E3":"t",\uFF54:"t",\u1E6B:"t",\u1E97:"t",\u0165:"t",\u1E6D:"t",\u021B:"t",\u0163:"t",\u1E71:"t",\u1E6F:"t",\u0167:"t",\u01AD:"t",\u0288:"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u",\uFF55:"u",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u0169:"u",\u1E79:"u",\u016B:"u",\u1E7B:"u",\u016D:"u",\u00FC:"u",\u01DC:"u",\u01D8:"u",\u01D6:"u",\u01DA:"u",\u1EE7:"u",\u016F:"u",\u0171:"u",\u01D4:"u",\u0215:"u",\u0217:"u",\u01B0:"u",\u1EEB:"u",\u1EE9:"u",\u1EEF:"u",\u1EED:"u",\u1EF1:"u",\u1EE5:"u",\u1E73:"u",\u0173:"u",\u1E77:"u",\u1E75:"u",\u0289:"u","\u24E5":"v",\uFF56:"v",\u1E7D:"v",\u1E7F:"v",\u028B:"v","\uA75F":"v",\u028C:"v","\uA761":"vy","\u24E6":"w",\uFF57:"w",\u1E81:"w",\u1E83:"w",\u0175:"w",\u1E87:"w",\u1E85:"w",\u1E98:"w",\u1E89:"w","\u2C73":"w","\u24E7":"x",\uFF58:"x",\u1E8B:"x",\u1E8D:"x","\u24E8":"y",\uFF59:"y",\u1EF3:"y",\u00FD:"y",\u0177:"y",\u1EF9:"y",\u0233:"y",\u1E8F:"y",\u00FF:"y",\u1EF7:"y",\u1E99:"y",\u1EF5:"y",\u01B4:"y","\u024F":"y","\u1EFF":"y","\u24E9":"z",\uFF5A:"z",\u017A:"z",\u1E91:"z",\u017C:"z",\u017E:"z",\u1E93:"z",\u1E95:"z",\u01B6:"z",\u0225:"z","\u0240":"z","\u2C6C":"z","\uA763":"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038A:"\u0399",\u03AA:"\u0399",\u038C:"\u039F",\u038E:"\u03A5",\u03AB:"\u03A5",\u038F:"\u03A9",\u03AC:"\u03B1",\u03AD:"\u03B5",\u03AE:"\u03B7",\u03AF:"\u03B9",\u03CA:"\u03B9",\u0390:"\u03B9",\u03CC:"\u03BF",\u03CD:"\u03C5",\u03CB:"\u03C5",\u03B0:"\u03C5",\u03C9:"\u03C9",\u03C2:"\u03C3"};function pO(n){let t=e=>YCe[e]||e;return n.replace(/[^\u0000-\u007E]/g,t)}var PU=class{constructor(t,e){this._ngSelect=t,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let t=this.selectedItems.length-1;for(;t>=0;t--){let e=this.selectedItems[t];if(!e.disabled)return e}return null}setItems(t){this._items=t.map((e,i)=>this.mapItem(e,i)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(t){if(t.selected||this.maxItemsSelected)return;let e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(t,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}unselect(t){t.selected&&(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&jr(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}findItem(t){let e;return this._ngSelect.compareWith?e=i=>this._ngSelect.compareWith(i.value,t):this._ngSelect.bindValue?e=i=>!i.children&&this.resolveNested(i.value,this._ngSelect.bindValue)===t:e=i=>i.value===t||!i.children&&i.label&&i.label===this.resolveNested(t,this._ngSelect.bindLabel),this._items.find(i=>e(i))}addItem(t){let e=this.mapItem(t,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(t=!1){this._selectionModel.clear(t),this._items.forEach(e=>{e.selected=t&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(t){return t=pO(t).toLocaleLowerCase(),this.filteredItems.find(e=>pO(e.label).toLocaleLowerCase().substr(0,t.length)===t)}filter(t){if(!t){this.resetFilteredItems();return}this._filteredItems=[],t=this._ngSelect.searchFn?t:pO(t).toLocaleLowerCase();let e=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected;for(let r of Array.from(this._groups.keys())){let o=[];for(let s of this._groups.get(r)){if(i&&(s.parent&&s.parent.selected||s.selected))continue;let a=this._ngSelect.searchFn?s.value:s;e(t,a)&&o.push(s)}if(o.length>0){let[s]=o.slice(-1);if(s.parent){let a=this._items.find(l=>l===s.parent);this._filteredItems.push(a)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._ngSelect.hideSelected&&this.selectedItems.length>0?this._filteredItems=this._items.filter(t=>!t.selected):this._filteredItems=this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(t){this._markedIndex=this._filteredItems.indexOf(t)}markSelectedOrDefault(t){if(this._filteredItems.length===0)return;let e=this._getLastMarkedIndex();e>-1?this._markedIndex=e:this._markedIndex=t?this.filteredItems.findIndex(i=>!i.disabled):-1}resolveNested(t,e){if(!oS(t))return t;if(e.indexOf(".")===-1)return t[e];{let i=e.split("."),r=t;for(let o=0,s=i.length;o<s;++o){if(r==null)return null;r=r[i[o]]}return r}}mapItem(t,e){let i=jr(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),r=jr(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:e,label:jr(i)?i.toString():"",value:r,disabled:t.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){let t=this._ngSelect.multiple;for(let e of this.selectedItems){let i=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value,r=jr(i)?this.findItem(i):null;this._selectionModel.unselect(e,t),this._selectionModel.select(r||e,t,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>this.selectedItems.indexOf(e)===-1))}_showSelected(t){if(this._filteredItems.push(t),t.parent){let e=t.parent;this._filteredItems.find(r=>r===e)||this._filteredItems.push(e)}else if(t.children)for(let e of t.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,i)=>e.index-i.index)]}_hideSelected(t){this._filteredItems=this._filteredItems.filter(e=>e!==t),t.parent?t.parent.children.every(i=>i.selected)&&(this._filteredItems=this._filteredItems.filter(i=>i!==t.parent)):t.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==t))}_defaultSearchFn(t,e){return pO(e.label).toLocaleLowerCase().indexOf(t)>-1}_getNextItemIndex(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(t){this._filteredItems.length===0||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&this.markedItem===void 0)return-1;let t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}_groupBy(t,e){let i=new Map;if(t.length===0)return i;if(Array.isArray(t[0].value[e])){for(let s of t){let a=(s.value[e]||[]).map((l,u)=>this.mapItem(l,u));i.set(s,a)}return i}let r=AO(this._ngSelect.groupBy),o=s=>{let a=r?e(s.value):s.value[e];return jr(a)?a:void 0};for(let s of t){let a=o(s),l=i.get(a);l?l.push(s):i.set(a,[s])}return i}_flatten(t){let e=AO(this._ngSelect.groupBy),i=[];for(let r of Array.from(t.keys())){let o=i.length;if(r===void 0){let h=t.get(void 0)||[];i.push(...h.map(f=>(f.index=o++,f)));continue}let s=oS(r),a={label:s?"":String(r),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup,htmlId:jY()},l=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,u=this._ngSelect.groupValue||(()=>s?r.value:{[l]:r}),d=t.get(r).map(h=>(h.parent=a,h.children=void 0,h.index=o++,h));a.children=d,a.value=u(r,d.map(h=>h.value)),i.push(a),i.push(...d)}return i}},Kh=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Esc=27]="Esc",n[n.Space=32]="Space",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowDown=40]="ArrowDown",n[n.Backspace=8]="Backspace",n}(Kh||{}),GY=(()=>{class n{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,i,r){let o=this._dimensions,s=o.itemHeight*i,l=Math.max(0,e)/s*i,u=Math.min(i,Math.ceil(l)+(o.itemsPerViewport+1)),h=Math.max(0,u-o.itemsPerViewport),f=Math.min(h,Math.floor(l)),A=o.itemHeight*Math.ceil(f)-o.itemHeight*Math.min(f,r);return A=isNaN(A)?0:A,f=isNaN(f)?-1:f,u=isNaN(u)?-1:u,f-=r,f=Math.max(0,f),u+=r,u=Math.min(i,u),{topPadding:A,scrollHeight:s,start:f,end:u}}setDimensions(e,i){let r=Math.max(1,Math.floor(i/e));this._dimensions={itemHeight:e,panelHeight:i,itemsPerViewport:r}}getScrollTo(e,i,r){let{panelHeight:o}=this.dimensions,s=e+i,a=r,l=a+o;return o>=s&&r===e?null:s>l?a+s-l:e<=a?e:null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})(),UY=["top","right","bottom","left"],ZCe=typeof requestAnimationFrame<"u"?cD:Gy,HY=(()=>{class n{constructor(e,i,r,o,s){this._renderer=e,this._zone=i,this._panelService=r,this._document=s,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new at,this.scroll=new at,this.scrollToEnd=new at,this.outsideClick=new at,this._destroy$=new St,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){let{itemHeight:e,panelHeight:i}=this._panelService.dimensions,r=this.markedItem.index*e;return i>r?0:r}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){let i=e.items;this._onItemsChange(i.currentValue,i.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,i=!1){if(!e)return;let r=this.items.indexOf(e);if(r<0||r>=this.itemsLength)return;let o;if(this.virtualScroll){let s=this._panelService.dimensions.itemHeight;o=this._panelService.getScrollTo(r*s,s,this._lastScrollPosition)}else{let s=this._dropdown.querySelector(`#${e.htmlId}`),a=i?s.offsetTop:this._lastScrollPosition;o=this._panelService.getScrollTo(s.offsetTop,s.clientHeight,a)}jr(o)&&(this._scrollablePanel.scrollTop=o)}scrollToTag(){let e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),UY.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){UY.forEach(r=>{let o=`ng-select-${r}`;this._renderer.removeClass(this._dropdown,o),this._renderer.removeClass(this._select,o)});let i=`ng-select-${e}`;this._renderer.addClass(this._dropdown,i),this._renderer.addClass(this._select,i)}_handleScroll(){this._zone.runOutsideAngular(()=>{Ur(this.scrollElementRef.nativeElement,"scroll").pipe(Ui(this._destroy$),$y(0,ZCe)).subscribe(e=>{let i=e.path||e.composedPath&&e.composedPath();if(!i||i.length===0&&!e.target)return;let r=!i||i.length===0?e.target.scrollTop:i[0].scrollTop;this._onContentScrolled(r)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{zf(Ur(this._document,"touchstart",{capture:!0}),Ur(this._document,"mousedown",{capture:!0})).pipe(Ui(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;let i=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&i&&i[0]&&this._select.contains(i[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,i){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(i):(this._setVirtualHeight(),this._updateItems(i))}_updateItems(e){this.update.emit(this.items),e!==!1&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{let i=this._scrollablePanel.clientHeight;this._panelService.setDimensions(0,i),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;e=e||this._scrollablePanel.scrollTop;let i=this._panelService.calculateItems(e,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(i.scrollHeight),this._contentPanel.style.transform=`translateY(${i.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(i.start,i.end)),this.scroll.emit({start:i.start,end:i.end})}),jr(e)&&this._lastScrollPosition===0&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||this.itemsLength===0)return Promise.resolve(this._panelService.dimensions);let[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{let r=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;this._virtualPadding.style.height=`${r*this.itemsLength}px`;let o=this._scrollablePanel.clientHeight;return this._panelService.setDimensions(r,o),this._panelService.dimensions})}_fireScrollToEnd(e){if(this._scrollToEndFired||e===0)return;let i=this.virtualScroll?this._virtualPadding:this._contentPanel;e+this._dropdown.clientHeight>=i.clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if(this.position!=="auto")return this.position;let i=this._select.getBoundingClientRect(),r=document.documentElement.scrollTop||document.body.scrollTop,o=i.top+window.pageYOffset,s=i.height,a=e.getBoundingClientRect().height;return o+s+a>r+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){let e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),r=e.left-i.left;this._dropdown.style.left=r+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){let e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),r=e.height;if(this._currentPosition==="top"){let o=i.bottom-e.bottom;this._dropdown.style.bottom=o+r+"px",this._dropdown.style.top="auto"}else if(this._currentPosition==="bottom"){let o=e.top-i.top;this._dropdown.style.top=o+r+"px",this._dropdown.style.bottom="auto"}}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{Ur(this._dropdown,"mousedown").pipe(Ui(this._destroy$)).subscribe(e=>{e.target.tagName!=="INPUT"&&e.preventDefault()})})}static{this.\u0275fac=function(i){return new(i||n)(ae(Ko),ae(Pt),ae(GY),ae(Kt),ae(rn,8))}}static{this.\u0275cmp=wt({type:n,selectors:[["ng-dropdown-panel"]],viewQuery:function(i,r){if(i&1&&(Mi(Xbe,7,Kt),Mi(Jbe,7,Kt),Mi(eCe,7,Kt)),i&2){let o;ln(o=cn())&&(r.contentElementRef=o.first),ln(o=cn())&&(r.scrollElementRef=o.first),ln(o=cn())&&(r.paddingElementRef=o.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[ei],ngContentSelectors:VY,decls:9,vars:6,consts:[["scroll",""],["padding",""],["content",""],["class","ng-dropdown-header",4,"ngIf"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(i,r){i&1&&(Ac(),he(0,tCe,2,4,"div",3),I(1,"div",4,0),se(3,"div",null,1),I(5,"div",null,2),gc(7),M()(),he(8,nCe,2,4,"div",5)),i&2&&(W("ngIf",r.headerTemplate),x(3),zn("total-padding",r.virtualScroll),x(2),zn("scrollable-content",r.virtualScroll&&r.items.length),x(3),W("ngIf",r.footerTemplate))},dependencies:[En,dM],encapsulation:2,changeDetection:0})}}return n})(),Cc=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=this._isDisabled(e)}constructor(e){this.elementRef=e,this.stateChange$=new St,this._disabled=!1}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(e){return e!=null&&`${e}`!="false"}static{this.\u0275fac=function(i){return new(i||n)(ae(Kt))}}static{this.\u0275cmp=wt({type:n,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[ei],ngContentSelectors:VY,decls:1,vars:0,template:function(i,r){i&1&&(Ac(),gc(0))},encapsulation:2,changeDetection:0})}}return n})(),XCe=(()=>{class n{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JCe=(()=>{class n{warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WY=new Ke("ng-select-selection-model"),_u=(()=>{class n{get items(){return this._items}set items(e){e===null&&(e=[]),this._itemsAreUsed=!0,this._items=e}get compareWith(){return this._compareWith}set compareWith(e){if(e!=null&&!AO(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return jr(this._clearSearchOnAdd)?this._clearSearchOnAdd:jr(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get deselectOnClick(){return jr(this._deselectOnClick)?this._deselectOnClick:jr(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(e){this._deselectOnClick=e}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}constructor(e,i,r,o,s,a,l){this.classes=e,this.autoFocus=i,this.config=r,this._cd=a,this._console=l,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=u=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new at,this.focusEvent=new at,this.changeEvent=new at,this.openEvent=new at,this.closeEvent=new at,this.searchEvent=new at,this.clearEvent=new at,this.addEvent=new at,this.removeEvent=new at,this.scroll=new at,this.scrollToEnd=new at,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=jY(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new St,this._keyPress$=new St,this._onChange=u=>{},this._onTouched=()=>{},this.clearItem=u=>{let d=this.selectedItems.find(h=>h.value===u);this.unselect(d)},this.trackByOption=(u,d)=>this.trackByFn?this.trackByFn(d.value):d,this._mergeGlobalConfig(r),this.itemsList=new PU(this,o()),this.element=s.nativeElement}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=jr(e.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),jr(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(Kh[e.which]){if(this.keyDownFn(e)===!1)return;this.handleKeyCode(e)}else e.key&&e.key.length===1&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){let i=e.target;this.clearButton&&this.clearButton.nativeElement===i?this.handleKeyCodeClear(e):this.handleKeyCodeInput(e)}handleKeyCodeInput(e){switch(e.which){case Kh.ArrowDown:this._handleArrowDown(e);break;case Kh.ArrowUp:this._handleArrowUp(e);break;case Kh.Space:this._handleSpace(e);break;case Kh.Enter:this._handleEnter(e);break;case Kh.Tab:this._handleTab(e);break;case Kh.Esc:this.close(),e.preventDefault();break;case Kh.Backspace:this._handleBackspace();break}}handleKeyCodeClear(e){switch(e.which){case Kh.Enter:this.handleClearClick(),e.preventDefault();break}}handleMousedown(e){let i=e.target;if(i.tagName!=="INPUT"&&e.preventDefault(),i.classList.contains("ng-clear-wrapper")){this.handleClearClick();return}if(i.classList.contains("ng-arrow-wrapper")){this.handleArrowClick();return}i.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.deselectOnClick&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e.value))}selectTag(){let e;AO(this.addTag)?e=this.addTag(this.searchTerm):e=this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};let i=r=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(r,null):this.itemsList.addItem(r);RCe(e)?e.then(r=>this.select(i(r))).catch(()=>{}):e&&this.select(i(e))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}get showAddTag(){if(!this._validTerm)return!1;let e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(i=>i.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(i=>i.label.toLowerCase()===e))&&!this.loading}showNoItemsFound(){let e=this.itemsList.filteredItems.length===0;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return this.itemsList.filteredItems.length===0&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||this.minTermLength===0)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(i=>i.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){let e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}_setItems(e){let i=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=jr(i)?!oS(i):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&jr(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){let e=r=>{this.items=r.map(o=>({$ngOptionValue:o.value,$ngOptionLabel:o.elementRef.nativeElement.innerHTML,disabled:o.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},i=()=>{let r=zf(this.ngOptions.changes,this._destroy$);zf(...this.ngOptions.map(o=>o.stateChange$)).pipe(Ui(r)).subscribe(o=>{let s=this.itemsList.findItem(o.value);s.disabled=o.disabled,s.label=o.label||s.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(I0(this.ngOptions),Ui(this._destroy$)).subscribe(r=>{this.bindLabel=this._defaultLabel,e(r),i()})}_isValidWriteValue(e){if(!jr(e)||this.multiple&&e===""||Array.isArray(e)&&e.length===0)return!1;let i=r=>!jr(this.compareWith)&&oS(r)&&this.bindValue?(this._console.warn(`Setting object(${JSON.stringify(r)}) as your model with bindValue is not allowed unless [compareWith] is used.`),!1):!0;return this.multiple?Array.isArray(e)?e.every(r=>i(r)):(this._console.warn("Multiple select ngModel should be array."),!1):i(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;let i=r=>{let o=this.itemsList.findItem(r);if(o)this.itemsList.select(o);else{let s=oS(r),a=!s&&!this.bindValue;s||a?this.itemsList.select(this.itemsList.mapItem(r,null)):this.bindValue&&(o={[this.bindLabel]:null,[this.bindValue]:r},this.itemsList.select(this.itemsList.mapItem(o,null)))}};this.multiple?e.forEach(r=>i(r)):i(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(Ui(this._destroy$),Vt(e=>this._pressedKeys.push(e)),aR(200),Di(()=>this._pressedKeys.length>0),kt(()=>this._pressedKeys.join(""))).subscribe(e=>{let i=this.itemsList.findByLabel(e);i&&(this.isOpen?(this.itemsList.markItem(i),this._scrollToMarked(),this._cd.markForCheck()):this.select(i)),this._pressedKeys=[]})}_setInputAttributes(){let e=this.searchInput.nativeElement,i=Ee({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(let r of Object.keys(i))e.setAttribute(r,i[r])}_updateNgModel(){let e=[];for(let r of this.selectedItems)if(this.bindValue){let o=null;if(r.children){let s=this.groupValue?this.bindValue:this.groupBy;o=r.value[s||this.groupBy]}else o=this.itemsList.resolveNested(r.value,this.bindValue);e.push(o)}else e.push(r.value);let i=this.selectedItems.map(r=>r.value);this.multiple?(this._onChange(e),this.changeEvent.emit(i)):(this._onChange(jr(e[0])?e[0]:null),this.changeEvent.emit(i[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){if(this.isOpen===!1){if(this.showClear())this.focusOnClear(),e.preventDefault();else if(!this.addTag)return}this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close()}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else if(this.openOnEnter)this.open();else return;e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){let i=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(i<0||i===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){let e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=jr(this.virtualScroll)?this.virtualScroll:jr(e.disableVirtualScroll)?!e.disableVirtualScroll:!1,this.openOnEnter=jr(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}static{this.\u0275fac=function(i){return new(i||n)(Q0("class"),Q0("autofocus"),ae(XCe),ae(WY),ae(Kt),ae(Yo),ae(JCe))}}static{this.\u0275cmp=wt({type:n,selectors:[["ng-select"]],contentQueries:function(i,r,o){if(i&1&&($o(o,UCe,5,Ln),$o(o,HCe,5,Ln),$o(o,VCe,5,Ln),$o(o,QCe,5,Ln),$o(o,jCe,5,Ln),$o(o,GCe,5,Ln),$o(o,WCe,5,Ln),$o(o,KCe,5,Ln),$o(o,zCe,5,Ln),$o(o,qCe,5,Ln),$o(o,$Ce,5,Ln),$o(o,Cc,5)),i&2){let s;ln(s=cn())&&(r.optionTemplate=s.first),ln(s=cn())&&(r.optgroupTemplate=s.first),ln(s=cn())&&(r.labelTemplate=s.first),ln(s=cn())&&(r.multiLabelTemplate=s.first),ln(s=cn())&&(r.headerTemplate=s.first),ln(s=cn())&&(r.footerTemplate=s.first),ln(s=cn())&&(r.notFoundTemplate=s.first),ln(s=cn())&&(r.typeToSearchTemplate=s.first),ln(s=cn())&&(r.loadingTextTemplate=s.first),ln(s=cn())&&(r.tagTemplate=s.first),ln(s=cn())&&(r.loadingSpinnerTemplate=s.first),ln(s=cn())&&(r.ngOptions=s)}},viewQuery:function(i,r){if(i&1&&(Mi(HY,5),Mi(iCe,7),Mi(rCe,5)),i&2){let o;ln(o=cn())&&(r.dropdownPanel=o.first),ln(o=cn())&&(r.searchInput=o.first),ln(o=cn())&&(r.clearButton=o.first)}},hostVars:20,hostBindings:function(i,r){i&1&&ve("keydown",function(s){return r.handleKeyDown(s)}),i&2&&zn("ng-select-typeahead",r.typeahead)("ng-select-multiple",r.multiple)("ng-select-taggable",r.addTag)("ng-select-searchable",r.searchable)("ng-select-clearable",r.clearable)("ng-select-opened",r.isOpen)("ng-select",r.useDefaultClass)("ng-select-disabled",r.disabled)("ng-select-filtered",r.filtered)("ng-select-single",r.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[Or([{provide:bc,useExisting:ho(()=>n),multi:!0},GY]),ei],decls:14,vars:19,consts:[["searchInput",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"input","compositionstart","compositionend","focus","blur","change","readOnly","disabled","value"],["class","ng-clear-wrapper","tabindex","0",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],["tabindex","0",1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(i,r){if(i&1){let o=We();I(0,"div",9),ve("mousedown",function(a){return we(o),be(r.handleMousedown(a))}),I(1,"div",10)(2,"div",11),H(3),M(),he(4,dCe,2,2,"ng-container",12)(5,fCe,1,5,null,12),I(6,"div",13)(7,"input",14,0),ve("input",function(){we(o);let a=Mr(8);return be(r.filter(a.value))})("compositionstart",function(){return we(o),be(r.onCompositionStart())})("compositionend",function(){we(o);let a=Mr(8);return be(r.onCompositionEnd(a.value))})("focus",function(a){return we(o),be(r.onInputFocus(a))})("blur",function(a){return we(o),be(r.onInputBlur(a))})("change",function(a){return we(o),be(a.stopPropagation())}),M()()(),he(9,gCe,4,1,"ng-container",12)(10,mCe,4,1,"span",15),I(11,"span",16),se(12,"span",17),M()(),he(13,BCe,7,19,"ng-dropdown-panel",18)}i&2&&(zn("ng-appearance-outline",r.appearance==="outline")("ng-has-value",r.hasValue),x(3),de(r.placeholder),x(),W("ngIf",(!r.multiLabelTemplate||!r.multiple)&&r.selectedItems.length>0),x(),W("ngIf",r.multiple&&r.multiLabelTemplate&&r.selectedValues.length>0),x(),_r("aria-expanded",r.isOpen)("aria-owns",r.isOpen?r.dropdownId:null),x(),W("readOnly",!r.searchable||r.itemsList.maxItemsSelected)("disabled",r.disabled)("value",r.searchTerm?r.searchTerm:""),_r("id",r.labelForId)("tabindex",r.tabIndex)("aria-activedescendant",r.isOpen?r.itemsList==null||r.itemsList.markedItem==null?null:r.itemsList.markedItem.htmlId:null)("aria-controls",r.isOpen?r.dropdownId:null),x(2),W("ngIf",r.loading),x(),W("ngIf",r.showClear()),x(3),W("ngIf",r.isOpen))},dependencies:[Fr,ti,En,dM,HY,LCe],styles:[`@charset "UTF-8";.ng-select{position:relative;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}
`],encapsulation:2,changeDetection:0})}}return n})();function eEe(){return new kU}var kU=class{constructor(){this._selected=[]}get value(){return this._selected}select(t,e,i){if(t.selected=!0,(!t.children||!e&&i)&&this._selected.push(t),e)if(t.parent){let r=t.parent.children.length,o=t.parent.children.filter(s=>s.selected).length;t.parent.selected=r===o}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),i&&this._activeChildren(t)?this._selected=[...this._selected.filter(r=>r.parent!==t),t]:this._selected=[...this._selected,...t.children.filter(r=>!r.disabled)])}unselect(t,e){if(this._selected=this._selected.filter(i=>i!==t),t.selected=!1,e)if(t.parent&&t.parent.selected){let i=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),this._selected.push(...i.filter(r=>r!==t&&!r.disabled)),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}clear(t){this._selected=t?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(t,e){for(let i of t)i.disabled||(i.selected=e)}_removeChildren(t){this._selected=[...this._selected.filter(e=>e.parent!==t),...t.children.filter(e=>e.parent===t&&e.disabled&&e.selected)]}_removeParent(t){this._selected=this._selected.filter(e=>e!==t)}_activeChildren(t){return t.children.every(e=>!e.disabled||e.selected)}},KY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({providers:[{provide:WY,useValue:eEe}],imports:[As]})}}return n})();var tEe=()=>[1,2,3,4,5,6,7,8,9],nEe=(n,t,e)=>({itemsPerPage:n,currentPage:t,totalItems:e});function iEe(n,t){n&1&&(I(0,"tr",51)(1,"td",52)(2,"h3"),se(3,"ngx-skeleton-loader",53),M()(),I(4,"td",52)(5,"h3"),se(6,"ngx-skeleton-loader",54),M()(),I(7,"td",52)(8,"h3"),se(9,"ngx-skeleton-loader",54),M()(),I(10,"td",52)(11,"h3"),se(12,"ngx-skeleton-loader",54),M()(),I(13,"td",52)(14,"h3"),se(15,"ngx-skeleton-loader",54),M()(),I(16,"td",52)(17,"h3"),se(18,"ngx-skeleton-loader",54),M()(),I(19,"td",55)(20,"h3"),se(21,"ngx-skeleton-loader",54),M()()())}function rEe(n,t){n&1&&(I(0,"tbody"),he(1,iEe,22,0,"tr",50),M()),n&2&&(x(),W("ngForOf",Qr(1,tEe)))}function oEe(n,t){if(n&1&&(I(0,"h3"),H(1),M()),n&2){let e=te().$implicit;x(),le(" ",e.customer_name," ")}}function sEe(n,t){if(n&1&&(I(0,"h3"),H(1),M()),n&2){let e=te().$implicit;x(),le(" ",e.user.name," ")}}function aEe(n,t){if(n&1){let e=We();I(0,"div",57)(1,"a",58),ve("click",function(){we(e);let r=te().$implicit,o=te(2);return be(o.confirmAccept(r))}),se(2,"i",59),M(),I(3,"a",60),ve("click",function(){we(e);let r=te().$implicit,o=te(2);return be(o.confirmReject(r))}),se(4,"i",61),M()()}}function lEe(n,t){if(n&1&&(I(0,"tr",51)(1,"td",52)(2,"h3"),H(3),M()(),I(4,"td",52)(5,"h3"),H(6),M()(),I(7,"td",52),he(8,oEe,2,1,"h3",15)(9,sEe,2,1,"h3",15),M(),I(10,"td",52)(11,"h3"),H(12),M()(),I(13,"td",52)(14,"h3"),H(15),M()(),I(16,"td",52)(17,"h3"),H(18),K(19,"translate"),M()(),I(20,"td",55)(21,"h3"),he(22,aEe,5,0,"div",56),M()()()),n&2){let e=t.$implicit;x(3),le(" ",e.date," "),x(3),le(" ",e.time_from," "),x(2),W("ngIf",e.is_guest),x(),W("ngIf",!e.is_guest),x(3),le(" ",e.meta.note," "),x(3),le(" ",e.updated_at," "),x(3),le(" ",z(19,8,"appointment_status_"+e.status)," "),x(4),W("ngIf",e.status=="new"||e.status=="pending")}}function cEe(n,t){if(n&1&&(I(0,"tbody"),he(1,lEe,23,10,"tr",50),K(2,"paginate"),M()),n&2){let e=te();x(),W("ngForOf",qs(2,1,e.appointments,el(4,nEe,e.pageSize,e.pageNo,e.pageTotal)))}}function uEe(n,t){n&1&&(I(0,"div",62)(1,"div",63),se(2,"img",64),I(3,"span",65),H(4),K(5,"translate"),M()()()),n&2&&(x(4),le(" ",z(5,1,"empty_appointments")," "))}function dEe(n,t){if(n&1){let e=We();I(0,"div",66)(1,"div",67)(2,"div",2)(3,"div",68)(4,"h2"),H(5),K(6,"translate"),K(7,"translate"),K(8,"translate"),K(9,"translate"),M()(),I(10,"div",68)(11,"nav",69)(12,"pagination-controls",70),K(13,"translate"),K(14,"translate"),ve("pageChange",function(r){we(e);let o=te();return be(o.onChangePage(r))}),M()()()()()()}if(n&2){let e=te();x(5),mc("",z(6,10,"showing")," ",e.pageNo," ",z(7,12,"to")," ",e.pageSize," ",z(8,14,"of")," ",e.pageTotal," ",z(9,16,"item")," "),x(7),W("responsive",!0)("previousLabel",z(13,18,""))("nextLabel",z(14,20,""))}}var zY=(()=>{class n{constructor(e,i,r,o,s){this.translate=e,this.uiElementService=i,this.apiService=r,this.confirmationDialogService=o,this.myEventsService=s,this.subscriptions=new Array,this.isLoading=!0,this.appointments=new Array,this.pageNo=1,this.readAllText=!1,this.toggleClass=!1,this.appointmentRequest=new iS,this.selectedItem=null}ngOnInit(){this.minDate=new Date,this.profile=He.getProfile(),this.translate.get("loading").subscribe(e=>{this.loadAppointment()}),this.subscriptions.push(this.myEventsService.getTableBookingObservable().subscribe(e=>this.addTableBookingOrder(e)))}loadAppointment(){this.subscriptions.push(this.apiService.getAppointmentList(this.profile.id,this.pageNo).subscribe(e=>this.appointmentRes(e),e=>this.appointmentErr(e)))}ngOnDestroy(){for(let e of this.subscriptions)e.unsubscribe();this.uiElementService.dismissLoading(),this.dismissModel()}onChangePage(e){this.pageNo=e,this.appointments=[],this.translate.get("loading").subscribe(i=>{this.loadAppointment()})}search(){this.subscriptions.push(this.apiService.getAppointmentList(this.profile.id,this.pageNo,this.searchText).subscribe(e=>this.appointmentRes(e),e=>this.appointmentErr(e)))}read(){this.readAllText=!this.readAllText}appointmentRes(e){this.appointments=e.data,this.isLoading=!1,this.pageNo=e.meta.current_page,this.pageSize=e.meta.per_page,this.pageTotal=e.meta.total,this.uiElementService.dismissLoading()}appointmentErr(e){console.log("productsErr",e),this.uiElementService.dismissLoading(),this.isLoading=!1}navBookingTable(){this.appointmentRequest=new iS,$("#add_expenses").modal({backdrop:"static",keyboard:!1}),this.toggleClass=!0}dismissModel(){$("#add_expenses").modal("hide"),this.toggleClass=!1}handleKeyboardEvent(e){e.key==="Escape"&&(this.toggleClass=!1)}onSubmitRequest(){if(!this.appointmentRequest.date||!this.appointmentRequest.date.length)this.translate.get("select_date_time").subscribe(e=>this.uiElementService.showErrorToastr(e));else if(!this.appointmentRequest.meta.person||!this.appointmentRequest.meta.person.length)this.translate.get("select_person").subscribe(e=>this.uiElementService.showErrorToastr(e));else if(!this.appointmentRequest.customer_name||!this.appointmentRequest.customer_name.length)this.translate.get("customer_name").subscribe(e=>this.uiElementService.showErrorToastr(e));else if(!this.appointmentRequest.customer_mobile||!this.appointmentRequest.customer_mobile.length)this.translate.get("customer_phone_number").subscribe(e=>this.uiElementService.showErrorToastr(e));else{this.appointmentRequest.time_from=this.appointmentRequest.date.split("T")[1];let e={vendor_id:this.profile.id,amount:0,customer_mobile:this.appointmentRequest.customer_mobile,customer_name:this.appointmentRequest.customer_name,date:this.appointmentRequest.date.split("T")[0],duplicate_slots_allowed:-1,is_guest:!0,meta:JSON.stringify({person:this.appointmentRequest.meta.person,note:this.appointmentRequest.meta.note}),time_from:this.appointmentRequest.time_from,time_to:"00:00"};this.translate.get(["booking_your_table","your_table_is_booked","booking_your_table_err"]).subscribe(i=>{this.uiElementService.presentLoading(i.booking_your_table),this.apiService.createAppointment(e).subscribe(r=>{this.uiElementService.dismissLoading(),this.uiElementService.showSuccessToastr(i.your_table_is_booked),this.dismissModel(),this.toggleClass=!1},r=>{console.log("createOrder",r),this.uiElementService.dismissLoading(),this.uiElementService.showErrorToastr(i.booking_your_table_err)})})}}confirmAccept(e){this.translate.get("accept_ap_message").subscribe(i=>{confirm(i)&&this.updateAppointmentStatus(e.id,"accepted")})}confirmReject(e){this.translate.get("reject_ap_message").subscribe(i=>{confirm(i)&&this.updateAppointmentStatus(e.id,"rejected")})}updateAppointmentStatus(e,i){this.translate.get("just_moment").subscribe(r=>{this.uiElementService.presentLoading(r),this.subscriptions.push(this.apiService.updateAppointment(e,{status:i}).subscribe(o=>{console.log("updateAppointmentRes",o),this.uiElementService.dismissLoading(),o.status&&this.translate.get("ap_updated_"+o.status).subscribe(s=>this.uiElementService.showSuccessToastr(s))},o=>{console.log("updateAppointmentErr",o),this.uiElementService.dismissLoading(),this.translate.get("something_wrong").subscribe(s=>this.uiElementService.showErrorToastr(s))}))})}addTableBookingOrder(e){let i=-1;if(this.appointments.length){for(let r=0;r<this.appointments.length;r++)if(this.appointments[r].id==e.id){i=r;break}}this.apiService.setupAppointments(e),i==-1?this.appointments.unshift(e):this.appointments[i]=e}static{this.\u0275fac=function(i){return new(i||n)(ae(qn),ae(ui),ae(ni),ae(Ca),ae(vs))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-booking"]],hostBindings:function(i,r){i&1&&ve("keydown",function(s){return r.handleKeyboardEvent(s)},!1,np)},decls:122,vars:84,consts:[[1,"body_wrapper","p-2","p-lg-4"],[1,"pageTitle","pb-4"],[1,"row","align-items-center"],[1,"col-12","col-md-5","col-lg-4","col-xl-6","pb-2","pb-md-0"],[1,"col-12","col-md-9","col-lg-8","col-xl-6","pb-2","pb-md-0"],[1,"row","g-3","align-items-center","me-2"],[1,"col-12","col-md-7","col-lg-9","col-xl-9","end"],[1,"col-12","col-md-5","col-lg-3","col-xl-3"],["type","button",1,"btn",3,"click"],[1,"card","tableCard"],[1,"p-x-0"],[1,"scroll-x"],[1,"table","customeTable","align-middle"],["scope","col",1,"text-start"],["scope","col",1,"text-center"],[4,"ngIf"],["class","empty-view animate__animated animate__fadeInUp",4,"ngIf"],["class","pagination-container",4,"ngIf"],[1,"modal","sideModel","customeModal",3,"ngClass"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modelContainer"],[1,"modelHeader"],[1,"pageTitle","p-3","px-lg-4"],[1,"modelContent","px-3","px-lg-4"],[1,"form_inner"],[1,"form-group","select_box","animate__animated","animate__fadeInUp",2,"z-index","99"],[1,"input_box"],["mb-0","","type","datetime-local","name","date",1,"form-control",3,"ngModelChange","ngModel","min","max","placeholder"],[1,"form-group","select_box","animate__animated","animate__fadeInUp"],["name","select_person",3,"ngModelChange","ngModel","placeholder","multiple"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],[1,"form-group","animate__animated","animate__fadeInUp"],["type","name","name","customer_name",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","tel","name","customer_mobile",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","text","id","exampleFormControlTextarea1","name","note",1,"form-control",3,"ngModelChange","placeholder","ngModel"],[1,"modelFooter","p-3","px-lg-4","animate__animated","animate__fadeInUp"],[1,"row","align-items-center","g-3"],[1,"col-6","text-center"],[1,"btn","btn-clear",3,"click"],[1,"btn",3,"click"],["class","animate__animated animate__fadeInUp",4,"ngFor","ngForOf"],[1,"animate__animated","animate__fadeInUp"],[1,"text-start"],["count","1","appearance","line",2,"width","100%"],["count","1","appearance","line",2,"width","80%"],[1,"text-center"],["class","btn_box",4,"ngIf"],[1,"btn_box"],[3,"click"],[1,"zmdi","zmdi-check"],[1,"rejectButton",3,"click"],[1,"zmdi","zmdi-close"],[1,"empty-view","animate__animated","animate__fadeInUp"],[2,"text-align","center"],["src","assets/images/plc_no_item.png","alt","no offers"],[2,"color","#9E9E9E","font-weight","bold"],[1,"pagination-container"],[1,"container-fluid"],[1,"col-12","col-md-6"],["aria-label","Page navigation example"],[1,"pagination","end",3,"pageChange","responsive","previousLabel","nextLabel"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),H(5),K(6,"translate"),M()(),I(7,"div",4)(8,"div",5),se(9,"div",6),I(10,"div",7)(11,"button",8),ve("click",function(){return r.navBookingTable()}),H(12),K(13,"translate"),M()()()()()(),I(14,"div",9)(15,"div",10)(16,"div",11)(17,"table",12)(18,"thead")(19,"tr")(20,"th",13),H(21),K(22,"translate"),M(),I(23,"th",13),H(24),K(25,"translate"),M(),I(26,"th",13),H(27),K(28,"translate"),M(),I(29,"th",13),H(30),K(31,"translate"),M(),I(32,"th",13),H(33),K(34,"translate"),M(),I(35,"th",13),H(36),K(37,"translate"),M(),I(38,"th",14),H(39),K(40,"translate"),M()()(),he(41,rEe,2,2,"tbody",15)(42,cEe,3,8,"tbody",15),M()()()(),he(43,uEe,6,3,"div",16)(44,dEe,15,22,"div",17),M(),I(45,"ngb-modal-window",18)(46,"div",19)(47,"div",20)(48,"div",21)(49,"div",22)(50,"div",23)(51,"h1"),H(52),K(53,"translate"),M()()(),I(54,"div",24)(55,"form")(56,"div",25)(57,"div",26)(58,"label"),H(59),K(60,"translate"),M(),I(61,"div",27)(62,"input",28),K(63,"translate"),K(64,"date"),Ze("ngModelChange",function(s){return Xe(r.appointmentRequest.date,s)||(r.appointmentRequest.date=s),s}),M()()(),I(65,"div",29)(66,"label"),H(67),K(68,"translate"),M(),I(69,"ng-select",30),K(70,"translate"),Ze("ngModelChange",function(s){return Xe(r.appointmentRequest.meta.person,s)||(r.appointmentRequest.meta.person=s),s}),I(71,"ng-option",31),H(72,"1"),M(),I(73,"ng-option",32),H(74,"2"),M(),I(75,"ng-option",33),H(76,"3"),M(),I(77,"ng-option",34),H(78,"4"),M(),I(79,"ng-option",35),H(80,"5"),M(),I(81,"ng-option",36),H(82,"6"),M(),I(83,"ng-option",37),H(84,"7"),M(),I(85,"ng-option",38),H(86,"8"),M(),I(87,"ng-option",39),H(88,"9"),M(),I(89,"ng-option",40),H(90,"10"),M()()(),I(91,"div",41)(92,"label"),H(93),K(94,"translate"),M(),I(95,"div",27)(96,"input",42),K(97,"translate"),Ze("ngModelChange",function(s){return Xe(r.appointmentRequest.customer_name,s)||(r.appointmentRequest.customer_name=s),s}),M()()(),I(98,"div",41)(99,"label"),H(100),K(101,"translate"),M(),I(102,"div",27)(103,"input",43),K(104,"translate"),Ze("ngModelChange",function(s){return Xe(r.appointmentRequest.customer_mobile,s)||(r.appointmentRequest.customer_mobile=s),s}),M()()(),I(105,"div",41)(106,"label"),H(107),K(108,"translate"),M(),I(109,"div",27)(110,"input",44),K(111,"translate"),Ze("ngModelChange",function(s){return Xe(r.appointmentRequest.meta.note,s)||(r.appointmentRequest.meta.note=s),s}),M()()()()()(),I(112,"div",45)(113,"div",46)(114,"div",47)(115,"button",48),ve("click",function(){return r.dismissModel()}),H(116),K(117,"translate"),M()(),I(118,"div",47)(119,"button",49),ve("click",function(){return r.onSubmitRequest()}),H(120),K(121,"translate"),M()()()()()()()()),i&2&&(x(5),le(" ",z(6,37,"table_bookoing")," "),x(7),le(" + \xA0",z(13,39,"book_new")," "),x(9),le(" ",z(22,41,"date")," "),x(3),de(z(25,43,"time")),x(3),de(z(28,45,"customer_name")),x(3),de(z(31,47,"note")),x(3),de(z(34,49,"booked_on")),x(3),de(z(37,51,"status")),x(3),de(z(40,53,"action")),x(2),W("ngIf",r.isLoading&&!(r.appointments&&r.appointments.length)),x(),W("ngIf",!r.isLoading),x(),W("ngIf",!r.isLoading&&(!r.appointments||!r.appointments.length)),x(),W("ngIf",r.pageTotal>r.pageSize),x(),W("ngClass",r.toggleClass?"show fade":""),x(7),le(" ",z(53,55,"add_booking"),""),x(7),de(z(60,57,"select_date_time")),x(3),nt("placeholder",z(63,59,"select_date_time")),Ye("ngModel",r.appointmentRequest.date),W("min",qs(64,61,r.minDate,"yyyy-MM-ddThh:mm"))("max",r.maxDate),x(5),de(z(68,64,"select_person")),x(2),zn("selected-option",r.appointmentRequest.meta.person),nt("placeholder",z(70,66,"select_number_of_person")),Ye("ngModel",r.appointmentRequest.meta.person),W("multiple",!1),x(24),de(z(94,68,"customer_name")),x(3),nt("placeholder",z(97,70,"enter_name")),Ye("ngModel",r.appointmentRequest.customer_name),x(4),de(z(101,72,"phone_number")),x(3),nt("placeholder",z(104,74,"enter_phone_number")),Ye("ngModel",r.appointmentRequest.customer_mobile),x(4),de(z(108,76,"notes")),x(3),nt("placeholder",z(111,78,"ic_for_avviversary_surprise")),Ye("ngModel",r.appointmentRequest.meta.note),x(6),le(" ",z(117,80,"cancel")," "),x(4),le(" ",z(121,82,"create_booking")," "))},dependencies:[Fr,ti,En,ji,Hi,Vi,Qi,$i,Oi,vu,_u,Cc,bo,eq,Gn,mu],styles:[".empty-view[_ngcontent-%COMP%]{width:fit-content;margin:25px auto auto;height:fit-content;max-width:calc(100% - 30px)}.empty-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;margin:auto}.empty-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center}table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]{display:flex;align-items:center;width:fit-content;margin:0 auto}table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 5px;background:var(--primary)}table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--text-white)}"]})}}return n})();function hEe(n,t){if(n&1){let e=We();I(0,"div",17),ve("click",function(){let r=we(e).$implicit,o=te();return be(o.onLanguageClick(r))}),I(1,"div",18)(2,"input",19),Ze("ngModelChange",function(r){we(e);let o=te();return Xe(o.defaultLanguageCode,r)||(o.defaultLanguageCode=r),be(r)}),M(),I(3,"label",20)(4,"span",21),H(5),M()()()()}if(n&2){let e=t.$implicit,i=te();x(2),W("id",e.code)("value",e.code),Ye("ngModel",i.defaultLanguageCode),x(),W("for",e.code),x(2),de(e.name)}}var qY=(()=>{class n{constructor(e,i){this.config=e,this.myEventsService=i,this.languages=this.config.availableLanguages,this.defaultLanguageCode=e.availableLanguages[0].code;let r=window.localStorage.getItem(et.KEY_DEFAULT_LANGUAGE);r&&(this.defaultLanguageCode=r)}ngOnInit(){}onLanguageClick(e){this.defaultLanguageCode=e.code}languageConfirm(){this.myEventsService.setLanguageData(this.defaultLanguageCode),window.localStorage.setItem(et.KEY_DEFAULT_LANGUAGE,this.defaultLanguageCode)}static{this.\u0275fac=function(i){return new(i||n)(ae(Xr),ae(vs))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-change-language"]],decls:27,vars:13,consts:[["id","page_support"],[1,"body_wrapper"],[1,"row","mx-0"],[1,"col-12","col-sm-12","col-md-6","col-lg-5","px-0"],[1,"page_title"],[1,"row","align-items-center","mx-0"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","col-xl-12","p-0"],[1,"d-flex"],["data-wow-duration",".5s",1,"banner","col-10","col-md-10","col-lg-10","col-xl-7","mx-auto","animate__animated","animate__zoomIn","wow"],["src","assets/images/img_language.png",1,"img-fluid"],[1,"col-12","col-sm-12","col-md-6","col-lg-7","px-0"],[1,"card","p-4","px-3","border-0","rounded-0"],[1,"col-12","col-sm-12","col-md-11","mx-auto","px-0"],[1,"animate__animated","animate__fadeInUp","wow"],[1,"py-5"],["class","form-group  animate__animated animate__fadeInUp wow",3,"click",4,"ngFor","ngForOf"],["type","submit","data-wow-duration","1s",1,"btn","rounded-pill","py-0","col-12","col-sm-10","col-md-6","col-lg-4","col-xl-4","d-block","animate__animated","animate__fadeInUp",3,"click"],[1,"form-group","animate__animated","animate__fadeInUp","wow",3,"click"],[1,"custom-control","custom-radio"],["type","radio","name","ChooseLanguage",1,"custom-control-input",3,"ngModelChange","id","value","ngModel"],[1,"custom-control-label",3,"for"],[1,"ml-2"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1"),H(9),K(10,"translate"),M()()()()(),I(11,"div",8),se(12,"img",9),M()(),I(13,"div",10)(14,"div",11)(15,"div",12)(16,"h2",13),H(17),K(18,"translate"),M(),I(19,"p",13),H(20),K(21,"translate"),M(),I(22,"form",14),he(23,hEe,6,5,"div",15),M(),I(24,"button",16),ve("click",function(){return r.languageConfirm()}),H(25),K(26,"translate"),M()()()()()()()),i&2&&(x(9),de(z(10,5,"change_language")),x(8),de(z(18,7,"choose_preferred_language")),x(3),le(" ",z(21,9,"you_can_change_it_anytime_you_want")," "),x(3),W("ngForOf",r.languages),x(2),de(z(26,11,"save")))},dependencies:[ti,ji,Hi,XE,Vi,Qi,$i,Oi,Gn],styles:["form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.animate__animated[_ngcontent-%COMP%]{visibility:visible!important}"]})}}return n})();var gO=class{constructor(){this.total_earnings=0,this.earnings_chart_data=[{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"}]}};var aS=class{constructor(){this.orders=0,this.revenue=0,this.pending=0,this.chart_data=[{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"}],this.items_sold_chart=[{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"},{period:"0",total:"10"}]}};function uS(n){return n+.5|0}var lg=(n,t,e)=>Math.max(Math.min(n,e),t);function lS(n){return lg(uS(n*2.55),0,255)}function cg(n){return lg(uS(n*255),0,255)}function fp(n){return lg(uS(n/2.55)/100,0,1)}function $Y(n){return lg(uS(n*100),0,100)}var yu={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},RU=[..."0123456789ABCDEF"],fEe=n=>RU[n&15],pEe=n=>RU[(n&240)>>4]+RU[n&15],mO=n=>(n&240)>>4===(n&15),AEe=n=>mO(n.r)&&mO(n.g)&&mO(n.b)&&mO(n.a);function gEe(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&yu[n[1]]*17,g:255&yu[n[2]]*17,b:255&yu[n[3]]*17,a:t===5?yu[n[4]]*17:255}:(t===7||t===9)&&(e={r:yu[n[1]]<<4|yu[n[2]],g:yu[n[3]]<<4|yu[n[4]],b:yu[n[5]]<<4|yu[n[6]],a:t===9?yu[n[7]]<<4|yu[n[8]]:255})),e}var mEe=(n,t)=>n<255?t(n):"";function vEe(n){var t=AEe(n)?fEe:pEe;return n?"#"+t(n.r)+t(n.g)+t(n.b)+mEe(n.a,t):void 0}var _Ee=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function JY(n,t,e){let i=t*Math.min(e,1-e),r=(o,s=(o+n/30)%12)=>e-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function yEe(n,t,e){let i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function wEe(n,t,e){let i=JY(n,1,.5),r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function bEe(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function LU(n){let e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),s=Math.min(e,i,r),a=(o+s)/2,l,u,d;return o!==s&&(d=o-s,u=a>.5?d/(2-o-s):d/(o+s),l=bEe(e,i,r,d,o),l=l*60+.5),[l|0,u||0,a]}function UU(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(cg)}function HU(n,t,e){return UU(JY,n,t,e)}function CEe(n,t,e){return UU(wEe,n,t,e)}function EEe(n,t,e){return UU(yEe,n,t,e)}function eZ(n){return(n%360+360)%360}function SEe(n){let t=_Ee.exec(n),e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?lS(+t[5]):cg(+t[5]));let r=eZ(+t[2]),o=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?i=CEe(r,o,s):t[1]==="hsv"?i=EEe(r,o,s):i=HU(r,o,s),{r:i[0],g:i[1],b:i[2],a:e}}function xEe(n,t){var e=LU(n);e[0]=eZ(e[0]+t),e=HU(e),n.r=e[0],n.g=e[1],n.b=e[2]}function IEe(n){if(!n)return;let t=LU(n),e=t[0],i=$Y(t[1]),r=$Y(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${fp(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}var YY={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ZY={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function TEe(){let n={},t=Object.keys(ZY),e=Object.keys(YY),i,r,o,s,a;for(i=0;i<t.length;i++){for(s=a=t[i],r=0;r<e.length;r++)o=e[r],a=a.replace(o,YY[o]);o=parseInt(ZY[s],16),n[a]=[o>>16&255,o>>8&255,o&255]}return n}var vO;function DEe(n){vO||(vO=TEe(),vO.transparent=[0,0,0,0]);let t=vO[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var MEe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function OEe(n){let t=MEe.exec(n),e=255,i,r,o;if(t){if(t[7]!==i){let s=+t[7];e=t[8]?lS(s):lg(s*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?lS(i):lg(i,0,255)),r=255&(t[4]?lS(r):lg(r,0,255)),o=255&(t[6]?lS(o):lg(o,0,255)),{r:i,g:r,b:o,a:e}}}function FEe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${fp(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var NU=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,tw=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function BEe(n,t,e){let i=tw(fp(n.r)),r=tw(fp(n.g)),o=tw(fp(n.b));return{r:cg(NU(i+e*(tw(fp(t.r))-i))),g:cg(NU(r+e*(tw(fp(t.g))-r))),b:cg(NU(o+e*(tw(fp(t.b))-o))),a:n.a+e*(t.a-n.a)}}function _O(n,t,e){if(n){let i=LU(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=HU(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function tZ(n,t){return n&&Object.assign(t||{},n)}function XY(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=cg(n[3]))):(t=tZ(n,{r:0,g:0,b:0,a:1}),t.a=cg(t.a)),t}function PEe(n){return n.charAt(0)==="r"?OEe(n):SEe(n)}var cS=class n{constructor(t){if(t instanceof n)return t;let e=typeof t,i;e==="object"?i=XY(t):e==="string"&&(i=gEe(t)||DEe(t)||PEe(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=tZ(this._rgb);return t&&(t.a=fp(t.a)),t}set rgb(t){this._rgb=XY(t)}rgbString(){return this._valid?FEe(this._rgb):void 0}hexString(){return this._valid?vEe(this._rgb):void 0}hslString(){return this._valid?IEe(this._rgb):void 0}mix(t,e){if(t){let i=this.rgb,r=t.rgb,o,s=e===o?.5:e,a=2*s-1,l=i.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-u,i.r=255&u*i.r+o*r.r+.5,i.g=255&u*i.g+o*r.g+.5,i.b=255&u*i.b+o*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=BEe(this._rgb,t._rgb,e)),this}clone(){return new n(this.rgb)}alpha(t){return this._rgb.a=cg(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=uS(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return _O(this._rgb,2,t),this}darken(t){return _O(this._rgb,2,-t),this}saturate(t){return _O(this._rgb,1,t),this}desaturate(t){return _O(this._rgb,1,-t),this}rotate(t){return xEe(this._rgb,t),this}};function $h(){}var hZ=(()=>{let n=0;return()=>n++})();function ii(n){return n===null||typeof n>"u"}function rr(n){if(Array.isArray&&Array.isArray(n))return!0;let t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Hn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Gr(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ul(n,t){return Gr(n)?n:t}function An(n,t){return typeof n>"u"?t:n}var fZ=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,GU=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Yi(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Si(n,t,e,i){let r,o,s;if(rr(n))if(o=n.length,i)for(r=o-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<o;r++)t.call(e,n[r],r);else if(Hn(n))for(s=Object.keys(n),o=s.length,r=0;r<o;r++)t.call(e,n[s[r]],s[r])}function fS(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function CO(n){if(rr(n))return n.map(CO);if(Hn(n)){let t=Object.create(null),e=Object.keys(n),i=e.length,r=0;for(;r<i;++r)t[e[r]]=CO(n[e[r]]);return t}return n}function pZ(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function kEe(n,t,e,i){if(!pZ(n))return;let r=t[n],o=e[n];Hn(r)&&Hn(o)?iw(r,o,i):t[n]=CO(o)}function iw(n,t,e){let i=rr(t)?t:[t],r=i.length;if(!Hn(n))return n;e=e||{};let o=e.merger||kEe,s;for(let a=0;a<r;++a){if(s=i[a],!Hn(s))continue;let l=Object.keys(s);for(let u=0,d=l.length;u<d;++u)o(l[u],n,s,e)}return n}function ow(n,t){return iw(n,t,{merger:NEe})}function NEe(n,t,e){if(!pZ(n))return;let i=t[n],r=e[n];Hn(i)&&Hn(r)?ow(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=CO(r))}var nZ={"":n=>n,x:n=>n.x,y:n=>n.y};function REe(n){let t=n.split("."),e=[],i="";for(let r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function LEe(n){let t=REe(n);return e=>{for(let i of t){if(i==="")break;e=e&&e[i]}return e}}function gp(n,t){return(nZ[t]||(nZ[t]=LEe(t)))(n)}function IO(n){return n.charAt(0).toUpperCase()+n.slice(1)}var sw=n=>typeof n<"u",pp=n=>typeof n=="function",WU=(n,t)=>{if(n.size!==t.size)return!1;for(let e of n)if(!t.has(e))return!1;return!0};function AZ(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var or=Math.PI,sr=2*or,UEe=sr+or,EO=Number.POSITIVE_INFINITY,HEe=or/180,Jr=or/2,rv=or/4,iZ=or*2/3,Ap=Math.log10,Ed=Math.sign;function aw(n,t,e){return Math.abs(n-t)<e}function KU(n){let t=Math.round(n);n=aw(n,t,n/1e3)?t:n;let e=Math.pow(10,Math.floor(Ap(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function gZ(n){let t=[],e=Math.sqrt(n),i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function av(n){return!isNaN(parseFloat(n))&&isFinite(n)}function mZ(n,t){let e=Math.round(n);return e-t<=n&&e+t>=n}function zU(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function wu(n){return n*(or/180)}function TO(n){return n*(180/or)}function qU(n){if(!Gr(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function $U(n,t){let e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i),o=Math.atan2(i,e);return o<-.5*or&&(o+=sr),{angle:o,distance:r}}function SO(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function VEe(n,t){return(n-t+UEe)%sr-or}function Ll(n){return(n%sr+sr)%sr}function lw(n,t,e,i){let r=Ll(n),o=Ll(t),s=Ll(e),a=Ll(o-r),l=Ll(s-r),u=Ll(r-o),d=Ll(r-s);return r===o||r===s||i&&o===s||a>l&&u<d}function Zo(n,t,e){return Math.max(t,Math.min(e,n))}function vZ(n){return Zo(n,-32768,32767)}function Yh(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function DO(n,t,e){e=e||(s=>n[s]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}var zh=(n,t,e,i)=>DO(n,e,i?r=>{let o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),_Z=(n,t,e)=>DO(n,e,i=>n[i][t]>=e);function yZ(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}var wZ=["push","pop","shift","splice","unshift"];function bZ(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),wZ.forEach(e=>{let i="_onData"+IO(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){let s=r.apply(this,o);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...o)}),s}})})}function YU(n,t){let e=n._chartjs;if(!e)return;let i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(wZ.forEach(o=>{delete n[o]}),delete n._chartjs)}function ZU(n){let t=new Set(n);return t.size===n.length?n:Array.from(t)}var XU=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function JU(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,XU.call(window,()=>{i=!1,n.apply(t,e)}))}}function CZ(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}var MO=n=>n==="start"?"left":n==="end"?"right":"center",Xs=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,EZ=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function e5(n,t,e){let i=t.length,r=0,o=i;if(n._sorted){let{iScale:s,_parsed:a}=n,l=s.axis,{min:u,max:d,minDefined:h,maxDefined:f}=s.getUserBounds();h&&(r=Zo(Math.min(zh(a,l,u).lo,e?i:zh(t,l,s.getPixelForValue(u)).lo),0,i-1)),f?o=Zo(Math.max(zh(a,s.axis,d,!0).hi+1,e?0:zh(t,l,s.getPixelForValue(d),!0).hi+1),r,i)-r:o=i-r}return{start:r,count:o}}function t5(n){let{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;let o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}var yO=n=>n===0||n===1,rZ=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*sr/e)),oZ=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*sr/e)+1,nw={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Jr)+1,easeOutSine:n=>Math.sin(n*Jr),easeInOutSine:n=>-.5*(Math.cos(or*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>yO(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>yO(n)?n:rZ(n,.075,.3),easeOutElastic:n=>yO(n)?n:oZ(n,.075,.3),easeInOutElastic(n){return yO(n)?n:n<.5?.5*rZ(n*2,.1125,.45):.5+.5*oZ(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-nw.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?nw.easeInBounce(n*2)*.5:nw.easeOutBounce(n*2-1)*.5+.5};function n5(n){if(n&&typeof n=="object"){let t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function i5(n){return n5(n)?n:new cS(n)}function VU(n){return n5(n)?n:new cS(n).saturate(.5).darken(.1).hexString()}var QEe=["x","y","borderWidth","radius","tension"],jEe=["color","borderColor","backgroundColor"];function GEe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:jEe},numbers:{type:"number",properties:QEe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function WEe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var sZ=new Map;function KEe(n,t){t=t||{};let e=n+JSON.stringify(t),i=sZ.get(e);return i||(i=new Intl.NumberFormat(n,t),sZ.set(e,i)),i}function cw(n,t,e){return KEe(t,e).format(n)}var SZ={values(n){return rr(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";let i=this.chart.options.locale,r,o=n;if(e.length>1){let u=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),o=zEe(n,e)}let s=Ap(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),cw(n,i,l)},logarithmic(n,t,e){if(n===0)return"0";let i=e[t].significand||n/Math.pow(10,Math.floor(Ap(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?SZ.numeric.call(this,n,t,e):""}};function zEe(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var pS={formatters:SZ};function qEe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var dg=Object.create(null),OO=Object.create(null);function dS(n,t){if(!t)return n;let e=t.split(".");for(let i=0,r=e.length;i<r;++i){let o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function QU(n,t,e){return typeof t=="string"?iw(dS(n,t),e):iw(dS(n,""),t)}var jU=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>VU(r.backgroundColor),this.hoverBorderColor=(i,r)=>VU(r.borderColor),this.hoverColor=(i,r)=>VU(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return QU(this,t,e)}get(t){return dS(this,t)}describe(t,e){return QU(OO,t,e)}override(t,e){return QU(dg,t,e)}route(t,e,i,r){let o=dS(this,t),s=dS(this,i),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[a],u=s[r];return Hn(l)?Object.assign({},u,l):An(l,u)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}},yr=new jU({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[GEe,WEe,qEe]);function $Ee(n){return!n||ii(n.size)||ii(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function hS(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function xZ(n,t,e,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let s=0,a=e.length,l,u,d,h,f;for(l=0;l<a;l++)if(h=e[l],h!=null&&!rr(h))s=hS(n,r,o,s,h);else if(rr(h))for(u=0,d=h.length;u<d;u++)f=h[u],f!=null&&!rr(f)&&(s=hS(n,r,o,s,f));n.restore();let A=o.length/2;if(A>e.length){for(l=0;l<A;l++)delete r[o[l]];o.splice(0,A)}return s}function hg(n,t,e){let i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function r5(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function FO(n,t,e,i){o5(n,t,e,i,null)}function o5(n,t,e,i,r){let o,s,a,l,u,d,h,f,A=t.pointStyle,g=t.rotation,m=t.radius,b=(g||0)*HEe;if(A&&typeof A=="object"&&(o=A.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(b),n.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),n.restore();return}if(!(isNaN(m)||m<=0)){switch(n.beginPath(),A){default:r?n.ellipse(e,i,r/2,m,0,0,sr):n.arc(e,i,m,0,sr),n.closePath();break;case"triangle":d=r?r/2:m,n.moveTo(e+Math.sin(b)*d,i-Math.cos(b)*m),b+=iZ,n.lineTo(e+Math.sin(b)*d,i-Math.cos(b)*m),b+=iZ,n.lineTo(e+Math.sin(b)*d,i-Math.cos(b)*m),n.closePath();break;case"rectRounded":u=m*.516,l=m-u,s=Math.cos(b+rv)*l,h=Math.cos(b+rv)*(r?r/2-u:l),a=Math.sin(b+rv)*l,f=Math.sin(b+rv)*(r?r/2-u:l),n.arc(e-h,i-a,u,b-or,b-Jr),n.arc(e+f,i-s,u,b-Jr,b),n.arc(e+h,i+a,u,b,b+Jr),n.arc(e-f,i+s,u,b+Jr,b+or),n.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,d=r?r/2:l,n.rect(e-d,i-l,2*d,2*l);break}b+=rv;case"rectRot":h=Math.cos(b)*(r?r/2:m),s=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(r?r/2:m),n.moveTo(e-h,i-a),n.lineTo(e+f,i-s),n.lineTo(e+h,i+a),n.lineTo(e-f,i+s),n.closePath();break;case"crossRot":b+=rv;case"cross":h=Math.cos(b)*(r?r/2:m),s=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(r?r/2:m),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+f,i-s),n.lineTo(e-f,i+s);break;case"star":h=Math.cos(b)*(r?r/2:m),s=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(r?r/2:m),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+f,i-s),n.lineTo(e-f,i+s),b+=rv,h=Math.cos(b)*(r?r/2:m),s=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(r?r/2:m),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+f,i-s),n.lineTo(e-f,i+s);break;case"line":s=r?r/2:Math.cos(b)*m,a=Math.sin(b)*m,n.moveTo(e-s,i-a),n.lineTo(e+s,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(b)*(r?r/2:m),i+Math.sin(b)*m);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function qh(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function AS(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function gS(n){n.restore()}function IZ(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){let o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function TZ(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function YEe(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ii(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function ZEe(n,t,e,i,r){if(r.strikethrough||r.underline){let o=n.measureText(i),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=e-o.actualBoundingBoxAscent,u=e+o.actualBoundingBoxDescent,d=r.strikethrough?(l+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(s,d),n.lineTo(a,d),n.stroke()}}function XEe(n,t){let e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function fg(n,t,e,i,r,o={}){let s=rr(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="",l,u;for(n.save(),n.font=r.string,YEe(n,o),l=0;l<s.length;++l)u=s[l],o.backdrop&&XEe(n,o.backdrop),a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),ii(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(u,e,i,o.maxWidth)),n.fillText(u,e,i,o.maxWidth),ZEe(n,e,i,u,o),i+=Number(r.lineHeight);n.restore()}function uw(n,t){let{x:e,y:i,w:r,h:o,radius:s}=t;n.arc(e+s.topLeft,i+s.topLeft,s.topLeft,1.5*or,or,!0),n.lineTo(e,i+o-s.bottomLeft),n.arc(e+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,or,Jr,!0),n.lineTo(e+r-s.bottomRight,i+o),n.arc(e+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,Jr,0,!0),n.lineTo(e+r,i+s.topRight),n.arc(e+r-s.topRight,i+s.topRight,s.topRight,0,-Jr,!0),n.lineTo(e+s.topLeft,i)}var JEe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,eSe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function tSe(n,t){let e=(""+n).match(JEe);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}var nSe=n=>+n||0;function BO(n,t){let e={},i=Hn(t),r=i?Object.keys(t):t,o=Hn(n)?i?s=>An(n[s],n[t[s]]):s=>n[s]:()=>n;for(let s of r)e[s]=nSe(o(s));return e}function s5(n){return BO(n,{top:"y",right:"x",bottom:"y",left:"x"})}function pg(n){return BO(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Js(n){let t=s5(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Co(n,t){n=n||{},t=t||yr.font;let e=An(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=An(n.style,t.style);i&&!(""+i).match(eSe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:An(n.family,t.family),lineHeight:tSe(An(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:An(n.weight,t.weight),string:""};return r.string=$Ee(r),r}function dw(n,t,e,i){let r=!0,o,s,a;for(o=0,s=n.length;o<s;++o)if(a=n[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),e!==void 0&&rr(a)&&(a=a[e%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function DZ(n,t,e){let{min:i,max:r}=n,o=GU(t,(r-i)/2),s=(a,l)=>e&&a===0?0:a+l;return{min:s(i,-Math.abs(o)),max:s(r,o)}}function mp(n,t){return Object.assign(Object.create(n),t)}function PO(n,t=[""],e,i,r=()=>n[0]){let o=e||n;typeof i>"u"&&(i=FZ("_fallback",n));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:a=>PO([a,...n],t,o,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return MZ(a,l,()=>uSe(l,t,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return lZ(a).includes(l)},ownKeys(a){return lZ(a)},set(a,l,u){let d=a._storage||(a._storage=r());return a[l]=d[l]=u,delete a._keys,!0}})}function sv(n,t,e,i){let r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:a5(n,i),setContext:o=>sv(n,o,e,i),override:o=>sv(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,s){return delete o[s],delete n[s],!0},get(o,s,a){return MZ(o,s,()=>rSe(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,s){return Reflect.has(n,s)},ownKeys(){return Reflect.ownKeys(n)},set(o,s,a){return n[s]=a,delete o[s],!0}})}function a5(n,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:pp(e)?e:()=>e,isIndexable:pp(i)?i:()=>i}}var iSe=(n,t)=>n?n+IO(t):t,l5=(n,t)=>Hn(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function MZ(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];let i=e();return n[t]=i,i}function rSe(n,t,e){let{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=n,a=i[t];return pp(a)&&s.isScriptable(t)&&(a=oSe(t,a,n,e)),rr(a)&&a.length&&(a=sSe(t,a,n,s.isIndexable)),l5(t,a)&&(a=sv(a,r,o&&o[t],s)),a}function oSe(n,t,e,i){let{_proxy:r,_context:o,_subProxy:s,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=t(o,s||i);return a.delete(n),l5(n,l)&&(l=c5(r._scopes,r,n,l)),l}function sSe(n,t,e,i){let{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Hn(t[0])){let l=t,u=r._scopes.filter(d=>d!==l);t=[];for(let d of l){let h=c5(u,r,n,d);t.push(sv(h,o,s&&s[n],a))}}return t}function OZ(n,t,e){return pp(n)?n(t,e):n}var aSe=(n,t)=>n===!0?t:typeof n=="string"?gp(t,n):void 0;function lSe(n,t,e,i,r){for(let o of t){let s=aSe(e,o);if(s){n.add(s);let a=OZ(s._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(s===!1&&typeof i<"u"&&e!==i)return null}return!1}function c5(n,t,e,i){let r=t._rootScopes,o=OZ(t._fallback,e,i),s=[...n,...r],a=new Set;a.add(i);let l=aZ(a,s,e,o||e,i);return l===null||typeof o<"u"&&o!==e&&(l=aZ(a,s,o,l,i),l===null)?!1:PO(Array.from(a),[""],r,o,()=>cSe(t,e,i))}function aZ(n,t,e,i,r){for(;e;)e=lSe(n,t,e,i,r);return e}function cSe(n,t,e){let i=n._getTarget();t in i||(i[t]={});let r=i[t];return rr(r)&&Hn(e)?e:r||{}}function uSe(n,t,e,i){let r;for(let o of t)if(r=FZ(iSe(o,n),e),typeof r<"u")return l5(n,r)?c5(e,i,n,r):r}function FZ(n,t){for(let e of t){if(!e)continue;let i=e[n];if(typeof i<"u")return i}}function lZ(n){let t=n._keys;return t||(t=n._keys=dSe(n._scopes)),t}function dSe(n){let t=new Set;for(let e of n)for(let i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function u5(n,t,e,i){let{iScale:r}=n,{key:o="r"}=this._parsing,s=new Array(i),a,l,u,d;for(a=0,l=i;a<l;++a)u=a+e,d=t[u],s[a]={r:r.parse(gp(d,o),u)};return s}var hSe=Number.EPSILON||1e-14,rw=(n,t)=>t<n.length&&!n[t].skip&&n[t],BZ=n=>n==="x"?"y":"x";function fSe(n,t,e,i){let r=n.skip?t:n,o=t,s=e.skip?t:e,a=SO(o,r),l=SO(s,o),u=a/(a+l),d=l/(a+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;let h=i*u,f=i*d;return{previous:{x:o.x-h*(s.x-r.x),y:o.y-h*(s.y-r.y)},next:{x:o.x+f*(s.x-r.x),y:o.y+f*(s.y-r.y)}}}function pSe(n,t,e){let i=n.length,r,o,s,a,l,u=rw(n,0);for(let d=0;d<i-1;++d)if(l=u,u=rw(n,d+1),!(!l||!u)){if(aw(t[d],0,hSe)){e[d]=e[d+1]=0;continue}r=e[d]/t[d],o=e[d+1]/t[d],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),e[d]=r*s*t[d],e[d+1]=o*s*t[d])}}function ASe(n,t,e="x"){let i=BZ(e),r=n.length,o,s,a,l=rw(n,0);for(let u=0;u<r;++u){if(s=a,a=l,l=rw(n,u+1),!a)continue;let d=a[e],h=a[i];s&&(o=(d-s[e])/3,a[`cp1${e}`]=d-o,a[`cp1${i}`]=h-o*t[u]),l&&(o=(l[e]-d)/3,a[`cp2${e}`]=d+o,a[`cp2${i}`]=h+o*t[u])}}function gSe(n,t="x"){let e=BZ(t),i=n.length,r=Array(i).fill(0),o=Array(i),s,a,l,u=rw(n,0);for(s=0;s<i;++s)if(a=l,l=u,u=rw(n,s+1),!!l){if(u){let d=u[t]-l[t];r[s]=d!==0?(u[e]-l[e])/d:0}o[s]=a?u?Ed(r[s-1])!==Ed(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}pSe(n,r,o),ASe(n,o,t)}function wO(n,t,e){return Math.max(Math.min(n,e),t)}function mSe(n,t){let e,i,r,o,s,a=qh(n[0],t);for(e=0,i=n.length;e<i;++e)s=o,o=a,a=e<i-1&&qh(n[e+1],t),o&&(r=n[e],s&&(r.cp1x=wO(r.cp1x,t.left,t.right),r.cp1y=wO(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=wO(r.cp2x,t.left,t.right),r.cp2y=wO(r.cp2y,t.top,t.bottom)))}function PZ(n,t,e,i,r){let o,s,a,l;if(t.spanGaps&&(n=n.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")gSe(n,r);else{let u=i?n[n.length-1]:n[0];for(o=0,s=n.length;o<s;++o)a=n[o],l=fSe(u,a,n[Math.min(o+1,s-(i?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}t.capBezierPoints&&mSe(n,e)}function kO(){return typeof window<"u"&&typeof document<"u"}function NO(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function xO(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}var RO=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function vSe(n,t){return RO(n).getPropertyValue(t)}var _Se=["top","right","bottom","left"];function ov(n,t,e){let i={};e=e?"-"+e:"";for(let r=0;r<4;r++){let o=_Se[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var ySe=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function wSe(n,t){let e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i,s=!1,a,l;if(ySe(r,o,n.target))a=r,l=o;else{let u=t.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,s=!0}return{x:a,y:l,box:s}}function Ag(n,t){if("native"in n)return n;let{canvas:e,currentDevicePixelRatio:i}=t,r=RO(e),o=r.boxSizing==="border-box",s=ov(r,"padding"),a=ov(r,"border","width"),{x:l,y:u,box:d}=wSe(n,e),h=s.left+(d&&a.left),f=s.top+(d&&a.top),{width:A,height:g}=t;return o&&(A-=s.width+a.width,g-=s.height+a.height),{x:Math.round((l-h)/A*e.width/i),y:Math.round((u-f)/g*e.height/i)}}function bSe(n,t,e){let i,r;if(t===void 0||e===void 0){let o=n&&NO(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{let s=o.getBoundingClientRect(),a=RO(o),l=ov(a,"border","width"),u=ov(a,"padding");t=s.width-u.width-l.width,e=s.height-u.height-l.height,i=xO(a.maxWidth,o,"clientWidth"),r=xO(a.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||EO,maxHeight:r||EO}}var bO=n=>Math.round(n*10)/10;function kZ(n,t,e,i){let r=RO(n),o=ov(r,"margin"),s=xO(r.maxWidth,n,"clientWidth")||EO,a=xO(r.maxHeight,n,"clientHeight")||EO,l=bSe(n,t,e),{width:u,height:d}=l;if(r.boxSizing==="content-box"){let f=ov(r,"border","width"),A=ov(r,"padding");u-=A.width+f.width,d-=A.height+f.height}return u=Math.max(0,u-o.width),d=Math.max(0,i?u/i:d-o.height),u=bO(Math.min(u,s,l.maxWidth)),d=bO(Math.min(d,a,l.maxHeight)),u&&!d&&(d=bO(u/2)),(t!==void 0||e!==void 0)&&i&&l.height&&d>l.height&&(d=l.height,u=bO(Math.floor(d*i))),{width:u,height:d}}function d5(n,t,e){let i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let s=n.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||s.height!==r||s.width!==o?(n.currentDevicePixelRatio=i,s.height=r,s.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var NZ=function(){let n=!1;try{let t={get passive(){return n=!0,!1}};kO()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function h5(n,t){let e=vSe(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ug(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function RZ(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function LZ(n,t,e,i){let r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},s=ug(n,r,e),a=ug(r,o,e),l=ug(o,t,e),u=ug(s,a,e),d=ug(a,l,e);return ug(u,d,e)}var CSe=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},ESe=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function lv(n,t,e){return n?CSe(t,e):ESe()}function f5(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function p5(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function UZ(n){return n==="angle"?{between:lw,compare:VEe,normalize:Ll}:{between:Yh,compare:(t,e)=>t-e,normalize:t=>t}}function cZ({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function SSe(n,t,e){let{property:i,start:r,end:o}=e,{between:s,normalize:a}=UZ(i),l=t.length,{start:u,end:d,loop:h}=n,f,A;if(h){for(u+=l,d+=l,f=0,A=l;f<A&&s(a(t[u%l][i]),r,o);++f)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:h,style:n.style}}function A5(n,t,e){if(!e)return[n];let{property:i,start:r,end:o}=e,s=t.length,{compare:a,between:l,normalize:u}=UZ(i),{start:d,end:h,loop:f,style:A}=SSe(n,t,e),g=[],m=!1,b=null,S,F,R,B=()=>l(r,R,S)&&a(r,R)!==0,P=()=>a(o,S)===0||l(o,R,S),L=()=>m||B(),j=()=>!m||P();for(let G=d,Y=d;G<=h;++G)F=t[G%s],!F.skip&&(S=u(F[i]),S!==R&&(m=l(S,r,o),b===null&&L()&&(b=a(S,r)===0?G:Y),b!==null&&j()&&(g.push(cZ({start:b,end:G,loop:f,count:s,style:A})),b=null),Y=G,R=S));return b!==null&&g.push(cZ({start:b,end:h,loop:f,count:s,style:A})),g}function g5(n,t){let e=[],i=n.segments;for(let r=0;r<i.length;r++){let o=A5(i[r],n.points,t);o.length&&e.push(...o)}return e}function xSe(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function ISe(n,t,e,i){let r=n.length,o=[],s=t,a=n[t],l;for(l=t+1;l<=e;++l){let u=n[l%r];u.skip||u.stop?a.skip||(i=!1,o.push({start:t%r,end:(l-1)%r,loop:i}),t=s=u.stop?l:null):(s=l,a.skip&&(t=l)),a=u}return s!==null&&o.push({start:t%r,end:s%r,loop:i}),o}function HZ(n,t){let e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];let o=!!n._loop,{start:s,end:a}=xSe(e,r,o,i);if(i===!0)return uZ(n,[{start:s,end:a,loop:o}],e,t);let l=a<s?a+r:a,u=!!n._fullLoop&&s===0&&a===r-1;return uZ(n,ISe(e,s,l,u),e,t)}function uZ(n,t,e,i){return!i||!i.setContext||!e?t:TSe(n,t,e,i)}function TSe(n,t,e,i){let r=n._chart.getContext(),o=dZ(n.options),{_datasetIndex:s,options:{spanGaps:a}}=n,l=e.length,u=[],d=o,h=t[0].start,f=h;function A(g,m,b,S){let F=a?-1:1;if(g!==m){for(g+=l;e[g%l].skip;)g-=F;for(;e[m%l].skip;)m+=F;g%l!==m%l&&(u.push({start:g%l,end:m%l,loop:b,style:S}),d=S,h=m%l)}}for(let g of t){h=a?h:g.start;let m=e[h%l],b;for(f=h+1;f<=g.end;f++){let S=e[f%l];b=dZ(i.setContext(mp(r,{type:"segment",p0:m,p1:S,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:s}))),DSe(b,d)&&A(h,f-1,g.loop,d),m=S,d=b}h<f-1&&A(h,f-1,g.loop,d)}return u}function dZ(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function DSe(n,t){if(!t)return!1;let e=[],i=function(r,o){return n5(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}var I5=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){let o=e.listeners[r],s=e.duration;o.forEach(a=>a({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(i-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=XU.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let o=i.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let i=e.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},vp=new I5,VZ="transparent",MSe={boolean(n,t,e){return e>.5?t:n},color(n,t,e){let i=i5(n||VZ),r=i.valid&&i5(t||VZ);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}},T5=class{constructor(t,e,i,r){let o=e[i];r=dw([t.to,r,o,t.from]);let s=dw([t.from,o,r]);this._active=!0,this._fn=t.fn||MSe[t.type||typeof s],this._easing=nw[t.easing]||nw.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);let r=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=dw([t.to,e,r,t.from]),this._from=dw([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,i=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||e<i),!this._active){this._target[r]=a,this._notify(!0);return}if(e<0){this._target[r]=o;return}l=e/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(o,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){let e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}},zO=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Hn(t))return;let e=Object.keys(yr.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{let o=t[r];if(!Hn(o))return;let s={};for(let a of e)s[a]=o[a];(rr(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,s)})})}_animateOptions(t,e){let i=e.options,r=FSe(t,i);if(!r)return[];let o=this._createAnimations(r,i);return i.$shared&&OSe(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){let i=this._properties,r=[],o=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let u=s[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(t,e));continue}let d=e[u],h=o[u],f=i.get(u);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){t[u]=d;continue}o[u]=h=new T5(f,t,u,d),r.push(h)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let i=this._createAnimations(t,e);if(i.length)return vp.add(this._chart,i),!0}};function OSe(n,t){let e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){let o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function FSe(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function QZ(n,t){let e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function BSe(n,t,e){if(e===!1)return!1;let i=QZ(n,e),r=QZ(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function PSe(n){let t,e,i,r;return Hn(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function VX(n,t){let e=[],i=n._getSortedDatasetMetas(t),r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function jZ(n,t,e,i={}){let r=n.keys,o=i.mode==="single",s,a,l,u;if(t!==null){for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===e){if(i.all)continue;break}u=n.values[l],Gr(u)&&(o||t===0||Ed(t)===Ed(u))&&(t+=u)}return t}}function kSe(n,t){let{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",s=Object.keys(n),a=new Array(s.length),l,u,d;for(l=0,u=s.length;l<u;++l)d=s[l],a[l]={[r]:d,[o]:n[d]};return a}function m5(n,t){let e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function NSe(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function RSe(n){let{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function LSe(n,t,e){let i=n[t]||(n[t]={});return i[e]||(i[e]={})}function GZ(n,t,e,i){for(let r of t.getMatchingVisibleMetas(i).reverse()){let o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function WZ(n,t){let{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,u=s.axis,d=NSe(o,s,i),h=t.length,f;for(let A=0;A<h;++A){let g=t[A],{[l]:m,[u]:b}=g,S=g._stacks||(g._stacks={});f=S[u]=LSe(r,d,m),f[a]=b,f._top=GZ(f,s,!0,i.type),f._bottom=GZ(f,s,!1,i.type);let F=f._visualValues||(f._visualValues={});F[a]=b}}function v5(n,t){let e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function USe(n,t){return mp(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function HSe(n,t,e){return mp(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function mS(n,t){let e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(let r of t){let o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}var _5=n=>n==="reset"||n==="none",KZ=(n,t)=>t?n:Object.assign({},n),VSe=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:VX(e,!0),values:null},mg=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=m5(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&mS(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(f,A,g,m)=>f==="x"?A:f==="r"?m:g,s=i.xAxisID=An(r.xAxisID,v5(e,"x")),a=i.yAxisID=An(r.yAxisID,v5(e,"y")),l=i.rAxisID=An(r.rAxisID,v5(e,"r")),u=i.indexAxis,d=i.iAxisID=o(u,s,a,l),h=i.vAxisID=o(u,a,s,l);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&YU(this._data,this),e._stacked&&mS(e)}_dataCheck(){let e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(Hn(i)){let o=this._cachedMeta;this._data=kSe(i,o)}else if(r!==i){if(r){YU(r,this);let o=this._cachedMeta;mS(o),o._parsed=[]}i&&Object.isExtensible(i)&&bZ(i,this),this._syncList=[],this._data=i}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let i=this._cachedMeta,r=this.getDataset(),o=!1;this._dataCheck();let s=i._stacked;i._stacked=m5(i.vScale,i),i.stack!==r.stack&&(o=!0,mS(i),i.stack=r.stack),this._resyncElements(e),(o||s!==i._stacked)&&(WZ(this,i._parsed),i._stacked=m5(i.vScale,i))}configure(){let e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,l=s.axis,u=e===0&&i===o.length?!0:r._sorted,d=e>0&&r._parsed[e-1],h,f,A;if(this._parsing===!1)r._parsed=o,r._sorted=!0,A=o;else{rr(o[e])?A=this.parseArrayData(r,o,e,i):Hn(o[e])?A=this.parseObjectData(r,o,e,i):A=this.parsePrimitiveData(r,o,e,i);let g=()=>f[l]===null||d&&f[l]<d[l];for(h=0;h<i;++h)r._parsed[h+e]=f=A[h],u&&(g()&&(u=!1),d=f);r._sorted=u}a&&WZ(this,A)}parsePrimitiveData(e,i,r,o){let{iScale:s,vScale:a}=e,l=s.axis,u=a.axis,d=s.getLabels(),h=s===a,f=new Array(o),A,g,m;for(A=0,g=o;A<g;++A)m=A+r,f[A]={[l]:h||s.parse(d[m],m),[u]:a.parse(i[m],m)};return f}parseArrayData(e,i,r,o){let{xScale:s,yScale:a}=e,l=new Array(o),u,d,h,f;for(u=0,d=o;u<d;++u)h=u+r,f=i[h],l[u]={x:s.parse(f[0],h),y:a.parse(f[1],h)};return l}parseObjectData(e,i,r,o){let{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(o),h,f,A,g;for(h=0,f=o;h<f;++h)A=h+r,g=i[A],d[h]={x:s.parse(gp(g,l),A),y:a.parse(gp(g,u),A)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){let o=this.chart,s=this._cachedMeta,a=i[e.axis],l={keys:VX(o,!0),values:i._stacks[e.axis]._visualValues};return jZ(l,a,s.index,{mode:r})}updateRangeFromParsed(e,i,r,o){let s=r[i.axis],a=s===null?NaN:s,l=o&&r._stacks[i.axis];o&&l&&(o.values=l,a=jZ(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){let r=this._cachedMeta,o=r._parsed,s=r._sorted&&e===r.iScale,a=o.length,l=this._getOtherScale(e),u=VSe(i,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=RSe(l),A,g;function m(){g=o[A];let b=g[l.axis];return!Gr(g[e.axis])||h>b||f<b}for(A=0;A<a&&!(!m()&&(this.updateRangeFromParsed(d,e,g,u),s));++A);if(s){for(A=a-1;A>=0;--A)if(!m()){this.updateRangeFromParsed(d,e,g,u);break}}return d}getAllParsedValues(e){let i=this._cachedMeta._parsed,r=[],o,s,a;for(o=0,s=i.length;o<s;++o)a=i[o][e.axis],Gr(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){let i=this._cachedMeta,r=i.iScale,o=i.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){let i=this._cachedMeta;this.update(e||"default"),i._clip=PSe(An(this.options.clip,BSe(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,i=this.chart,r=this._cachedMeta,o=r.data||[],s=i.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||o.length-l,d=this.options.drawActiveElementsOnTop,h;for(r.dataset&&r.dataset.draw(e,s,l,u),h=l;h<l+u;++h){let f=o[h];f.hidden||(f.active&&d?a.push(f):f.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(e,i){let r=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){let o=this.getDataset(),s;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];s=a.$context||(a.$context=HSe(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=USe(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){let o=i==="active",s=this._cachedDataOpts,a=e+"-"+i,l=s[a],u=this.enableOptionSharing&&sw(r);if(l)return KZ(l,u);let d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),f=o?[`${e}Hover`,"hover",e,""]:[e,""],A=d.getOptionScopes(this.getDataset(),h),g=Object.keys(yr.elements[e]),m=()=>this.getContext(r,o,i),b=d.resolveNamedOptions(A,g,m,f);return b.$shared&&(b.$shared=u,s[a]=Object.freeze(KZ(b,u))),b}_resolveAnimations(e,i,r){let o=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,l=s[a];if(l)return l;let u;if(o.options.animation!==!1){let h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,i),A=h.getOptionScopes(this.getDataset(),f);u=h.createResolver(A,this.getContext(e,r,i))}let d=new zO(o,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||_5(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){let r=this.resolveDataElementOptions(e,i),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(i,s)||s!==o;return this.updateSharedOptions(s,i,r),{sharedOptions:s,includeOptions:a}}updateElement(e,i,r,o){_5(o)?Object.assign(e,r):this._resolveAnimations(i,o).update(e,r)}updateSharedOptions(e,i,r){e&&!_5(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,o){e.active=o;let s=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let i=this._data,r=this._cachedMeta.data;for(let[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];let o=r.length,s=i.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,i,r=!0){let o=this._cachedMeta,s=o.data,a=e+i,l,u=d=>{for(d.length+=i,l=d.length-1;l>=a;l--)d[l]=d[l-i]};for(u(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&u(o._parsed),this.parse(e,i),r&&this.updateElements(s,e,i,"reset")}updateElements(e,i,r,o){}_removeElements(e,i){let r=this._cachedMeta;if(this._parsing){let o=r._parsed.splice(e,i);r._stacked&&mS(r,o)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[i,r,o]=e;this[i](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function QSe(n,t){if(!n._cache.$bar){let e=n.getMatchingVisibleMetas(t),i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=ZU(i.sort((r,o)=>r-o))}return n._cache.$bar}function jSe(n){let t=n.iScale,e=QSe(t,n.type),i=t._length,r,o,s,a,l=()=>{s===32767||s===-32768||(sw(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(r=0,o=e.length;r<o;++r)s=t.getPixelForValue(e[r]),l();for(a=void 0,r=0,o=t.ticks.length;r<o;++r)s=t.getPixelForTick(r),l();return i}function GSe(n,t,e,i){let r=e.barThickness,o,s;return ii(r)?(o=t.min*e.categoryPercentage,s=e.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:t.pixels[n]-o/2}}function WSe(n,t,e,i){let r=t.pixels,o=r[n],s=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null,l=e.categoryPercentage;s===null&&(s=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-s);let u=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:e.barPercentage,start:u}}function KSe(n,t,e,i){let r=e.parse(n[0],i),o=e.parse(n[1],i),s=Math.min(r,o),a=Math.max(r,o),l=s,u=a;Math.abs(s)>Math.abs(a)&&(l=a,u=s),t[e.axis]=u,t._custom={barStart:l,barEnd:u,start:r,end:o,min:s,max:a}}function QX(n,t,e,i){return rr(n)?KSe(n,t,e,i):t[e.axis]=e.parse(n,i),t}function zZ(n,t,e,i){let r=n.iScale,o=n.vScale,s=r.getLabels(),a=r===o,l=[],u,d,h,f;for(u=e,d=e+i;u<d;++u)f=t[u],h={},h[r.axis]=a||r.parse(s[u],u),l.push(QX(f,h,o,u));return l}function y5(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function zSe(n,t,e){return n!==0?Ed(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function qSe(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function $Se(n,t,e,i){let r=t.borderSkipped,o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:u,bottom:d}=qSe(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=u:(e._bottom||0)===i?r=d:(o[qZ(d,s,a,l)]=!0,r=u)),o[qZ(r,s,a,l)]=!0,n.borderSkipped=o}function qZ(n,t,e,i){return i?(n=YSe(n,t,e),n=$Z(n,e,t)):n=$Z(n,t,e),n}function YSe(n,t,e){return n===t?e:n===e?t:n}function $Z(n,t,e){return n==="start"?t:n==="end"?e:n}function ZSe(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}var XSe=(()=>{class n extends mg{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,r,o){return zZ(e,i,r,o)}parseArrayData(e,i,r,o){return zZ(e,i,r,o)}parseObjectData(e,i,r,o){let{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=s.axis==="x"?l:u,h=a.axis==="x"?l:u,f=[],A,g,m,b;for(A=r,g=r+o;A<g;++A)b=i[A],m={},m[s.axis]=s.parse(gp(b,d),A),f.push(QX(gp(b,h),m,a,A));return f}updateRangeFromParsed(e,i,r,o){super.updateRangeFromParsed(e,i,r,o);let s=r._custom;s&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let i=this._cachedMeta,{iScale:r,vScale:o}=i,s=this.getParsed(e),a=s._custom,l=y5(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),d=l.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:A}=this._getSharedOptions(i,o);for(let g=i;g<i+r;g++){let m=this.getParsed(g),b=s||ii(m[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(g),S=this._calculateBarIndexPixels(g,h),F=(m._stacks||{})[l.axis],R={horizontal:d,base:b.base,enableBorderRadius:!F||y5(m._custom)||a===F._top||a===F._bottom,x:d?b.head:S.center,y:d?S.center:b.head,height:d?S.size:Math.abs(b.size),width:d?Math.abs(b.size):S.size};A&&(R.options=f||this.resolveDataElementOptions(g,e[g].active?"active":o));let B=R.options||e[g].options;$Se(R,B,F,a),ZSe(R,B,h.ratio),this.updateElement(e[g],g,R,o)}}_getStacks(e,i){let{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(i),u=l&&l[r.axis],d=h=>{let f=h._parsed.find(g=>g[r.axis]===u),A=f&&f[h.vScale.axis];if(ii(A)||isNaN(A))return!0};for(let h of o)if(!(i!==void 0&&d(h))&&((s===!1||a.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){let o=this._getStacks(e,r),s=i!==void 0?o.indexOf(i):-1;return s===-1?o.length-1:s}_getRuler(){let e=this.options,i=this._cachedMeta,r=i.iScale,o=[],s,a;for(s=0,a=i.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));let l=e.barThickness;return{min:l||jSe(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:i,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,u=this.getParsed(e),d=u._custom,h=y5(d),f=u[i.axis],A=0,g=r?this.applyStack(i,u,r):f,m,b;g!==f&&(A=g-f,g=f),h&&(f=d.barStart,g=d.barEnd-d.barStart,f!==0&&Ed(f)!==Ed(d.barEnd)&&(A=0),A+=f);let S=!ii(s)&&!h?s:A,F=i.getPixelForValue(S);if(this.chart.getDataVisibility(e)?m=i.getPixelForValue(A+g):m=F,b=m-F,Math.abs(b)<a){b=zSe(b,i,l)*a,f===l&&(F-=b/2);let R=i.getPixelForDecimal(0),B=i.getPixelForDecimal(1),P=Math.min(R,B),L=Math.max(R,B);F=Math.max(Math.min(F,L),P),m=F+b,r&&!h&&(u._stacks[i.axis]._visualValues[o]=i.getValueForPixel(m)-i.getValueForPixel(F))}if(F===i.getPixelForValue(l)){let R=Ed(b)*i.getLineWidthForValue(l)/2;F+=R,b-=R}return{size:b,base:F,head:m,center:m+b/2}}_calculateBarIndexPixels(e,i){let r=i.scale,o=this.options,s=o.skipNull,a=An(o.maxBarThickness,1/0),l,u;if(i.grouped){let d=s?this._getStackCount(e):i.stackCount,h=o.barThickness==="flex"?WSe(e,i,o,d):GSe(e,i,o,d),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=h.start+h.chunk*f+h.chunk/2,u=Math.min(a,h.chunk*h.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(a,i.min*i.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){let e=this._cachedMeta,i=e.vScale,r=e.data,o=r.length,s=0;for(;s<o;++s)this.getParsed(s)[i.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}return n})(),JSe=(()=>{class n extends mg{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,o){let s=super.parsePrimitiveData(e,i,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,i,r,o){let s=super.parseArrayData(e,i,r,o);for(let a=0;a<s.length;a++){let l=i[r+a];s[a]._custom=An(l[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(e,i,r,o){let s=super.parseObjectData(e,i,r,o);for(let a=0;a<s.length;a++){let l=i[r+a];s[a]._custom=An(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(e),l=o.getLabelForValue(a.x),u=s.getLabelForValue(a.y),d=a._custom;return{label:r[e]||"",value:"("+l+", "+u+(d?", "+d:"")+")"}}update(e){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,o){let s=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(i,o),h=a.axis,f=l.axis;for(let A=i;A<i+r;A++){let g=e[A],m=!s&&this.getParsed(A),b={},S=b[h]=s?a.getPixelForDecimal(.5):a.getPixelForValue(m[h]),F=b[f]=s?l.getBasePixel():l.getPixelForValue(m[f]);b.skip=isNaN(S)||isNaN(F),d&&(b.options=u||this.resolveDataElementOptions(A,g.active?"active":o),s&&(b.options.radius=0)),this.updateElement(g,A,b,o)}}resolveDataElementOptions(e,i){let r=this.getParsed(e),o=super.resolveDataElementOptions(e,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return i!=="active"&&(o.radius=0),o.radius+=An(r&&r._custom,s),o}}return n})();function exe(n,t,e){let i=1,r=1,o=0,s=0;if(t<sr){let a=n,l=a+t,u=Math.cos(a),d=Math.sin(a),h=Math.cos(l),f=Math.sin(l),A=(R,B,P)=>lw(R,a,l,!0)?1:Math.max(B,B*e,P,P*e),g=(R,B,P)=>lw(R,a,l,!0)?-1:Math.min(B,B*e,P,P*e),m=A(0,u,h),b=A(Jr,d,f),S=g(or,u,h),F=g(or+Jr,d,f);i=(m-S)/2,r=(b-F)/2,o=-(m+S)/2,s=-(b+F)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}var q5=(()=>{class n extends mg{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:o}}=e.legend.options;return i.labels.map((s,a)=>{let u=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:o,lineWidth:u.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){let r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let s=u=>+r[u];if(Hn(r[e])){let{key:u="value"}=this._parsing;s=d=>+gp(r[d],u)}let a,l;for(a=e,l=e+i;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return wu(this.options.rotation-90)}_getCircumference(){return wu(this.options.circumference)}_getRotationExtents(){let e=sr,i=-sr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();e=Math.min(e,s),i=Math.max(i,s+a)}return{rotation:e,circumference:i-e}}update(e){let i=this.chart,{chartArea:r}=i,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),u=Math.min(fZ(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:A,ratioY:g,offsetX:m,offsetY:b}=exe(f,h,u),S=(r.width-a)/A,F=(r.height-a)/g,R=Math.max(Math.min(S,F)/2,0),B=GU(this.options.radius,R),P=Math.max(B*u,0),L=(B-P)/this._getVisibleDatasetWeightTotal();this.offsetX=m*B,this.offsetY=b*B,o.total=this.calculateTotal(),this.outerRadius=B-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,i){let r=this.options,o=this._cachedMeta,s=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/sr)}updateElements(e,i,r,o){let s=o==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,h=(l.left+l.right)/2,f=(l.top+l.bottom)/2,A=s&&d.animateScale,g=A?0:this.innerRadius,m=A?0:this.outerRadius,{sharedOptions:b,includeOptions:S}=this._getSharedOptions(i,o),F=this._getRotation(),R;for(R=0;R<i;++R)F+=this._circumference(R,s);for(R=i;R<i+r;++R){let B=this._circumference(R,s),P=e[R],L={x:h+this.offsetX,y:f+this.offsetY,startAngle:F,endAngle:F+B,circumference:B,outerRadius:m,innerRadius:g};S&&(L.options=b||this.resolveDataElementOptions(R,P.active?"active":o)),F+=B,this.updateElement(P,R,L,o)}}calculateTotal(){let e=this._cachedMeta,i=e.data,r=0,o;for(o=0;o<i.length;o++){let s=e._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){let i=this._cachedMeta.total;return i>0&&!isNaN(e)?sr*(Math.abs(e)/i):0}getLabelAndValue(e){let i=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=cw(i._parsed[e],r.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let i=0,r=this.chart,o,s,a,l,u;if(!e){for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),e=a.data,l=a.controller;break}}if(!e)return 0;for(o=0,s=e.length;o<s;++o)u=l.resolveDataElementOptions(o),u.borderAlign!=="inner"&&(i=Math.max(i,u.borderWidth||0,u.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,o=e.length;r<o;++r){let s=this.resolveDataElementOptions(r);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(An(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),txe=(()=>{class n extends mg{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let i=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=i,a=this.chart._animationsDisabled,{start:l,count:u}=e5(i,o,a);this._drawStart=l,this._drawCount=u,t5(i)&&(l=0,u=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;let d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(o,l,u,e)}updateElements(e,i,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(i,o),A=a.axis,g=l.axis,{spanGaps:m,segment:b}=this.options,S=av(m)?m:Number.POSITIVE_INFINITY,F=this.chart._animationsDisabled||s||o==="none",R=i+r,B=e.length,P=i>0&&this.getParsed(i-1);for(let L=0;L<B;++L){let j=e[L],G=F?j:{};if(L<i||L>=R){G.skip=!0;continue}let Y=this.getParsed(L),Z=ii(Y[g]),_e=G[A]=a.getPixelForValue(Y[A],L),xe=G[g]=s||Z?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,Y,u):Y[g],L);G.skip=isNaN(_e)||isNaN(xe)||Z,G.stop=L>0&&Math.abs(Y[A]-P[A])>S,b&&(G.parsed=Y,G.raw=d.data[L]),f&&(G.options=h||this.resolveDataElementOptions(L,j.active?"active":o)),F||this.updateElement(j,L,G,o),P=Y}}getMaxOverflow(){let e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,o=e.data||[];if(!o.length)return r;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n})(),jX=(()=>{class n extends mg{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:o}}=e.legend.options;return i.labels.map((s,a)=>{let u=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:o,lineWidth:u.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let i=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=cw(i._parsed[e].r,r.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,i,r,o){return u5.bind(this)(e,i,r,o)}update(e){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){let e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){let e=this.chart,i=e.chartArea,r=e.options,o=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(o/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),l=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,i,r,o){let s=o==="reset",a=this.chart,u=a.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,f=d.yCenter,A=d.getIndexAngle(0)-.5*or,g=A,m,b=360/this.countVisibleElements();for(m=0;m<i;++m)g+=this._computeAngle(m,o,b);for(m=i;m<i+r;m++){let S=e[m],F=g,R=g+this._computeAngle(m,o,b),B=a.getDataVisibility(m)?d.getDistanceFromCenterForValue(this.getParsed(m).r):0;g=R,s&&(u.animateScale&&(B=0),u.animateRotate&&(F=R=A));let P={x:h,y:f,innerRadius:0,outerRadius:B,startAngle:F,endAngle:R,options:this.resolveDataElementOptions(m,S.active?"active":o)};this.updateElement(S,m,P,o)}}countVisibleElements(){let e=this._cachedMeta,i=0;return e.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?wu(this.resolveDataElementOptions(e,i).angle||r):0}}return n})(),nxe=(()=>{class n extends q5{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),ixe=(()=>{class n extends mg{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,o){return u5.bind(this)(e,i,r,o)}update(e){let i=this._cachedMeta,r=i.dataset,o=i.data||[],s=i.iScale.getLabels();if(r.points=o,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(r,void 0,l,e)}this.updateElements(o,0,o.length,e)}updateElements(e,i,r,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let l=i;l<i+r;l++){let u=e[l],d=this.resolveDataElementOptions(l,u.active?"active":o),h=s.getPointPositionForValue(l,this.getParsed(l).r),f=a?s.xCenter:h.x,A=a?s.yCenter:h.y,g={x:f,y:A,angle:h.angle,skip:isNaN(f)||isNaN(A),options:d};this.updateElement(u,l,g,o)}}}return n})(),rxe=(()=>{class n extends mg{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(e),l=o.getLabelForValue(a.x),u=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+l+", "+u+")"}}update(e){let i=this._cachedMeta,{data:r=[]}=i,o=this.chart._animationsDisabled,{start:s,count:a}=e5(i,r,o);if(this._drawStart=s,this._drawCount=a,t5(i)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:u}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=r;let d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:d},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(i,o),f=this.getSharedOptions(h),A=this.includeOptions(o,f),g=a.axis,m=l.axis,{spanGaps:b,segment:S}=this.options,F=av(b)?b:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||s||o==="none",B=i>0&&this.getParsed(i-1);for(let P=i;P<i+r;++P){let L=e[P],j=this.getParsed(P),G=R?L:{},Y=ii(j[m]),Z=G[g]=a.getPixelForValue(j[g],P),_e=G[m]=s||Y?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,j,u):j[m],P);G.skip=isNaN(Z)||isNaN(_e)||Y,G.stop=P>0&&Math.abs(j[g]-B[g])>F,S&&(G.parsed=j,G.raw=d.data[P]),A&&(G.options=f||this.resolveDataElementOptions(P,L.active?"active":o)),R||this.updateElement(L,P,G,o),B=j}this.updateSharedOptions(f,o,h)}getMaxOverflow(){let e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let l=0;for(let u=i.length-1;u>=0;--u)l=Math.max(l,i[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}let r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!i.length)return o;let s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,s,a)/2}}return n})(),oxe=Object.freeze({__proto__:null,BarController:XSe,BubbleController:JSe,DoughnutController:q5,LineController:txe,PieController:nxe,PolarAreaController:jX,RadarController:ixe,ScatterController:rxe});function cv(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var D5=class n{static override(t){Object.assign(n.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return cv()}parse(){return cv()}format(){return cv()}add(){return cv()}diff(){return cv()}startOf(){return cv()}endOf(){return cv()}},sxe={_date:D5};function axe(n,t,e,i){let{controller:r,data:o,_sorted:s}=n,a=r._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&s&&o.length){let l=a._reversePixels?_Z:zh;if(i){if(r._sharedOptions){let u=o[0],d=typeof u.getRange=="function"&&u.getRange(t);if(d){let h=l(o,t,e-d),f=l(o,t,e+d);return{lo:h.lo,hi:f.hi}}}}else return l(o,t,e)}return{lo:0,hi:o.length-1}}function IS(n,t,e,i,r){let o=n.getSortedVisibleDatasetMetas(),s=e[t];for(let a=0,l=o.length;a<l;++a){let{index:u,data:d}=o[a],{lo:h,hi:f}=axe(o[a],t,s,r);for(let A=h;A<=f;++A){let g=d[A];g.skip||i(g,u,A)}}}function lxe(n){let t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){let o=t?Math.abs(i.x-r.x):0,s=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function w5(n,t,e,i,r){let o=[];return!r&&!n.isPointInArea(t)||IS(n,e,t,function(a,l,u){!r&&!qh(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&o.push({element:a,datasetIndex:l,index:u})},!0),o}function cxe(n,t,e,i){let r=[];function o(s,a,l){let{startAngle:u,endAngle:d}=s.getProps(["startAngle","endAngle"],i),{angle:h}=$U(s,{x:t.x,y:t.y});lw(h,u,d)&&r.push({element:s,datasetIndex:a,index:l})}return IS(n,e,t,o),r}function uxe(n,t,e,i,r,o){let s=[],a=lxe(e),l=Number.POSITIVE_INFINITY;function u(d,h,f){let A=d.inRange(t.x,t.y,r);if(i&&!A)return;let g=d.getCenterPoint(r);if(!(!!o||n.isPointInArea(g))&&!A)return;let b=a(t,g);b<l?(s=[{element:d,datasetIndex:h,index:f}],l=b):b===l&&s.push({element:d,datasetIndex:h,index:f})}return IS(n,e,t,u),s}function b5(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?cxe(n,t,e,r):uxe(n,t,e,i,r,o)}function YZ(n,t,e,i,r){let o=[],s=e==="x"?"inXRange":"inYRange",a=!1;return IS(n,e,t,(l,u,d)=>{l[s]&&l[s](t[e],r)&&(o.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:o}var dxe={evaluateInteractionItems:IS,modes:{index(n,t,e,i){let r=Ag(t,n),o=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?w5(n,r,o,i,s):b5(n,r,o,!1,i,s),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{let d=a[0].index,h=u.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:d})}),l):[]},dataset(n,t,e,i){let r=Ag(t,n),o=e.axis||"xy",s=e.includeInvisible||!1,a=e.intersect?w5(n,r,o,i,s):b5(n,r,o,!1,i,s);if(a.length>0){let l=a[0].datasetIndex,u=n.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point(n,t,e,i){let r=Ag(t,n),o=e.axis||"xy",s=e.includeInvisible||!1;return w5(n,r,o,i,s)},nearest(n,t,e,i){let r=Ag(t,n),o=e.axis||"xy",s=e.includeInvisible||!1;return b5(n,r,o,e.intersect,i,s)},x(n,t,e,i){let r=Ag(t,n);return YZ(n,r,"x",e.intersect,i)},y(n,t,e,i){let r=Ag(t,n);return YZ(n,r,"y",e.intersect,i)}}},GX=["left","top","right","bottom"];function vS(n,t){return n.filter(e=>e.pos===t)}function ZZ(n,t){return n.filter(e=>GX.indexOf(e.pos)===-1&&e.box.axis===t)}function _S(n,t){return n.sort((e,i)=>{let r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function hxe(n){let t=[],e,i,r,o,s,a;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:s,stackWeight:a=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return t}function fxe(n){let t={};for(let e of n){let{stack:i,pos:r,stackWeight:o}=e;if(!i||!GX.includes(r))continue;let s=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return t}function pxe(n,t){let e=fxe(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t,o,s,a;for(o=0,s=n.length;o<s;++o){a=n[o];let{fullSize:l}=a.box,u=e[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=d?d*r:l&&t.availableHeight)}return e}function Axe(n){let t=hxe(n),e=_S(t.filter(u=>u.box.fullSize),!0),i=_S(vS(t,"left"),!0),r=_S(vS(t,"right")),o=_S(vS(t,"top"),!0),s=_S(vS(t,"bottom")),a=ZZ(t,"x"),l=ZZ(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:vS(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}function XZ(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function WX(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function gxe(n,t,e,i){let{pos:r,box:o}=e,s=n.maxPadding;if(!Hn(r)){e.size&&(n[r]-=e.size);let h=i[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?o.height:o.width),e.size=h.size/h.count,n[r]+=e.size}o.getPadding&&WX(s,o.getPadding());let a=Math.max(0,t.outerWidth-XZ(s,n,"left","right")),l=Math.max(0,t.outerHeight-XZ(s,n,"top","bottom")),u=a!==n.w,d=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:u,other:d}:{same:d,other:u}}function mxe(n){let t=n.maxPadding;function e(i){let r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function vxe(n,t){let e=t.maxPadding;function i(r){let o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(t[s],e[s])}),o}return i(n?["left","right"]:["top","bottom"])}function bS(n,t,e,i){let r=[],o,s,a,l,u,d;for(o=0,s=n.length,u=0;o<s;++o){a=n[o],l=a.box,l.update(a.width||t.w,a.height||t.h,vxe(a.horizontal,t));let{same:h,other:f}=gxe(t,e,a,i);u|=h&&r.length,d=d||f,l.fullSize||r.push(a)}return u&&bS(r,t,e,i)||d}function LO(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function JZ(n,t,e,i){let r=e.padding,{x:o,y:s}=t;for(let a of n){let l=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){let h=t.w*d,f=u.size||l.height;sw(u.start)&&(s=u.start),l.fullSize?LO(l,r.left,s,e.outerWidth-r.right-r.left,f):LO(l,t.left+u.placed,s,h,f),u.start=s,u.placed+=h,s=l.bottom}else{let h=t.h*d,f=u.size||l.width;sw(u.start)&&(o=u.start),l.fullSize?LO(l,o,r.top,f,e.outerHeight-r.bottom-r.top):LO(l,o,t.top+u.placed,f,h),u.start=o,u.placed+=h,o=l.right}}t.x=o,t.y=s}var Ea={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){let e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;let r=Js(n.options.layout.padding),o=Math.max(t-r.width,0),s=Math.max(e-r.height,0),a=Axe(n.boxes),l=a.vertical,u=a.horizontal;Si(n.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});let d=l.reduce((m,b)=>b.box.options&&b.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),f=Object.assign({},r);WX(f,Js(i));let A=Object.assign({maxPadding:f,w:o,h:s,x:r.left,y:r.top},r),g=pxe(l.concat(u),h);bS(a.fullSize,A,h,g),bS(l,A,h,g),bS(u,A,h,g)&&bS(l,A,h,g),mxe(A),JZ(a.leftAndTop,A,h,g),A.x+=A.w,A.y+=A.h,JZ(a.rightAndBottom,A,h,g),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Si(a.chartArea,m=>{let b=m.box;Object.assign(b,n.chartArea),b.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}},qO=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}},M5=class extends qO{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},WO="$chartjs",_xe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},eX=n=>n===null||n==="";function yxe(n,t){let e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[WO]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",eX(r)){let o=h5(n,"width");o!==void 0&&(n.width=o)}if(eX(i))if(n.style.height==="")n.height=n.width/(t||2);else{let o=h5(n,"height");o!==void 0&&(n.height=o)}return n}var KX=NZ?{passive:!0}:!1;function wxe(n,t,e){n&&n.addEventListener(t,e,KX)}function bxe(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,KX)}function Cxe(n,t){let e=_xe[n.type]||n.type,{x:i,y:r}=Ag(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function $O(n,t){for(let e of n)if(e===t||e.contains(t))return!0}function Exe(n,t,e){let i=n.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||$O(a.addedNodes,i),s=s&&!$O(a.removedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Sxe(n,t,e){let i=n.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||$O(a.removedNodes,i),s=s&&!$O(a.addedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}var ES=new Map,tX=0;function zX(){let n=window.devicePixelRatio;n!==tX&&(tX=n,ES.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function xxe(n,t){ES.size||window.addEventListener("resize",zX),ES.set(n,t)}function Ixe(n){ES.delete(n),ES.size||window.removeEventListener("resize",zX)}function Txe(n,t,e){let i=n.canvas,r=i&&NO(i);if(!r)return;let o=JU((a,l)=>{let u=r.clientWidth;e(a,l),u<r.clientWidth&&e()},window),s=new ResizeObserver(a=>{let l=a[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||o(u,d)});return s.observe(r),xxe(n,o),s}function C5(n,t,e){e&&e.disconnect(),t==="resize"&&Ixe(n)}function Dxe(n,t,e){let i=n.canvas,r=JU(o=>{n.ctx!==null&&e(Cxe(o,n))},n);return wxe(i,t,r),r}var O5=class extends qO{acquireContext(t,e){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(yxe(t,e),i):null}releaseContext(t){let e=t.canvas;if(!e[WO])return!1;let i=e[WO].initial;["height","width"].forEach(o=>{let s=i[o];ii(s)?e.removeAttribute(o):e.setAttribute(o,s)});let r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[WO],!0}addEventListener(t,e,i){this.removeEventListener(t,e);let r=t.$proxies||(t.$proxies={}),s={attach:Exe,detach:Sxe,resize:Txe}[e]||Dxe;r[e]=s(t,e,i)}removeEventListener(t,e){let i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:C5,detach:C5,resize:C5}[e]||bxe)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return kZ(t,e,i,r)}isAttached(t){let e=t&&NO(t);return!!(e&&e.isConnected)}};function Mxe(n){return!kO()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?M5:O5}var Sd=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return av(this.x)&&av(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function Oxe(n,t){let e=n.options.ticks,i=Fxe(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?Pxe(t):[],s=o.length,a=o[0],l=o[s-1],u=[];if(s>r)return kxe(t,u,o,s/r),u;let d=Bxe(o,t,r);if(s>0){let h,f,A=s>1?Math.round((l-a)/(s-1)):null;for(UO(t,u,d,ii(A)?0:a-A,a),h=0,f=s-1;h<f;h++)UO(t,u,d,o[h],o[h+1]);return UO(t,u,d,l,ii(A)?t.length:l+A),u}return UO(t,u,d),u}function Fxe(n){let t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function Bxe(n,t,e){let i=Nxe(n),r=t.length/e;if(!i)return Math.max(r,1);let o=gZ(i);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>r)return l}return Math.max(r,1)}function Pxe(n){let t=[],e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function kxe(n,t,e,i){let r=0,o=e[0],s;for(i=Math.ceil(i),s=0;s<n.length;s++)s===o&&(t.push(n[s]),r++,o=e[r*i])}function UO(n,t,e,i,r){let o=An(i,0),s=Math.min(An(r,n.length),n.length),a=0,l,u,d;for(e=Math.ceil(e),r&&(l=r-i,e=l/Math.floor(l/e)),d=o;d<0;)a++,d=Math.round(o+a*e);for(u=Math.max(o,0);u<s;u++)u===d&&(t.push(n[u]),a++,d=Math.round(o+a*e))}function Nxe(n){let t=n.length,e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}var Rxe=n=>n==="left"?"right":n==="right"?"left":n,nX=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,iX=(n,t)=>Math.min(t||n,n);function rX(n,t){let e=[],i=n.length/t,r=n.length,o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function Lxe(n,t,e){let i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,s=n._endPixel,a=1e-6,l=n.getPixelForTick(r),u;if(!(e&&(i===1?u=Math.max(l-o,s-l):t===0?u=(n.getPixelForTick(1)-l)/2:u=(l-n.getPixelForTick(r-1))/2,l+=r<t?u:-u,l<o-a||l>s+a)))return l}function Uxe(n,t){Si(n,e=>{let i=e.gc,r=i.length/2,o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function yS(n){return n.drawTicks?n.tickLength:0}function oX(n,t){if(!n.display)return 0;let e=Co(n.font,t),i=Js(n.padding);return(rr(n.text)?n.text.length:1)*e.lineHeight+i.height}function Hxe(n,t){return mp(n,{scale:t,type:"scale"})}function Vxe(n,t,e){return mp(n,{tick:e,index:t,type:"tick"})}function Qxe(n,t,e){let i=MO(n);return(e&&t!=="right"||!e&&t==="right")&&(i=Rxe(i)),i}function jxe(n,t,e,i){let{top:r,left:o,bottom:s,right:a,chart:l}=n,{chartArea:u,scales:d}=l,h=0,f,A,g,m=s-r,b=a-o;if(n.isHorizontal()){if(A=Xs(i,o,a),Hn(e)){let S=Object.keys(e)[0],F=e[S];g=d[S].getPixelForValue(F)+m-t}else e==="center"?g=(u.bottom+u.top)/2+m-t:g=nX(n,e,t);f=a-o}else{if(Hn(e)){let S=Object.keys(e)[0],F=e[S];A=d[S].getPixelForValue(F)-b+t}else e==="center"?A=(u.left+u.right)/2-b+t:A=nX(n,e,t);g=Xs(i,s,r),h=e==="left"?-Jr:Jr}return{titleX:A,titleY:g,maxWidth:f,rotation:h}}var dv=class n extends Sd{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Ul(t,Number.POSITIVE_INFINITY),e=Ul(e,Number.NEGATIVE_INFINITY),i=Ul(i,Number.POSITIVE_INFINITY),r=Ul(r,Number.NEGATIVE_INFINITY),{min:Ul(t,i),max:Ul(e,r),minDefined:Gr(t),maxDefined:Gr(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),s;if(r&&o)return{min:e,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)s=a[l].controller.getMinMax(this,t),r||(e=Math.min(e,s.min)),o||(i=Math.max(i,s.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Ul(e,Ul(i,e)),max:Ul(i,Ul(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Yi(this.options.beforeUpdate,[this])}update(t,e,i){let{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=DZ(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?rX(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=Oxe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Yi(this.options.afterUpdate,[this])}beforeSetDimensions(){Yi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Yi(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Yi(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Yi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=Yi(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Yi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Yi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,i=iX(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation,s=r,a,l,u;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,A=Zo(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:A/(i-1),h+6>a&&(a=A/(i-(t.offset?.5:1)),l=this.maxHeight-yS(t.grid)-e.padding-oX(t.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),s=TO(Math.min(Math.asin(Zo((d.highest.height+6)/a,-1,1)),Math.asin(Zo(l/u,-1,1))-Math.asin(Zo(f/u,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Yi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Yi(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=oX(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=yS(o)+l):(t.height=this.maxHeight,t.width=yS(o)+l),i.display&&this.ticks.length){let{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),A=i.padding*2,g=wu(this.labelRotation),m=Math.cos(g),b=Math.sin(g);if(a){let S=i.mirror?0:b*h.width+m*f.height;t.height=Math.min(this.maxHeight,t.height+S+A)}else{let S=i.mirror?0:m*h.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+S+A)}this._calculatePadding(u,d,b,m)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),f=0,A=0;l?u?(f=r*t.width,A=i*e.height):(f=i*t.height,A=r*e.width):o==="start"?A=e.width:o==="end"?f=t.width:o!=="inner"&&(f=t.width/2,A=e.width/2),this.paddingLeft=Math.max((f-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((A-h+s)*this.width/(this.width-h),0)}else{let d=e.height/2,h=t.height/2;o==="start"?(d=0,h=t.height):o==="end"&&(d=e.height,h=0),this.paddingTop=d+s,this.paddingBottom=h+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Yi(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ii(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=rX(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){let{ctx:r,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(e/iX(e,i)),u=0,d=0,h,f,A,g,m,b,S,F,R,B,P;for(h=0;h<e;h+=l){if(g=t[h].label,m=this._resolveTickFontOptions(h),r.font=b=m.string,S=o[b]=o[b]||{data:{},gc:[]},F=m.lineHeight,R=B=0,!ii(g)&&!rr(g))R=hS(r,S.data,S.gc,R,g),B=F;else if(rr(g))for(f=0,A=g.length;f<A;++f)P=g[f],!ii(P)&&!rr(P)&&(R=hS(r,S.data,S.gc,R,P),B+=F);s.push(R),a.push(B),u=Math.max(R,u),d=Math.max(B,d)}Uxe(o,e);let L=s.indexOf(u),j=a.indexOf(d),G=Y=>({width:s[Y]||0,height:a[Y]||0});return{first:G(0),last:G(e-1),widest:G(L),highest:G(j),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return vZ(this._alignToPixels?hg(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let i=e[t];return i.$context||(i.$context=Vxe(this.getContext(),t,i))}return this.$context||(this.$context=Hxe(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=wu(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),s=t.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,i=this.chart,r=this.options,{grid:o,position:s,border:a}=r,l=o.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=yS(o),A=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,b=m/2,S=function(re){return hg(i,re,m)},F,R,B,P,L,j,G,Y,Z,_e,xe,qe;if(s==="top")F=S(this.bottom),j=this.bottom-f,Y=F-b,_e=S(t.top)+b,qe=t.bottom;else if(s==="bottom")F=S(this.top),_e=t.top,qe=S(t.bottom)-b,j=F+b,Y=this.top+f;else if(s==="left")F=S(this.right),L=this.right-f,G=F-b,Z=S(t.left)+b,xe=t.right;else if(s==="right")F=S(this.left),Z=t.left,xe=S(t.right)-b,L=F+b,G=this.left+f;else if(e==="x"){if(s==="center")F=S((t.top+t.bottom)/2+.5);else if(Hn(s)){let re=Object.keys(s)[0],ue=s[re];F=S(this.chart.scales[re].getPixelForValue(ue))}_e=t.top,qe=t.bottom,j=F+b,Y=j+f}else if(e==="y"){if(s==="center")F=S((t.left+t.right)/2);else if(Hn(s)){let re=Object.keys(s)[0],ue=s[re];F=S(this.chart.scales[re].getPixelForValue(ue))}L=F-b,G=L-f,Z=t.left,xe=t.right}let ge=An(r.ticks.maxTicksLimit,h),me=Math.max(1,Math.ceil(h/ge));for(R=0;R<h;R+=me){let re=this.getContext(R),ue=o.setContext(re),Fe=a.setContext(re),Ue=ue.lineWidth,Je=ue.color,xt=Fe.dash||[],lt=Fe.dashOffset,Le=ue.tickWidth,it=ue.tickColor,Xn=ue.tickBorderDash||[],Yt=ue.tickBorderDashOffset;B=Lxe(this,R,l),B!==void 0&&(P=hg(i,B,Ue),u?L=G=Z=xe=P:j=Y=_e=qe=P,A.push({tx1:L,ty1:j,tx2:G,ty2:Y,x1:Z,y1:_e,x2:xe,y2:qe,width:Ue,color:Je,borderDash:xt,borderDashOffset:lt,tickWidth:Le,tickColor:it,tickBorderDash:Xn,tickBorderDashOffset:Yt}))}return this._ticksLength=h,this._borderValue=F,A}_computeLabelItems(t){let e=this.axis,i=this.options,{position:r,ticks:o}=i,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:h}=o,f=yS(i.grid),A=f+d,g=h?-d:A,m=-wu(this.labelRotation),b=[],S,F,R,B,P,L,j,G,Y,Z,_e,xe,qe="middle";if(r==="top")L=this.bottom-g,j=this._getXAxisLabelAlignment();else if(r==="bottom")L=this.top+g,j=this._getXAxisLabelAlignment();else if(r==="left"){let me=this._getYAxisLabelAlignment(f);j=me.textAlign,P=me.x}else if(r==="right"){let me=this._getYAxisLabelAlignment(f);j=me.textAlign,P=me.x}else if(e==="x"){if(r==="center")L=(t.top+t.bottom)/2+A;else if(Hn(r)){let me=Object.keys(r)[0],re=r[me];L=this.chart.scales[me].getPixelForValue(re)+A}j=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")P=(t.left+t.right)/2-A;else if(Hn(r)){let me=Object.keys(r)[0],re=r[me];P=this.chart.scales[me].getPixelForValue(re)}j=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?qe="top":l==="end"&&(qe="bottom"));let ge=this._getLabelSizes();for(S=0,F=a.length;S<F;++S){R=a[S],B=R.label;let me=o.setContext(this.getContext(S));G=this.getPixelForTick(S)+o.labelOffset,Y=this._resolveTickFontOptions(S),Z=Y.lineHeight,_e=rr(B)?B.length:1;let re=_e/2,ue=me.color,Fe=me.textStrokeColor,Ue=me.textStrokeWidth,Je=j;s?(P=G,j==="inner"&&(S===F-1?Je=this.options.reverse?"left":"right":S===0?Je=this.options.reverse?"right":"left":Je="center"),r==="top"?u==="near"||m!==0?xe=-_e*Z+Z/2:u==="center"?xe=-ge.highest.height/2-re*Z+Z:xe=-ge.highest.height+Z/2:u==="near"||m!==0?xe=Z/2:u==="center"?xe=ge.highest.height/2-re*Z:xe=ge.highest.height-_e*Z,h&&(xe*=-1),m!==0&&!me.showLabelBackdrop&&(P+=Z/2*Math.sin(m))):(L=G,xe=(1-_e)*Z/2);let xt;if(me.showLabelBackdrop){let lt=Js(me.backdropPadding),Le=ge.heights[S],it=ge.widths[S],Xn=xe-lt.top,Yt=0-lt.left;switch(qe){case"middle":Xn-=Le/2;break;case"bottom":Xn-=Le;break}switch(j){case"center":Yt-=it/2;break;case"right":Yt-=it;break;case"inner":S===F-1?Yt-=it:S>0&&(Yt-=it/2);break}xt={left:Yt,top:Xn,width:it+lt.width,height:Le+lt.height,color:me.backdropColor}}b.push({label:B,font:Y,textOffset:xe,options:{rotation:m,color:ue,strokeColor:Fe,strokeWidth:Ue,textAlign:Je,textBaseline:qe,translation:[P,L],backdrop:xt}})}return b}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-wu(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,s=this._getLabelSizes(),a=t+o,l=s.widest.width,u,d;return e==="left"?r?(d=this.right+o,i==="near"?u="left":i==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,i==="near"?u="right":i==="center"?(u="center",d-=l/2):(u="left",d=this.left)):e==="right"?r?(d=this.left+o,i==="near"?u="right":i==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,i==="near"?u="left":i==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,s),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){let e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o,s,a=(l,u,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(e.display)for(o=0,s=r.length;o<s;++o){let l=r[o];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),s=i.display?o.width:0;if(!s)return;let a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,u,d,h,f;this.isHorizontal()?(u=hg(t,this.left,s)-s/2,d=hg(t,this.right,a)+a/2,h=f=l):(h=hg(t,this.top,s)-s/2,f=hg(t,this.bottom,a)+a/2,u=d=l),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(u,h),e.lineTo(d,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&AS(i,r);let o=this.getLabelItems(t);for(let s of o){let a=s.options,l=s.font,u=s.label,d=s.textOffset;fg(i,u,0,d,l,a)}r&&gS(i)}drawTitle(){let{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;let o=Co(i.font),s=Js(i.padding),a=i.align,l=o.lineHeight/2;e==="bottom"||e==="center"||Hn(e)?(l+=s.bottom,rr(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=s.top;let{titleX:u,titleY:d,maxWidth:h,rotation:f}=jxe(this,l,e,a);fg(t,i.text,0,0,o,{color:i.color,maxWidth:h,rotation:f,textAlign:Qxe(a,e,r),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,i=An(t.grid&&t.grid.z,-1),r=An(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],o,s;for(o=0,s=e.length;o<s;++o){let a=e[o];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return Co(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},fw=class{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),i;Kxe(e)&&(i=this.register(e));let r=this.items,o=t.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,Gxe(t,s,i),this.override&&yr.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){let e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in yr[r]&&(delete yr[r][i],this.override&&delete dg[i])}};function Gxe(n,t,e){let i=iw(Object.create(null),[e?yr.get(e):{},yr.get(t),n.defaults]);yr.set(t,i),n.defaultRoutes&&Wxe(t,n.defaultRoutes),n.descriptors&&yr.describe(t,n.descriptors)}function Wxe(n,t){Object.keys(t).forEach(e=>{let i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),s=t[e].split("."),a=s.pop(),l=s.join(".");yr.route(o,r,l,a)})}function Kxe(n){return"id"in n&&"defaults"in n}var F5=class{constructor(){this.controllers=new fw(mg,"datasets",!0),this.elements=new fw(Sd,"elements"),this.plugins=new fw(Object,"plugins"),this.scales=new fw(dv,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{let o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Si(r,s=>{let a=i||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,e,i){let r=IO(t);Yi(i["before"+r],[],i),e[t](i),Yi(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){let r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}},Xh=new F5,B5=class{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let o=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,i,r){r=r||{};for(let o of t){let s=o.plugin,a=s[i],l=[e,r,o.options];if(Yi(a,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){ii(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let i=t&&t.config,r=An(i.options&&i.options.plugins,{}),o=zxe(i);return r===!1&&!e?[]:$xe(t,o,r,e)}_notifyStateChanges(t){let e=this._oldCache||[],i=this._cache,r=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}};function zxe(n){let t={},e=[],i=Object.keys(Xh.plugins.items);for(let o=0;o<i.length;o++)e.push(Xh.getPlugin(i[o]));let r=n.plugins||[];for(let o=0;o<r.length;o++){let s=r[o];e.indexOf(s)===-1&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}function qxe(n,t){return!t&&n===!1?null:n===!0?{}:n}function $xe(n,{plugins:t,localIds:e},i,r){let o=[],s=n.getContext();for(let a of t){let l=a.id,u=qxe(i[l],r);u!==null&&o.push({plugin:a,options:Yxe(n.config,{plugin:a,local:e[l]},u,s)})}return o}function Yxe(n,{plugin:t,local:e},i,r){let o=n.pluginScopeKeys(t),s=n.getOptionScopes(i,o);return e&&t.defaults&&s.push(t.defaults),n.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function P5(n,t){let e=yr.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Zxe(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function Xxe(n,t){return n===t?"_index_":"_value_"}function sX(n){if(n==="x"||n==="y"||n==="r")return n}function Jxe(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function k5(n,...t){if(sX(n))return n;for(let e of t){let i=e.axis||Jxe(e.position)||n.length>1&&sX(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function aX(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function eIe(n,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return aX(n,"x",e[0])||aX(n,"y",e[0])}return{}}function tIe(n,t){let e=dg[n.type]||{scales:{}},i=t.scales||{},r=P5(n.type,t),o=Object.create(null);return Object.keys(i).forEach(s=>{let a=i[s];if(!Hn(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=k5(s,a,eIe(s,n),yr.scales[a.type]),u=Xxe(l,r),d=e.scales||{};o[s]=ow(Object.create(null),[{axis:l},a,d[l],d[u]])}),n.data.datasets.forEach(s=>{let a=s.type||n.type,l=s.indexAxis||P5(a,t),d=(dg[a]||{}).scales||{};Object.keys(d).forEach(h=>{let f=Zxe(h,l),A=s[f+"AxisID"]||f;o[A]=o[A]||Object.create(null),ow(o[A],[{axis:f},i[A],d[h]])})}),Object.keys(o).forEach(s=>{let a=o[s];ow(a,[yr.scales[a.type],yr.scale])}),o}function qX(n){let t=n.options||(n.options={});t.plugins=An(t.plugins,{}),t.scales=tIe(n,t)}function $X(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function nIe(n){return n=n||{},n.data=$X(n.data),qX(n),n}var lX=new Map,YX=new Set;function HO(n,t){let e=lX.get(n);return e||(e=t(),lX.set(n,e),YX.add(e)),e}var wS=(n,t,e)=>{let i=gp(t,e);i!==void 0&&n.add(i)},N5=class{constructor(t){this._config=nIe(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=$X(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),qX(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return HO(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return HO(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return HO(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,i=this.type;return HO(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let i=this._scopeCache,r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){let{options:r,type:o}=this,s=this._cachedScopes(t,i),a=s.get(e);if(a)return a;let l=new Set;e.forEach(d=>{t&&(l.add(t),d.forEach(h=>wS(l,t,h))),d.forEach(h=>wS(l,r,h)),d.forEach(h=>wS(l,dg[o]||{},h)),d.forEach(h=>wS(l,yr,h)),d.forEach(h=>wS(l,OO,h))});let u=Array.from(l);return u.length===0&&u.push(Object.create(null)),YX.has(e)&&s.set(e,u),u}chartOptionScopes(){let{options:t,type:e}=this;return[t,dg[e]||{},yr.datasets[e]||{},{type:e},yr,OO]}resolveNamedOptions(t,e,i,r=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=cX(this._resolverCache,t,r),l=s;if(rIe(s,e)){o.$shared=!1,i=pp(i)?i():i;let u=this.createResolver(t,i,a);l=sv(s,i,u)}for(let u of e)o[u]=l[u];return o}createResolver(t,e,i=[""],r){let{resolver:o}=cX(this._resolverCache,t,i);return Hn(e)?sv(o,e,void 0,r):o}};function cX(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));let r=e.join(),o=i.get(r);return o||(o={resolver:PO(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,o)),o}var iIe=n=>Hn(n)&&Object.getOwnPropertyNames(n).some(t=>pp(n[t]));function rIe(n,t){let{isScriptable:e,isIndexable:i}=a5(n);for(let r of t){let o=e(r),s=i(r),a=(s||o)&&n[r];if(o&&(pp(a)||iIe(a))||s&&rr(a))return!0}return!1}var oIe="4.4.5",sIe=["top","bottom","left","right","chartArea"];function uX(n,t){return n==="top"||n==="bottom"||sIe.indexOf(n)===-1&&t==="x"}function dX(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function hX(n){let t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Yi(e&&e.onComplete,[n],t)}function aIe(n){let t=n.chart,e=t.options.animation;Yi(e&&e.onProgress,[n],t)}function ZX(n){return kO()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var KO={},fX=n=>{let t=ZX(n);return Object.values(KO).filter(e=>e.canvas===t).pop()};function lIe(n,t,e){let i=Object.keys(n);for(let r of i){let o=+r;if(o>=t){let s=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=s)}}}function cIe(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function VO(n,t,e){return n.options.clip?n[e]:t[e]}function uIe(n,t){let{xScale:e,yScale:i}=n;return e&&i?{left:VO(e,t,"left"),right:VO(e,t,"right"),top:VO(i,t,"top"),bottom:VO(i,t,"bottom")}:t}var JO=(()=>{class n{static defaults=yr;static instances=KO;static overrides=dg;static registry=Xh;static version=oIe;static getChart=fX;static register(...e){Xh.add(...e),pX()}static unregister(...e){Xh.remove(...e),pX()}constructor(e,i){let r=this.config=new N5(i),o=ZX(e),s=fX(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Mxe(o)),this.platform.updateConfig(r);let l=this.platform.acquireContext(o,a.aspectRatio),u=l&&l.canvas,d=u&&u.height,h=u&&u.width;if(this.id=hZ(),this.ctx=l,this.canvas=u,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new B5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=CZ(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],KO[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}vp.listen(this,"complete",hX),vp.listen(this,"progress",aIe),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:i},width:r,height:o,_aspectRatio:s}=this;return ii(e)?i&&s?s:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Xh}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():d5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return r5(this.canvas,this.ctx),this}stop(){return vp.stop(this),this}resize(e,i){vp.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){let r=this.options,o=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,e,i,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,d5(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Yi(r.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};Si(i,(r,o)=>{r.id=o})}buildOrUpdateScales(){let e=this.options,i=e.scales,r=this.scales,o=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{}),s=[];i&&(s=s.concat(Object.keys(i).map(a=>{let l=i[a],u=k5(a,l),d=u==="r",h=u==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),Si(s,a=>{let l=a.options,u=l.id,d=k5(u,l),h=An(l.type,a.dtype);(l.position===void 0||uX(l.position,d)!==uX(a.dposition))&&(l.position=a.dposition),o[u]=!0;let f=null;if(u in r&&r[u].type===h)f=r[u];else{let A=Xh.getScale(h);f=new A({id:u,type:h,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(l,e)}),Si(o,(a,l)=>{a||delete r[l]}),Si(r,a=>{Ea.configure(this,a,a.options),Ea.addBox(this,a)})}_updateMetasets(){let e=this._metasets,i=this.data.datasets.length,r=e.length;if(e.sort((o,s)=>o.index-s.index),r>i){for(let o=i;o<r;++o)this._destroyDatasetMeta(o);e.splice(i,r-i)}this._sortedMetasets=e.slice(0).sort(dX("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((r,o)=>{i.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let e=[],i=this.data.datasets,r,o;for(this._removeUnreferencedMetasets(),r=0,o=i.length;r<o;r++){let s=i[r],a=this.getDatasetMeta(r),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||P5(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let u=Xh.getController(l),{datasetElementType:d,dataElementType:h}=yr.datasets[l];Object.assign(u,{dataElementType:Xh.getElement(h),datasetElementType:d&&Xh.getElement(d)}),a.controller=new u(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Si(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){let{controller:f}=this.getDatasetMeta(d),A=!o&&s.indexOf(f)===-1;f.buildOrUpdateElements(A),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||Si(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(dX("z","_idx"));let{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Si(this.scales,e=>{Ea.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!WU(i,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:o,count:s}of i){let a=r==="_removeElements"?-s:s;lIe(e,o,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<i;s++)if(!WU(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ea.update(this,this.width,this.height,e);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],Si(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,pp(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){let r=this.getDatasetMeta(e),o={meta:r,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vp.has(this)?this.attached&&!vp.running(this)&&vp.start(this):(this.draw(),hX({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let i=this._sortedMetasets,r=[],o,s;for(o=0,s=i.length;o<s;++o){let a=i[o];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let i=this.ctx,r=e._clip,o=!r.disabled,s=uIe(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&AS(i,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),o&&gS(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return qh(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,r,o){let s=dxe.modes[i];return typeof s=="function"?s(this,e,r,o):[]}getDatasetMeta(e){let i=this.data.datasets[e],r=this._metasets,o=r.filter(s=>s&&s._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=mp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let i=this.data.datasets[e];if(!i)return!1;let r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(e,i){let r=this.getDatasetMeta(e);r.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,r){let o=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,o);sw(i)?(s.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){let i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),vp.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),r5(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete KO[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,i=this.platform,r=(s,a)=>{i.addEventListener(this,s,a),e[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Si(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,r=(u,d)=>{i.addEventListener(this,u,d),e[u]=d},o=(u,d)=>{e[u]&&(i.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){Si(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Si(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,r){let o=r?"set":"remove",s,a,l,u;for(i==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){a=e[l];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let i=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!fS(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(e,i,r){return this._plugins.notify(this,e,i,r)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,r){let o=this.options.hover,s=(u,d)=>u.filter(h=>!d.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=s(i,e),l=r?e:s(e,i);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,i){let r={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;let s=this._handleEvent(e,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(e,i,r){let{_active:o=[],options:s}=this,a=i,l=this._getActiveElements(e,o,r,a),u=AZ(e),d=cIe(e,this._lastEvent,r,u);r&&(this._lastEvent=null,Yi(s.onHover,[e,l,this],this),u&&Yi(s.onClick,[e,l,this],this));let h=!fS(l,o);return(h||i)&&(this._active=l,this._updateHoverStyles(l,o,i)),this._lastEvent=d,h}_getActiveElements(e,i,r,o){if(e.type==="mouseout")return[];if(!r)return i;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}}return n})();function pX(){return Si(JO.instances,n=>n._plugins.invalidate())}function dIe(n,t,e){let{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=t,u=r/a;n.beginPath(),n.arc(o,s,a,i-u,e+u),l>r?(u=r/l,n.arc(o,s,l,e+u,i-u,!0)):n.arc(o,s,r,e+Jr,i-Jr),n.closePath(),n.clip()}function hIe(n){return BO(n,["outerStart","outerEnd","innerStart","innerEnd"])}function fIe(n,t,e,i){let r=hIe(n.options.borderRadius),o=(e-t)/2,s=Math.min(o,i*t/2),a=l=>{let u=(e-Math.min(o,l))*i/2;return Zo(l,0,Math.min(o,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Zo(r.innerStart,0,s),innerEnd:Zo(r.innerEnd,0,s)}}function hw(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function YO(n,t,e,i,r,o){let{x:s,y:a,startAngle:l,pixelMargin:u,innerRadius:d}=t,h=Math.max(t.outerRadius+i+e-u,0),f=d>0?d+i+e+u:0,A=0,g=r-l;if(i){let me=d>0?d-i:0,re=h>0?h-i:0,ue=(me+re)/2,Fe=ue!==0?g*ue/(ue+i):g;A=(g-Fe)/2}let m=Math.max(.001,g*h-e/or)/h,b=(g-m)/2,S=l+b+A,F=r-b-A,{outerStart:R,outerEnd:B,innerStart:P,innerEnd:L}=fIe(t,f,h,F-S),j=h-R,G=h-B,Y=S+R/j,Z=F-B/G,_e=f+P,xe=f+L,qe=S+P/_e,ge=F-L/xe;if(n.beginPath(),o){let me=(Y+Z)/2;if(n.arc(s,a,h,Y,me),n.arc(s,a,h,me,Z),B>0){let Ue=hw(G,Z,s,a);n.arc(Ue.x,Ue.y,B,Z,F+Jr)}let re=hw(xe,F,s,a);if(n.lineTo(re.x,re.y),L>0){let Ue=hw(xe,ge,s,a);n.arc(Ue.x,Ue.y,L,F+Jr,ge+Math.PI)}let ue=(F-L/f+(S+P/f))/2;if(n.arc(s,a,f,F-L/f,ue,!0),n.arc(s,a,f,ue,S+P/f,!0),P>0){let Ue=hw(_e,qe,s,a);n.arc(Ue.x,Ue.y,P,qe+Math.PI,S-Jr)}let Fe=hw(j,S,s,a);if(n.lineTo(Fe.x,Fe.y),R>0){let Ue=hw(j,Y,s,a);n.arc(Ue.x,Ue.y,R,S-Jr,Y)}}else{n.moveTo(s,a);let me=Math.cos(Y)*h+s,re=Math.sin(Y)*h+a;n.lineTo(me,re);let ue=Math.cos(Z)*h+s,Fe=Math.sin(Z)*h+a;n.lineTo(ue,Fe)}n.closePath()}function pIe(n,t,e,i,r){let{fullCircles:o,startAngle:s,circumference:a}=t,l=t.endAngle;if(o){YO(n,t,e,i,l,r);for(let u=0;u<o;++u)n.fill();isNaN(a)||(l=s+(a%sr||sr))}return YO(n,t,e,i,l,r),n.fill(),l}function AIe(n,t,e,i,r){let{fullCircles:o,startAngle:s,circumference:a,options:l}=t,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:f}=l,A=l.borderAlign==="inner";if(!u)return;n.setLineDash(h||[]),n.lineDashOffset=f,A?(n.lineWidth=u*2,n.lineJoin=d||"round"):(n.lineWidth=u,n.lineJoin=d||"bevel");let g=t.endAngle;if(o){YO(n,t,e,i,g,r);for(let m=0;m<o;++m)n.stroke();isNaN(a)||(g=s+(a%sr||sr))}A&&dIe(n,t,g),o||(YO(n,t,e,i,g,r),n.stroke())}var R5=class extends Sd{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){let r=this.getProps(["x","y"],i),{angle:o,distance:s}=$U(r,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,A=An(h,l-a),g=lw(o,a,l)&&a!==l,m=A>=sr||g,b=Yh(s,u+f,d+f);return m&&b}getCenterPoint(t){let{x:e,y:i,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:u}=this.options,d=(r+o)/2,h=(s+a+u+l)/2;return{x:e+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>sr?Math.floor(i/sr):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);let l=1-Math.sin(Math.min(or,i||0)),u=r*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,pIe(t,this,u,o,s),AIe(t,this,u,o,s),t.restore()}};function XX(n,t,e=t){n.lineCap=An(e.borderCapStyle,t.borderCapStyle),n.setLineDash(An(e.borderDash,t.borderDash)),n.lineDashOffset=An(e.borderDashOffset,t.borderDashOffset),n.lineJoin=An(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=An(e.borderWidth,t.borderWidth),n.strokeStyle=An(e.borderColor,t.borderColor)}function gIe(n,t,e){n.lineTo(e.x,e.y)}function mIe(n){return n.stepped?IZ:n.tension||n.cubicInterpolationMode==="monotone"?TZ:gIe}function JX(n,t,e={}){let i=n.length,{start:r=0,end:o=i-1}=e,{start:s,end:a}=t,l=Math.max(r,s),u=Math.min(o,a),d=r<s&&o<s||r>a&&o>a;return{count:i,start:l,loop:t.loop,ilen:u<l&&!d?i+u-l:u-l}}function vIe(n,t,e,i){let{points:r,options:o}=t,{count:s,start:a,loop:l,ilen:u}=JX(r,e,i),d=mIe(o),{move:h=!0,reverse:f}=i||{},A,g,m;for(A=0;A<=u;++A)g=r[(a+(f?u-A:A))%s],!g.skip&&(h?(n.moveTo(g.x,g.y),h=!1):d(n,m,g,f,o.stepped),m=g);return l&&(g=r[(a+(f?u:0))%s],d(n,m,g,f,o.stepped)),!!l}function _Ie(n,t,e,i){let r=t.points,{count:o,start:s,ilen:a}=JX(r,e,i),{move:l=!0,reverse:u}=i||{},d=0,h=0,f,A,g,m,b,S,F=B=>(s+(u?a-B:B))%o,R=()=>{m!==b&&(n.lineTo(d,b),n.lineTo(d,m),n.lineTo(d,S))};for(l&&(A=r[F(0)],n.moveTo(A.x,A.y)),f=0;f<=a;++f){if(A=r[F(f)],A.skip)continue;let B=A.x,P=A.y,L=B|0;L===g?(P<m?m=P:P>b&&(b=P),d=(h*d+B)/++h):(R(),n.lineTo(B,P),g=L,h=0,m=b=P),S=P}R()}function L5(n){let t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?_Ie:vIe}function yIe(n){return n.stepped?RZ:n.tension||n.cubicInterpolationMode==="monotone"?LZ:ug}function wIe(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),XX(n,t.options),n.stroke(r)}function bIe(n,t,e,i){let{segments:r,options:o}=t,s=L5(t);for(let a of r)XX(n,o,a.style),n.beginPath(),s(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}var CIe=typeof Path2D=="function";function EIe(n,t,e,i){CIe&&!t.options.segment?wIe(n,t,e,i):bIe(n,t,e,i)}var eF=(()=>{class n extends Sd{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let o=r.spanGaps?this._loop:this._fullLoop;PZ(this._points,r,e,o,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=HZ(this,this.options.segment))}first(){let e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){let e=this.segments,i=this.points,r=e.length;return r&&i[e[r-1].end]}interpolate(e,i){let r=this.options,o=e[i],s=this.points,a=g5(this,{property:i,start:o,end:o});if(!a.length)return;let l=[],u=yIe(r),d,h;for(d=0,h=a.length;d<h;++d){let{start:f,end:A}=a[d],g=s[f],m=s[A];if(g===m){l.push(g);continue}let b=Math.abs((o-g[i])/(m[i]-g[i])),S=u(g,m,b,r.stepped);S[i]=e[i],l.push(S)}return l.length===1?l[0]:l}pathSegment(e,i,r){return L5(this)(e,this,i,r)}path(e,i,r){let o=this.segments,s=L5(this),a=this._loop;i=i||0,r=r||this.points.length-i;for(let l of o)a&=s(e,this,l,{start:i,end:i+r-1});return!!a}draw(e,i,r,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),EIe(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function AX(n,t,e,i){let r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}var SIe=(()=>{class n extends Sd{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(i-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return AX(this,e,"x",i)}inYRange(e,i){return AX(this,e,"y",i)}getCenterPoint(e){let{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){let r=this.options;this.skip||r.radius<.1||!qh(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,FO(e,r,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return n})();function eJ(n,t){let{x:e,y:i,base:r,width:o,height:s}=n.getProps(["x","y","base","width","height"],t),a,l,u,d,h;return n.horizontal?(h=s/2,a=Math.min(e,r),l=Math.max(e,r),u=i-h,d=i+h):(h=o/2,a=e-h,l=e+h,u=Math.min(i,r),d=Math.max(i,r)),{left:a,top:u,right:l,bottom:d}}function gg(n,t,e,i){return n?0:Zo(t,e,i)}function xIe(n,t,e){let i=n.options.borderWidth,r=n.borderSkipped,o=s5(i);return{t:gg(r.top,o.top,0,e),r:gg(r.right,o.right,0,t),b:gg(r.bottom,o.bottom,0,e),l:gg(r.left,o.left,0,t)}}function IIe(n,t,e){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=pg(r),s=Math.min(t,e),a=n.borderSkipped,l=i||Hn(r);return{topLeft:gg(!l||a.top||a.left,o.topLeft,0,s),topRight:gg(!l||a.top||a.right,o.topRight,0,s),bottomLeft:gg(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:gg(!l||a.bottom||a.right,o.bottomRight,0,s)}}function TIe(n){let t=eJ(n),e=t.right-t.left,i=t.bottom-t.top,r=xIe(n,e/2,i/2),o=IIe(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function E5(n,t,e,i){let r=t===null,o=e===null,a=n&&!(r&&o)&&eJ(n,i);return a&&(r||Yh(t,a.left,a.right))&&(o||Yh(e,a.top,a.bottom))}function DIe(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function MIe(n,t){n.rect(t.x,t.y,t.w,t.h)}function S5(n,t,e={}){let i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,s=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+s,radius:n.radius}}var U5=class extends Sd{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:s}=TIe(this),a=DIe(s.radius)?uw:MIe;t.save(),(s.w!==o.w||s.h!==o.h)&&(t.beginPath(),a(t,S5(s,e,o)),t.clip(),a(t,S5(o,-e,s)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,S5(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return E5(this,t,e,i)}inXRange(t,e){return E5(this,t,null,e)}inYRange(t,e){return E5(this,null,t,e)}getCenterPoint(t){let{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},OIe=Object.freeze({__proto__:null,ArcElement:R5,BarElement:U5,LineElement:eF,PointElement:SIe}),H5=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],gX=H5.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function tJ(n){return H5[n%H5.length]}function nJ(n){return gX[n%gX.length]}function FIe(n,t){return n.borderColor=tJ(t),n.backgroundColor=nJ(t),++t}function BIe(n,t){return n.backgroundColor=n.data.map(()=>tJ(t++)),t}function PIe(n,t){return n.backgroundColor=n.data.map(()=>nJ(t++)),t}function kIe(n){let t=0;return(e,i)=>{let r=n.getDatasetMeta(i).controller;r instanceof q5?t=BIe(e,t):r instanceof jX?t=PIe(e,t):r&&(t=FIe(e,t))}}function mX(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function NIe(n){return n&&(n.borderColor||n.backgroundColor)}function RIe(){return yr.borderColor!=="rgba(0,0,0,0.1)"||yr.backgroundColor!=="rgba(0,0,0,0.1)"}var LIe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;let{data:{datasets:i},options:r}=n.config,{elements:o}=r,s=mX(i)||NIe(r)||o&&mX(o)||RIe();if(!e.forceOverride&&s)return;let a=kIe(n);i.forEach(a)}};function UIe(n,t,e,i,r){let o=r.samples||i;if(o>=e)return n.slice(t,t+e);let s=[],a=(e-2)/(o-2),l=0,u=t+e-1,d=t,h,f,A,g,m;for(s[l++]=n[d],h=0;h<o-2;h++){let b=0,S=0,F,R=Math.floor((h+1)*a)+1+t,B=Math.min(Math.floor((h+2)*a)+1,e)+t,P=B-R;for(F=R;F<B;F++)b+=n[F].x,S+=n[F].y;b/=P,S/=P;let L=Math.floor(h*a)+1+t,j=Math.min(Math.floor((h+1)*a)+1,e)+t,{x:G,y:Y}=n[d];for(A=g=-1,F=L;F<j;F++)g=.5*Math.abs((G-b)*(n[F].y-Y)-(G-n[F].x)*(S-Y)),g>A&&(A=g,f=n[F],m=F);s[l++]=f,d=m}return s[l++]=n[u],s}function HIe(n,t,e,i){let r=0,o=0,s,a,l,u,d,h,f,A,g,m,b=[],S=t+e-1,F=n[t].x,B=n[S].x-F;for(s=t;s<t+e;++s){a=n[s],l=(a.x-F)/B*i,u=a.y;let P=l|0;if(P===d)u<g?(g=u,h=s):u>m&&(m=u,f=s),r=(o*r+a.x)/++o;else{let L=s-1;if(!ii(h)&&!ii(f)){let j=Math.min(h,f),G=Math.max(h,f);j!==A&&j!==L&&b.push(vt(Ee({},n[j]),{x:r})),G!==A&&G!==L&&b.push(vt(Ee({},n[G]),{x:r}))}s>0&&L!==A&&b.push(n[L]),b.push(a),d=P,o=0,g=m=u,h=f=A=s}}return b}function iJ(n){if(n._decimated){let t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function vX(n){n.data.datasets.forEach(t=>{iJ(t)})}function VIe(n,t){let e=t.length,i=0,r,{iScale:o}=n,{min:s,max:a,minDefined:l,maxDefined:u}=o.getUserBounds();return l&&(i=Zo(zh(t,o.axis,s).lo,0,e-1)),u?r=Zo(zh(t,o.axis,a).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var QIe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){vX(n);return}let i=n.width;n.data.datasets.forEach((r,o)=>{let{_data:s,indexAxis:a}=r,l=n.getDatasetMeta(o),u=s||r.data;if(dw([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let d=n.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||n.options.parsing)return;let{start:h,count:f}=VIe(l,u),A=e.threshold||4*i;if(f<=A){iJ(r);return}ii(s)&&(r._data=u,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let g;switch(e.algorithm){case"lttb":g=UIe(u,h,f,i,e);break;case"min-max":g=HIe(u,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=g})},destroy(n){vX(n)}};function jIe(n,t,e){let i=n.segments,r=n.points,o=t.points,s=[];for(let a of i){let{start:l,end:u}=a;u=$5(l,u,r);let d=V5(e,r[l],r[u],a.loop);if(!t.segments){s.push({source:a,target:d,start:r[l],end:r[u]});continue}let h=g5(t,d);for(let f of h){let A=V5(e,o[f.start],o[f.end],f.loop),g=A5(a,r,A);for(let m of g)s.push({source:m,target:f,start:{[e]:_X(d,A,"start",Math.max)},end:{[e]:_X(d,A,"end",Math.min)}})}}return s}function V5(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=Ll(r),o=Ll(o)),{property:n,start:r,end:o}}function GIe(n,t){let{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:s,end:a})=>{a=$5(s,a,r);let l=r[s],u=r[a];i!==null?(o.push({x:l.x,y:i}),o.push({x:u.x,y:i})):e!==null&&(o.push({x:e,y:l.y}),o.push({x:e,y:u.y}))}),o}function $5(n,t,e){for(;t>n;t--){let i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function _X(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function rJ(n,t){let e=[],i=!1;return rr(n)?(i=!0,e=n):e=GIe(n,t),e.length?new eF({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function yX(n){return n&&n.fill!==!1}function WIe(n,t,e){let r=n[t].fill,o=[t],s;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Gr(r))return r;if(s=n[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function KIe(n,t,e){let i=YIe(n);if(Hn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Gr(r)&&Math.floor(r)===r?zIe(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function zIe(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function qIe(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Hn(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function $Ie(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Hn(n)?i=n.value:i=t.getBaseValue(),i}function YIe(n){let t=n.options,e=t.fill,i=An(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function ZIe(n){let{scale:t,index:e,line:i}=n,r=[],o=i.segments,s=i.points,a=XIe(t,e);a.push(rJ({x:null,y:t.bottom},i));for(let l=0;l<o.length;l++){let u=o[l];for(let d=u.start;d<=u.end;d++)JIe(r,s[d],a)}return new eF({points:r,options:{}})}function XIe(n,t){let e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function JIe(n,t,e){let i=[];for(let r=0;r<e.length;r++){let o=e[r],{first:s,last:a,point:l}=eTe(o,t,"x");if(!(!l||s&&a)){if(s)i.unshift(l);else if(n.push(l),!a)break}}n.push(...i)}function eTe(n,t,e){let i=n.interpolate(t,e);if(!i)return{};let r=i[e],o=n.segments,s=n.points,a=!1,l=!1;for(let u=0;u<o.length;u++){let d=o[u],h=s[d.start][e],f=s[d.end][e];if(Yh(r,h,f)){a=r===h,l=r===f;break}}return{first:a,last:l,point:i}}var ZO=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){let{x:r,y:o,radius:s}=this;return e=e||{start:0,end:sr},t.arc(r,o,s,e.end,e.start,!0),!i.bounds}interpolate(t){let{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}};function tTe(n){let{chart:t,fill:e,line:i}=n;if(Gr(e))return nTe(t,e);if(e==="stack")return ZIe(n);if(e==="shape")return!0;let r=iTe(n);return r instanceof ZO?r:rJ(r,i)}function nTe(n,t){let e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function iTe(n){return(n.scale||{}).getPointPositionForValue?oTe(n):rTe(n)}function rTe(n){let{scale:t={},fill:e}=n,i=qIe(e,t);if(Gr(i)){let r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function oTe(n){let{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,s=$Ie(e,t,o),a=[];if(i.grid.circular){let l=t.getPointPositionForValue(0,o);return new ZO({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,s));return a}function x5(n,t,e){let i=tTe(t),{line:r,scale:o,axis:s}=t,a=r.options,l=a.fill,u=a.backgroundColor,{above:d=u,below:h=u}=l||{};i&&r.points.length&&(AS(n,e),sTe(n,{line:r,target:i,above:d,below:h,area:e,scale:o,axis:s}),gS(n))}function sTe(n,t){let{line:e,target:i,above:r,below:o,area:s,scale:a}=t,l=e._loop?"angle":t.axis;n.save(),l==="x"&&o!==r&&(wX(n,i,s.top),bX(n,{line:e,target:i,color:r,scale:a,property:l}),n.restore(),n.save(),wX(n,i,s.bottom)),bX(n,{line:e,target:i,color:o,scale:a,property:l}),n.restore()}function wX(n,t,e){let{segments:i,points:r}=t,o=!0,s=!1;n.beginPath();for(let a of i){let{start:l,end:u}=a,d=r[l],h=r[$5(l,u,r)];o?(n.moveTo(d.x,d.y),o=!1):(n.lineTo(d.x,e),n.lineTo(d.x,d.y)),s=!!t.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(h.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function bX(n,t){let{line:e,target:i,property:r,color:o,scale:s}=t,a=jIe(e,i,r);for(let{source:l,target:u,start:d,end:h}of a){let{style:{backgroundColor:f=o}={}}=l,A=i!==!0;n.save(),n.fillStyle=f,aTe(n,s,A&&V5(r,d,h)),n.beginPath();let g=!!e.pathSegment(n,l),m;if(A){g?n.closePath():CX(n,i,h,r);let b=!!i.pathSegment(n,u,{move:g,reverse:!0});m=g&&b,m||CX(n,i,d,r)}n.closePath(),n.fill(m?"evenodd":"nonzero"),n.restore()}}function aTe(n,t,e){let{top:i,bottom:r}=t.chart.chartArea,{property:o,start:s,end:a}=e||{};o==="x"&&(n.beginPath(),n.rect(s,i,a-s,r-i),n.clip())}function CX(n,t,e,i){let r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var lTe={id:"filler",afterDatasetsUpdate(n,t,e){let i=(n.data.datasets||[]).length,r=[],o,s,a,l;for(s=0;s<i;++s)o=n.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof eF&&(l={visible:n.isDatasetVisible(s),index:s,fill:KIe(a,s,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<i;++s)l=r[s],!(!l||l.fill===!1)&&(l.fill=WIe(r,s,e.propagate))},beforeDraw(n,t,e){let i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let s=r.length-1;s>=0;--s){let a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&x5(n.ctx,a,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let o=i[r].$filler;yX(o)&&x5(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){let i=t.meta.$filler;!yX(i)||e.drawTime!=="beforeDatasetDraw"||x5(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},EX=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},cTe=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index,XO=class extends Sd{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Yi(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let i=t.labels,r=Co(i.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=EX(i,o),u,d;e.font=r.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(s,o,a,l)+10):(d=this.maxHeight,u=this._fitCols(s,r,a,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=r+a,h=t;o.textAlign="left",o.textBaseline="middle";let f=-1,A=-d;return this.legendItems.forEach((g,m)=>{let b=i+e/2+o.measureText(g.text).width;(m===0||u[u.length-1]+b+2*a>s)&&(h+=d,u[u.length-(m>0?0:1)]=0,A+=d,f++),l[m]={left:0,top:A,row:f,width:b,height:r},u[u.length-1]+=b+a}),h}_fitCols(t,e,i,r){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=s-t,h=a,f=0,A=0,g=0,m=0;return this.legendItems.forEach((b,S)=>{let{itemWidth:F,itemHeight:R}=uTe(i,e,o,b,r);S>0&&A+R+2*a>d&&(h+=f+a,u.push({width:f,height:A}),g+=f+a,m++,f=A=0),l[S]={left:g,top:A,col:m,width:F,height:R},f=Math.max(f,F),A+=R+a}),h+=f,u.push({width:f,height:A}),h}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,s=lv(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Xs(i,this.left+r,this.right-this.lineWidths[a]);for(let u of e)a!==u.row&&(a=u.row,l=Xs(i,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+t+r,u.left=s.leftForLtr(s.x(l),u.width),l+=u.width+r}else{let a=0,l=Xs(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(let u of e)u.col!==a&&(a=u.col,l=Xs(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=s.leftForLtr(s.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;AS(t,this),this._draw(),gS(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:s}=t,a=yr.color,l=lv(t.rtl,this.left,this.width),u=Co(s.font),{padding:d}=s,h=u.size,f=h/2,A;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;let{boxWidth:g,boxHeight:m,itemHeight:b}=EX(s,h),S=function(L,j,G){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;r.save();let Y=An(G.lineWidth,1);if(r.fillStyle=An(G.fillStyle,a),r.lineCap=An(G.lineCap,"butt"),r.lineDashOffset=An(G.lineDashOffset,0),r.lineJoin=An(G.lineJoin,"miter"),r.lineWidth=Y,r.strokeStyle=An(G.strokeStyle,a),r.setLineDash(An(G.lineDash,[])),s.usePointStyle){let Z={radius:m*Math.SQRT2/2,pointStyle:G.pointStyle,rotation:G.rotation,borderWidth:Y},_e=l.xPlus(L,g/2),xe=j+f;o5(r,Z,_e,xe,s.pointStyleWidth&&g)}else{let Z=j+Math.max((h-m)/2,0),_e=l.leftForLtr(L,g),xe=pg(G.borderRadius);r.beginPath(),Object.values(xe).some(qe=>qe!==0)?uw(r,{x:_e,y:Z,w:g,h:m,radius:xe}):r.rect(_e,Z,g,m),r.fill(),Y!==0&&r.stroke()}r.restore()},F=function(L,j,G){fg(r,G.text,L,j+b/2,u,{strikethrough:G.hidden,textAlign:l.textAlign(G.textAlign)})},R=this.isHorizontal(),B=this._computeTitleHeight();R?A={x:Xs(o,this.left+d,this.right-i[0]),y:this.top+d+B,line:0}:A={x:this.left+d,y:Xs(o,this.top+B+d,this.bottom-e[0].height),line:0},f5(this.ctx,t.textDirection);let P=b+d;this.legendItems.forEach((L,j)=>{r.strokeStyle=L.fontColor,r.fillStyle=L.fontColor;let G=r.measureText(L.text).width,Y=l.textAlign(L.textAlign||(L.textAlign=s.textAlign)),Z=g+f+G,_e=A.x,xe=A.y;l.setWidth(this.width),R?j>0&&_e+Z+d>this.right&&(xe=A.y+=P,A.line++,_e=A.x=Xs(o,this.left+d,this.right-i[A.line])):j>0&&xe+P>this.bottom&&(_e=A.x=_e+e[A.line].width+d,A.line++,xe=A.y=Xs(o,this.top+B+d,this.bottom-e[A.line].height));let qe=l.x(_e);if(S(qe,xe,L),_e=EZ(Y,_e+g+f,R?_e+Z:this.right,t.rtl),F(l.x(_e),xe,L),R)A.x+=Z+d;else if(typeof L.text!="string"){let ge=u.lineHeight;A.y+=oJ(L,ge)+d}else A.y+=P}),p5(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,i=Co(e.font),r=Js(e.padding);if(!e.display)return;let o=lv(t.rtl,this.left,this.width),s=this.ctx,a=e.position,l=i.size/2,u=r.top+l,d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=Xs(t.align,h,this.right-f);else{let g=this.columnSizes.reduce((m,b)=>Math.max(m,b.height),0);d=u+Xs(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}let A=Xs(a,h,h+f);s.textAlign=o.textAlign(MO(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=i.string,fg(s,e.text,A,d,i)}_computeTitleHeight(){let t=this.options.title,e=Co(t.font),i=Js(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Yh(t,this.left,this.right)&&Yh(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Yh(t,r.left,r.left+r.width)&&Yh(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){let e=this.options;if(!fTe(t.type,e))return;let i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let r=this._hoveredItem,o=cTe(r,i);r&&!o&&Yi(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&Yi(e.onHover,[t,i,this],this)}else i&&Yi(e.onClick,[t,i,this],this)}};function uTe(n,t,e,i,r){let o=dTe(i,n,t,e),s=hTe(r,i,t.lineHeight);return{itemWidth:o,itemHeight:s}}function dTe(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),t+e.size/2+i.measureText(r).width}function hTe(n,t,e){let i=n;return typeof t.text!="string"&&(i=oJ(t,e)),i}function oJ(n,t){let e=n.text?n.text.length:0;return t*e}function fTe(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var pTe={id:"legend",_element:XO,start(n,t,e){let i=n.legend=new XO({ctx:n.ctx,options:e,chart:n});Ea.configure(n,i,e),Ea.addBox(n,i)},stop(n){Ea.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){let i=n.legend;Ea.configure(n,i,e),i.options=e},afterUpdate(n){let t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){let i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{let u=l.controller.getStyle(e?0:void 0),d=Js(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:s&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},SS=class extends Sd{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let r=rr(i.text)?i.text.length:1;this._padding=Js(i.padding);let o=r*Co(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:i,bottom:r,right:o,options:s}=this,a=s.align,l=0,u,d,h;return this.isHorizontal()?(d=Xs(a,i,o),h=e+t,u=o-i):(s.position==="left"?(d=i+t,h=Xs(a,r,e),l=or*-.5):(d=o-t,h=Xs(a,e,r),l=or*.5),u=r-e),{titleX:d,titleY:h,maxWidth:u,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let i=Co(e.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(o);fg(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:u,textAlign:MO(e.align),textBaseline:"middle",translation:[s,a]})}};function ATe(n,t){let e=new SS({ctx:n.ctx,options:t,chart:n});Ea.configure(n,e,t),Ea.addBox(n,e),n.titleBlock=e}var gTe={id:"title",_element:SS,start(n,t,e){ATe(n,e)},stop(n){let t=n.titleBlock;Ea.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){let i=n.titleBlock;Ea.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},QO=new WeakMap,mTe={id:"subtitle",start(n,t,e){let i=new SS({ctx:n.ctx,options:e,chart:n});Ea.configure(n,i,e),Ea.addBox(n,i),QO.set(n,i)},stop(n){Ea.removeBox(n,QO.get(n)),QO.delete(n)},beforeUpdate(n,t,e){let i=QO.get(n);Ea.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},CS={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){let a=n[t].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),r+=l.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=n.length;o<s;++o){let l=n[o].element;if(l&&l.hasValue()){let u=l.getCenterPoint(),d=SO(t,u);d<r&&(r=d,a=l)}}if(a){let l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function Zh(n,t){return t&&(rr(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function _p(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function vTe(n,t){let{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:n,label:s,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function SX(n,t){let e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:s,boxHeight:a}=t,l=Co(t.bodyFont),u=Co(t.titleFont),d=Co(t.footerFont),h=o.length,f=r.length,A=i.length,g=Js(t.padding),m=g.height,b=0,S=i.reduce((B,P)=>B+P.before.length+P.lines.length+P.after.length,0);if(S+=n.beforeBody.length+n.afterBody.length,h&&(m+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),S){let B=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=A*B+(S-A)*l.lineHeight+(S-1)*t.bodySpacing}f&&(m+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let F=0,R=function(B){b=Math.max(b,e.measureText(B).width+F)};return e.save(),e.font=u.string,Si(n.title,R),e.font=l.string,Si(n.beforeBody.concat(n.afterBody),R),F=t.displayColors?s+2+t.boxPadding:0,Si(i,B=>{Si(B.before,R),Si(B.lines,R),Si(B.after,R)}),F=0,e.font=d.string,Si(n.footer,R),e.restore(),b+=g.width,{width:b,height:m}}function _Te(n,t){let{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function yTe(n,t,e,i){let{x:r,width:o}=i,s=e.caretSize+e.caretPadding;if(n==="left"&&r+o+s>t.width||n==="right"&&r-o-s<0)return!0}function wTe(n,t,e,i){let{x:r,width:o}=e,{width:s,chartArea:{left:a,right:l}}=n,u="center";return i==="center"?u=r<=(a+l)/2?"left":"right":r<=o/2?u="left":r>=s-o/2&&(u="right"),yTe(u,n,t,e)&&(u="center"),u}function xX(n,t,e){let i=e.yAlign||t.yAlign||_Te(n,e);return{xAlign:e.xAlign||t.xAlign||wTe(n,t,e,i),yAlign:i}}function bTe(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function CTe(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function IX(n,t,e,i){let{caretSize:r,caretPadding:o,cornerRadius:s}=n,{xAlign:a,yAlign:l}=e,u=r+o,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:A}=pg(s),g=bTe(t,a),m=CTe(t,l,u);return l==="center"?a==="left"?g+=u:a==="right"&&(g-=u):a==="left"?g-=Math.max(d,f)+r:a==="right"&&(g+=Math.max(h,A)+r),{x:Zo(g,0,i.width-t.width),y:Zo(m,0,i.height-t.height)}}function jO(n,t,e){let i=Js(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function TX(n){return Zh([],_p(n))}function ETe(n,t,e){return mp(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function DX(n,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}var sJ={beforeTitle:$h,title(n){if(n.length>0){let t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:$h,beforeBody:$h,beforeLabel:$h,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");let e=n.formattedValue;return ii(e)||(t+=e),t},labelColor(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:$h,afterBody:$h,beforeFooter:$h,footer:$h,afterFooter:$h};function Hl(n,t,e,i){let r=n[t].call(e,i);return typeof r>"u"?sJ[t].call(e,i):r}var MX=(()=>{class n extends Sd{static positioners=CS;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,s=new zO(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=ETe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){let{callbacks:r}=i,o=Hl(r,"beforeTitle",this,e),s=Hl(r,"title",this,e),a=Hl(r,"afterTitle",this,e),l=[];return l=Zh(l,_p(o)),l=Zh(l,_p(s)),l=Zh(l,_p(a)),l}getBeforeBody(e,i){return TX(Hl(i.callbacks,"beforeBody",this,e))}getBody(e,i){let{callbacks:r}=i,o=[];return Si(e,s=>{let a={before:[],lines:[],after:[]},l=DX(r,s);Zh(a.before,_p(Hl(l,"beforeLabel",this,s))),Zh(a.lines,Hl(l,"label",this,s)),Zh(a.after,_p(Hl(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(e,i){return TX(Hl(i.callbacks,"afterBody",this,e))}getFooter(e,i){let{callbacks:r}=i,o=Hl(r,"beforeFooter",this,e),s=Hl(r,"footer",this,e),a=Hl(r,"afterFooter",this,e),l=[];return l=Zh(l,_p(o)),l=Zh(l,_p(s)),l=Zh(l,_p(a)),l}_createItems(e){let i=this._active,r=this.chart.data,o=[],s=[],a=[],l=[],u,d;for(u=0,d=i.length;u<d;++u)l.push(vTe(this.chart,i[u]));return e.filter&&(l=l.filter((h,f,A)=>e.filter(h,f,A,r))),e.itemSort&&(l=l.sort((h,f)=>e.itemSort(h,f,r))),Si(l,h=>{let f=DX(e.callbacks,h);o.push(Hl(f,"labelColor",this,h)),s.push(Hl(f,"labelPointStyle",this,h)),a.push(Hl(f,"labelTextColor",this,h))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,i){let r=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=CS[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let u=this._size=SX(this,r),d=Object.assign({},l,u),h=xX(this.chart,r,d),f=IX(r,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:f.x,y:f.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,o){let s=this.getCaretPosition(e,r,o);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(e,i,r){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=pg(l),{x:A,y:g}=e,{width:m,height:b}=i,S,F,R,B,P,L;return s==="center"?(P=g+b/2,o==="left"?(S=A,F=S-a,B=P+a,L=P-a):(S=A+m,F=S+a,B=P-a,L=P+a),R=S):(o==="left"?F=A+Math.max(u,h)+a:o==="right"?F=A+m-Math.max(d,f)-a:F=this.caretX,s==="top"?(B=g,P=B-a,S=F-a,R=F+a):(B=g+b,P=B+a,S=F+a,R=F-a),L=B),{x1:S,x2:F,x3:R,y1:B,y2:P,y3:L}}drawTitle(e,i,r){let o=this.title,s=o.length,a,l,u;if(s){let d=lv(r.rtl,this.x,this.width);for(e.x=jO(this,r.titleAlign,r),i.textAlign=d.textAlign(r.titleAlign),i.textBaseline="middle",a=Co(r.titleFont),l=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,u=0;u<s;++u)i.fillText(o[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,u+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,i,r,o,s){let a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:d}=s,h=Co(s.bodyFont),f=jO(this,"left",s),A=o.x(f),g=u<h.lineHeight?(h.lineHeight-u)/2:0,m=i.y+g;if(s.usePointStyle){let b={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},S=o.leftForLtr(A,d)+d/2,F=m+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,FO(e,b,S,F),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,FO(e,b,S,F)}else{e.lineWidth=Hn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let b=o.leftForLtr(A,d),S=o.leftForLtr(o.xPlus(A,1),d-2),F=pg(a.borderRadius);Object.values(F).some(R=>R!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,uw(e,{x:b,y:m,w:d,h:u,radius:F}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),uw(e,{x:S,y:m+1,w:d-2,h:u-2,radius:F}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,m,d,u),e.strokeRect(b,m,d,u),e.fillStyle=a.backgroundColor,e.fillRect(S,m+1,d-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:h}=r,f=Co(r.bodyFont),A=f.lineHeight,g=0,m=lv(r.rtl,this.x,this.width),b=function(Y){i.fillText(Y,m.x(e.x+g),e.y+A/2),e.y+=A+s},S=m.textAlign(a),F,R,B,P,L,j,G;for(i.textAlign=a,i.textBaseline="middle",i.font=f.string,e.x=jO(this,S,r),i.fillStyle=r.bodyColor,Si(this.beforeBody,b),g=l&&S!=="right"?a==="center"?d/2+h:d+2+h:0,P=0,j=o.length;P<j;++P){for(F=o[P],R=this.labelTextColors[P],i.fillStyle=R,Si(F.before,b),B=F.lines,l&&B.length&&(this._drawColorBox(i,e,P,m,r),A=Math.max(f.lineHeight,u)),L=0,G=B.length;L<G;++L)b(B[L]),A=f.lineHeight;Si(F.after,b)}g=0,A=f.lineHeight,Si(this.afterBody,b),e.y-=s}drawFooter(e,i,r){let o=this.footer,s=o.length,a,l;if(s){let u=lv(r.rtl,this.x,this.width);for(e.x=jO(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=u.textAlign(r.footerAlign),i.textBaseline="middle",a=Co(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,l=0;l<s;++l)i.fillText(o[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,i,r,o){let{xAlign:s,yAlign:a}=this,{x:l,y:u}=e,{width:d,height:h}=r,{topLeft:f,topRight:A,bottomLeft:g,bottomRight:m}=pg(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(l+f,u),a==="top"&&this.drawCaret(e,i,r,o),i.lineTo(l+d-A,u),i.quadraticCurveTo(l+d,u,l+d,u+A),a==="center"&&s==="right"&&this.drawCaret(e,i,r,o),i.lineTo(l+d,u+h-m),i.quadraticCurveTo(l+d,u+h,l+d-m,u+h),a==="bottom"&&this.drawCaret(e,i,r,o),i.lineTo(l+g,u+h),i.quadraticCurveTo(l,u+h,l,u+h-g),a==="center"&&s==="left"&&this.drawCaret(e,i,r,o),i.lineTo(l,u+f),i.quadraticCurveTo(l,u,l+f,u),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){let i=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){let a=CS[e.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=SX(this,e),u=Object.assign({},a,this._size),d=xX(i,e,u),h=IX(e,u,d,i);(o._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=Js(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,o,i),f5(e,i.textDirection),s.y+=a.top,this.drawTitle(s,e,i),this.drawBody(s,e,i),this.drawFooter(s,e,i),p5(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){let r=this._active,o=e.map(({datasetIndex:l,index:u})=>{let d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),s=!fS(r,o),a=this._positionChanged(o,i);(s||a)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(e,s,i,r),l=this._positionChanged(a,e),u=i||!fS(a,s)||l;return u&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),u}_getActiveElements(e,i,r,o){let s=this.options;if(e.type==="mouseout")return[];if(!o)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,i){let{caretX:r,caretY:o,options:s}=this,a=CS[s.position].call(this,e,i);return a!==!1&&(r!==a.x||o!==a.y)}}return n})(),STe={id:"tooltip",_element:MX,positioners:CS,afterInit(n,t,e){e&&(n.tooltip=new MX({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){let t=n.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",vt(Ee({},e),{cancelable:!0}))===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){let e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sJ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},xTe=Object.freeze({__proto__:null,Colors:LIe,Decimation:QIe,Filler:lTe,Legend:pTe,SubTitle:mTe,Title:gTe,Tooltip:STe}),ITe=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function TTe(n,t,e,i){let r=n.indexOf(t);if(r===-1)return ITe(n,t,e,i);let o=n.lastIndexOf(t);return r!==o?e:r}var DTe=(n,t)=>n===null?null:Zo(Math.round(n),0,t);function OX(n){let t=this.getLabels();return n>=0&&n<t.length?t[n]:n}var MTe=(()=>{class n extends dv{static id="category";static defaults={ticks:{callback:OX}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:o,label:s}of i)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(ii(e))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===e?i:TTe(r,e,An(i,e),this._addedLabels),DTe(i,r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),i||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){let e=this.min,i=this.max,r=this.options.offset,o=[],s=this.getLabels();s=e===0&&i===s.length-1?s:s.slice(e,i+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=i;a++)o.push({value:a});return o}getLabelForValue(e){return OX.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function OTe(n,t){let e=[],{bounds:r,step:o,min:s,max:a,precision:l,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=n,A=o||1,g=d-1,{min:m,max:b}=t,S=!ii(s),F=!ii(a),R=!ii(u),B=(b-m)/(h+1),P=KU((b-m)/g/A)*A,L,j,G,Y;if(P<1e-14&&!S&&!F)return[{value:m},{value:b}];Y=Math.ceil(b/P)-Math.floor(m/P),Y>g&&(P=KU(Y*P/g/A)*A),ii(l)||(L=Math.pow(10,l),P=Math.ceil(P*L)/L),r==="ticks"?(j=Math.floor(m/P)*P,G=Math.ceil(b/P)*P):(j=m,G=b),S&&F&&o&&mZ((a-s)/o,P/1e3)?(Y=Math.round(Math.min((a-s)/P,d)),P=(a-s)/Y,j=s,G=a):R?(j=S?s:j,G=F?a:G,Y=u-1,P=(G-j)/Y):(Y=(G-j)/P,aw(Y,Math.round(Y),P/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));let Z=Math.max(qU(P),qU(j));L=Math.pow(10,ii(l)?Z:l),j=Math.round(j*L)/L,G=Math.round(G*L)/L;let _e=0;for(S&&(f&&j!==s?(e.push({value:s}),j<s&&_e++,aw(Math.round((j+_e*P)*L)/L,s,FX(s,B,n))&&_e++):j<s&&_e++);_e<Y;++_e){let xe=Math.round((j+_e*P)*L)/L;if(F&&xe>a)break;e.push({value:xe})}return F&&f&&G!==a?e.length&&aw(e[e.length-1].value,a,FX(a,B,n))?e[e.length-1].value=a:e.push({value:a}):(!F||G===a)&&e.push({value:G}),e}function FX(n,t,{horizontal:e,minRotation:i}){let r=wu(i),o=(e?Math.sin(r):Math.cos(r))||.001,s=.75*t*(""+n).length;return Math.min(t/o,s)}var pw=class extends dv{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ii(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:r,max:o}=this,s=l=>r=e?r:l,a=l=>o=i?o:l;if(t){let l=Ed(r),u=Ed(o);l<0&&u<0?a(0):l>0&&u>0&&s(0)}if(r===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||s(r-l)}this.min=r,this.max=o}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,s=OTe(r,o);return t.bounds==="ticks"&&zU(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return cw(t,this.chart.options.locale,this.options.ticks.format)}},Q5=class extends pw{static id="linear";static defaults={ticks:{callback:pS.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Gr(t)?t:0,this.max=Gr(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,i=wu(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},xS=n=>Math.floor(Ap(n)),uv=(n,t)=>Math.pow(10,xS(n)+t);function BX(n){return n/Math.pow(10,xS(n))===1}function PX(n,t,e){let i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function FTe(n,t){let e=t-n,i=xS(e);for(;PX(n,t,i)>10;)i++;for(;PX(n,t,i)<10;)i--;return Math.min(i,xS(n))}function BTe(n,{min:t,max:e}){t=Ul(n.min,t);let i=[],r=xS(t),o=FTe(t,e),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=r>o?Math.pow(10,r):0,u=Math.round((t-l)*s)/s,d=Math.floor((t-l)/a/10)*a*10,h=Math.floor((u-d)/Math.pow(10,o)),f=Ul(n.min,Math.round((l+d+h*Math.pow(10,o))*s)/s);for(;f<e;)i.push({value:f,major:BX(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,s=o>=0?1:s),f=Math.round((l+d+h*Math.pow(10,o))*s)/s;let A=Ul(n.max,f);return i.push({value:A,major:BX(A),significand:h}),i}var j5=class extends dv{static id="logarithmic";static defaults={ticks:{callback:pS.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let i=pw.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Gr(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Gr(t)?Math.max(0,t):null,this.max=Gr(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Gr(this._userMin)&&(this.min=t===uv(this.min,0)?uv(this.min,-1):uv(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),i=this.min,r=this.max,o=a=>i=t?i:a,s=a=>r=e?r:a;i===r&&(i<=0?(o(1),s(10)):(o(uv(i,-1)),s(uv(r,1)))),i<=0&&o(uv(r,-1)),r<=0&&s(uv(i,1)),this.min=i,this.max=r}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},i=BTe(e,this);return t.bounds==="ticks"&&zU(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":cw(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Ap(t),this._valueRange=Ap(this.max)-Ap(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ap(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function G5(n){let t=n.ticks;if(t.display&&n.display){let e=Js(t.backdropPadding);return An(t.font&&t.font.size,yr.font.size)+e.height}return 0}function PTe(n,t,e){return e=rr(e)?e:[e],{w:xZ(n,t.string,e),h:e.length*t.lineHeight}}function kX(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function kTe(n){let t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?or/o:0;for(let l=0;l<o;l++){let u=s.setContext(n.getPointLabelContext(l));r[l]=u.padding;let d=n.getPointPosition(l,n.drawingArea+r[l],a),h=Co(u.font),f=PTe(n.ctx,h,n._pointLabels[l]);i[l]=f;let A=Ll(n.getIndexAngle(l)+a),g=Math.round(TO(A)),m=kX(g,d.x,f.w,0,180),b=kX(g,d.y,f.h,90,270);NTe(e,t,A,m,b)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=UTe(n,i,r)}function NTe(n,t,e,i,r){let o=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e)),a=0,l=0;i.start<t.l?(a=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/s,n.t=Math.min(n.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/s,n.b=Math.max(n.b,t.b+l))}function RTe(n,t,e){let i=n.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=e,l=n.getPointPosition(t,i+r+s,o),u=Math.round(TO(Ll(l.angle+Jr))),d=QTe(l.y,a.h,u),h=HTe(u),f=VTe(l.x,a.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:f,top:d,right:f+a.w,bottom:d+a.h}}function LTe(n,t){if(!t)return!0;let{left:e,top:i,right:r,bottom:o}=n;return!(qh({x:e,y:i},t)||qh({x:e,y:o},t)||qh({x:r,y:i},t)||qh({x:r,y:o},t))}function UTe(n,t,e){let i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:G5(o)/2,additionalAngle:s?or/r:0},u;for(let d=0;d<r;d++){l.padding=e[d],l.size=t[d];let h=RTe(n,d,l);i.push(h),a==="auto"&&(h.visible=LTe(h,u),h.visible&&(u=h))}return i}function HTe(n){return n===0||n===180?"center":n<180?"left":"right"}function VTe(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function QTe(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function jTe(n,t,e){let{left:i,top:r,right:o,bottom:s}=e,{backdropColor:a}=t;if(!ii(a)){let l=pg(t.borderRadius),u=Js(t.backdropPadding);n.fillStyle=a;let d=i-u.left,h=r-u.top,f=o-i+u.width,A=s-r+u.height;Object.values(l).some(g=>g!==0)?(n.beginPath(),uw(n,{x:d,y:h,w:f,h:A,radius:l}),n.fill()):n.fillRect(d,h,f,A)}}function GTe(n,t){let{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){let o=n._pointLabelItems[r];if(!o.visible)continue;let s=i.setContext(n.getPointLabelContext(r));jTe(e,s,o);let a=Co(s.font),{x:l,y:u,textAlign:d}=o;fg(e,n._pointLabels[r],l,u+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}function aJ(n,t,e,i){let{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,sr);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=n.getPointPosition(s,t),r.lineTo(o.x,o.y)}}function WTe(n,t,e,i,r){let o=n.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!i||!a||!l||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),aJ(n,e,s,i),o.closePath(),o.stroke(),o.restore())}function KTe(n,t,e){return mp(n,{label:e,index:t,type:"pointLabel"})}var W5=class extends pw{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pS.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Js(G5(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=Gr(t)&&!isNaN(t)?t:0,this.max=Gr(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/G5(this.options))}generateTickLabels(t){pw.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{let r=Yi(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let t=this.options;t.display&&t.pointLabels.display?kTe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){let e=sr/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ll(t*e+wu(i))}getDistanceFromCenterForValue(t){if(ii(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(ii(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let i=e[t];return KTe(this.getContext(),t,i)}}getPointPosition(t,e,i=0){let r=this.getIndexAngle(t)-Jr+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),aJ(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,s=this._pointLabels.length,a,l,u;if(e.pointLabels.display&&GTe(this,s),r.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let f=this.getContext(h),A=r.setContext(f),g=o.setContext(f);WTe(this,A,l,s,g)}}),i.display){for(t.save(),a=s-1;a>=0;a--){let d=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=d;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),u=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let r=this.getIndexAngle(0),o,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let u=i.setContext(this.getContext(l)),d=Co(u.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){t.font=d.string,s=t.measureText(a.label).width,t.fillStyle=u.backdropColor;let h=Js(u.backdropPadding);t.fillRect(-s/2-h.left,-o-d.size/2-h.top,s+h.width,d.size+h.height)}fg(t,a.label,0,-o,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}},tF={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vl=Object.keys(tF);function NX(n,t){return n-t}function RX(n,t){if(ii(t))return null;let e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts,s=t;return typeof i=="function"&&(s=i(s)),Gr(s)||(s=typeof i=="string"?e.parse(s,i):e.parse(s)),s===null?null:(r&&(s=r==="week"&&(av(o)||o===!0)?e.startOf(s,"isoWeek",o):e.startOf(s,r)),+s)}function LX(n,t,e,i){let r=Vl.length;for(let o=Vl.indexOf(n);o<r-1;++o){let s=tF[Vl[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-t)/(a*s.size))<=i)return Vl[o]}return Vl[r-1]}function zTe(n,t,e,i,r){for(let o=Vl.length-1;o>=Vl.indexOf(e);o--){let s=Vl[o];if(tF[s].common&&n._adapter.diff(r,i,s)>=t-1)return s}return Vl[e?Vl.indexOf(e):0]}function qTe(n){for(let t=Vl.indexOf(n)+1,e=Vl.length;t<e;++t)if(tF[Vl[t]].common)return Vl[t]}function UX(n,t,e){if(!e)n[t]=!0;else if(e.length){let{lo:i,hi:r}=DO(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function $Te(n,t,e,i){let r=n._adapter,o=+r.startOf(t[0].value,i),s=t[t.length-1].value,a,l;for(a=o;a<=s;a=+r.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}function HX(n,t,e){let i=[],r={},o=t.length,s,a;for(s=0;s<o;++s)a=t[s],r[a]=s,i.push({value:a,major:!1});return o===0||!e?i:$Te(n,i,r,e)}var K5=(()=>{class n extends dv{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){let r=e.time||(e.time={}),o=this._adapter=new sxe._date(e.adapters.date);o.init(i),ow(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:RX(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,i=this._adapter,r=e.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),o=Gr(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),s=Gr(s)&&!isNaN(s)?s:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){let e=this.options,i=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=yZ(o,s,a);return this._unit=i.unit||(r.autoSkip?LX(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):zTe(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:qTe(this._unit),this.initOffsets(o),e.reverse&&l.reverse(),HX(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,r=0,o,s;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?i=1-o:i=(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;i=Zo(i,0,a),r=Zo(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let e=this._adapter,i=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||LX(s.minUnit,i,r,this._getLabelCapacity(i)),l=An(o.ticks.stepSize,1),u=a==="week"?s.isoWeekday:!1,d=av(u)||u===!0,h={},f=i,A,g;if(d&&(f=+e.startOf(f,"isoWeek",u)),f=+e.startOf(f,d?"day":a),e.diff(r,i,a)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+a);let m=o.ticks.source==="data"&&this.getDataTimestamps();for(A=f,g=0;A<r;A=+e.add(A,l,a),g++)UX(h,A,m);return(A===r||o.bounds==="ticks"||g===1)&&UX(h,A,m),Object.keys(h).sort(NX).map(b=>+b)}getLabelForValue(e){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(e,r.tooltipFormat):i.format(e,r.displayFormats.datetime)}format(e,i){let o=this.options.time.displayFormats,s=this._unit,a=i||o[s];return this._adapter.format(e,a)}_tickFormatFunction(e,i,r,o){let s=this.options,a=s.ticks.callback;if(a)return Yi(a,[e,i,r],this);let l=s.time.displayFormats,u=this._unit,d=this._majorUnit,h=u&&l[u],f=d&&l[d],A=r[i],g=d&&f&&A&&A.major;return this._adapter.format(e,o||(g?f:h))}generateTickLabels(e){let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],o.label=this._tickFormatFunction(o.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){let i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let i=this.options.ticks,r=this.ctx.measureText(e).width,o=wu(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(e){let i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,s=this._tickFormatFunction(e,0,HX(this,[e],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],i,r;if(e.length)return e;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)e=e.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],i,r;if(e.length)return e;let o=this.getLabels();for(i=0,r=o.length;i<r;++i)e.push(RX(this,o[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ZU(e.sort(NX))}}return n})();function GO(n,t,e){let i=0,r=n.length-1,o,s,a,l;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=zh(n,"pos",t)),{pos:o,time:a}=n[i],{pos:s,time:l}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=zh(n,"time",t)),{time:o,pos:a}=n[i],{time:s,pos:l}=n[r]);let u=s-o;return u?a+(l-a)*(t-o)/u:a}var z5=class extends K5{static id="timeseries";static defaults=K5.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=GO(e,this.min),this._tableRange=GO(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:i}=this,r=[],o=[],s,a,l,u,d;for(s=0,a=t.length;s<a;++s)u=t[s],u>=e&&u<=i&&r.push(u);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(s=0,a=r.length;s<a;++s)d=r[s+1],l=r[s-1],u=r[s],Math.round((d+l)/2)!==u&&o.push({time:u,pos:s/(a-1)});return o}_generate(){let t=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(GO(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return GO(this._table,i*this._tableRange+this._minPos,!0)}},YTe=Object.freeze({__proto__:null,CategoryScale:MTe,LinearScale:Q5,LogarithmicScale:j5,RadialLinearScale:W5,TimeScale:K5,TimeSeriesScale:z5}),lJ=[oxe,OIe,xTe,YTe];JO.register(...lJ);var cJ=JO;var hJ=Ri(eS());var ZTe=["chart"],uJ=(()=>{class n{constructor(){this.autoUpdateSeries=!0,this.chartReady=new at,this.chartInstance=fc(null),this.ngZone=Oe(Pt),this.isBrowser=Vh(Oe(Wo))}ngOnChanges(e){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{Gy.schedule(()=>this.hydrate(e))})}ngOnDestroy(){this.destroy()}hydrate(e){if(this.autoUpdateSeries&&Object.keys(e).filter(r=>r!=="series").length===0){this.updateSeries(this.series,!0);return}this.createElement()}createElement(){return hd(this,null,function*(){let{default:e}=yield import("./chunk-KFCMFDRE.js");window.ApexCharts||=e;let i={};this.annotations&&(i.annotations=this.annotations),this.chart&&(i.chart=this.chart),this.colors&&(i.colors=this.colors),this.dataLabels&&(i.dataLabels=this.dataLabels),this.series&&(i.series=this.series),this.stroke&&(i.stroke=this.stroke),this.labels&&(i.labels=this.labels),this.legend&&(i.legend=this.legend),this.fill&&(i.fill=this.fill),this.tooltip&&(i.tooltip=this.tooltip),this.plotOptions&&(i.plotOptions=this.plotOptions),this.responsive&&(i.responsive=this.responsive),this.markers&&(i.markers=this.markers),this.noData&&(i.noData=this.noData),this.xaxis&&(i.xaxis=this.xaxis),this.yaxis&&(i.yaxis=this.yaxis),this.forecastDataPoints&&(i.forecastDataPoints=this.forecastDataPoints),this.grid&&(i.grid=this.grid),this.states&&(i.states=this.states),this.title&&(i.title=this.title),this.subtitle&&(i.subtitle=this.subtitle),this.theme&&(i.theme=this.theme),this.destroy();let r=this.ngZone.runOutsideAngular(()=>new e(this.chartElement.nativeElement,i));this.chartInstance.set(r),this.render(),this.chartReady.emit({chartObj:r})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(e,i,r,o){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(e,i,r,o))}updateSeries(e,i){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(e,i))}appendSeries(e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(e,i))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(e))}highlightSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(e,i))}toggleDataPointSelection(e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(e,i))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(e,i,r))}addYaxisAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(e,i,r))}addPointAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(e,i,r))}removeAnnotation(e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(e,i))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(e))}dataURI(e){return this.chartInstance()?.dataURI(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=wt({type:n,selectors:[["apx-chart"]],viewQuery:function(i,r){if(i&1&&Mi(ZTe,7),i&2){let o;ln(o=cn())&&(r.chartElement=o.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",forecastDataPoints:"forecastDataPoints",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},outputs:{chartReady:"chartReady"},standalone:!0,features:[ei,zs],decls:2,vars:0,consts:[["chart",""]],template:function(i,r){i&1&&se(0,"div",null,0)},encapsulation:2,changeDetection:0})}}return n})();var dJ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var JTe=()=>({standalone:!0}),eDe=()=>[1,2,3,4,5,6,7,8,9];function tDe(n,t){if(n&1&&(I(0,"p",45)(1,"span"),H(2),M()()),n&2){let e=t.$implicit;x(2),de(e)}}function nDe(n,t){if(n&1&&(I(0,"div",46)(1,"h4"),H(2),M(),se(3,"div",47),M()),n&2){let e=t.$implicit;x(2),de(e.date),x(),Vr("height",e.percent+"%")}}function iDe(n,t){if(n&1&&(I(0,"div",39)(1,"div",40)(2,"div",41),he(3,tDe,3,1,"p",42),M(),I(4,"div",43),he(5,nDe,4,3,"div",44),M()()()),n&2){let e=te();x(3),W("ngForOf",e.priceRangeOrder),x(2),W("ngForOf",e.chartDataParsedOrder)}}function rDe(n,t){if(n&1&&(I(0,"p",45)(1,"span"),H(2),M()()),n&2){let e=t.$implicit;x(2),de(e)}}function oDe(n,t){if(n&1&&(I(0,"div",46)(1,"h4"),H(2),M(),se(3,"div",47),M()),n&2){let e=t.$implicit;x(2),de(e.date),x(),Vr("height",e.percent+"%")}}function sDe(n,t){if(n&1&&(I(0,"div",39)(1,"div",40)(2,"div",41),he(3,rDe,3,1,"p",42),M(),I(4,"div",43),he(5,oDe,4,3,"div",44),M()()()),n&2){let e=te();x(3),W("ngForOf",e.priceRangeItems),x(2),W("ngForOf",e.chartDataParsedItems)}}function aDe(n,t){if(n&1&&(I(0,"p",45)(1,"span"),H(2),M()()),n&2){let e=t.$implicit;x(2),de(e)}}function lDe(n,t){if(n&1&&(I(0,"div",43)(1,"div",46)(2,"h4"),H(3),M(),se(4,"div",47),M()()),n&2){let e=t.$implicit;x(3),de(e.date),x(),Vr("height",e.percent+"%")}}function cDe(n,t){if(n&1&&(I(0,"div",39)(1,"div",40)(2,"div",41),he(3,aDe,3,1,"p",42),M(),he(4,lDe,5,3,"div",48),M()()),n&2){let e=te();x(3),W("ngForOf",e.priceRangeEarning),x(),W("ngForOf",e.chartDataParsedEarning)}}function uDe(n,t){n&1&&se(0,"img",61)}function dDe(n,t){n&1&&se(0,"img",62)}function hDe(n,t){n&1&&se(0,"img",63)}function fDe(n,t){if(n&1&&(I(0,"div",49)(1,"div",50)(2,"div",51),he(3,uDe,1,0,"img",52)(4,dDe,1,0,"img",53)(5,hDe,1,0,"img",54),M(),I(6,"h3",55),H(7),K(8,"translate"),M()(),I(9,"div",56)(10,"div",57),se(11,"div",58),M()(),I(12,"div",59)(13,"h3",60),H(14),I(15,"span"),H(16),M()()()()),n&2){let e=t.$implicit;x(3),W("ngIf",e.order_type=="NORMAL"),x(),W("ngIf",e.order_type=="TAKEAWAY"),x(),W("ngIf",e.order_type=="DINEIN"),x(2),le(" ",z(8,8,"order_type_"+e.order_type.toLowerCase())," "),x(4),Vr("width",e.percent+"%"),x(3),le("",e.total," "),x(2),le("(",e.percent,"%)")}}function pDe(n,t){n&1&&(I(0,"div",65)(1,"div",66),se(2,"ngx-skeleton-loader",67),M(),I(3,"div",68)(4,"h5"),se(5,"ngx-skeleton-loader",69),M(),I(6,"h6"),se(7,"ngx-skeleton-loader",69),M()()())}function ADe(n,t){n&1&&(I(0,"div"),he(1,pDe,8,0,"div",64),M()),n&2&&(x(),W("ngForOf",Qr(1,eDe)))}function gDe(n,t){if(n&1&&(I(0,"div",65)(1,"div",66),se(2,"img",70),M(),I(3,"div",68)(4,"h5"),H(5),M(),I(6,"h6"),H(7),K(8,"translate"),M()()()),n&2){let e=t.$implicit;x(2),W("src",e.image_urls[0],yo),x(3),le(" ",e.title," "),x(2),pn(" ",e.sells_count?e.sells_count:0," ",z(8,4,"sales")," ")}}function mDe(n,t){if(n&1&&(I(0,"div"),he(1,gDe,9,6,"div",64),M()),n&2){let e=te();x(),W("ngForOf",e.productsBestSelling)}}function vDe(n,t){if(n&1&&(I(0,"h3",71),se(1,"i",72),H(2),M()),n&2){let e=t.$implicit;x(),Vr("color",e.color),x(),pn(" ",e.category_id," (",e.percent,"%) ")}}function _De(n,t){n&1&&se(0,"img",87)}function yDe(n,t){n&1&&se(0,"img",88)}function wDe(n,t){n&1&&se(0,"img",89)}function bDe(n,t){n&1&&se(0,"img",90)}function CDe(n,t){if(n&1&&(I(0,"div",80)(1,"div",81),he(2,_De,1,0,"img",82)(3,yDe,1,0,"img",83)(4,wDe,1,0,"img",84)(5,bDe,1,0,"img",85),H(6," \xA0\xA0 "),se(7,"input",86),M()()),n&2){let e=t.$implicit;x(2),W("ngIf",e.rank==1),x(),W("ngIf",e.rank==2),x(),W("ngIf",e.rank==3),x(),W("ngIf",e.rank==4),x(2),Rh("value","",e.percent,"%")}}function EDe(n,t){if(n&1&&(I(0,"div",77)(1,"label"),H(2),M(),I(3,"div",78),he(4,CDe,8,6,"div",79),M()()),n&2){let e=t.$implicit;x(2),de(e.feedback_question_title),x(2),W("ngForOf",e.options)}}function SDe(n,t){if(n&1&&(I(0,"div",73)(1,"div",29)(2,"h2",74),H(3),K(4,"translate"),I(5,"span",75),H(6),K(7,"translate"),M()(),he(8,EDe,5,2,"div",76),M()()),n&2){let e=te();x(3),le("",z(4,4,"reviews")," "),x(3),pn("",e.feedbackDataParsed.total," ",z(7,6,"reviews"),""),x(2),W("ngForOf",e.feedbackDataParsed.data)}}var fJ=(()=>{class n{constructor(e,i,r,o){this.router=e,this.translate=i,this.uiElementService=r,this.apiService=o,this.subscriptions=new Array,this.duration="today",this.deliveryStats=new Array,this.distance_metric="km",this.showChartType="orders",this.salesoverviewChart={series:[30,20,10,15,20,8,12,18],chart:{type:"donut",fontFamily:"Poppins",toolbar:{show:!1}},labels:["Sandwich","Burger","Pizza","Pasta","Chinese","Sea Food","Italian","Beverage"],colors:["#009946","#F09514","#8E37E7","#F02899","#898989","#33C5FF","#3337F0","#EB1E1E"],plotOptions:{pie:{donut:{size:"50%",background:"transparent",labels:{show:!0,name:{show:!0,offsetY:7},value:{show:!1},total:{show:!1,color:"#2A3547",fontSize:"20px",fontWeight:"600",label:"2,074"}}}}},dataLabels:{enabled:!1},stroke:{show:!1},legend:{show:!1},tooltip:{theme:"dark",fillSeriesColor:!1}}}ngOnInit(){this.currency_icon=He.getSetting("currency_icon"),this.profileMe=He.getProfile(),this.setupDefaultInsightsEarning(),this.setupDefaultInsightsOrder(),this.setupDefaultInsightsItems(),this.setupDefaultInsightsOrderTypes(),this.setupDefaultInsightsCategory(),this.setupDefaultInsightsFeedback(),this.loadInsight(),this.loadProductsByType()}ngOnDestroy(){for(let e of this.subscriptions)e.unsubscribe();this.uiElementService.dismissLoading()}setupDefaultInsightsOrderTypes(){this.insightsOrderTypes=new J0}setupDefaultInsightsCategory(){this.insightsCategory=new ev}setupDefaultInsightsFeedback(){}setupDefaultInsightsOrder(){let e=new aS;this.insightsOrder||(this.insightsOrder=e),this.insightsOrder.chart_data=e.chart_data;let i=100,r=i/5;this.priceRangeOrder=[];for(let o=0;o<=5;o++)this.priceRangeOrder.push(Number((o==0?i:this.priceRangeOrder[o-1]-r).toFixed(2)));this.chartDataParsedOrder=[];for(let o of this.insightsOrder.chart_data)this.chartDataParsedOrder.push({date:"00:00",percent:String(Number(o.total)*100/i),price:"0"})}setupDefaultInsightsItems(){let e=new aS;this.insightsOrder||(this.insightsOrder=e),this.insightsOrder.items_sold_chart=e.items_sold_chart;let i=100,r=i/5;this.priceRangeItems=[];for(let o=0;o<=5;o++)this.priceRangeItems.push(Number((o==0?i:this.priceRangeItems[o-1]-r).toFixed(2)));this.chartDataParsedItems=[];for(let o of this.insightsOrder.chart_data)this.chartDataParsedItems.push({date:"00:00",percent:String(Number(o.total)*100/i),price:"0"})}setupDefaultInsightsEarning(){if(this.insightsEarning=new gO,this.insightsEarning&&this.insightsEarning.earnings_chart_data.length){let e=100,i=e/5;this.priceRangeEarning=[];for(let r=0;r<=5;r++)this.priceRangeEarning.push(Number((r==0?e:this.priceRangeEarning[r-1]-i).toFixed(2)));this.chartDataParsedEarning=[];for(let r of this.insightsEarning.earnings_chart_data)this.chartDataParsedEarning.push({date:"00:00",percent:String(Number(r.total)*100/e),price:"0"})}}loadInsight(){this.loadInsightEarnings(),this.loadInsightOrders(),this.loadInsightOrdersTypes(),this.loadInsightCategory(),this.loadInsightFeedback()}loadInsightEarnings(){this.translate.get("loading").subscribe(e=>{let i=this.getInsightRequest();this.subscriptions.push(this.apiService.getInsightEarning(i).subscribe(r=>{if(r.total_earnings||(r.total_earnings=0),r.total_earnings=Number(Number(r.total_earnings).toFixed(2)),this.insightsEarning=r,this.insightsEarning&&this.insightsEarning.earnings_chart_data.length){let o=0;for(let a of this.insightsEarning.earnings_chart_data)Number(a.total)>o&&(o=Number(a.total));let s=o/5;this.priceRangeEarning=[];for(let a=0;a<=5;a++)this.priceRangeEarning.push(Number((a==0?o:this.priceRangeEarning[a-1]-s).toFixed(2)));this.chartDataParsedEarning=[];for(let a of this.insightsEarning.earnings_chart_data)this.chartDataParsedEarning.push({date:this.getPeriodText(a.period,i),percent:String(Number(a.total)*100/o),price:this.currency_icon+" "+Number(a.total?a.total:0).toFixed()})}else this.setupDefaultInsightsEarning();this.uiElementService.dismissLoading()},r=>{console.log("insights",r),this.uiElementService.dismissLoading()}))})}loadInsightOrdersTypes(){let e=this.getInsightRequest();this.subscriptions.push(this.apiService.getInsightOrderTypes(this.profileMe.id,e).subscribe(i=>{this.insightsOrderTypes=i,(!this.insightsOrderTypes.summary||this.insightsOrderTypes.summary.length!=3)&&(this.insightsOrderTypes.summary=J0.fillRest(this.insightsOrderTypes.summary));let r=0;for(let o of this.insightsOrderTypes.summary)r+=Number(o.total);if(r!=0)for(let o of this.insightsOrderTypes.summary)o.percent=Number(Number(o.total)/r*100).toFixed(0)},i=>console.log("getInsightOrderTypes",i)))}loadInsightCategory(){let e=this.getInsightRequest();this.subscriptions.push(this.apiService.getInsightCategory(this.profileMe.id,e).subscribe(i=>{this.insightsCategory=i,(!this.insightsCategory.summary||!this.insightsCategory.summary.length)&&(this.insightsCategory.summary=new ev().summary);let r=0,o=["#eb1e1e","#009946","#f09514","#8e37e7","#f02899","#898989","#33c5ff","#3337f0"],s=0;for(let a of this.insightsCategory.summary)r+=Number(a.total);for(let a of this.insightsCategory.summary)a.percent=Number(Number(a.total)/r*100).toFixed(0),s==o.length&&(s=0),a.color=o[s],s++},i=>console.log("getInsightCategory",i)))}loadInsightFeedback(){let e=this.getInsightRequest();this.subscriptions.push(this.apiService.getInsightFeedback(this.profileMe.id,e).subscribe(i=>{if(i.summary&&i.summary.length){let r=[];for(let s of i.summary){let a=-1;for(let l=0;l<r.length;l++)if(r[l].feedback_question_id==s.feedback_question_id){a=l;break}a==-1&&r.push({feedback_question_id:s.feedback_question_id,feedback_question_title:s.feedback_question_title,options:[{rank:1,total:0,percent:"0"},{rank:2,total:0,percent:"0"},{rank:3,total:0,percent:"0"},{rank:4,total:0,percent:"0"}]});for(let l of r[a==-1?r.length-1:a].options)if(l.rank==s.rank){l.total+=s.total;break}}let o=0;for(let s of r){let a=0;for(let l of s.options)a+=l.total;for(let l of s.options)l.percent=Number(l.total/a*100).toFixed(0);o+=a}this.feedbackDataParsed={total:o,data:r}}},i=>console.log("getInsightCategory",i)))}loadInsightOrders(){let e=this.getInsightRequest();this.subscriptions.push(this.apiService.getInsightOrder(this.profileMe.id,e).subscribe(i=>{if(this.insightsOrder=i,this.insightsOrder&&this.insightsOrder.chart_data.length){let r=0;for(let s of this.insightsOrder.chart_data)Number(s.total)>r&&(r=Number(s.total));let o=r/5;this.priceRangeOrder=[];for(let s=0;s<=5;s++)this.priceRangeOrder.push(Number((s==0?r:this.priceRangeOrder[s-1]-o).toFixed(2)));this.chartDataParsedOrder=[];for(let s of this.insightsOrder.chart_data)this.chartDataParsedOrder.push({date:this.getPeriodText(s.period,e),percent:String(Number(s.total)*100/r),price:Number(s.total?s.total:0).toFixed()})}else this.setupDefaultInsightsOrder();if(this.insightsOrder&&this.insightsOrder.items_sold_chart.length){let r=0;for(let s of this.insightsOrder.items_sold_chart)Number(s.total)>r&&(r=Number(s.total));let o=r/5;this.priceRangeItems=[];for(let s=0;s<=5;s++)this.priceRangeItems.push(Number((s==0?r:this.priceRangeItems[s-1]-o).toFixed(2)));this.chartDataParsedItems=[];for(let s of this.insightsOrder.items_sold_chart)this.chartDataParsedItems.push({date:this.getPeriodText(s.period,e),percent:String(Number(s.total)*100/r),price:Number(s.total?s.total:0).toFixed()})}else this.setupDefaultInsightsItems();this.uiElementService.dismissLoading()},i=>{console.log("insights",i),this.uiElementService.dismissLoading()}))}chartParsed(e){this.showChartType=e}navTransactions(){this.router.navigate(["/wallet"])}getInsightRequest(){let e={duration:"",limit:0};switch(this.duration){case"today":e.duration="hours",e.limit=24;break;case"week":e.duration="days",e.limit=7;break;case"month":e.duration="months",e.limit=12;break;case"year":e.duration="years",e.limit=12;break}return e}getPeriodText(e,i){let r=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],o=["sun","mon","tue","wed","thu","fri","sat"],s=String(e);if(s.includes("-"))return(0,hJ.default)(s).format("DD/MM");switch(i.duration){case"hours":s.length==1&&(s="0"+s),Number(s)&&(s=s+=":00");break;case"months":let a=Number(s);s=this.translate.instant(r[a>0?a-1:a]);break}return s}loadProductsByType(){this.isLoading=!0,this.subscriptions.push(this.apiService.getBestProducts(this.profileMe.id,et.SCOPE_ECOMMERCE,"best-seller").subscribe(e=>{let i=e.data.sort((o,s)=>{let a=o.sells_count&&Number(o.sells_count)?Number(o.sells_count):0,l=s.sells_count&&Number(s.sells_count)?Number(s.sells_count):0;return a<l?1:a>l?-1:0}),r=[];for(let o=0;o<(i.length>6?6:i.length);o++)r.push(i[o]);this.productsBestSelling=r,this.uiElementService.dismissLoading(),this.isLoading=!1},e=>{console.log("getProductsForTypes",e),this.uiElementService.dismissLoading(),this.isLoading=!1}))}loadCategoryChart(){let e=[],i=[],r=[];for(let o of this.insightsCategory.summary)e.push(o.color),i.push(o.category_id+" ("+o.percent+"%)"),r.push(Number(o.percent));this.myChart?(this.myChart.data.datasets=[{labels:i,datasets:[{data:r,backgroundColor:e}]}],this.myChart.update()):this.myChart=new cJ(document.getElementById("doughnut-chart"),{type:"doughnut",data:{labels:i,datasets:[{data:r,backgroundColor:e}]},options:{responsive:!0,plugins:{legend:{display:!1,position:"top",labels:{color:"#000080"}}}}})}static{this.\u0275fac=function(i){return new(i||n)(ae(Un),ae(qn),ae(ui),ae(ni))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-dashboard"]],decls:99,vars:69,consts:[[1,"body_wrapper","p-2","p-lg-4"],[1,"pageTitle","pb-4"],[1,"row","align-items-center"],[1,"col-12","col-md-6","col-lg-4","col-xl-6","pb-2","pb-md-0"],[1,"col-12","col-md-6","col-lg-8","col-xl-6","d-flex","pb-2","pb-md-0"],[1,"end","col-12","col-lg-7"],[1,"form-group","select_box","animate__animated","animate__fadeInUp","m-0"],["name","duration",1,"end",3,"ngModelChange","change","ngModel","ngModelOptions"],["value","today"],["value","week"],["value","month"],["value","year"],[1,"row","g-3"],[1,"col-12","col-md-6","col-lg-4","animate__animated","animate__fadeInUp"],[1,"card","pt-3"],[1,"insightCard","d-flex"],["src","assets/images/orders.png",1,"end"],["src","assets/images/item_sold.png",1,"end"],["src","assets/images/ernings.png",1,"end"],[1,"card","p-3","px-2","pb-0"],[1,"chart-area"],[1,"menus"],[1,"d-flex","nav","nav-tabs","list-unstyled","m-0"],[1,"nav-item","py-2"],[1,"nav-link",3,"click","ngClass"],[1,"tab-content","pt-3"],["class","tab-pane fade active show",4,"ngIf"],[1,"col-12","col-md-12","col-lg-6"],[1,"card","ordersTypes","p-3"],[1,"form_inner"],["class","type animate__animated animate__fadeInUp align-items-center row g-0",4,"ngFor","ngForOf"],[1,"card","bestSellingItems","p-3"],[4,"ngIf"],[1,"card","category","p-3"],[1,"col-12","col-md-7"],[3,"series","plotOptions","dataLabels","chart","legend","colors","tooltip","labels","stroke"],[1,"col-12","col-md-5"],["class","d-flex animate__animated animate__fadeInUp",4,"ngFor","ngForOf"],["class","card reviews p-3",4,"ngIf"],[1,"tab-pane","fade","active","show"],[1,"graph_container","d-flex"],[1,"text_container"],["class","animate__animated animate__fadeInUp",4,"ngFor","ngForOf"],[1,"graph","end"],["class","bar_box",4,"ngFor","ngForOf"],[1,"animate__animated","animate__fadeInUp"],[1,"bar_box"],[1,"bar"],["class","graph end",4,"ngFor","ngForOf"],[1,"type","animate__animated","animate__fadeInUp","align-items-center","row","g-0"],[1,"col-12","d-flex","col-md-4","d-flex"],[1,"img_box"],["src","assets/images/icons/ic_delivery.png",4,"ngIf"],["src","assets/images/icons/ic_takeaway.png",4,"ngIf"],["src","assets/images/icons/ic_dine_in.png",4,"ngIf"],[1,"h6","m-0"],[1,"col-12","d-flex","col-md-6","py-3","py-md-0"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],[1,"col-12","col-md-2"],[1,"text-end","end","my-0"],["src","assets/images/icons/ic_delivery.png"],["src","assets/images/icons/ic_takeaway.png"],["src","assets/images/icons/ic_dine_in.png"],["class","media d-flex animate__animated animate__fadeInUp",4,"ngFor","ngForOf"],[1,"media","d-flex","animate__animated","animate__fadeInUp"],[1,"img_box","center_img"],["count","1","appearance","line",2,"height","100%"],[1,"media-body"],["count","1","appearance","line",2,"width","80%"],[1,"crop_img",3,"src"],[1,"d-flex","animate__animated","animate__fadeInUp"],[1,"zmdi","zmdi-circle"],[1,"card","reviews","p-3"],[1,"d-flex"],[1,"end"],["class","form-group options",4,"ngFor","ngForOf"],[1,"form-group","options"],[1,"row","g-2"],["class","col-6 col-md-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-3"],[1,"input_box","d-flex"],["src","assets/images/icons/excellent.gif",4,"ngIf"],["src","assets/images/icons/good.gif",4,"ngIf"],["src","assets/images/icons/average.gif",4,"ngIf"],["src","assets/images/icons/not_good.gif",4,"ngIf"],["type","text","readonly","",1,"form-control",3,"value"],["src","assets/images/icons/excellent.gif"],["src","assets/images/icons/good.gif"],["src","assets/images/icons/average.gif"],["src","assets/images/icons/not_good.gif"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),H(5),K(6,"translate"),M()(),I(7,"div",4)(8,"form",5)(9,"div",6)(10,"ng-select",7),Ze("ngModelChange",function(s){return Xe(r.duration,s)||(r.duration=s),s}),ve("change",function(){return r.loadInsight()}),I(11,"ng-option",8),H(12),K(13,"translate"),M(),I(14,"ng-option",9),H(15),K(16,"translate"),M(),I(17,"ng-option",10),H(18),K(19,"translate"),M(),I(20,"ng-option",11),H(21),K(22,"translate"),M()()()()()()(),I(23,"form")(24,"div",12)(25,"div",13)(26,"div",14)(27,"div",15)(28,"h2"),H(29),K(30,"translate"),I(31,"strong"),H(32),M()(),se(33,"img",16),M()()(),I(34,"div",13)(35,"div",14)(36,"div",15)(37,"h2"),H(38),K(39,"translate"),I(40,"strong"),H(41),M()(),se(42,"img",17),M()()(),I(43,"div",13)(44,"div",14)(45,"div",15)(46,"h2"),H(47),K(48,"translate"),I(49,"strong"),H(50),M()(),se(51,"img",18),M()()()(),I(52,"div",19)(53,"div",20)(54,"div",21)(55,"ul",22)(56,"li",23)(57,"button",24),ve("click",function(){return r.chartParsed("orders")}),H(58),K(59,"translate"),M()(),I(60,"li",23)(61,"button",24),ve("click",function(){return r.chartParsed("sales")}),H(62),K(63,"translate"),M()(),I(64,"li",23)(65,"button",24),ve("click",function(){return r.chartParsed("earnings")}),H(66),K(67,"translate"),M()()()(),I(68,"div",25),he(69,iDe,6,2,"div",26)(70,sDe,6,2,"div",26)(71,cDe,5,2,"div",26),M()()(),I(72,"div",12)(73,"div",27)(74,"div",28)(75,"div",29)(76,"h2"),H(77),K(78,"translate"),M(),he(79,fDe,17,10,"div",30),M()(),I(80,"div",31)(81,"div",29)(82,"h2"),H(83),K(84,"translate"),M(),he(85,ADe,2,2,"div",32)(86,mDe,2,1,"div",32),M()()(),I(87,"div",27)(88,"div",33)(89,"div",29)(90,"h2"),H(91),K(92,"translate"),M(),I(93,"div",2)(94,"div",34),se(95,"apx-chart",35),M(),I(96,"div",36),he(97,vDe,3,4,"h3",37),M()()()(),he(98,SDe,9,8,"div",38),M()()()()),i&2&&(x(5),le(" ",z(6,40,"dashboard")," "),x(5),Ye("ngModel",r.duration),W("ngModelOptions",Qr(68,JTe)),x(2),de(z(13,42,"today")),x(3),de(z(16,44,"this_week")),x(3),de(z(19,46,"this_month")),x(3),de(z(22,48,"this_year")),x(8),le(" ",z(30,50,"orders")," "),x(3),de(r.insightsOrder.orders),x(6),le(" ",z(39,52,"items_sold")," "),x(3),de(r.insightsOrder.items_sold),x(6),le(" ",z(48,54,"earnings")," "),x(3),pn("",r.currency_icon,"",r.insightsEarning.total_earnings,""),x(7),W("ngClass",r.showChartType=="orders"?"active":""),x(),le(" ",z(59,56,"orders")," "),x(3),W("ngClass",r.showChartType=="sales"?"active":""),x(),le(" ",z(63,58,"items_sold")," "),x(3),W("ngClass",r.showChartType=="earnings"?"active":""),x(),le(" ",z(67,60,"earnings")," "),x(3),W("ngIf",r.showChartType=="orders"),x(),W("ngIf",r.showChartType=="sales"),x(),W("ngIf",r.showChartType=="earnings"),x(6),de(z(78,62,"orders_from")),x(2),W("ngForOf",r.insightsOrderTypes.summary),x(4),de(z(84,64,"products_best_seller")),x(2),W("ngIf",r.isLoading&&!(r.productsBestSelling&&r.productsBestSelling.length)),x(),W("ngIf",r.productsBestSelling&&r.productsBestSelling.length),x(5),de(z(92,66,"category")),x(4),W("series",r.salesoverviewChart.series)("plotOptions",r.salesoverviewChart.plotOptions)("dataLabels",r.salesoverviewChart.dataLabels)("chart",r.salesoverviewChart.chart)("legend",r.salesoverviewChart.legend)("colors",r.salesoverviewChart.colors)("tooltip",r.salesoverviewChart.tooltip)("labels",r.salesoverviewChart.labels)("stroke",r.salesoverviewChart.stroke),x(2),W("ngForOf",r.insightsCategory.summary),x(),W("ngIf",r.feedbackDataParsed))},dependencies:[Fr,ti,En,ji,Vi,Qi,$i,Oi,_u,Cc,bo,uJ,Gn],styles:['.card[_ngcontent-%COMP%]{overflow:hidden!important;border-radius:10px;margin-bottom:15px}.card[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:1.08rem;font-weight:600;padding-bottom:20px}.card[_ngcontent-%COMP%]   .insightCard[_ngcontent-%COMP%]{align-items:flex-end}.card[_ngcontent-%COMP%]   .insightCard[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;width:100%;color:var(--text-light2);font-size:.85rem;font-weight:500;padding:20px 25px}.card[_ngcontent-%COMP%]   .insightCard[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:var(--text-dark);font-weight:500;font-size:1.5rem;line-height:25px;padding-top:10px}.card[_ngcontent-%COMP%]   .insightCard[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-height:90px}.card.ordersTypes[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{padding-bottom:18px}.card.ordersTypes[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.82rem;color:var(--text-dark);font-weight:500}.card.ordersTypes[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-light)}.card.ordersTypes[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]{min-width:60px}.card.ordersTypes[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-width:50px;max-height:50px}.card.ordersTypes[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{background:var(--bg-secondary);border-radius:50px;height:15px;width:100%}.card.ordersTypes[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:var(--primary);border-radius:50px}.card.bestSellingItems[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1.5px dashed var(--border-line-color)}.card.bestSellingItems[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]{border:15px;width:65px;height:65px;min-width:65px;margin-right:15px;border-radius:8px}.card.bestSellingItems[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]{width:100%}.card.bestSellingItems[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.9rem;font-weight:600;padding-bottom:8px}.card.bestSellingItems[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;color:var(--text-light);font-size:.85rem}.card.bestSellingItems[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]:first-of-type{padding-top:0!important}.card.bestSellingItems[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]:last-of-type{border:0!important}.card.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.85rem;padding-bottom:13px}.card.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:last-of-type{padding:0}.card.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;min-width:25px}.card.reviews[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group.options[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--text-dark);font-weight:600;font-size:.8rem}.card.reviews[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group.options[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]{padding:0 10px}.card.reviews[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group.options[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;min-width:20px}.card.reviews[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group.options[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 8px;font-weight:600;font-size:.78rem}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .menus[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{white-space:nowrap;border:0!important}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .menus[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--text-light);display:inline-block;margin:0 12px}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .menus[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-light2);font-weight:600;padding:0;border:0;background:none!important;transition:all .5s}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .menus[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--primary)}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]{position:relative;overflow:hidden;padding:0 21px 30px;min-height:250px}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]   .text_container[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:100%;padding-left:13px}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]   .text_container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;width:100%;margin:0;padding-bottom:19px}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]   .text_container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:var(--text-light);width:fit-content;font-size:.7rem;font-weight:500;min-width:26px}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]   .text_container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"";position:absolute;top:7px;bottom:0;right:0;margin:0 auto;width:calc(100% - 45px);border-top:2px dotted var(--border-line-color)}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]   .graph[_ngcontent-%COMP%]{right:0;width:calc(100% - 58px);height:100%;display:flex;align-items:flex-end;z-index:9;overflow:overlay}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]   .graph[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;height:10px}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]   .graph[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-color)}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]   .graph[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--text-light);transition:all .5s}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]   .graph[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-light2)}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]   .graph[_ngcontent-%COMP%]   .bar_box[_ngcontent-%COMP%]{display:inline-block;position:relative;height:100%;margin:0 auto;width:104px;height:225px;min-width:104px;max-height:254px;overflow:visible!important;bottom:7px}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]   .graph[_ngcontent-%COMP%]   .bar_box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-light);font-size:.7rem;font-weight:500;text-align:center;margin:0;position:absolute;bottom:7px;left:0;width:100%}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]   .graph[_ngcontent-%COMP%]   .bar_box[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;margin:0 auto;z-index:999;width:100%;max-height:calc(100% - 45px)}.card[_ngcontent-%COMP%]   .chart-area[_ngcontent-%COMP%]   .graph_container[_ngcontent-%COMP%]   .graph[_ngcontent-%COMP%]   .bar_box[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:31px;left:0;right:0;width:35px;height:calc(100% + -0px);margin:auto;border-radius:8px 8px 0 0;background:var(--primary)}.empty-view[_ngcontent-%COMP%]{width:fit-content;margin:25px auto auto;height:fit-content;max-width:calc(100% - 30px)}.empty-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;margin:auto}.empty-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center}']})}}return n})();var nF=class{constructor(){this.products=new Array}};var iF=class{constructor(t,e,i,r){this.id=t,this.title=e,this.price=i,this.priceToShow=r}},rF=class n{setQuantity(t){this.quantity=t,this.total=(this.price+this.priceAddOn)*this.quantity}getTotal(t){return t?Number(this.total.toFixed(2)):this.total}getTotalBase(t){let e=this.price*this.quantity;return t?Number(e.toFixed(2)):e}static fromSaved(t){let e=new n;return e.id=t.id,e.title=t.title,e.subtitle=t.subtitle,e.image=t.image,e.price=t.price,e.priceAddOn=t.priceAddOn,e.priceToShow=t.priceToShow,e.quantity=t.quantity,e.total=t.total,e.product=t.product,e.addOns=t.addOns,e.meta=t.meta,e}},oF=class{},TS=(()=>{class n{static{this.KEY_CART="hungerz_cart_two"}static restore(){let e=new n;e.cartItems=new Array,e.extraCharges=new Array;let i=n.getSavedCart();if(i&&(i.extraCharges&&i.extraCharges.length&&(e.extraCharges=i.extraCharges),i.cartItems&&i.cartItems.length))for(let r of i.cartItems)e.cartItems.push(rF.fromSaved(r));return e}removeExtraCharge(e){let i=-1;for(let r=0;r<this.extraCharges.length;r++)if(this.extraCharges[r].id==e){i=r;break}i!=-1&&this.extraCharges.splice(i,1)}addExtraCharge(e){this.extraCharges.push(e)}getTotalCartItems(e){let i=0;for(let r of this.cartItems)i+=r.total;return e?Number(i.toFixed(2)):i}getTotalCart(e){let i=this.getTotalCartItems(!1),r=0;for(let a of this.extraCharges)if(a.id=="tax_in_percent"){r=a.isPercent?i*a.price/100:a.price;break}let o=0;for(let a of this.extraCharges)if(a.id=="coupon"){o=a.isPercent?i*a.price/100:a.price;break}let s=i+r-o;return e?Number(s.toFixed(2)):s}static getSavedCart(){return JSON.parse(window.localStorage.getItem(n.KEY_CART))}static setSavedCart(e){window.localStorage.setItem(n.KEY_CART,JSON.stringify(e))}}return n})(),pJ=(()=>{class n{constructor(){this.initialize()}initialize(){this.myCart=TS.restore();let e=He.getSetting("tax_in_percent"),i=He.getSetting("currency_icon"),r=this.getCartItemsTotal(!1);if(this.myCart.removeExtraCharge("delivery_fee"),this.myCart.removeExtraCharge("tax_in_percent"),e!=null&&Number(e)>0){let o=new oF;o.extraChargeObject=e,o.id="tax_in_percent",o.title="Service Fee",o.isPercent=!0,o.price=Number(e),o.priceToShow=i+r*o.price/100,this.myCart.addExtraCharge(o)}}clearCart(){TS.setSavedCart(null),this.initialize(),this.orderMeta=null,this.orderRequest=null}getCartItemsWithProductId(e){let i=[];for(let r of this.myCart.cartItems)this.getProductIdFromCartItemId(r.id)==e&&i.push(r);return i}removeCartItemWithProductId(e){let i=-1;for(let r=0;r<this.myCart.cartItems.length;r++)if(this.getProductIdFromCartItemId(this.myCart.cartItems[r].id)==e){i=r;break}return i!=-1&&(this.myCart.cartItems.splice(i,1),TS.setSavedCart(this.myCart)),i!=-1}getCartItems(){return this.myCart.cartItems}getExtraCharges(){return this.myCart.extraCharges}getCartItemsCount(){return this.myCart.cartItems.length}getCartItemsTotal(e){return this.myCart.getTotalCartItems(e)}getCartTotal(e){return this.myCart.getTotalCart(e)}calculateExtraChargePiceToShow(e,i){let r=e.isPercent?this.myCart.getTotalCartItems(!1)*e.price/100:e.price;return i?Number(r.toFixed(2)):r}isExistsCartItem(e){let i=-1;for(let r=0;r<this.myCart.cartItems.length;r++)if(this.myCart.cartItems[r].id==e.id){i=r;break}return i!=-1}getCartProductQuantity(e){let i=0;for(let r of this.getCartItemsWithProductId(e))i+=r.quantity;return i}addOrIncrementCartItem(e){let i=-1;for(let r=0;r<this.myCart.cartItems.length;r++)if(this.myCart.cartItems[r].id==e.id){i=r;break}return i==-1?this.myCart.cartItems.push(e):(e.setQuantity(this.myCart.cartItems[i].quantity+1),this.myCart.cartItems[i]=e),TS.setSavedCart(this.myCart),i==-1}removeOrDecrementCartItem(e){let i=-1;for(let o=0;o<this.myCart.cartItems.length;o++)if(this.myCart.cartItems[o].id==e.id){i=o;break}let r=!1;return i!=-1&&(this.myCart.cartItems[i].quantity>1?(e.setQuantity(this.myCart.cartItems[i].quantity-1),this.myCart.cartItems[i]=e):(r=!0,this.myCart.cartItems.splice(i,1)),TS.setSavedCart(this.myCart)),r}removeCoupon(){this.myCart.removeExtraCharge("coupon")}applyCoupon(e){if(this.myCart.removeExtraCharge("coupon"),e!=null){let i=new oF;i.extraChargeObject=e,i.id="coupon",i.title=e.title,i.isPercent=e.type=="percent",i.price=Number(e.reward),i.priceToShow=i.price+"%",this.myCart.addExtraCharge(i),this.setupOrderRequestBase(),this.orderRequest.coupon_code=e.code}else this.setupOrderRequestBase(),this.orderRequest.coupon_code=null}genCartItemFromProduct(e,i){let r=new rF;if(r.addOns=i&&i.length?i:[],r.id=String(e.vendor_products&&e.vendor_products[0]?e.vendor_products[0].id:e.id),r.addOns.length){r.id+="+";for(let a of r.addOns)r.id+=a.id+"_";r.id.substring(0,r.id.lastIndexOf("_"))}let o=0;for(let a of r.addOns)o+=a.price;r.price=e.price,e.sale_price&&(r.price-=e.price,r.price+=e.sale_price),r.priceAddOn=o,r.title=e.title,r.subtitle=e.categories&&e.categories[0]?e.categories[0].title:e.detail,r.image=e.image_urls[0],r.product=e,r.meta=e.meta;let s=e.vendor_products&&e.vendor_products[0]&&e.vendor_products[0].vendor?e.vendor_products[0].vendor:null;return s&&(r.meta.vendor_id=s.id,r.meta.vendor_name=s.name),r.setQuantity(1),r}getOrderRequest(){this.orderRequest.products=[];for(let e of this.myCart.cartItems){let i=[];if(e.addOns)for(let r of e.addOns)i.push({choice_id:r.id});this.orderRequest.products.push({id:this.getProductIdFromCartItemId(e.id),quantity:e.quantity,addons:i})}return this.orderMeta!=null&&(this.orderRequest.meta=JSON.stringify(this.orderMeta)),this.orderRequest}setupOrderRequestBase(){this.orderRequest==null&&(this.orderRequest=new nF),this.orderMeta==null&&(this.orderMeta={})}setupOrderRequestAddress(e){this.setupOrderRequestBase(),this.orderRequest.address_id=e.id}setupOrderRequestPaymentMethod(e){this.setupOrderRequestBase(),this.orderRequest.payment_method_id=e.id,this.orderRequest.payment_method_slug=e.slug}setupOrderRequestMeta(e,i){this.setupOrderRequestBase(),this.orderMeta[e]=i}hasOrderRequestMetaKey(e){return this.setupOrderRequestBase(),this.orderMeta[e]!=null}removeOrderRequestMeta(e){this.setupOrderRequestBase(),this.orderMeta[e]=null}setupOrderRequestNotes(e){this.setupOrderRequestBase(),this.orderRequest.notes=e}setupOrderRequestcCustomer_mobile(e){this.setupOrderRequestBase(),this.orderRequest.customer_mobile=e}setupOrderRequestCustomer_name(e){this.setupOrderRequestBase(),this.orderRequest.customer_name=e}setupOrderRequestIs_guest(e){this.setupOrderRequestBase(),this.orderRequest.is_guest=e}setupOrderRequestOrder_type(e){this.setupOrderRequestBase(),this.orderRequest.order_type=e}getProductIdFromCartItemId(e){let i=String(e);return Number(i.includes("+")?i.split("+")[0]:i)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Pae=Ri(zv());var Nd=class n{static fromMessage(t,e){let i=new n;return i.chatId=e?t.recipientId:t.senderId,i.myId=e?t.senderId:t.recipientId,i.chatName=e?t.recipientName:t.senderName,i.chatImage=e?t.recipientImage:t.senderImage,i.chatStatus=e?t.recipientStatus:t.senderStatus,i.dateTimeStamp=t.dateTimeStamp,i.timeDiff=He.formatMillisDateTime(Number(i.dateTimeStamp),He.getLocale()),i.lastMessage=t.body,i.meta=t.meta,i}};var nb=Ri(zv());var eae=Ri(Jse());var tae=(()=>{class n{constructor(){this.permission=this.isSupported()?window.Notification.permission:"default"}isSupported(){return"Notification"in window}isGranted(){return window.Notification.permission=="granted"}requestPermission(){let e=this;"Notification"in window&&Notification.requestPermission(function(i){return e.permission=i})}create(e,i,r){let o=this;return new $t(function(s){"Notification"in window||(console.log("Notifications are not available in this environment"),s.complete()),o.permission!=="granted"&&(console.log("The user hasn't granted you permission to send push notifications"),s.complete());let a=new Notification(e,i);a.onshow=function(l){return s.next({notification:a,event:l})},a.onclick=function(l){r!=null&&(a.close(),r())},a.onerror=function(l){return s.error({notification:a,event:l})},a.onclose=function(){return s.complete()}})}generateNotification(e,i){let r=this;e.forEach(o=>{let s={body:o.alertContent,icon:"assets/images/logo_small.png",sound:"assets/notification_sound.wav"};r.create(o.title,s,i).subscribe(a=>{console.log("NOTI_RES",a),new eae.Howl({src:["assets/notification_sound.wav"]}).play()},a=>console.log("NOTI_CREATE",a))})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function x5e(n,t){if(n&1&&(I(0,"div",16),se(1,"img",17),M()),n&2){let e=te(2);x(),W("src",e.profileMe.image_urls[0],yo)}}function I5e(n,t){n&1&&(I(0,"div",16),se(1,"img",18),M())}function T5e(n,t){if(n&1){let e=We();I(0,"header")(1,"nav",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"a",11),ve("click",function(){we(e);let r=te();return be(r.dashboard("dashboard"))}),se(7,"img",12)(8,"img",13),M()()(),I(9,"div",14),he(10,x5e,2,1,"div",15)(11,I5e,2,0,"div",15),M()()()()()}if(n&2){let e=te();x(10),W("ngIf",e.profileMe&&e.profileMe.image_urls&&e.profileMe.image_urls.length),x(),W("ngIf",!e.profileMe||!e.profileMe.image_urls||!e.profileMe.image_urls.length)}}function D5e(n,t){n&1&&se(0,"div",19)}function M5e(n,t){if(n&1){let e=We();I(0,"div",20)(1,"ul",21)(2,"li",22),ve("click",function(){we(e);let r=te();return be(r.dashboard("dashboard"))}),I(3,"div",23),se(4,"img",24)(5,"img",25),M(),I(6,"a",26),H(7),K(8,"translate"),M()(),I(9,"li",22),ve("click",function(){we(e);let r=te();return be(r.home("home"))}),I(10,"div",23),se(11,"img",27)(12,"img",28),M(),I(13,"a",26),H(14),K(15,"translate"),M()(),I(16,"li",22),ve("click",function(){we(e);let r=te();return be(r.transactions("transactions"))}),I(17,"div",23),se(18,"img",29)(19,"img",30),M(),I(20,"a",26),H(21),K(22,"translate"),M()(),I(23,"li",22),ve("click",function(){we(e);let r=te();return be(r.booking("booking"))}),I(24,"div",23),se(25,"img",31)(26,"img",32),M(),I(27,"a",26),H(28),K(29,"translate"),M()(),I(30,"li",22),ve("click",function(){we(e);let r=te();return be(r.orders_status("orders_status"))}),I(31,"div",23),se(32,"img",33)(33,"img",34),M(),I(34,"a",26),H(35),K(36,"translate"),M()(),I(37,"li",22),ve("click",function(){we(e);let r=te();return be(r.people("people"))}),I(38,"div",23),se(39,"img",35)(40,"img",36),M(),I(41,"a",26),H(42),K(43,"translate"),M()(),I(44,"li",22),ve("click",function(){we(e);let r=te();return be(r.wallet("wallet"))}),I(45,"div",23),se(46,"img",37)(47,"img",38),M(),I(48,"a",26),H(49),K(50,"translate"),M()(),I(51,"li",22),ve("click",function(){we(e);let r=te();return be(r.items("items"))}),I(52,"div",23),se(53,"img",39)(54,"img",40),M(),I(55,"a",26),H(56),K(57,"translate"),M()(),I(58,"li",22),ve("click",function(){we(e);let r=te();return be(r.reviews("reviews"))}),I(59,"div",23),se(60,"img",41)(61,"img",42),M(),I(62,"a",26),H(63),K(64,"translate"),M()(),I(65,"li",22),ve("click",function(){we(e);let r=te();return be(r.authentication("authentication"))}),I(66,"div",23),se(67,"img",43)(68,"img",44),M(),I(69,"a",26),H(70),K(71,"translate"),M()(),I(72,"li",22),ve("click",function(){we(e);let r=te();return be(r.setting("setting"))}),I(73,"div",23),se(74,"img",45)(75,"img",46),M(),I(76,"a",26),H(77),K(78,"translate"),M()(),I(79,"li",22),ve("click",function(){we(e);let r=te();return be(r.support("support"))}),I(80,"div",23),se(81,"img",47)(82,"img",48),M(),I(83,"a",26),H(84),K(85,"translate"),M()(),I(86,"li",22),ve("click",function(){we(e);let r=te();return be(r.terms_conditions("terms_conditions"))}),I(87,"div",23),se(88,"img",49)(89,"img",50),M(),I(90,"a",26),H(91),K(92,"translate"),M()(),I(93,"li",51),ve("click",function(){we(e);let r=te();return be(r.login())}),I(94,"div",23),se(95,"img",52)(96,"img",53),M(),I(97,"a",26),H(98),K(99,"translate"),M()()()()}if(n&2){let e=te();x(2),W("ngClass",e.menuActive=="dashboard"?"active":""),x(5),le(" ",z(8,27,"dashboard"),""),x(2),W("ngClass",e.menuActive=="home"?"active":""),x(5),le(" ",z(15,29,"pos"),""),x(2),W("ngClass",e.menuActive=="transactions"?"active":""),x(5),le(" ",z(22,31,"orders"),""),x(2),W("ngClass",e.menuActive=="booking"?"active":""),x(5),le(" ",z(29,33,"bookings"),""),x(2),W("ngClass",e.menuActive=="orders_status"?"active":""),x(5),le(" ",z(36,35,"orders_status"),""),x(2),W("ngClass",e.menuActive=="people"?"active":""),x(5),le(" ",z(43,37,"customer"),""),x(2),W("ngClass",e.menuActive=="wallet"?"active":""),x(5),le(" ",z(50,39,"wallet"),""),x(2),W("ngClass",e.menuActive=="items"?"active":""),x(5),le(" ",z(57,41,"food_items"),""),x(2),W("ngClass",e.menuActive=="reviews"?"active":""),x(5),le(" ",z(64,43,"ratings"),""),x(2),W("ngClass",e.menuActive=="authentication"?"active":""),x(5),le(" ",z(71,45,"authentication"),""),x(2),W("ngClass",e.menuActive=="setting"?"active":""),x(5),le(" ",z(78,47,"settings"),""),x(2),W("ngClass",e.menuActive=="support"?"active":""),x(5),le(" ",z(85,49,"support"),""),x(2),W("ngClass",e.menuActive=="terms_conditions"?"active":""),x(5),le(" ",z(92,51,"terms_conditions"),""),x(7),le(" ",z(99,53,"logout"),"")}}var XB=(()=>{class n{constructor(e,i,r,o,s,a,l,u,d,h){this.config=e,this.router=i,this.ngZone=r,this.translate=o,this.myEventsService=s,this.uiElementService=a,this.titleService=l,this.apiService=u,this.confirmationDialogService=d,this.nps=h,this.title="hungerz-counter",this.rtlSide="left",this.menuActive="dashboard",this.showHeader=!1,this.initializeApp(),this.myEventsService.getLanguageObservable().subscribe(f=>{this.globalize(f),this.apiService.updateUser({language:f}).subscribe(A=>console.log("updateUser"),A=>console.log("updateUser",A)),this.apiService.setupHeaders(),this.router.navigate([this.profileMe?"dashboard":"login"])}),this.myEventsService.getLoginObservable().subscribe(f=>{f==null?(this.profileMe=null,this.unRegisterOrderUpdates(),this.unRegisterTableBookingUpdates(),this.unRegisterInboxUpdates(),He.setProfile(null),this.router.navigate([this.profileMe?"dashboard":"login"])):f&&f.token&&f.vendor&&this.translate.get(["verifying_profile","something_wrong"]).subscribe(A=>{this.uiElementService.presentLoading(A.verifying_profile),He.setLoggedInUserResponse(f),this.apiService.setupHeaders(f.token),this.apiService.getProfile().subscribe(g=>{if(g&&g.user&&g.name&&g.name.length)this.myEventsService.setProfileData(g);else{let m={state:{fresh_profile:!0}};this.router.navigate(["./setting"],m)}this.uiElementService.dismissLoading()},g=>{console.log("getProfile",g),this.apiService.setupHeaders(null),this.uiElementService.dismissLoading()})})}),this.myEventsService.getProfileObservable().subscribe(f=>{He.setProfile(f),this.profileMe=f,this.router.navigate([this.profileMe?"dashboard":"login"]),this.profileMe?(this.registerOrderUpdates(),this.registerTableBookingUpdates(),this.registerInboxUpdates(),this.checkNotifications()):(this.unRegisterOrderUpdates(),this.unRegisterTableBookingUpdates(),this.unRegisterInboxUpdates(),this.doLogout())})}initializeApp(){this.apiService.setupHeaders(),nb.default.initializeApp({apiKey:this.config.firebaseConfig.apiKey,authDomain:this.config.firebaseConfig.authDomain,databaseURL:this.config.firebaseConfig.databaseURL,projectId:this.config.firebaseConfig.projectId,storageBucket:this.config.firebaseConfig.storageBucket,messagingSenderId:this.config.firebaseConfig.messagingSenderId}),this.titleService.setTitle(this.config.appName),document.getElementById("appFavicon")?.setAttribute("href","assets/images/logo_small.png"),this.refreshSettings(),this.refreshProfile(),this.router.navigate([this.profileMe?"dashboard":"login"]);let e=window.localStorage.getItem(et.KEY_DEFAULT_LANGUAGE);this.globalize(e),this.darkModeSetting();let i=window.localStorage.getItem(et.KEY_LAST_ENABLE_AUTO_PRINT);i&&(this.config.printerConfig.enableAutoPrint=i=="true")}globalize(e){this.translate.setDefaultLang("en");let i=this.config.availableLanguages[0].code;this.translate.use(e&&e.length?e:i),this.setDirectionAccordingly(e&&e.length?e:i)}setDirectionAccordingly(e){switch(e){case"ar":{this.rtlSide="rtl";break}default:{this.rtlSide="ltr";break}}}refreshSettings(){this.apiService.getSettings().subscribe(e=>{He.setSettings(e),this.apiService.reloadSetting()},e=>console.log("getSettings",e))}refreshProfile(){this.profileMe=He.getProfile(),this.apiService.getProfile().subscribe(e=>{e&&e.user&&e.name&&e.name.length&&(He.setProfile(e),this.profileMe=e,this.registerOrderUpdates(),this.registerTableBookingUpdates(),this.registerInboxUpdates(),this.checkNotifications())},e=>{console.log("getProfile",e),e.status&&e.status==401&&(this.profileMe=null,this.unRegisterOrderUpdates(),this.unRegisterTableBookingUpdates(),this.unRegisterInboxUpdates(),He.getProfile()&&this.translate.get("profile_loggedout").subscribe(i=>this.uiElementService.showErrorToastr(i,"toast-top-right",3e3)),this.doLogout(),this.router.navigate(["login"]))})}checkNotifications(){console.log("nps.permission",this.nps.permission),this.nps.isGranted()||setTimeout(()=>this.nps.requestPermission(),3e3)}registerOrderUpdates(){let e=this;this.myOrdersRef||(this.myOrdersRef=nb.default.database().ref("vendors").child(String(this.profileMe.id)).child("orders"),this.myOrdersRef.on("child_added",function(i){var r=i.val();console.log("order_added",r),r.data!=null&&(e.timeoutId1&&clearTimeout(e.timeoutId1),e.timeoutId1=setTimeout(()=>{let o=window.localStorage.getItem(et.KEY_LAST_ORDER_NOTIFIED);Number(o)!=r.data.id&&(window.localStorage.setItem(et.KEY_LAST_ORDER_NOTIFIED,`${r.data.id}`),e.translate.get(["new_order","order_id"]).subscribe(s=>e.nps.generateNotification([{title:s.new_order,alertContent:`${s.order_id}${r.data.id}`}],function(a){e.ngZone.run(()=>{e.menuActive="transactions",(!e.menuActive||e.showHeader)&&e.menu(),e.router.navigateByUrl("transactions"),window.parent.focus()})})),e.myEventsService.setOrderData(r.data))},1e3))}),this.myOrdersRef.on("child_changed",function(i){var r=i.val();console.log("order_changed",r),r.data!=null&&e.myEventsService.setOrderData(r.data)}))}unRegisterOrderUpdates(){this.myOrdersRef!=null&&(this.myOrdersRef.off(),this.myOrdersRef=null)}registerTableBookingUpdates(){let e=this;this.myTableBookingsRef||(this.myTableBookingsRef=nb.default.database().ref("vendors").child(String(this.profileMe.id)).child("appointments"),this.myTableBookingsRef.on("child_added",function(i){var r=i.val();console.log("tbooking_added",r),r.data!=null&&(e.timeoutId2&&clearTimeout(e.timeoutId2),e.timeoutId2=setTimeout(()=>{let o=window.localStorage.getItem(et.KEY_LAST_TABLE_BOOKING_NOTIFIED);Number(o)!=r.data.id&&(window.localStorage.setItem(et.KEY_LAST_TABLE_BOOKING_NOTIFIED,`${r.data.id}`),e.translate.get(["new_booking","booking_id"]).subscribe(s=>e.nps.generateNotification([{title:s.new_booking,alertContent:`${s.booking_id}${r.data.id}`}],function(a){e.ngZone.run(()=>{e.menuActive="booking",(!e.menuActive||e.showHeader)&&e.menu(),e.router.navigateByUrl("booking"),window.parent.focus()})})),e.myEventsService.setTableBookingData(r.data))},1e3))}),this.myTableBookingsRef.on("child_changed",function(i){var r=i.val();console.log("tbooking_changed",r),r.data!=null&&e.myEventsService.setTableBookingData(r.data)}))}unRegisterTableBookingUpdates(){this.myTableBookingsRef!=null&&(this.myTableBookingsRef.off(),this.myTableBookingsRef=null)}registerInboxUpdates(){let e=this;this.myInboxRef||(this.myInboxRef=nb.default.database().ref(et.REF_INBOX).child(`${this.profileMe.user_id}${et.ROLE_VENDOR}`),this.myInboxRef.on("child_added",function(i){var r=i.val();console.log("inbox_added",r),r!=null&&r.senderId!=`${e.profileMe.user_id}${et.ROLE_VENDOR}`&&(e.timeoutId3&&clearTimeout(e.timeoutId3),e.timeoutId3=setTimeout(()=>{if(window.localStorage.getItem(et.KEY_LAST_MESSAGE_NOTIFIED)!=r.id){window.localStorage.setItem(et.KEY_LAST_MESSAGE_NOTIFIED,r.id);let s=Nd.fromMessage(r,`${e.profileMe.user_id}${et.ROLE_VENDOR}`==r.senderId);e.translate.get(["new_msg","new_msg_msg"]).subscribe(a=>e.nps.generateNotification([{title:a.new_msg,alertContent:a.new_msg_msg}],function(l){e.ngZone.run(()=>{e.menuActive="transactions",(!e.menuActive||e.showHeader)&&e.menu();let u={state:{chat:s}};e.router.navigate(["./transactions"],u),window.parent.focus()})})),e.myEventsService.setChatData(s)}},1e3))}),this.myInboxRef.on("child_changed",function(i){var r=i.val();if(console.log("inbox_changed",r),r!=null&&r.senderId!=`${e.profileMe.user_id}${et.ROLE_VENDOR}`){let o=window.localStorage.getItem(et.KEY_LAST_MESSAGE_NOTIFIED);if(console.log("check",o!=r.id),o!=r.id){window.localStorage.setItem(et.KEY_LAST_MESSAGE_NOTIFIED,r.id);let s=Nd.fromMessage(r,`${e.profileMe.user_id}${et.ROLE_VENDOR}`==r.senderId);e.translate.get(["new_msg","new_msg_msg"]).subscribe(a=>e.nps.generateNotification([{title:a.new_msg,alertContent:a.new_msg_msg}],function(l){e.ngZone.run(()=>{e.menuActive="transactions",(!e.menuActive||e.showHeader)&&e.menu();let u={state:{chat:s}};e.router.navigate(["./transactions"],u),window.parent.focus()})})),e.myEventsService.setChatData(s)}}}))}unRegisterInboxUpdates(){this.myInboxRef!=null&&(this.myInboxRef.off(),this.myInboxRef=null)}menu(){$("#header").toggleClass("active"),this.showHeader=!this.showHeader}dashboard1(e){this.router.navigateByUrl("dashboard"),this.menuActive=e}dashboard(e){this.menuActive=e,(!this.menuActive||this.showHeader)&&this.menu(),this.router.navigateByUrl("dashboard")}home(e){this.menuActive=e,(!this.menuActive||this.showHeader)&&this.menu(),this.router.navigateByUrl("home")}transactions(e){this.menuActive=e,(!this.menuActive||this.showHeader)&&this.menu(),this.router.navigateByUrl("transactions")}booking(e){this.menuActive=e,(!this.menuActive||this.showHeader)&&this.menu(),this.router.navigateByUrl("booking")}orders_status(e){this.menuActive=e,(!this.menuActive||this.showHeader)&&this.menu(),this.router.navigateByUrl("orders_status")}people(e){this.menuActive=e,(!this.menuActive||this.showHeader)&&this.menu(),this.router.navigateByUrl("people")}wallet(e){this.menuActive=e,this.menu(),this.router.navigateByUrl("wallet")}items(e){this.menuActive=e,this.menu(),this.router.navigateByUrl("items")}reviews(e){this.menuActive=e,this.menu(),this.router.navigateByUrl("reviews")}authentication(e){this.menuActive=e,this.menu(),this.router.navigateByUrl("authentication")}setting(e){this.menuActive=e,this.menu(),this.router.navigateByUrl("setting")}support(e){this.menuActive=e,this.menu(),this.router.navigateByUrl("support")}terms_conditions(e){this.menuActive=e,this.menu(),this.router.navigateByUrl("terms_conditions")}login(){this.menu(),this.translate.get(["logout_title","logout_message","no","yes"]).subscribe(e=>{this.confirmationDialogService.confirm(e.logout_title,e.logout_message,e.yes,e.no).then(i=>{i&&(this.doLogout(),this.myEventsService.setLoginData(null))}).catch(()=>{console.log("err")})})}change_language(e){this.menuActive=e,this.menu(),this.router.navigateByUrl("change_language")}doLogout(){try{window.FirebasePlugin.signOutUser(function(){console.log("User signed out")},function(e){console.error("Failed to sign out user: "+e)})}catch(e){console.log("fireSignout",e)}try{nb.default.auth().signOut().then(function(){console.log("Signed Out")},function(e){console.error("Sign Out Error",e)})}catch(e){console.log("fireSignout",e)}He.setLoggedInUserResponse(null)}darkModeSetting(){document.body.setAttribute("class",He.getThemeMode()==et.THEME_MODE_DARK?"dark-theme":"light-theme")}static{this.\u0275fac=function(i){return new(i||n)(ae(Xr),ae(Un),ae(Pt),ae(qn),ae(vs),ae(ui),ae(wM),ae(ni),ae(Ca),ae(tae))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-root"]],decls:8,vars:5,consts:[[3,"dir"],[4,"ngIf"],["class","header_spacebar",4,"ngIf"],["class","sideMenu",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","default","color","var(--primary) ","type","ball-scale-multiple"],[2,"color","var(--primary)"],[1,"navbar","navbar-expand-lg","px-0","w-100"],[1,"w-100","d-block","px-2","px-lg-2"],[1,"row","g-0","align-items-center"],[1,"col-6"],[1,"nav-item","ml-xl-0","m-0"],[1,"navbar-brand","nav-link","px-0","m-0","logo",3,"click"],["src","assets/images/logo2.png",1,"light-theme"],["src","assets/images/logo_wt2.png",1,"dark-theme"],[1,"col-6","d-flex"],["class","img_box center_img end",4,"ngIf"],[1,"img_box","center_img","end"],[1,"crop_img",3,"src"],["src","assets/images/plc_seller_profile.png",1,"crop_img"],[1,"header_spacebar"],[1,"sideMenu"],[1,"align-items-center"],[1,"nav-item","animate__animated","animate__fadeInUp",3,"click","ngClass"],[1,"icon_box"],["src","assets/images/icons/ic_dashboard.svg"],["src","assets/images/icons/ic_dashboard_active.svg"],[1,"nav-link"],["src","assets/images/icons/ic_pos.svg"],["src","assets/images/icons/ic_pos_active.svg"],["src","assets/images/icons/ic_orders.svg"],["src","assets/images/icons/ic_orders_active.svg"],["src","assets/images/icons/ic_bookings.svg"],["src","assets/images/icons/ic_bookings_active.svg"],["src","assets/images/icons/ic_order_status.svg"],["src","assets/images/icons/ic_order_status_active.svg"],["src","assets/images/icons/ic_customer.svg"],["src","assets/images/icons/ic_customer_active.svg"],["src","assets/images/icons/ic_wallet.svg"],["src","assets/images/icons/ic_wallet_active.svg"],["src","assets/images/icons/ic_food_items.svg"],["src","assets/images/icons/ic_food_items_active.svg"],["src","assets/images/icons/ic_rating.svg"],["src","assets/images/icons/ic_rating_active.svg"],["src","assets/images/icons/ic_authentication.svg"],["src","assets/images/icons/ic_authentication_active.svg"],["src","assets/images/icons/ic_settings.svg"],["src","assets/images/icons/ic_settings_active.svg"],["src","assets/images/icons/ic_support.svg"],["src","assets/images/icons/ic_support_active.svg"],["src","assets/images/icons/ic_terms_conditon.svg"],["src","assets/images/icons/ic_terms_conditon_active.svg"],[1,"nav-item","animate__animated","animate__fadeInUp",3,"click"],["src","assets/images/icons/ic_logout.svg"],["src","assets/images/icons/ic_logout_active.svg"]],template:function(i,r){i&1&&(I(0,"html",0),he(1,T5e,12,2,"header",1)(2,D5e,1,0,"div",2)(3,M5e,100,55,"div",3),se(4,"router-outlet"),I(5,"ngx-spinner",4)(6,"p",5),H(7),M()()()),i&2&&(W("dir",r.rtlSide),x(),W("ngIf",r.profileMe),x(),W("ngIf",r.profileMe),x(),W("ngIf",r.profileMe),x(4),le(" ",r.uiElementService.loadingText," "))},dependencies:[Fr,En,KL,tY,Gn],styles:['header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;box-shadow:0 -5px 21px 2px #0000001a;z-index:99995}header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{background:var(--bg-white);min-height:65px}header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{min-width:fit-content;width:fit-content;cursor:pointer}header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px}header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]{width:45px;height:45px;min-width:45px;border-radius:5px}.header_spacebar[_ngcontent-%COMP%]{display:block;min-height:65px}.sideMenu[_ngcontent-%COMP%]{position:fixed;top:65px;left:0;min-height:100vh;overflow:hidden;background:var(--bg-white);width:fit-content;min-width:90px;overflow-y:auto;max-width:90px;box-shadow:0 22px 19px 2px #0000001a;z-index:999}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:15px;max-height:calc(100vh - 65px);overflow:hidden;overflow-y:auto}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;padding:12px 10px;border-radius:8px;position:relative;overflow:hidden;margin-bottom:5px}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--primary);opacity:0;transition:all .4s}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon_box[_ngcontent-%COMP%]{min-width:30px;position:relative;z-index:99}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:20px;transition:all .4s;margin:0 auto}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-of-type(2n){display:none}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--text-dark);font-weight:600;font-size:.84rem;position:relative;z-index:99;display:none}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before, .sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:before{opacity:.15}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .icon_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-of-type(odd), .sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .icon_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-of-type(odd){display:none}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .icon_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-of-type(2n), .sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .icon_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-of-type(2n){display:block}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-color)}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--text-light);transition:all .5s}.sideMenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-light2)}']})}}return n})();var Qg=Ri(Cae()),pl=Ri(xae());var uP=(()=>{class n{constructor(e){this.apiService=e,this.connected=!1,this.setupQzCertificateAndSignature()}printData(e,i){return hi(new Promise((r,o)=>{this.connected?this.doPrint(e,i).then(s=>r(s),s=>o(s)):pl.websocket.connect().then(s=>{this.connected=!0,this.doPrint(e,i).then(a=>r(a),a=>o(a))},s=>{console.log("websocket: ",s),this.doPrint(e,i).then(a=>r(a),a=>o(a))})})).pipe(kt(r=>r))}getPrinters(){return hi(new Promise((e,i)=>{this.connected?pl.printers.find().then(r=>e(r),r=>i(r)):pl.websocket.connect().then(r=>{this.connected=!0,pl.printers.find().then(o=>e(o),o=>i(o))},r=>{console.log("websocket: ",r),pl.printers.find().then(o=>e(o),o=>i(o))})})).pipe(kt(e=>e))}doPrint(e,i){let r=pl.configs.create(e);return(e.name&&e.name.length||e.host&&e.host.length&&e.port&&e.port.length)&&(r.setPrinter(e.name&&e.name.length?e.name:{host:e.host,port:e.host}),console.log("qzConfig.setPrinter: ",e.name&&e.name.length?e.name:{host:e.host,port:e.host})),pl.print(r,i)}setupQzCertificateAndSignature(){let e=this;pl.security.setCertificatePromise(function(i,r){e.apiService.getSigningCertificate().subscribe(o=>i(o),o=>r(o))}),pl.security.setSignatureAlgorithm("SHA512"),pl.security.setSignaturePromise(function(i){return function(r,o){e.apiService.getSigningSignature().subscribe(s=>{try{var a=Qg.KEYUTIL.getKey(s),l=new Qg.KJUR.crypto.Signature({alg:"SHA512withRSA"});l.init(a),l.updateString(i);var u=l.sign();r(Qg.stob64(Qg.hextorstr(u)))}catch(d){console.error(d),o(d)}},s=>{o(s)})}})}static{this.\u0275fac=function(i){return new(i||n)(Te(ni))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function SVe(n,t,e,i){let r=window&&!!window.document&&window.document.documentElement,o=r&&t?window:e;if(n&&(o=n&&r&&typeof n=="string"?xVe(n,e.nativeElement,i):n,!o))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return o}function xVe(n,t,e){return(e?window.document:t).querySelector(n)}function nQ(n){return n&&!n.firstChange}function IVe(){return typeof window<"u"}var TVe={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},DVe={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},iQ=class{constructor(t=!0){this.vertical=t,this.propsMap=t?TVe:DVe}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}};function MVe(n,t,e){return!!(n&&t||!e&&t)}function OVe({windowElement:n,axis:t}){return FVe({axis:t,isWindow:BVe(n)},n)}function FVe(n,t){let e=n.isWindow||t&&!t.nativeElement?t:t.nativeElement;return vt(Ee({},n),{container:e})}function BVe(n){return["Window","global"].some(e=>Object.prototype.toString.call(n).includes(e))}function sQ(n,t){return n?t.document.documentElement:null}function Tae(n,t){let e=NVe(t);return t.isWindow?PVe(e,n,t):kVe(e,n,t)}function PVe(n,t,e){let{axis:i,container:r,isWindow:o}=e,{offsetHeightKey:s,clientHeightKey:a}=Dae(i),l=n+Oae(sQ(o,r),i,o),u=Mae(t.nativeElement,o,s,a),d=RVe(t.nativeElement,i,o)+u;return{height:n,scrolled:l,totalToScroll:d,isWindow:o}}function kVe(n,t,e){let{axis:i,container:r}=e,o=r[i.scrollTopKey()],s=r[i.scrollHeightKey()];return{height:n,scrolled:o,totalToScroll:s,isWindow:!1}}function Dae(n){return{offsetHeightKey:n.offsetHeightKey(),clientHeightKey:n.clientHeightKey()}}function NVe({container:n,isWindow:t,axis:e}){let{offsetHeightKey:i,clientHeightKey:r}=Dae(e);return Mae(n,t,i,r)}function Mae(n,t,e,i){if(isNaN(n[e])){let r=sQ(t,n);return r?r[i]:0}else return n[e]}function RVe(n,t,e){let i=t.topKey();if(n.getBoundingClientRect)return n.getBoundingClientRect()[i]+Oae(n,t,e)}function Oae(n,t,e){let i=t.pageYOffsetKey(),r=t.scrollTopKey(),o=t.offsetTopKey();return isNaN(window.pageYOffset)?sQ(e,n)[r]:n.ownerDocument?n.ownerDocument.defaultView[i]:n[o]}function LVe(n,t={down:0,up:0},e){let i,r;if(n.totalToScroll<=0)return!1;let o=n.isWindow?n.scrolled:n.height+n.scrolled;if(e)i=(n.totalToScroll-o)/n.totalToScroll,r=(t?.down?t.down:0)/10;else{let a=n.scrolled+(n.totalToScroll-o);i=n.scrolled/a,r=(t?.up?t.up:0)/10}return i<=r}function UVe(n,t){return n<t.scrolled}function HVe(n,t,e){let i=UVe(n,t);return{fire:LVe(t,e,i),scrollDown:i}}var rQ=class{constructor(t){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},Object.assign(this,t)}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,e){this.updateScrollPosition(t),this.updateTotalToScroll(e)}updateTriggeredFlag(t,e){e?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,e){return e?this.triggered.down===t:this.triggered.up===t}};function VVe(n){let{scrollContainer:t,scrollWindow:e,element:i,fromRoot:r}=n,o=OVe({axis:new iQ(!n.horizontal),windowElement:SVe(t,e,i,r)}),s=new rQ({totalToScroll:Tae(i,o).totalToScroll}),a={container:o.container,throttle:n.throttle},l={up:n.upDistance,down:n.downDistance};return QVe(a).pipe(vr(()=>_t(Tae(i,o))),kt(u=>jVe(s.lastScrollPosition,u,l)),Vt(({stats:u})=>s.updateScroll(u.scrolled,u.totalToScroll)),Di(({fire:u,scrollDown:d,stats:{totalToScroll:h}})=>MVe(n.alwaysCallback,u,s.isTriggeredScroll(h,d))),Vt(({scrollDown:u,stats:{totalToScroll:d}})=>{s.updateTriggeredFlag(d,u)}),kt(GVe))}function QVe(n){let t=Ur(n.container,"scroll");return n.throttle&&(t=t.pipe(fR(n.throttle,void 0,{leading:!0,trailing:!0}))),t}function jVe(n,t,e){let{scrollDown:i,fire:r}=HVe(n,t,e);return{scrollDown:i,fire:r,stats:t}}var oQ={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function GVe(n){let{scrollDown:t,stats:{scrolled:e}}=n;return{type:t?oQ.DOWN:oQ.UP,payload:{currentScrollPosition:e}}}var dP=(()=>{class n{constructor(e,i){this.element=e,this.zone=i,this.scrolled=new at,this.scrolledUp=new at,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:e,infiniteScrollDisabled:i,infiniteScrollDistance:r}){let o=nQ(e),s=nQ(i),a=nQ(r),l=!s&&!this.infiniteScrollDisabled||s&&!i.currentValue||a;(o||s||a)&&(this.destroyScroller(),l&&this.setup())}ngOnDestroy(){this.destroyScroller()}setup(){IVe()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=VVe({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(e=>this.handleOnScroll(e))})}handleOnScroll({type:e,payload:i}){let r=e===oQ.DOWN?this.scrolled:this.scrolledUp;WVe(r)&&this.zone.run(()=>r.emit(i))}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(ae(Kt),ae(Pt))}}static{this.\u0275dir=Mt({type:n,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},standalone:!0,features:[ei]})}}return n})();function WVe(n){return n.observed??n.observers.length>0}var Fae=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var KVe=["contentRef"],zVe=["*"],aQ=(()=>{class n{get dragDisabled(){return this._dragDisabled}set dragDisabled(e){this._dragDisabled=e}constructor(e){this.display="inline-block",this._dragDisabled=!1,this._elementRef=e}static{this.\u0275fac=function(i){return new(i||n)(ae(Kt))}}static{this.\u0275dir=Mt({type:n,selectors:[["","drag-scroll-item",""]],hostVars:2,hostBindings:function(i,r){i&2&&Vr("display",r.display)},inputs:{dragDisabled:[0,"drag-disabled","dragDisabled"]},standalone:!0})}}return n})(),hP=(()=>{class n{get isDragging(){return this._isDragging}get currIndex(){return this._index}set currIndex(e){e!==this._index&&(this._index=e,this.indexChanged.emit(e))}get scrollbarHidden(){return this._scrollbarHidden}set scrollbarHidden(e){this._scrollbarHidden=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get xDisabled(){return this._xDisabled}set xDisabled(e){this._xDisabled=e}get yDisabled(){return this._yDisabled}set yDisabled(e){this._yDisabled=e}get xWheelEnabled(){return this._xWheelEnabled}set xWheelEnabled(e){this._xWheelEnabled=e}get dragDisabled(){return this._dragDisabled}set dragDisabled(e){this._dragDisabled=e}get snapDisabled(){return this._snapDisabled}set snapDisabled(e){this._snapDisabled=e}get snapOffset(){return this._snapOffset}set snapOffset(e){this._snapOffset=e}get snapDuration(){return this._snapDuration}set snapDuration(e){this._snapDuration=e}constructor(e,i,r){this._elementRef=e,this._renderer=i,this._document=r,this._index=0,this._scrollbarHidden=!1,this._disabled=!1,this._xDisabled=!1,this._xWheelEnabled=!1,this._yDisabled=!1,this._dragDisabled=!1,this._snapDisabled=!1,this._snapOffset=0,this._snapDuration=500,this._isDragging=!1,this.isPressed=!1,this.isScrolling=!1,this.scrollTimer=-1,this.scrollToTimer=-1,this.downX=0,this.downY=0,this.displayType="block",this.elWidth=null,this.elHeight=null,this._pointerEvents="auto",this.scrollbarWidth=null,this.isAnimating=!1,this.prevChildrenLength=0,this.indexBound=0,this.rtl=!1,this.dsInitialized=new at,this.indexChanged=new at,this.reachesLeftBound=new at,this.reachesRightBound=new at,this.snapAnimationFinished=new at,this.dragStart=new at,this.dragEnd=new at,this.scrollbarWidth=`${this.getScrollbarWidth()}px`}ngOnChanges(){this.setScrollBar(),this.xDisabled||this.disabled||this._scrollbarHidden?this.disableScroll("x"):this.enableScroll("x"),this.yDisabled||this.disabled?this.disableScroll("y"):this.enableScroll("y")}ngAfterViewInit(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","true"),this.displayType=typeof window<"u"?window.getComputedStyle(this._elementRef.nativeElement).display:"block",this._renderer.setStyle(this._contentRef.nativeElement,"display",this.displayType),this._renderer.setStyle(this._contentRef.nativeElement,"whiteSpace","noWrap"),this.markElDimension(),this._renderer.setStyle(this._contentRef.nativeElement,"width",this.elWidth),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.elHeight),this.wrapper&&this.checkScrollbar(),this._onMouseDownListener=this._renderer.listen(this._contentRef.nativeElement,"mousedown",this.onMouseDownHandler.bind(this)),this._onScrollListener=this._renderer.listen(this._contentRef.nativeElement,"scroll",this.onScrollHandler.bind(this)),this._onDragStartListener=this._renderer.listen(this._contentRef.nativeElement,"dragstart",e=>{e.preventDefault()}),this.checkNavStatus(),this.dsInitialized.emit(),this.adjustMarginToLastChild(),this.rtl=getComputedStyle(this._contentRef.nativeElement).getPropertyValue("direction")==="rtl"}ngAfterViewChecked(){this._children.length!==this.prevChildrenLength&&(this.markElDimension(),this.checkScrollbar(),this.prevChildrenLength=this._children.length,this.checkNavStatus())}ngOnDestroy(){this._renderer.setAttribute(this._contentRef.nativeElement,"drag-scroll","false"),this._onMouseDownListener&&(this._onMouseDownListener=this._onMouseDownListener()),this._onScrollListener&&(this._onScrollListener=this._onScrollListener()),this._onDragStartListener&&(this._onDragStartListener=this._onDragStartListener())}onMouseMoveHandler(e){this.onMouseMove(e)}onMouseMove(e){if(!(e.clientX===this.downX&&e.clientY===this.downY)&&this.isPressed&&!this.disabled){if(!e.buttons&&!e.which)return this.onMouseUpHandler(e);if(this._pointerEvents="none",this._setIsDragging(!0),!this.xDisabled&&!this.dragDisabled){let i=e.clientX;this._contentRef.nativeElement.scrollLeft=this._contentRef.nativeElement.scrollLeft-i+this.downX,this.downX=i}if(!this.yDisabled&&!this.dragDisabled){let i=e.clientY;this._contentRef.nativeElement.scrollTop=this._contentRef.nativeElement.scrollTop-i+this.downY,this.downY=i}}}onMouseDownHandler(e){let i=this.locateDragScrollItem(e.target);if(i&&i.dragDisabled)return;let r=e.type==="touchstart";this._startGlobalListening(r),this.isPressed=!0;let o=e;this.downX=o.clientX,this.downY=o.clientY,clearTimeout(this.scrollToTimer)}onScrollHandler(){this.checkNavStatus(),!this.isPressed&&!this.isAnimating&&!this.snapDisabled?(this.isScrolling=!0,clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>{this.isScrolling=!1,this.locateCurrentIndex(!0)},500)):this.locateCurrentIndex()}onMouseUpHandler(e){this.isPressed&&(this.isPressed=!1,this._pointerEvents="auto",this._setIsDragging(!1),this.snapDisabled?this.locateCurrentIndex():this.locateCurrentIndex(!0),this._stopGlobalListening())}moveLeft(){(this.currIndex!==0||this.snapDisabled)&&(this.currIndex--,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveRight(){let e=this.wrapper||this.parentNode,i=e?e.clientWidth:0;!this.isScrollReachesRightEnd()&&this.currIndex<this.maximumIndex(i,this._children.toArray())&&(this.currIndex++,clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}moveTo(e){let i=this.wrapper||this.parentNode,r=i?i.clientWidth:0;e>=0&&e!==this.currIndex&&this.currIndex<=this.maximumIndex(r,this._children.toArray())&&(this.currIndex=Math.min(e,this.maximumIndex(r,this._children.toArray())),clearTimeout(this.scrollToTimer),this.scrollTo(this._contentRef.nativeElement,this.toChildrenLocation(),this.snapDuration))}checkNavStatus(){setTimeout(()=>{let e=this._children.length<=1,i=this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth;e||i?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!0)):this.isScrollReachesRightEnd()?(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!0)):this._contentRef.nativeElement.scrollLeft===0&&this._contentRef.nativeElement.scrollWidth>this._contentRef.nativeElement.clientWidth?(this.reachesLeftBound.emit(!0),this.reachesRightBound.emit(!1)):(this.reachesLeftBound.emit(!1),this.reachesRightBound.emit(!1))},0)}onWheel(e){this._xWheelEnabled&&(e.preventDefault(),this._snapDisabled?this._contentRef.nativeElement.scrollBy(e.deltaY,0):e.deltaY<0?this.moveLeft():e.deltaY>0&&this.moveRight())}onWindowResize(){this.refreshWrapperDimensions(),this.checkNavStatus()}_setIsDragging(e){this._isDragging!==e&&(this._isDragging=e,e?this.dragStart.emit():this.dragEnd.emit())}_startGlobalListening(e){if(!this._onMouseMoveListener){let i=e?"touchmove":"mousemove";this._onMouseMoveListener=this._renderer.listen("document",i,this.onMouseMoveHandler.bind(this))}if(!this._onMouseUpListener){let i=e?"touchend":"mouseup";this._onMouseUpListener=this._renderer.listen("document",i,this.onMouseUpHandler.bind(this))}}_stopGlobalListening(){this._onMouseMoveListener&&(this._onMouseMoveListener=this._onMouseMoveListener()),this._onMouseUpListener&&(this._onMouseUpListener=this._onMouseUpListener())}disableScroll(e){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${e}`,"hidden")}enableScroll(e){this._renderer.setStyle(this._contentRef.nativeElement,`overflow-${e}`,"auto")}hideScrollbar(){this._contentRef.nativeElement.style.display!=="none"&&!this.wrapper&&(this.parentNode=this._contentRef.nativeElement.parentNode,this.wrapper=this._renderer.createElement("div"),this._renderer.setAttribute(this.wrapper,"class","drag-scroll-wrapper"),this._renderer.addClass(this.wrapper,"drag-scroll-container"),this.refreshWrapperDimensions(),this._renderer.setStyle(this.wrapper,"overflow","hidden"),this._renderer.setStyle(this._contentRef.nativeElement,"width",`calc(100% + ${this.scrollbarWidth})`),this._renderer.setStyle(this._contentRef.nativeElement,"height",`calc(100% + ${this.scrollbarWidth})`),this._renderer.appendChild(this._elementRef.nativeElement,this.wrapper),this._renderer.appendChild(this.wrapper,this._contentRef.nativeElement),this.adjustMarginToLastChild())}showScrollbar(){this.wrapper&&(this._renderer.setStyle(this._contentRef.nativeElement,"width","100%"),this._renderer.setStyle(this._contentRef.nativeElement,"height",this.wrapper.style.height),this.parentNode!==null&&(this.parentNode.removeChild(this.wrapper),this.parentNode.appendChild(this._contentRef.nativeElement)),this.wrapper=null,this.adjustMarginToLastChild())}checkScrollbar(){this._contentRef.nativeElement.scrollWidth<=this._contentRef.nativeElement.clientWidth?this._renderer.setStyle(this._contentRef.nativeElement,"height","100%"):this._renderer.setStyle(this._contentRef.nativeElement,"height",`calc(100% + ${this.scrollbarWidth})`),this._contentRef.nativeElement.scrollHeight<=this._contentRef.nativeElement.clientHeight?this._renderer.setStyle(this._contentRef.nativeElement,"width","100%"):this._renderer.setStyle(this._contentRef.nativeElement,"width",`calc(100% + ${this.scrollbarWidth})`)}setScrollBar(){this.scrollbarHidden?this.hideScrollbar():this.showScrollbar()}getScrollbarWidth(){let e=this._renderer.createElement("div");this._renderer.setStyle(e,"visibility","hidden"),this._renderer.setStyle(e,"width","100px"),this._renderer.setStyle(e,"msOverflowStyle","scrollbar"),this._renderer.appendChild(this._document.body,e);let i=e.offsetWidth;this._renderer.setStyle(e,"overflow","scroll");let r=this._renderer.createElement("div");this._renderer.setStyle(r,"width","100%"),this._renderer.appendChild(e,r);let o=r.offsetWidth;return this._renderer.removeChild(this._document.body,e),i-o||20}refreshWrapperDimensions(){this.wrapper&&(this._renderer.setStyle(this.wrapper,"width","100%"),this._elementRef.nativeElement.style.height>0||this._elementRef.nativeElement.offsetHeight>0?this._renderer.setStyle(this.wrapper,"height",this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px"):this._renderer.setStyle(this.wrapper,"height","100%"))}scrollTo(e,i,r){let o=this;o.isAnimating=!0;let s=this.rtl?-1:1,a=e.scrollLeft,l=s*i-a-this.snapOffset,u=20,d=0,h=function(A,g,m,b){return A/=b/2,A<1?m/2*A*A+g:(A--,-m/2*(A*(A-2)-1)+g)},f=function(){d+=u,e.scrollLeft=h(d,a,l,r),d<r?o.scrollToTimer=setTimeout(f,u):setTimeout(()=>{o.isAnimating=!1,o.snapAnimationFinished.emit(o.currIndex)},u)};f()}locateCurrentIndex(e){let i=Math.abs(this._contentRef.nativeElement.scrollLeft);this.currentChildWidth((r,o,s,a,l)=>{i>=s&&i<=o?(o-i>r/2&&!this.isScrollReachesRightEnd()?(this.isAnimating||(this.currIndex=a),e&&this.scrollTo(this._contentRef.nativeElement,s,this.snapDuration)):i!==0&&(this.isAnimating||(this.currIndex=a+1),e&&this.scrollTo(this._contentRef.nativeElement,s+r,this.snapDuration)),l()):a+1===this._children.length-1&&(this.isAnimating||(this.currIndex=a+1),l())})}currentChildWidth(e){let i=0,r=!1,o=function(){r=!0},s=this._children.toArray();for(let a=0;a<s.length&&!(a===s.length-1||r);a++){let l=i+s[a+1]._elementRef.nativeElement.clientWidth,u=s[a]._elementRef.nativeElement.clientWidth;e(u,l,i,a,o),i+=u}}toChildrenLocation(){let e=0,i=this._children.toArray();for(let r=0;r<this.currIndex;r++)e+=i[r]._elementRef.nativeElement.clientWidth;return e}locateDragScrollItem(e){let i=null,r=this._children.toArray();for(let o=0;o<r.length;o++)e===r[o]._elementRef.nativeElement&&(i=r[o]);return i}markElDimension(){this.wrapper?(this.elWidth=this.wrapper.style.width,this.elHeight=this.wrapper.style.height):(this.elWidth=this._elementRef.nativeElement.style.width||this._elementRef.nativeElement.offsetWidth+"px",this.elHeight=this._elementRef.nativeElement.style.height||this._elementRef.nativeElement.offsetHeight+"px");let e=this.wrapper||this.parentNode,i=e?e.clientWidth:0;this._children.length>1&&(this.indexBound=this.maximumIndex(i,this._children.toArray()))}maximumIndex(e,i){let r=0,o=0;for(let s=0;s<=i.length;s++){let a=i[i.length-1-s];if(a){let l=a._elementRef.nativeElement,u=l.clientWidth;if(u===0&&l.firstElementChild&&(u=a._elementRef.nativeElement.firstElementChild.clientWidth),o+=u,o<e)r++;else break}else break}return i.length-r}isScrollReachesRightEnd(){return Math.abs(this._contentRef.nativeElement.scrollLeft)+this._contentRef.nativeElement.offsetWidth>=this._contentRef.nativeElement.scrollWidth}adjustMarginToLastChild(){if(this._children&&this._children.length>0&&this.hideScrollbar){let e=this._children.toArray(),i=e[e.length-1]._elementRef.nativeElement;this.wrapper&&e.length>1?this._renderer.setStyle(i,"margin-right",this.scrollbarWidth):this._renderer.setStyle(i,"margin-right",0)}}static{this.\u0275fac=function(i){return new(i||n)(ae(Kt),ae(Ko),ae(rn))}}static{this.\u0275cmp=wt({type:n,selectors:[["drag-scroll"]],contentQueries:function(i,r,o){if(i&1&&$o(o,aQ,5),i&2){let s;ln(s=cn())&&(r._children=s)}},viewQuery:function(i,r){if(i&1&&Mi(KVe,7),i&2){let o;ln(o=cn())&&(r._contentRef=o.first)}},hostVars:2,hostBindings:function(i,r){i&1&&ve("wheel",function(s){return r.onWheel(s)})("resize",function(){return r.onWindowResize()},!1,O2),i&2&&Vr("pointer-events",r._pointerEvents)},inputs:{scrollbarHidden:[0,"scrollbar-hidden","scrollbarHidden"],disabled:[0,"drag-scroll-disabled","disabled"],xDisabled:[0,"drag-scroll-x-disabled","xDisabled"],yDisabled:[0,"drag-scroll-y-disabled","yDisabled"],xWheelEnabled:[0,"scroll-x-wheel-enabled","xWheelEnabled"],dragDisabled:[0,"drag-disabled","dragDisabled"],snapDisabled:[0,"snap-disabled","snapDisabled"],snapOffset:[0,"snap-offset","snapOffset"],snapDuration:[0,"snap-duration","snapDuration"]},outputs:{dsInitialized:"dsInitialized",indexChanged:"indexChanged",reachesLeftBound:"reachesLeftBound",reachesRightBound:"reachesRightBound",snapAnimationFinished:"snapAnimationFinished",dragStart:"dragStart",dragEnd:"dragEnd"},standalone:!0,features:[ei,zs],ngContentSelectors:zVe,decls:3,vars:0,consts:[["contentRef",""],[1,"drag-scroll-content"]],template:function(i,r){i&1&&(Ac(),I(0,"div",1,0),gc(2),M())},styles:["[_nghost-%COMP%]{overflow:hidden;display:block}.drag-scroll-content[_ngcontent-%COMP%]{height:100%;overflow:auto;white-space:nowrap}"],changeDetection:0})}}return n})();function $Ve(n,t){n&1&&(I(0,"div",87)(1,"div",88),se(2,"img",89),I(3,"span",90),H(4),K(5,"translate"),M()()()),n&2&&(x(4),le(" ",z(5,1,"empty_cart")," "))}function YVe(n,t){n&1&&(I(0,"div",91)(1,"div",92)(2,"div",93)(3,"h2"),H(4),K(5,"translate"),M()(),I(6,"div",94)(7,"h2"),H(8),K(9,"translate"),M()(),I(10,"div",95)(11,"h2"),H(12),K(13,"translate"),M()(),I(14,"div",96)(15,"h2"),H(16),K(17,"translate"),M()()()()),n&2&&(x(4),de(z(5,4,"item")),x(4),de(z(9,6,"price")),x(4),de(z(13,8,"items_s")),x(4),le("",z(17,10,"total"),"($)"))}function ZVe(n,t){if(n&1&&(I(0,"h3",103),H(1),M()),n&2){let e=t.$implicit;x(),de(e.title)}}function XVe(n,t){if(n&1&&(I(0,"h4",104),H(1),M()),n&2){let e=t.$implicit;x(),de(e.priceToShow)}}function JVe(n,t){if(n&1){let e=We();I(0,"li")(1,"div",97)(2,"div",93)(3,"h2"),H(4),M(),he(5,ZVe,2,1,"h3",98),M(),I(6,"div",94)(7,"h3"),H(8),M(),he(9,XVe,2,1,"h4",99),M(),I(10,"div",95)(11,"h3",100)(12,"i",101),ve("click",function(){let r=we(e).$implicit,o=te();return be(o.decrementCartItem(r))}),M(),I(13,"strong"),H(14),M(),I(15,"i",102),ve("click",function(){let r=we(e).$implicit,o=te();return be(o.addOrIncrementCartItem(r))}),M()()(),I(16,"div",96)(17,"h4"),H(18),M()()()()}if(n&2){let e=t.$implicit,i=te();x(4),de(e.title),x(),W("ngForOf",e.addOns),x(3),pn("",i.currency_icon,"",e.price,""),x(),W("ngForOf",e.addOns),x(5),de(e.quantity),x(4),pn("",i.currency_icon,"",e.getTotal(!0),"")}}function e8e(n,t){if(n&1&&(I(0,"h2",107)(1,"span",108),H(2),K(3,"translate"),M(),I(4,"span",109),H(5),M()()),n&2){let e=t.$implicit,i=te(2);x(2),le("",z(3,3,e.id)," "),x(3),pn("",i.currency_icon,"",i.eComService.calculateExtraChargePiceToShow(e,!0),"")}}function t8e(n,t){if(n&1&&(I(0,"div",105),he(1,e8e,6,5,"h2",106),M()),n&2){let e=te();x(),W("ngForOf",e.eComService.getExtraCharges())}}function n8e(n,t){if(n&1&&(I(0,"div",110)(1,"h2",107)(2,"span",108),H(3),K(4,"translate"),M(),I(5,"span",109),H(6),M()()()),n&2){let e=te();x(3),de(z(4,3,"amount_to_Pay")),x(3),pn("",e.currency_icon,"",e.eComService.getCartTotal(!0),"")}}function i8e(n,t){if(n&1){let e=We();I(0,"button",36),ve("click",function(){we(e);let r=te();return be(r.orderPlace())}),I(1,"a"),H(2),K(3,"translate"),M()()}n&2&&(x(2),de(z(3,1,"place_order")))}function r8e(n,t){if(n&1&&(I(0,"option",117),H(1),K(2,"translate"),M()),n&2){let e=t.$implicit;W("value",e.table),x(),pn(" ",z(2,3,"table")," ",e.table," ")}}function o8e(n,t){if(n&1){let e=We();I(0,"div",111)(1,"div",112)(2,"select",113),Ze("ngModelChange",function(r){we(e);let o=te();return Xe(o.table,r)||(o.table=r),be(r)}),I(3,"option",114),H(4),K(5,"translate"),M(),he(6,r8e,3,5,"option",115),M(),se(7,"i",116),M()()}if(n&2){let e=te();x(2),Ye("ngModel",e.table),x(2),de(z(5,3,"select_table")),x(2),W("ngForOf",e.tables)}}function s8e(n,t){n&1&&(I(0,"div",118)(1,"div",88),se(2,"img",119),I(3,"span",90),H(4),K(5,"translate"),M()()()),n&2&&(x(4),le(" ",z(5,1,"empty_products")," "))}function a8e(n,t){n&1&&se(0,"img",132)}function l8e(n,t){n&1&&se(0,"img",133)}function c8e(n,t){if(n&1&&(I(0,"span",134),H(1,"\xA0\xA0"),I(2,"s"),H(3),M()()),n&2){let e=te().$implicit;x(3),de(e.priceToShow)}}function u8e(n,t){if(n&1){let e=We();I(0,"div",122)(1,"div",123)(2,"div",124),ve("click",function(){let r=we(e).$implicit,o=te(2);return o.proToShow=r,be(o.checkShowItem())}),se(3,"img",125),M(),I(4,"div",126)(5,"h2"),H(6),M(),I(7,"h3",127),he(8,a8e,1,0,"img",128)(9,l8e,1,0,"img",129)(10,c8e,4,1,"span",130),I(11,"span",131),H(12),M()()()()()}if(n&2){let e=t.$implicit;x(3),W("src",e.image_urls[0],yo),x(3),de(e.title),x(2),W("ngIf",e.meta&&e.meta.food_type=="veg"),x(),W("ngIf",e.meta&&e.meta.food_type!="veg"),x(),W("ngIf",e.sale_priceToShow),x(2),de(e.sale_priceToShow?e.sale_priceToShow:e.priceToShow)}}function d8e(n,t){if(n&1&&(I(0,"div",120),he(1,u8e,13,6,"div",121),M()),n&2){let e=te();x(),W("ngForOf",e.menuItemsToShow.menu_items)}}function h8e(n,t){if(n&1&&(I(0,"span",134)(1,"s"),H(2),M(),H(3,"\xA0\xA0\xA0"),M()),n&2){let e=te(2);x(2),de(e.proToShow.priceToShow)}}function f8e(n,t){if(n&1){let e=We();I(0,"div",25)(1,"input",144),Ze("ngModelChange",function(r){we(e);let o=te(2).$implicit;return Xe(o.choiceIdSelected,r)||(o.choiceIdSelected=r),be(r)}),ve("click",function(){let r=we(e).$implicit,o=te(2).$implicit,s=te(2);return be(s.onChoiceClick(r,o.addon_choices))}),M(),I(2,"label",145)(3,"span",146),H(4),I(5,"small",131),H(6),M()()()()}if(n&2){let e=t.$implicit,i=te(2).$implicit;x(),W("name",i.title)("id","choice_id_"+e.id)("value",e.id),Ye("ngModel",i.choiceIdSelected),W("checked",e.isChecked),x(),W("for","choice_id_"+e.id),x(2),le("",e.title," "),x(2),de(e.priceToShow)}}function p8e(n,t){if(n&1&&(I(0,"div"),he(1,f8e,7,8,"div",143),M()),n&2){let e=te().$implicit;x(),W("ngForOf",e.addon_choices)}}function A8e(n,t){if(n&1){let e=We();I(0,"div",148)(1,"div",149)(2,"input",150),ve("click",function(){let r=we(e).$implicit,o=te(4);return be(o.onChoiceClick(r))}),M(),I(3,"label",145)(4,"span",151),H(5),I(6,"small",131),H(7),M()()()()()}if(n&2){let e=t.$implicit,i=te(2).$implicit;x(2),W("name",i.title)("value",e.id)("id","choice_id_"+e.id)("checked",e.isChecked),x(),W("for","choice_id_"+e.id),x(2),le("",e.title," "),x(2),de(e.priceToShow)}}function g8e(n,t){if(n&1&&(I(0,"div"),he(1,A8e,8,7,"div",147),M()),n&2){let e=te().$implicit;x(),W("ngForOf",e.addon_choices)}}function m8e(n,t){if(n&1&&(I(0,"div")(1,"h4"),H(2),M(),he(3,p8e,2,1,"div",142)(4,g8e,2,1,"div",142),M()),n&2){let e=t.$implicit;x(2),de(e.title),x(),W("ngIf",e.min_choices==1),x(),W("ngIf",e.min_choices!=1)}}function v8e(n,t){if(n&1){let e=We();I(0,"div",135)(1,"div",136),ve("click",function(){we(e);let r=te();return be(r.showItem=!1)}),se(2,"i",137),M(),I(3,"div",138)(4,"div",139),se(5,"img",125),M(),I(6,"div",140)(7,"h2"),H(8),M(),I(9,"h3",141),H(10),he(11,h8e,4,1,"span",130),I(12,"span",131),H(13),M()()()(),I(14,"form"),he(15,m8e,5,3,"div",11),M(),I(16,"button",45),ve("click",function(){we(e);let r=te();return be(r.addProCart())}),I(17,"a"),H(18),K(19,"translate"),M()()()}if(n&2){let e=te();x(5),W("src",e.proToShow.image_urls[0],yo),x(3),de(e.proToShow.title),x(2),le(" ",e.proToShow.categoriesText," "),x(),W("ngIf",e.proToShow.sale_priceToShow),x(2),de(e.proToShow.sale_priceToShow?e.proToShow.sale_priceToShow:e.proToShow.priceToShow),x(2),W("ngForOf",e.proToShow.addon_groups),x(3),de(z(19,7,"add_to_cart"))}}function _8e(n,t){if(n&1&&(I(0,"span",134)(1,"s"),H(2),M(),H(3,"\xA0\xA0\xA0"),M()),n&2){let e=te(2);x(2),de(e.proToShow.priceToShow)}}function y8e(n,t){if(n&1&&(I(0,"div",148)(1,"div",149)(2,"label",157)(3,"span",151),H(4),I(5,"small",131),H(6),M()()()()()),n&2){let e=t.$implicit;x(4),le("",e.title," "),x(2),de(e.priceToShow)}}function w8e(n,t){if(n&1){let e=We();I(0,"div",135)(1,"div",136),ve("click",function(){we(e);let r=te();return be(r.addOnsLastUsed=null)}),se(2,"i",137),M(),I(3,"div",138)(4,"div",139),se(5,"img",125),M(),I(6,"div",152)(7,"h2"),H(8),M(),I(9,"h3",141),H(10),he(11,_8e,4,1,"span",130),I(12,"span",131),H(13),M()()()(),I(14,"form")(15,"div")(16,"h4"),H(17),K(18,"translate"),M(),he(19,y8e,7,2,"div",147),M()(),I(20,"div",153)(21,"div",154)(22,"h6",155),ve("click",function(){we(e);let r=te();return be(r.actionNew())}),H(23),K(24,"translate"),M(),I(25,"h6",156),ve("click",function(){we(e);let r=te();return be(r.actionOld())}),H(26),K(27,"translate"),M()()()()}if(n&2){let e=te();x(5),W("src",e.proToShow.image_urls[0],yo),x(3),de(e.proToShow.title),x(2),le(" ",e.proToShow.categoriesText," "),x(),W("ngIf",e.proToShow.sale_priceToShow),x(2),de(e.proToShow.sale_priceToShow?e.proToShow.sale_priceToShow:e.proToShow.priceToShow),x(4),de(z(18,9,"repeat_last_used_customisation")),x(2),W("ngForOf",e.addOnsLastUsed),x(4),de(z(24,11,"i_ll_choose")),x(3),de(z(27,13,"repeat_last"))}}function b8e(n,t){n&1&&(I(0,"div",158)(1,"div",159),se(2,"img",160)(3,"h2",161),K(4,"translate"),I(5,"h3"),H(6),K(7,"translate"),M()()()),n&2&&(x(3),nt("innerHTML",z(4,2,"select_an_item_from_menu_to_place_a_order"),wa),x(3),le(" ",z(7,4,"tap_on_item_to_add_to_cart")," "))}function C8e(n,t){n&1&&(I(0,"div",87)(1,"div",88),se(2,"img",89),I(3,"span",90),H(4),K(5,"translate"),M()()()),n&2&&(x(4),le(" ",z(5,1,"empty_cart")," "))}function E8e(n,t){n&1&&(I(0,"thead")(1,"tr")(2,"th",167),H(3),K(4,"translate"),M(),I(5,"th",168),H(6),K(7,"translate"),M(),I(8,"th",169),H(9),K(10,"translate"),M(),I(11,"th",168),H(12),K(13,"translate"),M()()()),n&2&&(x(3),le(" ",z(4,4,"item")," "),x(3),de(z(7,6,"price")),x(3),de(z(10,8,"items")),x(3),de(z(13,10,"total")))}function S8e(n,t){if(n&1&&(I(0,"small",175),H(1),M()),n&2){let e=t.$implicit;x(),de(e.title)}}function x8e(n,t){if(n&1&&(I(0,"small"),H(1),M()),n&2){let e=t.$implicit;x(),de(e.priceToShow)}}function I8e(n,t){if(n&1){let e=We();I(0,"tr",170)(1,"td",171)(2,"h3"),H(3),he(4,S8e,2,1,"small",172),M()(),I(5,"td",173)(6,"h3")(7,"small"),H(8),he(9,x8e,2,1,"small",11),M()()(),I(10,"td",174)(11,"h3")(12,"p")(13,"span",155),ve("click",function(){let r=we(e).$implicit,o=te(2);return be(o.decrementCartItem(r))}),H(14,"-"),M(),I(15,"strong"),H(16),M(),I(17,"span",155),ve("click",function(){let r=we(e).$implicit,o=te(2);return be(o.addOrIncrementCartItem(r))}),H(18,"+"),M()()()(),I(19,"td",174)(20,"h3")(21,"small"),H(22),M()()()()}if(n&2){let e=t.$implicit,i=te(2);x(3),le(" ",e.title," "),x(),W("ngForOf",e.addOns),x(4),pn("",i.currency_icon,"",e.price," "),x(),W("ngForOf",e.addOns),x(7),de(e.quantity),x(6),pn("",i.currency_icon,"",e.getTotal(!0),"")}}function T8e(n,t){if(n&1&&(I(0,"h2",127),H(1),K(2,"translate"),I(3,"span",178),H(4),M()()),n&2){let e=t.$implicit,i=te(3);x(),le(" ",z(2,3,e.id)," "),x(3),pn("",i.currency_icon,"",i.eComService.calculateExtraChargePiceToShow(e,!0)," ")}}function D8e(n,t){if(n&1&&(I(0,"div",176),he(1,T8e,5,5,"h2",177),I(2,"h2",127),H(3),K(4,"translate"),I(5,"strong",178),H(6),M()()()),n&2){let e=te(2);x(),W("ngForOf",e.eComService.getExtraCharges()),x(2),le(" ",z(4,4,"amount_to_pay")," "),x(3),pn("",e.currency_icon,"",e.eComService.getCartTotal(!0),"")}}function M8e(n,t){if(n&1&&(I(0,"div",162),he(1,C8e,6,3,"div",9),I(2,"table",163),he(3,E8e,14,12,"thead",142),I(4,"tbody"),he(5,I8e,23,8,"tr",164),M()(),I(6,"div",165),he(7,D8e,7,6,"div",166),M()()),n&2){let e=te();x(),W("ngIf",!e.eComService.getCartItems()||!e.eComService.getCartItems().length),x(2),W("ngIf",e.eComService.getCartItems()&&e.eComService.getCartItems().length),x(2),W("ngForOf",e.eComService.getCartItems()),x(2),W("ngIf",e.eComService.getCartItems()&&e.eComService.getCartItems().length)}}function O8e(n,t){if(n&1){let e=We();I(0,"div",184)(1,"button",185),ve("click",function(){we(e);let r=te(2);return be(r.orderPlace())}),H(2),K(3,"translate"),M()()}n&2&&(x(2),le(" ",z(3,1,"place_order")," "))}function F8e(n,t){if(n&1){let e=We();I(0,"div",179)(1,"div",180)(2,"div",181)(3,"button",182),ve("click",function(){we(e);let r=te();return be(r.cancelCart())}),H(4),K(5,"translate"),M()(),he(6,O8e,4,3,"div",183),M()()}if(n&2){let e=te();x(4),le(" ",z(5,2,"cancel_order")," "),x(2),W("ngIf",e.eComService.getCartItems()&&e.eComService.getCartItems().length)}}function B8e(n,t){if(n&1&&(I(0,"ng-option",117),H(1),K(2,"translate"),M()),n&2){let e=t.$implicit;W("value",e.table),x(),pn(" ",z(2,3,"table")," ",e.table," ")}}function P8e(n,t){if(n&1){let e=We();I(0,"div",200)(1,"label"),H(2),K(3,"translate"),M(),I(4,"ng-select",201),K(5,"translate"),Ze("ngModelChange",function(r){we(e);let o=te(2);return Xe(o.table,r)||(o.table=r),be(r)}),he(6,B8e,3,5,"ng-option",115),M()()}if(n&2){let e=te(2);x(2),de(z(3,7,"select_table")),x(2),zn("selected-option",e.table),nt("placeholder",z(5,9,"select_table")),Ye("ngModel",e.table),W("multiple",!1),x(2),W("ngForOf",e.tables)}}function k8e(n,t){if(n&1){let e=We();I(0,"div",162)(1,"div",186)(2,"div",187)(3,"label"),H(4),K(5,"translate"),M(),I(6,"h2"),H(7),M()(),I(8,"div",187)(9,"label"),H(10),K(11,"translate"),M(),I(12,"div",188)(13,"div",189)(14,"div",190)(15,"input",191),Ze("ngModelChange",function(r){we(e);let o=te();return Xe(o.order_type,r)||(o.order_type=r),be(r)}),M(),I(16,"label",192)(17,"span",151),H(18),K(19,"translate"),M(),se(20,"img",193),M()()(),I(21,"div",189)(22,"div",190)(23,"input",194),Ze("ngModelChange",function(r){we(e);let o=te();return Xe(o.order_type,r)||(o.order_type=r),be(r)}),M(),I(24,"label",195)(25,"span",151),H(26),K(27,"translate"),M(),se(28,"img",196),M()()()()(),he(29,P8e,7,11,"div",197),I(30,"div",187)(31,"label"),H(32),K(33,"translate"),M(),I(34,"div",198)(35,"input",199),K(36,"translate"),Ze("ngModelChange",function(r){we(e);let o=te();return Xe(o.customer_name,r)||(o.customer_name=r),be(r)}),M()()(),I(37,"div",187)(38,"label"),H(39),K(40,"translate"),M(),I(41,"div",198)(42,"input",199),K(43,"translate"),Ze("ngModelChange",function(r){we(e);let o=te();return Xe(o.customer_number,r)||(o.customer_number=r),be(r)}),M()()()()()}if(n&2){let e=te();x(4),de(z(5,15,"amount_to_Pay")),x(3),pn("",e.currency_icon,"",e.eComService.getCartTotal(!0),""),x(3),de(z(11,17,"choose_ordering_method")),x(5),Ye("ngModel",e.order_type),x(3),le(" ",z(19,19,"takeaway")," "),x(5),Ye("ngModel",e.order_type),x(3),le(" ",z(27,21,"dinein")," "),x(3),W("ngIf",e.order_type=="dinein"),x(3),de(z(33,23,"customer_name")),x(3),nt("placeholder",z(36,25,"enter_customer_name")),Ye("ngModel",e.customer_name),x(4),de(z(40,27,"phone_number")),x(3),nt("placeholder",z(43,29,"enter_phone_number")),Ye("ngModel",e.customer_number)}}function N8e(n,t){if(n&1){let e=We();I(0,"div",202)(1,"div",180)(2,"div",184)(3,"button",182),ve("click",function(){we(e);let r=te();return be(r.cancelOrder())}),H(4),K(5,"translate"),M()(),I(6,"div",203),ve("click",function(){we(e);let r=te();return be(r.confirmOrder())}),I(7,"button",204),H(8),K(9,"translate"),M()()()()}n&2&&(x(4),le(" ",z(5,2,"back_to_cart")," "),x(4),le(" ",z(9,4,"submit")," "))}function R8e(n,t){n&1&&(I(0,"div",162)(1,"div",158)(2,"div",159),se(3,"img",205)(4,"h2",161),K(5,"translate"),I(6,"h3"),H(7),K(8,"translate"),M()()()()),n&2&&(x(4),nt("innerHTML",z(5,2,"order_confirmed_with"),wa),x(3),le(" ",z(8,4,"continue_to_new_order")," "))}function L8e(n,t){if(n&1){let e=We();I(0,"div",202)(1,"div",180)(2,"div",184)(3,"button",206),ve("click",function(){we(e);let r=te();return be(r.printReceipt(r.order))}),H(4),K(5,"translate"),M()(),I(6,"div",203),ve("click",function(){we(e);let r=te();return be(r.continue())}),I(7,"button",204),H(8),K(9,"translate"),M()()()()}n&2&&(x(4),le(" ",z(5,2,"print_receipt")," "),x(4),le(" ",z(9,4,"continue")," "))}function U8e(n,t){if(n&1){let e=We();I(0,"div",209),ve("click",function(){let r=we(e).index,o=te(2);return be(o.slideLoadProduct(r))}),I(1,"div",139),se(2,"img",125),M(),I(3,"h3"),H(4),M()()}if(n&2){let e=t.$implicit,i=t.index,r=te(2);W("ngClass",r.tabIndex==i?"category active":"category"),x(2),W("src",e.image,yo),x(2),le(" ",e.title," ")}}function H8e(n,t){if(n&1&&(I(0,"div",207)(1,"drag-scroll"),he(2,U8e,5,3,"div",208),M()()),n&2){let e=te();x(2),W("ngForOf",e.profile.product_categories)}}function V8e(n,t){n&1&&(I(0,"div",118)(1,"div",88),se(2,"img",119),I(3,"span",90),H(4),K(5,"translate"),M()()()),n&2&&(x(4),le(" ",z(5,1,"empty_products")," "))}function Q8e(n,t){n&1&&(I(0,"div",210)(1,"div",211)(2,"div",212)(3,"div",213),se(4,"ngx-skeleton-loader",214),M(),I(5,"div",126)(6,"h2"),se(7,"ngx-skeleton-loader",215),M(),I(8,"h3",127),se(9,"ngx-skeleton-loader",215),M()()()(),I(10,"div",211)(11,"div",212)(12,"div",213),se(13,"ngx-skeleton-loader",214),M(),I(14,"div",126)(15,"h2"),se(16,"ngx-skeleton-loader",215),M(),I(17,"h3",127),se(18,"ngx-skeleton-loader",215),M()()()(),I(19,"div",211)(20,"div",212)(21,"div",213),se(22,"ngx-skeleton-loader",214),M(),I(23,"div",126)(24,"h2"),se(25,"ngx-skeleton-loader",215),M(),I(26,"h3",127),se(27,"ngx-skeleton-loader",215),M()()()()())}function j8e(n,t){n&1&&se(0,"img",222)}function G8e(n,t){n&1&&se(0,"img",223)}function W8e(n,t){if(n&1&&(I(0,"span",134)(1,"s"),H(2),M(),H(3,"\xA0\xA0 "),M()),n&2){let e=te().$implicit;x(2),de(e.priceToShow)}}function K8e(n,t){if(n&1){let e=We();I(0,"div",211)(1,"div",217),ve("click",function(){let r=we(e).$implicit,o=te(2);return o.proToShow=r,be(o.checkShowItem())}),I(2,"div",213),se(3,"ion-icon",218)(4,"img",125),M(),I(5,"div",126)(6,"h2"),H(7),M(),I(8,"h3",127)(9,"span",219),he(10,j8e,1,0,"img",220)(11,G8e,1,0,"img",221),M(),he(12,W8e,4,1,"span",130),I(13,"span",175),H(14),M()()()()()}if(n&2){let e=t.$implicit;x(4),W("src",e.image_urls[0],yo),x(3),de(e.title),x(3),W("ngIf",e.meta&&e.meta.food_type=="veg"),x(),W("ngIf",e.meta&&e.meta.food_type!="veg"),x(),W("ngIf",e.sale_priceToShow),x(2),le(" ",e.sale_priceToShow?e.sale_priceToShow:e.priceToShow," ")}}function z8e(n,t){if(n&1&&(I(0,"div",210),he(1,K8e,15,6,"div",216),M()),n&2){let e=te();x(),W("ngForOf",e.menuItemsToShow.menu_items)}}function q8e(n,t){if(n&1&&(I(0,"span",134)(1,"s"),H(2),M(),H(3,"\xA0\xA0\xA0"),M()),n&2){let e=te(2);x(2),de(e.proToShow.priceToShow)}}function $8e(n,t){if(n&1){let e=We();I(0,"div",239)(1,"input",240),Ze("ngModelChange",function(r){we(e);let o=te(2).$implicit;return Xe(o.choiceIdSelected,r)||(o.choiceIdSelected=r),be(r)}),ve("click",function(){let r=we(e).$implicit,o=te(2).$implicit,s=te(2);return be(s.onChoiceClick(r,o.addon_choices))}),M(),I(2,"label",241)(3,"strong",242),H(4),I(5,"span",178),H(6),M()()()()}if(n&2){let e=t.$implicit,i=te(2).$implicit;x(),W("name",i.title)("id","choice_id_"+e.id)("value",e.id),Ye("ngModel",i.choiceIdSelected),W("checked",e.isChecked),x(),W("for","choice_id_"+e.id),x(2),le("",e.title," "),x(2),de(e.priceToShow)}}function Y8e(n,t){if(n&1&&(I(0,"div"),he(1,$8e,7,8,"div",238),M()),n&2){let e=te().$implicit;x(),W("ngForOf",e.addon_choices)}}function Z8e(n,t){if(n&1){let e=We();I(0,"div",244)(1,"div",149)(2,"input",245),ve("click",function(){let r=we(e).$implicit,o=te(4);return be(o.onChoiceClick(r))}),M(),I(3,"label",246)(4,"strong",151),H(5),I(6,"span",178),H(7),M()()()()()}if(n&2){let e=t.$implicit,i=te(2).$implicit;x(2),W("name",i.title)("value",e.id)("id","choice_id_"+e.id)("checked",e.isChecked),x(),W("for","choice_id_"+e.id),x(2),le("",e.title," "),x(2),de(e.priceToShow)}}function X8e(n,t){if(n&1&&(I(0,"div"),he(1,Z8e,8,7,"div",243),M()),n&2){let e=te().$implicit;x(),W("ngForOf",e.addon_choices)}}function J8e(n,t){if(n&1&&(I(0,"div",32)(1,"h4"),H(2),M(),he(3,Y8e,2,1,"div",142)(4,X8e,2,1,"div",142),M()),n&2){let e=t.$implicit;x(2),de(e.title),x(),W("ngIf",e.min_choices==1),x(),W("ngIf",e.min_choices!=1)}}function eQe(n,t){if(n&1){let e=We();I(0,"div",224)(1,"div",225)(2,"div",226)(3,"h3",155),ve("click",function(){we(e);let r=te();return be(r.showItem=!1)}),se(4,"img",227)(5,"img",228),M()()(),I(6,"div",229)(7,"form")(8,"div",230)(9,"div",231)(10,"div",139),se(11,"img",125),M(),I(12,"div",232)(13,"h2"),H(14),M(),I(15,"h3",127),H(16),he(17,q8e,4,1,"span",130),I(18,"span",131),H(19),M()()()(),I(20,"div",233),he(21,J8e,5,3,"div",234),M()()()(),I(22,"div",235)(23,"div",236)(24,"div",237)(25,"button",185),ve("click",function(){we(e);let r=te();return be(r.addProCart())}),H(26),K(27,"translate"),M()()()()()}if(n&2){let e=te();x(11),W("src",e.proToShow.image_urls[0],yo),x(3),le(" ",e.proToShow.title," "),x(2),le(" ",e.proToShow.categoriesText," "),x(),W("ngIf",e.proToShow.sale_priceToShow),x(2),de(e.proToShow.sale_priceToShow?e.proToShow.sale_priceToShow:e.proToShow.priceToShow),x(2),W("ngForOf",e.proToShow.addon_groups),x(5),le(" ",z(27,7,"add_to_cart")," ")}}var kae=(()=>{class n{constructor(e,i,r,o,s,a,l,u){this.config=e,this.router=i,this.translate=r,this.uiElementService=o,this.apiService=s,this.eComService=a,this.appComponent=l,this.printerServide=u,this.tab="popular",this.FavoriteIcon=!1,this.subscriptions=new Array,this.doneAll=!1,this.pageNo=1,this.isLoading=!0,this.filterForm=!1,this.filterTypeFarmers=!0,this.filterTypeTradors=!0,this.type=null,this.menuItems=new Array,this.tabIndex=0,this.showMyCart=!1,this.showAddOrder=!0,this.showPayment=!1,this.alwaysCallbackStatus=!1,this.section=1,this.paymentMethods=new Array,this.paymentMethoIdSelected=-1,this.tables=new Array,this.categoryCarousel={loop:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,nav:!1,margin:10,navText:["&#8249;","&#8250;"],autoWidth:!0,items:1,responsive:{0:{items:2},400:{items:6.5},740:{items:6.5},1200:{items:6.5},1500:{items:8.8}}}}ngOnInit(){this.currency_icon=He.getSetting("currency_icon"),this.profile=He.getProfile(),this.eComService.clearCart(),this.myTableStatusRef=Pae.default.database().ref("vendors").child(String(this.profile.id)).child("table_status"),this.profile&&this.profile.product_categories&&this.profile.product_categories.length?this.translate.get("loading").subscribe(e=>{this.loadCategories()}):this.isLoading=!1}loadCategories(){for(let e of this.profile.product_categories)this.menuItems.push({menu_items:[],next_url:""});this.profile.product_categories&&this.profile.product_categories.length?(this.pageNo=1,this.loadProducts(this.profile.product_categories[0].id)):this.isLoading=!1}ionViewDidEnter(){if(window.localStorage.getItem(et.KEY_CART_CHANGED)!=null)for(let i of this.menuItems)for(let r of i.menu_items)r.quantity=this.eComService.getCartProductQuantity(r.vendor_products&&r.vendor_products[0]?r.vendor_products[0].id:r.id);window.localStorage.removeItem(et.KEY_CART_CHANGED)}ngOnDestroy(){for(let e of this.subscriptions)e.unsubscribe();this.uiElementService.dismissLoading()}slideLoadProduct(e){this.tabIndex=e,this.menuItemsToShow=this.menuItems[this.tabIndex],this.nextUrl=this.menuItems[this.tabIndex].next_url,(!this.menuItemsToShow||!this.menuItemsToShow.menu_items||!this.menuItemsToShow.menu_items.length)&&this.translate.get("loading").subscribe(i=>{this.pageNo=1,this.loadProducts(this.profile.product_categories[this.tabIndex].id)})}loadProducts(e){this.isLoading=!0,e&&(this.selectedCategoryId=e);let i=new URLSearchParams;i.append("category",String(this.selectedCategoryId)),i.append("vendor",String(this.profile.id)),i.append("page",String(this.pageNo)),this.subscriptions.push(this.apiService.getProductsWithParams(i).subscribe(r=>this.productsRes(r),r=>this.productsErr(r)))}productsRes(e){this.nextUrl=e.links.next,this.menuItems[this.tabIndex].next_url=e.links.next;for(let i of e.data)this.menuItems[this.tabIndex].menu_items.push(i);this.menuItemsToShow=this.menuItems[this.tabIndex],this.isLoading=!1,this.uiElementService.dismissLoading()}productsErr(e){this.isLoading=!1,this.uiElementService.dismissLoading()}search(){this.uiElementService.presentLoading(this.translate.instant("searching"));let e=new URLSearchParams;this.searchText&&e.append("search",this.searchText),this.searchText||e.append("category",String(this.profile.product_categories[this.tabIndex].id)),e.append("vendor",String(this.profile.id)),e.append("page",String(1)),this.subscriptions.push(this.apiService.getProductsWithParams(e).subscribe(i=>{this.menuItems[this.tabIndex].menu_items=[],this.productsRes(i)},i=>this.productsErr(i)))}onScrollDown(){this.nextUrl&&(this.pageNo=this.pageNo+1,this.loadProducts())}checkShowItem(){if(this.existingCartItems=this.eComService.getCartItemsWithProductId(this.proToShow.vendor_products&&this.proToShow.vendor_products[0]?this.proToShow.vendor_products[0].id:this.proToShow.id),this.existingCartItems.length&&(this.existingCartItems.length>1||this.existingCartItems[0].addOns.length)){let e=[];for(let i of this.existingCartItems)e=e.concat(i.addOns);this.addOnsLastUsed=e,this.showItem=!1}else this.setupShowItem()}addProCart(){if(!this.showPayment&&this.proToShow){let e=[];for(let i of this.proToShow.addon_groups)if(i.addon_choices)for(let r of i.addon_choices)r.isChecked&&e.push(new iF(r.id,r.title,r.price,r.priceToShow));this.eComService.addOrIncrementCartItem(this.eComService.genCartItemFromProduct(this.proToShow,e)),this.proToShow.quantity+=1,this.section=1,this.showMyCart=!0,this.showAddOrder=!1,this.showItem=!1}}setupShowItem(){for(let e of this.proToShow.addon_groups)if(e.choiceIdSelected=-1,e.min_choices>0){let i=0;for(let r of e.addon_choices)r.isChecked=!1;if(i<e.min_choices){let r=e.min_choices-i;for(let o of e.addon_choices)!o.isChecked&&r>0&&(o.isChecked=!0,e.choiceIdSelected=o.id,r-=1)}}this.showItem=!0}actionNew(){this.addOnsLastUsed=null,this.showItem=!0}actionOld(){this.eComService.addOrIncrementCartItem(this.existingCartItems[this.existingCartItems.length-1]),this.proToShow.quantity=this.eComService.getCartProductQuantity(this.proToShow.vendor_products&&this.proToShow.vendor_products[0]?this.proToShow.vendor_products[0].id:this.proToShow.id),this.addOnsLastUsed=null}onChoiceClick(e,i){i&&i.length&&i.map(o=>o.isChecked=!1);var r=document.getElementById("choice_id_"+e.id);e.isChecked=r.checked}toggleFavoriteIcon(){this.FavoriteIcon=!this.FavoriteIcon}decrementCartItem(e){window.localStorage.setItem(et.KEY_CART_CHANGED,"changed"),this.eComService.removeOrDecrementCartItem(e)}addOrIncrementCartItem(e){window.localStorage.setItem(et.KEY_CART_CHANGED,"changed"),this.eComService.addOrIncrementCartItem(e)}myCart(){this.proToShow=null,this.showMyCart=!this.showMyCart,this.showAddOrder=!this.showAddOrder}cancelCart(){this.showMyCart=!this.showMyCart,this.showAddOrder=!this.showAddOrder,this.eComService.clearCart()}orderPlace(){this.showPayment=!this.showPayment,this.showMyCart=!this.showMyCart,this.loadPaymentMethod(),this.getAvailableTables()}cancelOrder(){this.showPayment=!this.showPayment,this.showMyCart=!this.showMyCart}submitOrder(e){this.showPayment=!this.showPayment,this.order=e,this.order.show=!0}continue(){this.order&&(this.order.show=!1),this.showAddOrder=!this.showAddOrder}printReceipt(e){if(this.config.printerConfig.enabled){let i=He.getPrinterNetworkConfig();i?i.name&&i.name.trim().length?this.printerServide.getPrinters().subscribe(r=>{console.log("getPrinters: ",r),r.indexOf(i.name.trim())==-1?this.translate.get("unable_find_printer").subscribe(o=>this.uiElementService.showErrorToastr(o.replace("<name>",i.name.trim()))):this.printWith({name:i.name.trim(),host:null,port:null},e)},r=>{console.log("getPrinters: ",r),this.translate.get("unable_load_printers").subscribe(o=>this.uiElementService.showErrorToastr(o))}):i.host&&i.host.trim().length&&i.port&&i.port.trim().length?this.printWith({name:null,host:i.host.trim(),port:i.port.trim()},e):this.translate.get("invalid_printer_config").subscribe(r=>this.uiElementService.showErrorToastr(r)):this.translate.get("invalid_printer_config").subscribe(r=>this.uiElementService.showErrorToastr(r))}}printWith(e,i){this.config.printerConfig.format==Q1.ZPL?this.printerServide.printData(e,[He.getZplReceiptFormat(i)]).subscribe(r=>{console.log("printData: ",r),this.translate.get("printing").subscribe(o=>this.uiElementService.showSuccessToastr(o))},r=>{console.log("printData: ",r),this.translate.get("unable_print").subscribe(o=>this.uiElementService.showErrorToastr(o))}):this.apiService.getReceiptFormat(i.id).subscribe(r=>{this.printerServide.printData(e,[r]).subscribe(o=>{console.log("printData: ",o),this.translate.get("printing").subscribe(s=>this.uiElementService.showSuccessToastr(s))},o=>{console.log("printData: ",o),this.translate.get("unable_print").subscribe(s=>this.uiElementService.showErrorToastr(s))})},r=>{console.log("getReceiptFormat: ",r),this.translate.get("something_wrong").subscribe(o=>this.uiElementService.showErrorToastr(o))})}loadPaymentMethod(){this.paymentMethoIdSelected=-1,this.customer_name="",this.customer_number="",this.order_type="",this.table="",this.translate.get("loading").subscribe(e=>{this.uiElementService.presentLoading(e),this.subscriptions.push(this.apiService.getPaymentMethods().subscribe(i=>{this.paymentMethods=i,this.uiElementService.dismissLoading()},i=>{console.log("getPaymentMethods",i),this.uiElementService.dismissLoading(),this.cancelOrder()}))})}getAvailableTables(){let e=this,i=Number(He.getProfile().meta.no_of_tables);i||(i=0);let r=[];for(let o=1;o<=i;o++)r.push({table:o});this.myTableStatusRef.once("value",o=>{let s=o.val();console.log("myTableStatusRef: ",s),s&&Object.keys(s).forEach((l,u)=>{if(s[l].occupied){let d=-1;for(let h=0;h<r.length;h++)if(r[h].table==Number(l)){d=h;break}d!=-1&&r.splice(d,1)}}),e.tables=r},o=>console.log("myTableStatusRef: ",o))}confirmOrder(){let e=this.getSelectedPaymentMethod();if(e==null)this.translate.get("select_payment_method").subscribe(i=>this.uiElementService.showErrorToastr(i));else if(!this.order_type||!this.order_type.length)this.translate.get("order_type").subscribe(i=>this.uiElementService.showErrorToastr(i));else if(this.order_type=="dinein"&&!this.table)this.translate.get("select_table").subscribe(i=>this.uiElementService.showErrorToastr(i));else{let i=this;this.eComService.setupOrderRequestPaymentMethod(e),this.eComService.setupOrderRequestOrder_type(this.order_type.toLocaleUpperCase()),this.eComService.setupOrderRequestCustomer_name(!this.customer_name||!this.customer_name.length?this.config.appName:this.customer_name),this.eComService.setupOrderRequestcCustomer_mobile(!this.customer_number||!this.customer_number.length?"9080706050":this.customer_number),this.eComService.setupOrderRequestIs_guest(!0),this.eComService.setupOrderRequestMeta("source",et.ROLE_DESK),this.table?(this.eComService.setupOrderRequestMeta("table",this.table),this.translate.get(["just_moment","table_taken"]).subscribe(r=>{this.uiElementService.presentLoading(r.just_moment),this.myTableStatusRef.child(String(this.table)).once("value",o=>{if(i.uiElementService.dismissLoading(),o.exists()){let s=o.val();if(console.log("tableStatus: ",s),s&&s.occupied){i.eComService.removeOrderRequestMeta("table"),i.uiElementService.showErrorToastr(r.table_taken);let a=-1;for(let l=0;l<i.tables.length;l++)if(i.tables[l].table==Number(i.table)){a=l;break}a!=-1&&i.tables.splice(a,1),i.table=null}else i.proceedPlaceOrder()}else i.proceedPlaceOrder()},o=>{console.log("myTableStatusRef: ",o),i.uiElementService.dismissLoading(),i.proceedPlaceOrder()})})):this.proceedPlaceOrder()}}proceedPlaceOrder(){let e=this.eComService.getOrderRequest();this.translate.get(["order_placing","order_placed","order_place_err"]).subscribe(i=>{this.uiElementService.presentLoading(i.order_placing),this.apiService.createOrder(e).subscribe(r=>{r.order&&r.order.meta&&r.order.meta.table&&this.myTableStatusRef.child(String(r.order.meta.table)).set({occupied:!0,order_id:r.order.id}),this.uiElementService.dismissLoading(),this.eComService.clearCart(),this.submitOrder(r.order)},r=>{console.log("createOrder",r),this.uiElementService.dismissLoading(),this.uiElementService.showErrorToastr(i.order_place_err)})})}getSelectedPaymentMethod(){let e=null;for(let i of this.paymentMethods)if(this.paymentMethoIdSelected==i.id){e=i;break}if(e==null){for(let i of this.paymentMethods)if(i.slug=="cod"){e=i;break}}return e}showSection(e){this.section=e}handleKeyboardEvent(e){e.key==="Escape"&&(this.showItem=!1)}static{this.\u0275fac=function(i){return new(i||n)(ae(Xr),ae(Un),ae(qn),ae(ui),ae(ni),ae(pJ),ae(XB),ae(uP))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-home"]],hostBindings:function(i,r){i&1&&ve("keydown",function(s){return r.handleKeyboardEvent(s)},!1,np)},decls:147,vars:94,consts:[["id","page_home",2,"display","none"],[1,"body_wrapper"],[1,"order_section"],[1,"order_item_container"],[1,"no-order","p-4","p-sm-4","p-md-4","p-lg-5",3,"ngClass"],[1,"banner_img"],["src","assets/images/img_noorder.png",1,"img-fluid"],[3,"innerHTML"],[1,"item_list",3,"ngClass"],["class","empty-view animate__animated animate__fadeInUp","style","position: relative; top: 150px;",4,"ngIf"],["class","order_header",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"order_footer"],["class","amount_details",4,"ngIf"],["class","amount_payble",4,"ngIf"],[1,"btn_box"],[1,"row","no-gutter","mx-0"],["type","button",1,"btn","col-6","Cancel",3,"click"],["type","button","class","btn col-6 place_order",3,"click",4,"ngIf"],[1,"amount_to_Pay",3,"ngClass"],[1,"px-4","py-3"],[1,"pt-3","mb-3"],[1,"form-group","mb-4","pb-2"],[1,"row","no-gutters","align-items-center"],[1,"col-6","col-sm-6","col-md-6","col-lg-6"],[1,"custom-control","custom-radio"],["checked","","type","radio","id","takeaway","name","OrderType","value","takeaway",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","takeaway",1,"custom-control-label"],[1,"ml-2"],["type","radio","id","dine-in","name","OrderType","value","dinein",1,"custom-control-input",3,"ngModelChange","ngModel"],["for","dine-in",1,"custom-control-label"],["class","col-12 col-sm-12 col-md-6 col-lg-4",4,"ngIf"],[1,"form-group"],["type","text","name","name",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","text","name","number",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"order_footer","bg-white"],["type","button",1,"btn","col-6","place_order",3,"click"],[1,"no-order","order_confirmation","p-4","p-sm-4","p-md-4","p-lg-5",3,"ngClass"],[1,"bannner"],["src","assets/images/order_confirmed.png",1,"img-fluid"],[1,"text-center",2,"padding-bottom","30px"],["src","assets/images/logo.png",1,"img-fluid"],[1,"btn_box",2,"padding-top","25px"],[1,"row","no-gutter"],[1,"col-12","col-sm-12","col-md-12"],["type","button",1,"btn",3,"click"],["type","button",1,"btn_green",3,"click"],[1,"item_section","mt-4","mt-md-0"],[1,"item_section_header"],[1,"tab_btn_container"],[1,"search_box","animate__animated","animate__zoomIn","wow"],[1,"form-group","d-flex"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"zmdi","zmdi-search"],["type","search","name","search",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"tab-content"],["class","empty-view animate__animated animate__zoomIn wow",4,"ngIf"],["class","row no-gutters",4,"ngIf"],[1,"item-info",3,"ngClass"],["class","item-inner",4,"ngIf"],[3,"ngClass"],[2,"overflow","hidden"],[1,"row","g-0","mainRow","pt-lg-2"],[1,"col-12","col-md-6","col-lg-5","col-xl-4","cartCol"],[1,"cart"],["class","noItem px-lg-2",4,"ngIf"],["class","cartCantent",4,"ngIf"],["class","cart_footer p-3",4,"ngIf"],["class","cart_footer p-3","style","border-top:0 !important ;",4,"ngIf"],[1,"col-12","col-md-6","col-lg-7","col-xl-8","pe-0","itemsCol"],["infiniteScroll","",1,"search-results",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle"],["class","categoryRow pb-2",4,"ngIf"],[1,"pe-2","pe-lg-3"],[1,"form-group","search_box","mb-3"],[1,"input_box","d-flex","align-items-center","mb-0"],["src","assets/images/icons/ic_search_dark.svg",1,"light-theme"],["src","assets/images/icons/ic_search_wt.svg",1,"dark-theme"],["type","search","name","search",1,"form-control",3,"ngModelChange","keyup.enter","keyup","placeholder","ngModel"],[1,"tab_container"],[1,"item_container"],[2,"padding","0 !important"],["class","row g-3",4,"ngIf"],[1,"modal","sideModel","customeModal","itemInfoModal",3,"ngClass"],["role","document",1,"modal-dialog"],[1,"modal-content"],["class","modelContainer",4,"ngIf"],[1,"empty-view","animate__animated","animate__fadeInUp",2,"position","relative","top","150px"],[2,"text-align","center"],["src","assets/images/empty_orders.png"],[2,"color","#9E9E9E","font-weight","bold"],[1,"order_header"],[1,"row","align-items-center"],[1,"col-4"],[1,"col-2","text-center"],[1,"col-3","text-center"],[1,"col-3","text-right"],[1,"row"],["class","addOnTitle",4,"ngFor","ngForOf"],["class","addOnPrice",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"zmdi","zmdi-minus",3,"click"],[1,"zmdi","zmdi-plus",3,"click"],[1,"addOnTitle"],[1,"addOnPrice"],[1,"amount_details"],["class","d-flex text-right",4,"ngFor","ngForOf"],[1,"d-flex","text-right"],[1,"text"],[1,"mr-0","ml-auto"],[1,"amount_payble"],[1,"col-12","col-sm-12","col-md-6","col-lg-4"],[1,"select_box","w-100","d-flex","md-0"],["name","table",3,"ngModelChange","ngModel"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"zmdi","zmdi-caret-down"],[3,"value"],[1,"empty-view","animate__animated","animate__zoomIn","wow"],["src","assets/images/plc_item_image.png","alt","no offers"],[1,"row","no-gutters"],["class","col col-6 col-sm-6 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"col","col-6","col-sm-6","col-md-6","col-lg-4","col-xl-3"],[1,"item","animate__animated","animate__zoomIn","wow"],[1,"item_img","center_img",3,"click"],[1,"crop_img",3,"src"],[1,"text_box"],[1,"d-flex"],["src","assets/images/ic_veg.png",4,"ngIf"],["src","assets/images/ic_nonveg.png",4,"ngIf"],["class","d-block priceToShow",4,"ngIf"],[1,"d-block","ml-auto"],["src","assets/images/ic_veg.png"],["src","assets/images/ic_nonveg.png"],[1,"d-block","priceToShow"],[1,"item-inner"],[1,"popup-close-button",3,"click"],[1,"zmdi","zmdi-close"],[1,"item-about"],[1,"img_box","center_img"],[1,"text_box","d-flex"],[1,"d-flex","align-items-center","mr-0","ml-auto"],[4,"ngIf"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],["type","radio",1,"custom-control-input",3,"ngModelChange","click","name","id","value","ngModel","checked"],[1,"custom-control-label","w-100",3,"for"],[1,"align-items-center","d-flex","w-100",2,"top","4px"],["class","custom-control custom-checkbox d-flex px-0",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox","d-flex","px-0"],[1,"form-check","d-flex","align-items-center","w-100"],["type","checkbox",1,"custom-control-input",3,"click","name","value","id","checked"],[1,"align-items-center","d-flex","w-100"],[1,"text_box","w-100","d-flex"],[1,"btn_box","d-flex"],[1,"btn_box_inner","ml-auto","mr-0","animate__animated","animate__fadeInUp"],[3,"click"],[1,"repeat_last",3,"click"],[1,"custom-control-label","w-100"],[1,"noItem","px-lg-2"],[1,"noItemInner"],["src","assets/images/no_item.png",1,"img-fluid","col-9","mb-2"],[1,"pb-2",3,"innerHTML"],[1,"cartCantent"],[1,"table","customeTable","align-middle"],["class","animate__animated animate__fadeInUp",4,"ngFor","ngForOf"],[1,"payment_info"],["class","",4,"ngIf"],["scope","col",1,"text-start","itemName"],["scope","col",1,"text-start"],["scope","col",1,"text-center"],[1,"animate__animated","animate__fadeInUp"],[1,"text-start","itemName"],["class","d-block",4,"ngFor","ngForOf"],[1,"text-start","itemPrice"],[1,"text-start"],[1,"d-block"],[1,""],["class","d-flex",4,"ngFor","ngForOf"],[1,"end"],[1,"cart_footer","p-3"],[1,"row","align-items-center","g-3"],[1,"col-6","text-center","mx-auto"],[1,"btn","btn-clear",3,"click"],["class","col-6 text-center",4,"ngIf"],[1,"col-6","text-center"],[1,"btn",3,"click"],[1,"form_inner","p-2","p-lg-3","pb-0","pb-lg-0"],[1,"form-group","animate__animated","animate__fadeInUp"],[1,"row","g-3","align-items-center"],[1,"col-6"],[1,"form-check","radio"],["type","radio","id","takeaway","name","OrderType","value","takeaway","checked","",1,"form-check-input",3,"ngModelChange","ngModel"],["for","takeaway",1,"form-check-label"],["src","assets/images/type_takeaway.png",1,"end"],["type","radio","id","dinein","name","OrderType","value","dinein",1,"form-check-input",3,"ngModelChange","ngModel"],["for","dinein",1,"form-check-label"],["src","assets/images/type_dine_in.png",1,"end"],["class","form-group  select_box animate__animated animate__fadeInUp",4,"ngIf"],[1,"input_box"],["type","text",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"form-group","select_box","animate__animated","animate__fadeInUp"],["name","select_table",3,"ngModelChange","ngModel","placeholder","multiple"],[1,"cart_footer","p-3",2,"border-top","0 !important"],[1,"col-6","text-center",3,"click"],[1,"btn"],["src","assets/images/order-placed.png",1,"img-fluid","col-9","mb-2"],[1,"btn","btn-clear",2,"background","var(--bg-secondary) !important","color","var(--primary) !important",3,"click"],[1,"categoryRow","pb-2"],["drag-scroll-item","",3,"ngClass","click",4,"ngFor","ngForOf"],["drag-scroll-item","",3,"click","ngClass"],[1,"row","g-3"],[1,"col-6","col-md-6","col-lg-4","animate__animated","animate__fadeInUp"],[1,"item"],[1,"item_img","center_img","animate__animated","animate__zoomIn"],["count","1","appearance","line",2,"height","100%"],["count","1","appearance","line"],["class","col-6 col-md-6 col-lg-4 animate__animated animate__fadeInUp",4,"ngFor","ngForOf"],[1,"item",3,"click"],[1,"zmdi","zmdi-info"],[1,"foodType"],["src","assets/images/icons/food_veg.png",4,"ngIf"],["src","assets/images/icons/food_nonveg.png",4,"ngIf"],["src","assets/images/icons/food_veg.png"],["src","assets/images/icons/food_nonveg.png"],[1,"modelContainer"],[1,"modelHeader"],[1,"pageTitle","p-2","d-flex"],["src","assets/images/icons/ic_close_black.svg",1,"light-theme"],["src","assets/images/icons/ic_close_wt.svg",1,"dark-theme"],[1,"modelContent","p-2"],[1,"form_inner"],[1,"item-info"],[1,"text_box","px-2"],[1,"addOn","px-2"],["class","form-group",4,"ngFor","ngForOf"],[1,"modelFooter","p-3","px-lg-4"],[1,"row","align-items-centerg-0","animate__animated","animate__fadeInUp"],[1,"col-12","text-center"],["class","form-check radio mb-2",4,"ngFor","ngForOf"],[1,"form-check","radio","mb-2"],["type","radio",1,"form-check-input",2,"top","9px !important",3,"ngModelChange","click","name","id","value","ngModel","checked"],[1,"form-check-label","w-100",3,"for"],[1,"d-flex","w-100"],["class","form-check checkbox mb-2",4,"ngFor","ngForOf"],[1,"form-check","checkbox","mb-2"],["type","checkbox",1,"form-check-input",3,"click","name","value","id","checked"],[1,"form-check-label","d-flex",3,"for"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),se(6,"img",6),M(),se(7,"h2",7),K(8,"translate"),se(9,"h3",7),K(10,"translate"),M(),I(11,"div",8),he(12,$Ve,6,3,"div",9)(13,YVe,18,12,"div",10),I(14,"ul"),he(15,JVe,19,8,"li",11),M(),I(16,"div",12),he(17,t8e,2,1,"div",13)(18,n8e,7,5,"div",14),I(19,"div",15)(20,"div",16)(21,"button",17),ve("click",function(){return r.cancelCart()}),I(22,"a"),H(23),K(24,"translate"),M()(),he(25,i8e,4,3,"button",18),M()()()(),I(26,"div",19)(27,"form",20)(28,"h4",21),H(29),K(30,"translate"),I(31,"strong"),H(32),M()(),I(33,"div",22)(34,"label"),H(35),K(36,"translate"),M(),I(37,"div",23)(38,"div",24)(39,"div",25)(40,"input",26),Ze("ngModelChange",function(s){return Xe(r.order_type,s)||(r.order_type=s),s}),M(),I(41,"label",27)(42,"span",28),H(43),K(44,"translate"),M()()()(),I(45,"div",24)(46,"div",25)(47,"input",29),Ze("ngModelChange",function(s){return Xe(r.order_type,s)||(r.order_type=s),s}),M(),I(48,"label",30)(49,"span",28),H(50),K(51,"translate"),M()()()(),he(52,o8e,8,5,"div",31),M()(),I(53,"div",32)(54,"label"),H(55),K(56,"translate"),M(),I(57,"input",33),K(58,"translate"),Ze("ngModelChange",function(s){return Xe(r.customer_name,s)||(r.customer_name=s),s}),M()(),I(59,"div",32)(60,"input",34),K(61,"translate"),Ze("ngModelChange",function(s){return Xe(r.customer_number,s)||(r.customer_number=s),s}),M()()(),I(62,"div",35)(63,"div",15)(64,"div",16)(65,"button",17),ve("click",function(){return r.cancelOrder()}),I(66,"a"),H(67),K(68,"translate"),M()(),I(69,"button",36),ve("click",function(){return r.confirmOrder()}),I(70,"a"),H(71),K(72,"translate"),M()()()()()(),I(73,"div",37)(74,"div",38)(75,"div",5),se(76,"img",39),M(),I(77,"h2",40),H(78),K(79,"translate"),M(),I(80,"h3"),se(81,"img",41),M()(),I(82,"div",42)(83,"div",43)(84,"div",44)(85,"button",45),ve("click",function(){return r.printReceipt(r.order)}),I(86,"a"),H(87),K(88,"translate"),M()(),I(89,"button",46),ve("click",function(){return r.continue()}),I(90,"a"),H(91),K(92,"translate"),M()()()()()()()(),I(93,"div",47)(94,"div",48),se(95,"div",49),I(96,"form",50)(97,"div",51)(98,"div",52)(99,"div",53),se(100,"i",54),M()(),I(101,"input",55),K(102,"translate"),Ze("ngModelChange",function(s){return Xe(r.searchText,s)||(r.searchText=s),s}),ve("keyup.enter",function(){return r.search()}),M(),I(103,"button",45),ve("click",function(){return r.search()}),I(104,"a"),H(105),K(106,"translate"),M()()()()(),I(107,"div",56),he(108,s8e,6,3,"div",57)(109,d8e,2,1,"div",58),M()()(),I(110,"div",59),he(111,v8e,20,9,"div",60),M(),I(112,"div",61),he(113,w8e,28,15,"div",60),M()(),I(114,"div",1)(115,"form",62)(116,"div",63)(117,"div",64)(118,"div",65),he(119,b8e,8,6,"div",66)(120,M8e,8,4,"div",67)(121,F8e,7,4,"div",68)(122,k8e,44,31,"div",67)(123,N8e,10,6,"div",69)(124,R8e,9,6,"div",67)(125,L8e,10,6,"div",69),M()(),I(126,"div",70)(127,"div",71),ve("scrolled",function(){return r.onScrollDown()}),M(),he(128,H8e,3,1,"div",72),I(129,"div",73)(130,"div",74)(131,"div",75),se(132,"img",76)(133,"img",77),H(134," \xA0\xA0\xA0\xA0 "),I(135,"input",78),K(136,"translate"),Ze("ngModelChange",function(s){return Xe(r.searchText,s)||(r.searchText=s),s}),ve("keyup.enter",function(){return r.search()})("keyup",function(){return r.search()}),M()()(),I(137,"div",79),he(138,V8e,6,3,"div",57),I(139,"div",80)(140,"div",81),he(141,Q8e,28,0,"div",82)(142,z8e,2,1,"div",82),M()()()()()()()(),I(143,"ngb-modal-window",83)(144,"div",84)(145,"div",85),he(146,eQe,28,9,"div",86),M()()()),i&2&&(x(4),W("ngClass",r.showAddOrder?"active":""),x(3),W("innerHTML",z(8,58,"home_page_text"),wa),x(2),W("innerHTML",z(10,60,"home_page_text1"),wa),x(2),W("ngClass",r.showMyCart?"active":""),x(),W("ngIf",!r.eComService.getCartItems()||!r.eComService.getCartItems().length),x(),W("ngIf",r.eComService.getCartItems()&&r.eComService.getCartItems().length),x(2),W("ngForOf",r.eComService.getCartItems()),x(2),W("ngIf",r.eComService.getCartItems()&&r.eComService.getCartItems().length),x(),W("ngIf",r.eComService.getCartItems()&&r.eComService.getCartItems().length),x(5),de(z(24,62,"cancel")),x(2),W("ngIf",r.eComService.getCartItems()&&r.eComService.getCartItems().length),x(),W("ngClass",r.showPayment?"active":""),x(3),le("",z(30,64,"amount_to_Pay")," "),x(3),pn("",r.currency_icon,"",r.eComService.getCartTotal(!0),""),x(3),de(z(36,66,"order_type")),x(5),Ye("ngModel",r.order_type),x(3),de(z(44,68,"takeaway")),x(4),Ye("ngModel",r.order_type),x(3),de(z(51,70,"dinein")),x(2),W("ngIf",r.order_type=="dinein"),x(3),de(z(56,72,"customer_info")),x(2),nt("placeholder",z(58,74,"name")),Ye("ngModel",r.customer_name),x(3),nt("placeholder",z(61,76,"phone_number")),Ye("ngModel",r.customer_number),x(7),de(z(68,78,"cancel")),x(4),de(z(72,80,"submit")),x(2),W("ngClass",r.order&&r.order.show?"active":""),x(5),le(" ",z(79,82,"order_confirmed_with")," "),x(9),le(" ",z(88,84,"print_receipt"),""),x(4),le(" ",z(92,86,"continue"),""),x(10),nt("placeholder",z(102,88,"search_items")),Ye("ngModel",r.searchText),x(4),de(z(106,90,"search")),x(3),W("ngIf",!r.isLoading&&(!r.menuItemsToShow||!r.menuItemsToShow.menu_items||!r.menuItemsToShow.menu_items.length)),x(),W("ngIf",r.menuItemsToShow&&r.menuItemsToShow.menu_items&&r.menuItemsToShow.menu_items.length),x(),W("ngClass",r.showItem?"active":""),x(),W("ngIf",r.proToShow),x(),W("ngClass",r.addOnsLastUsed&&r.addOnsLastUsed.length?"item-info variation-selection active":"item-info variation-selection"),x(),W("ngIf",r.proToShow&&r.addOnsLastUsed&&r.addOnsLastUsed.length),x(6),W("ngIf",r.showAddOrder),x(),W("ngIf",r.showMyCart),x(),W("ngIf",r.showMyCart),x(),W("ngIf",r.showPayment),x(),W("ngIf",r.showPayment),x(),W("ngIf",r.order&&r.order.show),x(),W("ngIf",r.order&&r.order.show),x(2),W("infiniteScrollDistance",2)("infiniteScrollThrottle",300),x(),W("ngIf",r.profile&&r.profile.product_categories&&r.profile.product_categories.length),x(7),nt("placeholder",z(136,92,"what_are_you_looking_for")),Ye("ngModel",r.searchText),x(3),W("ngIf",!r.isLoading&&(!r.menuItemsToShow||!r.menuItemsToShow.menu_items||!r.menuItemsToShow.menu_items.length)),x(3),W("ngIf",r.isLoading&&!(r.menuItemsToShow&&r.menuItemsToShow.menu_items&&r.menuItemsToShow.menu_items.length)),x(),W("ngIf",r.menuItemsToShow&&r.menuItemsToShow.menu_items&&r.menuItemsToShow.menu_items.length),x(),W("ngClass",r.showItem?"show fade":""),x(3),W("ngIf",r.proToShow))},dependencies:[Fr,ti,En,ji,G$,K$,Hi,JM,XE,Vi,Qi,$i,Oi,dP,_u,Cc,bo,hP,aQ,Gn],styles:['.empty-view[_ngcontent-%COMP%]{width:fit-content;margin:auto;height:fit-content}.empty-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;margin:auto}.empty-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center}.cart[_ngcontent-%COMP%]{background:var(--bg-white);border-radius:10px;overflow:hidden;border:1.5px solid var(--border-line-color)}.cart[_ngcontent-%COMP%]   .noItem[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.cart[_ngcontent-%COMP%]   .noItem[_ngcontent-%COMP%]   .noItemInner[_ngcontent-%COMP%]{margin:10% 0;padding:20px}.cart[_ngcontent-%COMP%]   .noItem[_ngcontent-%COMP%]   .noItemInner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-dark);font-size:1.15rem;font-weight:600;margin:0;line-height:25px}.cart[_ngcontent-%COMP%]   .noItem[_ngcontent-%COMP%]   .noItemInner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-light2);font-size:.9rem;margin:0}.cart[_ngcontent-%COMP%]   table.customeTable[_ngcontent-%COMP%]{min-width:100%}.cart[_ngcontent-%COMP%]   table.customeTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px 10px!important;font-size:.8rem}.cart[_ngcontent-%COMP%]   table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:var(--bg-white)!important;--bs-table-bg: var(--bg-white) !important}.cart[_ngcontent-%COMP%]   table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 10px!important}.cart[_ngcontent-%COMP%]   table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8rem;line-height:normal}.cart[_ngcontent-%COMP%]   table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}.cart[_ngcontent-%COMP%]   table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 auto;display:flex;align-items:center;font-size:.87rem;font-weight:500;border-radius:50px;text-align:center;padding:1px 5px;background:var(--primary);min-width:fit-content;width:fit-content}.cart[_ngcontent-%COMP%]   table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:16px;color:var(--text-white);font-size:1.2rem;font-weight:300;display:block;line-height:25px;cursor:pointer}.cart[_ngcontent-%COMP%]   table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;min-width:25px;font-size:.7rem;color:var(--text-white);font-weight:500}.cart[_ngcontent-%COMP%]   table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.itemName[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-light);font-weight:400;line-height:12px;font-size:.6rem}.cart[_ngcontent-%COMP%]   table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.itemName[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]:first-of-type{padding-top:5px}.cart[_ngcontent-%COMP%]   table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.itemPrice[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-light);font-weight:400;line-height:12px;font-size:.6rem;display:block}.cart[_ngcontent-%COMP%]   table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.itemPrice[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]:first-of-type{padding-top:5px}.cart[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]{background:var(--bg-color);padding:5px 15px}.cart[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:1.5px dashed var(--border-line-color);color:var(--text-dark);font-size:.75rem;padding:8px 0;margin:0}.cart[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:fit-content}.cart[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{min-width:fit-content;font-size:1.2rem}.cart[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:last-of-type{border:0!important}.cart[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]   drag-scroll[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{width:105px;margin:0 4px}.cart[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--primary);font-weight:600;font-size:1.7rem}.cart[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{background:var(--item-bg);padding:0!important;position:relative;overflow:hidden;border-radius:5px}.cart[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check.radio[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{position:absolute;top:0!important;left:0!important;width:100%;height:100%;max-width:100%!important;max-height:100%!important;background:none;border:2px solid rgba(0,0,0,0)!important;border-radius:5px!important}.cart[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check.radio[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:before, .cart[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check.radio[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:after{display:none!important}.cart[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check.radio[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{border-color:var(--primary)!important}.cart[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:flex-end;margin:0;padding-top:10px}.cart[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:.75rem;padding:0 15px 20px}.cart[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-height:70px;max-width:70px}.cart[_ngcontent-%COMP%]   .cart_footer[_ngcontent-%COMP%]{background:var(--bg-white);border-top:1.5px solid var(--border-line-color)}.cart[_ngcontent-%COMP%]   .cart_footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.cart[_ngcontent-%COMP%]   .cart_footer[_ngcontent-%COMP%]   .btn.btn-clear[_ngcontent-%COMP%]{background:#ffd2d2!important;color:var(--red-color)!important;font-weight:600}.mainRow[_ngcontent-%COMP%]   .cartCol[_ngcontent-%COMP%], .mainRow[_ngcontent-%COMP%]   .itemsCol[_ngcontent-%COMP%]{padding:5px}.categoryRow[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{width:fit-content;background:var(--bg-color);position:relative;width:100%;height:80px;border-radius:8px;border:2px solid var(--bg-color)!important;transition:all .5s;cursor:pointer;min-width:105px;overflow:hidden;background:var(--bg-white)}.categoryRow[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;margin:auto;width:calc(100% + -0px);height:calc(100% + -0px);border:2px solid rgba(0,0,0,0)!important;border-radius:8px;transition:all .5s}.categoryRow[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;right:0;overflow:visible}.categoryRow[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.7rem;font-weight:600;color:#27292e;opacity:1;text-transform:unset;overflow:hidden;white-space:nowrap;line-height:normal;position:absolute;bottom:0;width:100%;padding:10px;text-align:justify}.categoryRow[_ngcontent-%COMP%]   .category.active[_ngcontent-%COMP%]:after{border-color:var(--primary)!important}.categoryRow[_ngcontent-%COMP%]   drag-scroll[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{width:105px;margin:0 4px}.form-group.search_box[_ngcontent-%COMP%]{margin:0}.form-group.search_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;min-width:16px}.form-group.search_box[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]{background:var(--bg-white);padding:2px 15px}.form-group.search_box[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.7rem;padding:0}.form-group.search_box[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-light)!important;font-weight:500}.form-group.search_box[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:var(--text-light)!important;font-weight:500}.form-group.search_box[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--text-light)!important;font-weight:500}.tab_container[_ngcontent-%COMP%]{margin-right:0;margin-left:auto;overflow:hidden;overflow-y:auto}.tab_container[_ngcontent-%COMP%]   .item_container[_ngcontent-%COMP%]{width:100%}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:8px;width:100%;background:var(--bg-white);cursor:pointer}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_img[_ngcontent-%COMP%]{width:100%;height:180px;border-radius:8px}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_img[_ngcontent-%COMP%]   ion-icon.zmdi-info[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;color:var(--text-white);font-size:1rem;z-index:99;background:#0000003b;text-align:center;min-width:23px;height:23px;line-height:24px;border-radius:50%;-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px)}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_img[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{display:none!important;position:absolute;bottom:0;left:0;width:100%;z-index:999}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_img[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.87rem;font-weight:500;text-align:center;width:calc(100% - 10px);margin:0 auto 17px!important}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_img[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;min-width:33.33%;max-width:33.33%;color:var(--text-white);font-size:1.5rem;font-weight:300;line-height:normal;position:relative}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_img[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin:0 2px;min-width:33.33%;max-height:33.33%}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_img[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{min-width:40px;min-height:40px;text-align:center;color:var(--text-white);background:var(--primary);font-size:1rem;border-radius:50%;display:block;margin:0 auto;line-height:40px;font-weight:500;width:fit-content}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_img[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;width:0;height:0;background:linear-gradient(0deg,#000,#0000);bottom:-27px;z-index:2}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]{padding:10px 9px;z-index:99}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:var(--text-black);font-weight:600;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-bottom:10px}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-light2);font-size:.75rem;font-weight:500}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .foodType[_ngcontent-%COMP%]{min-width:22px}.tab_container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .foodType[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:15px;min-width:15px}.tab_container[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]{background:var(--primary)}.tab_container[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   .item_img[_ngcontent-%COMP%]:after{width:100%;height:100%}.tab_container[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   .item_img[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{display:flex!important}.tab_container[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-white);font-weight:500}.tab_container[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-white);font-weight:400}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]{padding-top:50px!important}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:0;left:0;width:100%;height:calc(100% - 62px);background:var(--bg-white)}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelHeader[_ngcontent-%COMP%]{background:none!important}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelHeader[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{background:var(--bg-color);min-width:35px;height:35px;border-radius:50%;display:flex;align-items:center;margin:0;cursor:pointer}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelHeader[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:auto;width:18px}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]{background:var(--bg-white);border-radius:10px 10px 0 0;position:relative;z-index:9}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]{border-bottom:1.5px dashed var(--border-line-color)!important;padding-bottom:10px}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]{border-radius:10px;margin-bottom:10px;height:280px}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;left:0;width:100%;height:100%}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   .foodType[_ngcontent-%COMP%]{padding-bottom:10px}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   .foodType[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:15px}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.82rem;font-weight:600;padding-bottom:5px}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:fit-content}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-light2);font-size:.8rem}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.7rem;font-weight:500;letter-spacing:0}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .addOn[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{padding:10px 0 2px;margin-bottom:5px}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .addOn[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--text-light2);font-size:.9rem;margin:0;padding-bottom:7px}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .addOn[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-size:.82rem;font-weight:500;top:4px;position:relative}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .addOn[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:500}.itemInfoModal[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .addOn[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:fit-content}']})}}return n})();var tQe=()=>[1,2,3,4,5,6,7,8,9],nQe=(n,t,e)=>({itemsPerPage:n,currentPage:t,totalItems:e});function iQe(n,t){n&1&&(I(0,"tr",24)(1,"td",25)(2,"h3"),se(3,"ngx-skeleton-loader",26),M()(),I(4,"td",25)(5,"h3"),se(6,"ngx-skeleton-loader",26),M()(),I(7,"td",25)(8,"h3"),se(9,"ngx-skeleton-loader",26),M()(),I(10,"td",25)(11,"h3"),se(12,"ngx-skeleton-loader",26),M()(),I(13,"td",25)(14,"h3"),se(15,"ngx-skeleton-loader",26),M()(),I(16,"td",27)(17,"h3"),se(18,"ngx-skeleton-loader",28),M()()())}function rQe(n,t){n&1&&(I(0,"tbody"),he(1,iQe,19,0,"tr",23),M()),n&2&&(x(),W("ngForOf",Qr(1,tQe)))}function oQe(n,t){if(n&1){let e=We();I(0,"tr",24)(1,"td",25)(2,"h3"),H(3),M()(),I(4,"td",25)(5,"h3"),H(6),M()(),I(7,"td",25)(8,"h3")(9,"span"),H(10),se(11,"img",29)(12,"img",30),M()()(),I(13,"td",25)(14,"h3"),H(15),M()(),I(16,"td",25)(17,"h3"),H(18),M()(),I(19,"td",27)(20,"h3")(21,"div",31)(22,"a",32),ve("click",function(){let r=we(e).$implicit,o=te(2);return be(o.navItemDetail(r))}),se(23,"img",33),M(),I(24,"a",32),ve("click",function(){let r=we(e).$implicit,o=te(2);return be(o.alertDeleteProduct(r.id))}),se(25,"img",34),M()()()()()}if(n&2){let e=t.$implicit;x(3),le(" ",e.title," "),x(3),le(" ",e.categoriesText," "),x(4),le(" ",e.addon_groups&&e.addon_groups.length?e.addon_groups[0].addon_choices.length:0," "),x(5),le(" ",e.priceToShow," "),x(3),le(" ",e.vendor_products[0].sells_count," ")}}function sQe(n,t){if(n&1&&(I(0,"tbody"),he(1,oQe,26,5,"tr",23),K(2,"paginate"),M()),n&2){let e=te();x(),W("ngForOf",qs(2,1,e.products,el(4,nQe,e.pageSize,e.pageNo,e.pageTotal)))}}function aQe(n,t){n&1&&(I(0,"div",35)(1,"div",36),se(2,"img",37),I(3,"span",38),H(4),K(5,"translate"),M()()()),n&2&&(x(4),le(" ",z(5,1,"empty_results")," "))}function lQe(n,t){if(n&1){let e=We();I(0,"div",39)(1,"div",40)(2,"div",2)(3,"div",41)(4,"h2"),H(5),K(6,"translate"),K(7,"translate"),K(8,"translate"),K(9,"translate"),M()(),I(10,"div",41)(11,"nav",42)(12,"pagination-controls",43),K(13,"translate"),K(14,"translate"),ve("pageChange",function(r){we(e);let o=te();return be(o.onChangePage(r))}),M()()()()()()}if(n&2){let e=te();x(5),mc("",z(6,10,"showing")," ",e.pageNo," ",z(7,12,"to")," ",e.pageSize," ",z(8,14,"of")," ",e.pageTotal," ",z(9,16,"item")," "),x(7),W("responsive",!0)("previousLabel",z(13,18,""))("nextLabel",z(14,20,""))}}var Nae=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.translate=i,this.myEvent=r,this.uiElementService=o,this.apiService=s,this.confirmationDialogService=a,this.subscriptions=new Array,this.products=new Array,this.isLoading=!0,this.pageNo=1}ngOnInit(){this.profileMe=He.getProfile(),this.translate.get("loading").subscribe(e=>{this.products=[],this.loadProducts()})}ngOnDestroy(){for(let e of this.subscriptions)e.unsubscribe();this.uiElementService.dismissLoading()}loadProducts(){this.isLoading=!0,this.subscriptions.push(this.apiService.getProducts(this.profileMe.id,this.pageNo).subscribe(e=>this.productsRes(e),e=>this.productsErr(e)))}searchProducts(){this.subscriptions.push(this.apiService.getProducts(this.profileMe.id,this.pageNo,this.searchText).subscribe(e=>this.productsRes(e),e=>this.productsErr(e)))}alertDeleteProduct(e){this.translate.get(["delete_title","delete_message","no","yes"]).subscribe(i=>{this.confirmationDialogService.confirm(i.delete_title,i.delete_message,i.yes,i.no).then(r=>{r&&this.deleteProduct(e)}).catch(()=>{console.log("err")})})}deleteProduct(e){this.translate.get("deleting").subscribe(i=>{this.uiElementService.presentLoading(i),this.subscriptions.push(this.apiService.deleteProduct(e).subscribe(r=>{this.uiElementService.dismissLoading(),this.uiElementService.showSuccessToastr(this.translate.instant("delete_title"))},r=>{this.uiElementService.dismissLoading(),this.uiElementService.showErrorToastr(this.translate.instant("something_wrong"))}))})}productsRes(e){this.products=e.data,this.pageNo=e.meta.current_page,this.pageSize=e.meta.per_page,this.pageTotal=e.meta.total,this.uiElementService.dismissLoading(),this.isLoading=!1}productsErr(e){console.log("productsErr",e),this.uiElementService.dismissLoading(),this.isLoading=!1}onChangePage(e){this.pageNo=e,this.products=[],this.loadProducts()}navItemDetail(e){let i={state:{product:e,vendorId:this.profileMe.id}};this.router.navigate(["./upload_item"],i)}static{this.\u0275fac=function(i){return new(i||n)(ae(Un),ae(qn),ae(vs),ae(ui),ae(ni),ae(Ca))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-items"]],decls:50,vars:32,consts:[[1,"body_wrapper","p-2","p-lg-4"],[1,"pageTitle","pb-4"],[1,"row","align-items-center"],[1,"col-12","col-md-5","col-lg-4","col-xl-6","pb-2","pb-md-0"],[1,"col-12","col-md-9","col-lg-8","col-xl-6","pb-2","pb-md-0"],[1,"row","g-3","align-items-center","me-2"],[1,"col-12","col-md-7","col-lg-9","col-xl-9","end"],[1,"form-group","search_box"],[1,"input_box","d-flex","align-items-center","mb-0"],["src","assets/images/icons/ic_search_dark.svg",1,"light-theme"],["src","assets/images/icons/ic_search_wt.svg",1,"dark-theme"],["type","search","name","searchText",1,"form-control",3,"ngModelChange","keyup","placeholder","ngModel"],[1,"col-12","col-md-5","col-lg-3","col-xl-3"],["type","button",1,"btn",3,"click"],[1,"card","tableCard"],[1,"p-x-0"],[1,"scroll-x"],[1,"table","customeTable","align-middle"],["scope","col",1,"text-start"],["scope","col",1,"text-center"],[4,"ngIf"],["class","empty-view animate__animated animate__fadeInUp",4,"ngIf"],["class","pagination-container",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngFor","ngForOf"],[1,"animate__animated","animate__fadeInUp"],[1,"text-start"],["count","1","appearance","line",2,"width","90%"],[1,"text-center"],["count","1","appearance","line",1,"mx-auto",2,"width","50%"],["src","assets/images/icons/ic_list.svg",1,"light-theme"],["src","assets/images/icons/ic_list_wt.svg",1,"dark-theme"],[1,"btn_box"],[3,"click"],["src","assets/images/icons/ic_edit.svg"],["src","assets/images/icons/ic_trash.svg",2,"width","18px"],[1,"empty-view","animate__animated","animate__fadeInUp"],[2,"text-align","center"],["src","assets/images/plc_no_item.png","alt","no offers"],[2,"color","#9E9E9E","font-weight","bold"],[1,"pagination-container"],[1,"container-fluid"],[1,"col-12","col-md-6"],["aria-label","Page navigation example"],[1,"pagination","end",3,"pageChange","responsive","previousLabel","nextLabel"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),H(5),K(6,"translate"),M()(),I(7,"div",4)(8,"div",5)(9,"div",6)(10,"form")(11,"div",7)(12,"div",8),se(13,"img",9)(14,"img",10),H(15," \xA0\xA0\xA0\xA0 "),I(16,"input",11),K(17,"translate"),Ze("ngModelChange",function(s){return Xe(r.searchText,s)||(r.searchText=s),s}),ve("keyup",function(){return r.searchProducts()}),M()()()()(),I(18,"div",12)(19,"button",13),ve("click",function(){return r.navItemDetail(null)}),H(20),K(21,"translate"),M()()()()()(),I(22,"div",14)(23,"div",15)(24,"div",16)(25,"table",17)(26,"thead")(27,"tr")(28,"th",18),H(29),K(30,"translate"),M(),I(31,"th",18),H(32),K(33,"translate"),M(),I(34,"th",18),H(35),K(36,"translate"),M(),I(37,"th",18),H(38),K(39,"translate"),M(),I(40,"th",18),H(41),K(42,"translate"),M(),I(43,"th",19),H(44),K(45,"translate"),M()()(),he(46,rQe,2,2,"tbody",20)(47,sQe,3,8,"tbody",20),M()()()(),he(48,aQe,6,3,"div",21)(49,lQe,15,22,"div",22),M()),i&2&&(x(5),le(" ",z(6,14,"food_items")," "),x(11),nt("placeholder",z(17,16,"search")),Ye("ngModel",r.searchText),x(4),le(" + \xA0",z(21,18,"add_new")," "),x(9),le(" ",z(30,20,"item_name")," "),x(3),de(z(33,22,"category")),x(3),de(z(36,24,"add_ons")),x(3),de(z(39,26,"price")),x(3),de(z(42,28,"sales")),x(3),de(z(45,30,"action")),x(2),W("ngIf",r.isLoading&&!(r.products&&r.products.length)),x(),W("ngIf",!r.isLoading&&r.products&&r.products.length),x(),W("ngIf",!r.isLoading&&!(r.products&&r.products.length)),x(),W("ngIf",r.pageTotal>r.pageSize))},dependencies:[ti,En,ji,Hi,Vi,Qi,$i,Oi,vu,bo,Gn,mu],styles:[".empty-view[_ngcontent-%COMP%]{width:fit-content;margin:25px auto auto;height:fit-content;max-width:calc(100% - 30px)}.empty-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;margin:auto}.empty-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center}table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]{display:flex;align-items:center;width:fit-content;margin:0 auto}table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 5px}"]})}}return n})();function cQe(n,t){if(n&1&&(I(0,"ng-option",23),H(1),M()),n&2){let e=t.$implicit;W("value",e.callingCodes[0]),x(),le(" ",e.name," ")}}var Rae=(()=>{class n{constructor(e,i,r,o,s,a,l){this.config=e,this.myEvent=i,this.router=r,this.uiElementService=o,this.apiService=s,this.translate=a,this.confirmationDialogService=l,this.countryCode=""}ngOnDestroy(){}ngOnInit(){this.apiService.getCountries().subscribe(e=>this.countries=e),this.changeHint(),this.config.demoMode&&!He.getLoggedInUser()&&this.openDemoLogin()}openDemoLogin(){this.countryCode=this.config.demoLoginCredentials.country,setTimeout(()=>this.phoneNumber=this.config.demoLoginCredentials.phoneNumber,500),this.translate.get(["demo_login_title","demo_login_message","okay"]).subscribe(e=>{this.confirmationDialogService.confirm(e.demo_login_title,e.demo_login_message,e.yes).then(i=>{}).catch(()=>{console.log("err")})})}changeHint(){this.phoneNumber="",this.countryCode&&this.countryCode.length?this.translate.get("enter_phone_number_exluding").subscribe(e=>this.phoneNumberHint=e+" (+"+this.countryCode+")"):this.translate.get("enter_phone_number").subscribe(e=>this.phoneNumberHint=e)}alertPhone(){if(!this.countryCode||!this.countryCode.length){this.translate.get("select_country").subscribe(e=>this.uiElementService.showErrorToastr(e));return}if(!this.phoneNumber||!this.phoneNumber.length){this.uiElementService.showErrorToastr(this.phoneNumberHint);return}this.translate.get(["alert_phone","no","yes"]).subscribe(e=>{this.phoneNumberFull="+"+this.countryCode+He.formatPhone(this.phoneNumber),this.confirmationDialogService.confirm(this.phoneNumberFull,e.alert_phone,e.yes,e.no).then(i=>{i&&this.checkIfExists()}).catch(()=>{console.log("err")})})}checkIfExists(){this.translate.get("just_moment").subscribe(e=>{this.uiElementService.presentLoading(e),this.apiService.autheticationDelegations({identifier:this.phoneNumberFull,type:et.ROLE_DESK}).subscribe(i=>{this.uiElementService.dismissLoading();let r={queryParams:{phoneNumberFull:this.phoneNumberFull,isDemoNumber:this.config.demoMode&&this.phoneNumber==this.config.demoLoginCredentials.phoneNumber}};this.router.navigate(["./verification"],r)},i=>{console.log(i),this.uiElementService.dismissLoading(),this.translate.get("invalid_credentials").subscribe(r=>this.uiElementService.showErrorToastr(r))})})}static{this.\u0275fac=function(i){return new(i||n)(ae(Xr),ae(vs),ae(Un),ae(ui),ae(ni),ae(qn),ae(Ca))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-login"]],decls:35,vars:24,consts:[["id","page_sign_in",1,"body-inner"],[1,"row"],[1,"col-12","col-sm-6","col-md-7","col-lg-8"],[1,"banner"],[1,"logo"],["src","assets/images/logo.png",1,"light-theme"],["src","assets/images/logo_wt.png",1,"dark-theme"],[1,"banner_img"],["src","assets/images/sign-in-banner.png",1,"animate__animated","animate__fadeInUp"],[1,"col-12","col-sm-6","col-md-5","col-lg-4"],["action","dashboard.html",1,"col-12","col-xl-11","mx-auto","px-0"],[1,"col-11","col-lg-11","mx-auto","px-0"],[1,"form_inner"],[1,"pb-3","pb-lg-3","m-0","mb-lg-2","animate__animated","animate__fadeInUp"],[1,"form-group","select_box","animate__animated","animate__fadeInUp"],["for","exampleInputPassword1"],["name","countryCode",3,"ngModelChange","placeholder","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","animate__animated","animate__fadeInUp"],["for","exampleInputEmail1"],[1,"input_box","d-flex","align-items-center"],["type","tel","name","phoneNumber","required","",3,"ngModelChange","ngModel","placeholder"],[1,"btn","rounded","animate__animated","animate__fadeInUp","w-100",3,"click"],[3,"value"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),se(5,"img",5)(6,"img",6),M(),I(7,"div",7),se(8,"img",8),M()()(),I(9,"div",9)(10,"form",10)(11,"div",11)(12,"div",12)(13,"h2",13),H(14),K(15,"translate"),M(),I(16,"div",14)(17,"label",15),H(18),K(19,"translate"),M(),I(20,"ng-select",16),K(21,"translate"),Ze("ngModelChange",function(s){return Xe(r.countryCode,s)||(r.countryCode=s),s}),he(22,cQe,2,2,"ng-option",17),M()(),I(23,"div",18)(24,"label",19),H(25),M(),I(26,"div",20)(27,"input",21),K(28,"translate"),Ze("ngModelChange",function(s){return Xe(r.phoneNumber,s)||(r.phoneNumber=s),s}),M()(),I(29,"h4"),H(30),K(31,"translate"),M()(),I(32,"button",22),ve("click",function(){return r.alertPhone()}),H(33),K(34,"translate"),M()()()()()()()),i&2&&(x(14),le(" ",z(15,12,"enter_registered_phone_number_to_start_to_continue")," "),x(4),de(z(19,14,"select_country")),x(2),zn("selected-option",r.countryCode),nt("placeholder",z(21,16,"select_country")),Ye("ngModel",r.countryCode),x(2),W("ngForOf",r.countries),x(3),de(r.phoneNumberHint),x(2),nt("placeholder",z(28,18,"enter_phone_number")),Ye("ngModel",r.phoneNumber),x(3),le(" ",z(31,20,"We_ll_send_verification_code_on_above_given_number")," "),x(3),le(" ",z(34,22,"continue")," "))},dependencies:[ti,ji,Hi,Vi,Qi,X0,$i,Oi,_u,Cc,Gn],styles:['.body-inner[_ngcontent-%COMP%]{padding:0;background:var(--bg-white);min-height:100vh}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:0}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{padding:0}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{position:relative;z-index:99;background:url("./media/sign-in-bg-RJPLQJVK.png");background-size:cover;background-position:center;background-repeat:no-repeat}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;z-index:99}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:9% auto;display:block;width:120px}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner_img[_ngcontent-%COMP%]{width:100%;margin:0 auto}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;max-width:280px}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative;background:var(--bg-white)}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]{padding:20px 0 30px}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.95rem;padding-bottom:15px;font-weight:600;line-height:25px}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.65rem;color:var(--text-light);margin:0;padding-top:11px}']})}}return n})();var lQ=Ri(zv()),Lae=Ri(eS());var uQe=()=>[1,2,3,4,5,6,7,8,9];function dQe(n,t){n&1&&(I(0,"div",7)(1,"div",8)(2,"div",9)(3,"h2"),se(4,"ngx-skeleton-loader",10),I(5,"span"),se(6,"ngx-skeleton-loader",11),M()(),I(7,"h3",12),se(8,"ngx-skeleton-loader",13),M()(),I(9,"div",14)(10,"h4"),se(11,"ngx-skeleton-loader",15),M()(),I(12,"div",14)(13,"h4"),se(14,"ngx-skeleton-loader",10),M()(),I(15,"div",14)(16,"h4"),se(17,"ngx-skeleton-loader",16),M()(),I(18,"div",14)(19,"h4"),se(20,"ngx-skeleton-loader",11),M()()()())}function hQe(n,t){n&1&&(I(0,"div"),he(1,dQe,21,0,"div",6),M()),n&2&&(x(),W("ngForOf",Qr(1,uQe)))}function fQe(n,t){if(n&1&&(I(0,"span"),H(1),M()),n&2){let e=t.$implicit;x(),de(e.addon_choice.title)}}function pQe(n,t){if(n&1&&(I(0,"div",21)(1,"h3",22),H(2),M(),I(3,"h4"),H(4),he(5,fQe,2,1,"span",23),M()()),n&2){let e=t.$implicit;W("ngClass",e.done==!0?"item order_done":"item"),x(2),le(" ",e.quantity," "),x(2),le("",e==null?null:e.vendor_product.product.title," "),x(),W("ngForOf",e.addon_choices)}}function AQe(n,t){if(n&1&&(I(0,"div",18)(1,"div",8)(2,"div",9)(3,"h2"),H(4),K(5,"translate"),I(6,"span"),H(7),K(8,"translate"),M()(),I(9,"h3",19),H(10),M()(),he(11,pQe,6,4,"div",20),M()()),n&2){let e=t.$implicit;W("ngClass",e.colorProgress=="green_time"?"active2":e.colorProgress=="yellow_time"?"":"active1"),x(4),le("",z(5,6,e.order_type)," "),x(3),pn("",z(8,8,"order_num")," ",e.id,""),x(3),de(e.showOrderPalceTime),x(),W("ngForOf",e.products)}}function gQe(n,t){if(n&1&&(I(0,"div"),he(1,AQe,12,10,"div",17),M()),n&2){let e=te();x(),W("ngForOf",e.orders)}}function mQe(n,t){n&1&&(I(0,"div",24)(1,"div",25),se(2,"img",26),I(3,"span",27),H(4),K(5,"translate"),M()()()),n&2&&(x(4),le(" ",z(5,1,"empty_orders")," "))}var Uae=(()=>{class n{constructor(e,i,r){this.translate=e,this.uiElementService=i,this.apiService=r,this.showOrder="accepted",this.subscriptions=new Array,this.orders=new Array,this.isLoading=!0,this.pageNo=1}ngOnInit(){this.profile=He.getProfile(),this.myOrdersRef=lQ.default.database().ref("vendors").child(String(this.profile.id)).child("orders"),this.translate.get("loading").subscribe(e=>{this.uiElementService.presentLoading(e),this.getOrders(this.showOrder)})}ngOnDestroy(){this.unRegisterUpdates();for(let e of this.subscriptions)e.unsubscribe();this.uiElementService.dismissLoading(),clearInterval(this.startTimmer)}getOrders(e){this.apiService.getOrders(this.profile.id,this.pageNo,"",e).subscribe(i=>{this.ordersRes(i)},i=>{this.ordersErr(i)})}ordersRes(e){this.startTimmer=setInterval(()=>{this.profile=He.getProfile(),this.countLength=0;for(let i of e.data)this.setupColorProgress(i);this.registerUpdates()},1e3),this.isLoading=!1,this.orders=this.orders.concat(e.data),console.log("orders",this.orders),this.nextUrl=e.links.next,this.pageNo=e.meta.current_page,this.pageSize=e.meta.per_page,this.pageTotal=e.meta.total,this.uiElementService.dismissLoading()}setupColorProgress(e){var i=(0,Lae.default)().toDate().getTime()-e.created_at_milliseconds;this.profile&&this.profile.meta&&this.profile.meta.green_time&&this.profile.meta.yellow_time&&this.profile.meta.red_time&&(i<=Number(this.profile.meta.green_time)?e.colorProgress="green_time":i<=Number(this.profile.meta.yellow_time)?e.colorProgress="yellow_time":(e.colorProgress="red_time",this.countLength++)),e.showOrderPalceTime=this.msToTime(i)}msToTime(e){var i=Math.floor(e/1e3%60),r=Math.floor(e/(1e3*60)%60),o=Math.floor(e/(1e3*60*60)%24),s=o<10?"0"+o:o,a=r<10?"0"+r:r,l=i<10?"0"+i:i;return s+":"+a+":"+l}ordersErr(e){console.log("productsErr",e),this.isLoading=!1,this.uiElementService.dismissLoading()}onScrollDown(){this.nextUrl!=null&&this.subscriptions.push(this.apiService.getURL(this.nextUrl).subscribe(e=>{if(e&&e.data&&e.data.length)for(let i of e.data)this.apiService.setupProduct(i);this.ordersRes(e)},e=>this.ordersErr(e)))}addFireOrder(e){if(e.status!="new"&&this.showOrder!="active")return;let i=-1;if(this.orders.length){for(let r=0;r<this.orders.length;r++)if(this.orders[r].id==e.id){i=r;break}}this.apiService.setupOrder(e),i==-1?this.orders.unshift(e):this.orders[i]=e}updateStatusOnId(e,i){let r=-1;for(let o=0;o<this.orders.length;o++)if(this.orders[o].id==e){r=o;break}if(r!=-1){if(this.orders[r].status=i.status,i.delivery!=null){i.delivery.delivery.user.image_url="assets/images/empty_dp",(!i.delivery.delivery.user.mediaurls||!i.delivery.delivery.user.mediaurls.images)&&(i.delivery.delivery.user.mediaurls={images:[]});for(let o of i.delivery.delivery.user.mediaurls.images)if(o.default){i.delivery.delivery.user.image_url=o.default;break}this.orders[r].delivery=i.delivery}this.orders.unshift(this.orders.splice(r,1)[0])}}addUpdateFireMenuItemsRef(e){let i=-1,r=-1;if(this.orders&&this.orders.length)for(let o=0;o<this.orders.length;o++){for(let s=0;s<this.orders[o].products.length;s++)if(this.orders[o].products[s].id==e.order_product_id){i=o,r=s;break}if(i!=-1&&r!=-1)break}i!=-1&&r!=-1&&(this.orders[i].products[r].done=e.done)}registerUpdates(){let e=this;this.myMenuItemsRef==null&&(this.myMenuItemsRef=lQ.default.database().ref("fire_app").child("order_products"),this.myMenuItemsRef.on("child_added",function(i){var r=i.val();console.log("child_added",r),r!=null&&e.addUpdateFireMenuItemsRef(r)}),this.myMenuItemsRef.on("child_changed",function(i){var r=i.val();console.log("child_changed",r),r!=null&&e.addUpdateFireMenuItemsRef(r)}))}unRegisterUpdates(){this.myOrdersRef!=null&&(this.myOrdersRef.off(),this.myOrdersRef=null),this.myMenuItemsRef!=null&&(this.myMenuItemsRef.off(),this.myMenuItemsRef=null)}static{this.\u0275fac=function(i){return new(i||n)(ae(qn),ae(ui),ae(ni))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-orders-status"]],decls:10,vars:8,consts:[[1,"body_wrapper","p-2","p-lg-4"],["infiniteScroll","",1,"search-results",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle"],[1,"pageTitle","pb-4"],[1,"order_container"],[4,"ngIf"],["class","empty-view animate__animated animate__fadeInUp wow",4,"ngIf"],["class","order animate__animated animate__zoomIn wow active2",4,"ngFor","ngForOf"],[1,"order","animate__animated","animate__zoomIn","wow","active2"],[1,"order_inner"],[1,"order_header","d-flex","align-items-start"],["count","1","appearance","line",2,"width","80%"],["count","1","appearance","line",2,"width","40%"],[1,"end",2,"min-width","60px"],["count","1","appearance","line",2,"width","100%"],[1,"item","order_done","d-block"],["count","1","appearance","line",2,"width","90%"],["count","1","appearance","line",2,"width","60%"],["class","order animate__animated animate__zoomIn wow",3,"ngClass",4,"ngFor","ngForOf"],[1,"order","animate__animated","animate__zoomIn","wow",3,"ngClass"],[1,"end"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["id","rating_active_4",1,"ion-text-start"],[4,"ngFor","ngForOf"],[1,"empty-view","animate__animated","animate__fadeInUp","wow"],[2,"text-align","center"],["src","assets/images/plc_no_item.png","alt","no offers"],[2,"color","#9E9E9E","font-weight","bold"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1),ve("scrolled",function(){return r.onScrollDown()}),M(),I(2,"div",2)(3,"h1"),H(4),K(5,"translate"),M()(),I(6,"div",3),he(7,hQe,2,2,"div",4)(8,gQe,2,1,"div",4),M(),he(9,mQe,6,3,"div",5),M()),i&2&&(x(),W("infiniteScrollDistance",2)("infiniteScrollThrottle",300),x(3),le(" ",z(5,6,"orders_status")," "),x(3),W("ngIf",r.isLoading&&!(r.orders&&r.orders.length)),x(),W("ngIf",!r.isLoading&&r.orders&&r.orders.length),x(),W("ngIf",!r.isLoading&&!(r.orders&&r.orders.length)))},dependencies:[Fr,ti,En,dP,bo,Gn],styles:['.order_container[_ngcontent-%COMP%]{padding:0;column-count:5;column-gap:10px}.order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]{display:inline-block;width:100%;margin-bottom:20px}.order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]{background:var(--bg-white);position:relative;width:100%;padding-bottom:10px}.order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]   .order_header[_ngcontent-%COMP%]{background:#f3aa1b;color:var(--text-white);padding:13px 12px;margin-bottom:15px}.order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]   .order_header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:500;width:100%}.order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]   .order_header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-weight:400;font-size:.85rem;padding-top:8px;opacity:.8;letter-spacing:.5px}.order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]   .order_header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;min-width:fit-content;margin-top:0;margin-bottom:0;font-weight:400}.order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:10px 13px;width:100%}.order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:.8rem;min-width:20px;line-height:15px;color:var(--text-dark);position:relative}.order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:.8rem;font-weight:600;color:var(--text-dark)}.order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-weight:500;padding-top:7px;font-size:.7rem}.order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-14px;left:0;width:100%;height:14px;background:url("./media/card_zigzag-5DYLTIIZ.png");background-size:209px;background-repeat:no-repeat;background-repeat:repeat-x}.order_container[_ngcontent-%COMP%]   .order.active2[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]   .order_header[_ngcontent-%COMP%]{background:var(--secondary)}.order_container[_ngcontent-%COMP%]   .order.active1[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]   .order_header[_ngcontent-%COMP%]{background:var(--red-color)}.order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]   .item.order_done[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]   .item.order_done[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .order_container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .order_inner[_ngcontent-%COMP%]   .item.order_done[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-decoration:line-through;color:var(--text-light);font-weight:500}']})}}return n})();var Hae=(()=>{class n{constructor(e){this.router=e,this.time=30,this.i=0,this.digit={one:1,two:2,three:3},this.loop3=setInterval(()=>{this.i>5?(clearInterval(this.loop3),this.digit.one=4):(this.digit.one=this.randomNum(),this.i++)},this.time),this.loop2=setInterval(()=>{this.i>80?(clearInterval(this.loop2),this.digit.two=0):(this.digit.two=this.randomNum(),this.i++)},this.time),this.loop1=setInterval(()=>{this.i>100?(clearInterval(this.loop1),this.digit.three=4):(this.digit.three=this.randomNum(),this.i++)},this.time)}randomNum(){"use strict";return Math.floor(Math.random()*9)+1}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)(ae(Un))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-page-not-found"]],decls:12,vars:0,consts:[["id","not-found"],["id","title"],[1,"circles"],[1,"circle","big"],[1,"circle","med"],[1,"circle","small"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1),H(2,"Simple Pure CSS3 \u2022 404 Error Page"),M(),I(3,"div",2)(4,"p"),H(5,"404"),se(6,"br"),I(7,"small"),H(8,"PAGE NOT FOUND"),M()(),se(9,"span",3)(10,"span",4)(11,"span",5),M()())},styles:['@font-face{font-family:Raleway;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCAIT5lu.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Raleway;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCkIT5lu.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Raleway;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCIIT5lu.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Raleway;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCMIT5lu.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Raleway;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyC0ITw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Raleway;font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCAIT5lu.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Raleway;font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCkIT5lu.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Raleway;font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCIIT5lu.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Raleway;font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyCMIT5lu.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Raleway;font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/raleway/v36/1Ptug8zYS_SKggPNyC0ITw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}body[_ngcontent-%COMP%]{width:100%;height:100%;background:#48a9e6;font-family:Raleway,sans-serif;font-weight:300;margin:0;padding:0}#title[_ngcontent-%COMP%]{text-align:center;font-size:40px;margin-top:40px;margin-bottom:-40px;position:relative;color:#fff}.circles[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:100%;height:100px;background:#fff;position:absolute;top:0;left:0;transform:skewY(-4deg);-webkit-transform:skewY(-4deg)}.circles[_ngcontent-%COMP%]{background:#fff;text-align:center;position:relative;margin-top:-60px}.circles[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:240px;color:#000;padding-top:60px;position:relative;z-index:9;line-height:100%}.circles[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:40px;line-height:100%;vertical-align:top}.circles[_ngcontent-%COMP%]   .circle.small[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:50%;background:#2abdd9;position:absolute;z-index:1;top:80px;left:50%;animation:7s _ngcontent-%COMP%_smallmove infinite cubic-bezier(1,.22,.71,.98);-webkit-animation:7s _ngcontent-%COMP%_smallmove infinite cubic-bezier(1,.22,.71,.98);animation-delay:1.2s;-webkit-animation-delay:1.2s}.circles[_ngcontent-%COMP%]   .circle.med[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;background:#e74bb4;position:absolute;z-index:1;top:0;left:10%;animation:7s _ngcontent-%COMP%_medmove infinite cubic-bezier(.32,.04,.15,.75);-webkit-animation:7s _ngcontent-%COMP%_medmove infinite cubic-bezier(.32,.04,.15,.75);animation-delay:.4s;-webkit-animation-delay:.4s}.circles[_ngcontent-%COMP%]   .circle.big[_ngcontent-%COMP%]{width:400px;height:400px;border-radius:50%;background:#79c20e;position:absolute;z-index:1;top:200px;right:0;animation:8s _ngcontent-%COMP%_bigmove infinite;-webkit-animation:8s _ngcontent-%COMP%_bigmove infinite;animation-delay:3s;-webkit-animation-delay:1s}@-webkit-keyframes _ngcontent-%COMP%_smallmove{0%{top:10px;left:45%;opacity:1}25%{top:300px;left:40%;opacity:.7}50%{top:240px;left:55%;opacity:.4}75%{top:100px;left:40%;opacity:.6}to{top:10px;left:45%;opacity:1}}@keyframes _ngcontent-%COMP%_smallmove{0%{top:10px;left:45%;opacity:1}25%{top:300px;left:40%;opacity:.7}50%{top:240px;left:55%;opacity:.4}75%{top:100px;left:40%;opacity:.6}to{top:10px;left:45%;opacity:1}}@-webkit-keyframes _ngcontent-%COMP%_medmove{0%{top:0;left:20%;opacity:1}25%{top:300px;left:80%;opacity:.7}50%{top:240px;left:55%;opacity:.4}75%{top:100px;left:40%;opacity:.6}to{top:0;left:20%;opacity:1}}@keyframes _ngcontent-%COMP%_medmove{0%{top:0;left:20%;opacity:1}25%{top:300px;left:80%;opacity:.7}50%{top:240px;left:55%;opacity:.4}75%{top:100px;left:40%;opacity:.6}to{top:0;left:20%;opacity:1}}@-webkit-keyframes _ngcontent-%COMP%_bigmove{0%{top:0;right:4%;opacity:.5}25%{top:100px;right:40%;opacity:.4}50%{top:240px;right:45%;opacity:.8}75%{top:100px;right:35%;opacity:.6}to{top:0;right:4%;opacity:.5}}@keyframes _ngcontent-%COMP%_bigmove{0%{top:0;right:4%;opacity:.5}25%{top:100px;right:40%;opacity:.4}50%{top:240px;right:45%;opacity:.8}75%{top:100px;right:35%;opacity:.6}to{top:0;right:4%;opacity:.5}}']})}}return n})();var Xx=class{constructor(){this.meta={countryCode:null,phoneNumber:null}}};var vQe=(n,t,e)=>({itemsPerPage:n,currentPage:t,totalItems:e}),_Qe=()=>[1,2,3,4,5,6,7,8,9];function yQe(n,t){n&1&&(I(0,"tr",34)(1,"td",35)(2,"h3"),se(3,"ngx-skeleton-loader",36),M()(),I(4,"td",35)(5,"h3"),se(6,"ngx-skeleton-loader",37),M()(),I(7,"td",35)(8,"h3"),se(9,"ngx-skeleton-loader",38),M()(),I(10,"td",35)(11,"h3"),se(12,"ngx-skeleton-loader",37),M()(),I(13,"td",39)(14,"h3"),se(15,"ngx-skeleton-loader",40),M()()())}function wQe(n,t){n&1&&(I(0,"tbody"),he(1,yQe,16,0,"tr",13),M()),n&2&&(x(),W("ngForOf",Qr(1,_Qe)))}function bQe(n,t){if(n&1){let e=We();I(0,"tr",34)(1,"td",35)(2,"h3"),H(3),M()(),I(4,"td",35)(5,"h3"),H(6),M()(),I(7,"td",35)(8,"h3"),H(9),M()(),I(10,"td",35)(11,"h3"),H(12),M()(),I(13,"td",39)(14,"h3")(15,"a",41),ve("click",function(){let r=we(e).$implicit,o=te();return be(o.editCustomer(r))}),se(16,"img",42),M()()()()}if(n&2){let e=t.$implicit;x(3),le(" ",e.customer_name," "),x(3),le(" ",e.customer_mobile," "),x(3),le(" ",e.customer_email," "),x(3),le(" ",e.created_at," ")}}function CQe(n,t){n&1&&(I(0,"div",43)(1,"div",44),se(2,"img",45),I(3,"span",46),H(4),K(5,"translate"),M()()()),n&2&&(x(4),le(" ",z(5,1,"empty_customers")," "))}function EQe(n,t){if(n&1){let e=We();I(0,"div",47)(1,"div",48)(2,"div",2)(3,"div",49)(4,"h2"),H(5),K(6,"translate"),K(7,"translate"),K(8,"translate"),K(9,"translate"),M()(),I(10,"div",49)(11,"nav",50)(12,"pagination-controls",51),K(13,"translate"),K(14,"translate"),ve("pageChange",function(r){we(e);let o=te();return be(o.onChangePage(r))}),M()()()()()()}if(n&2){let e=te();x(5),mc("",z(6,10,"showing")," ",e.pageNo," ",z(7,12,"to")," ",e.pageSize," ",z(8,14,"of")," ",e.pageTotal," ",z(9,16,"item")," "),x(7),W("responsive",!0)("previousLabel",z(13,18,""))("nextLabel",z(14,20,""))}}function SQe(n,t){n&1&&(I(0,"h1"),H(1),K(2,"translate"),M()),n&2&&(x(),le("",z(2,1,"edit_customer")," "))}function xQe(n,t){n&1&&(I(0,"h1"),H(1),K(2,"translate"),M()),n&2&&(x(),le("",z(2,1,"add_customer")," "))}function IQe(n,t){n&1&&(I(0,"span"),H(1),K(2,"translate"),M()),n&2&&(x(),le("",z(2,1,"edit_customer")," "))}function TQe(n,t){n&1&&(I(0,"span"),H(1),K(2,"translate"),M()),n&2&&(x(),le("",z(2,1,"add_customer")," "))}var Vae=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.translate=i,this.uiElementService=r,this.apiService=o,this.confirmationDialogService=s,this.subscriptions=new Array,this.isLoading=!0,this.customers=new Array,this.pageNo=1,this.readAllText=!1,this.customerRequest=new Xx,this.toggleClass=!1}ngOnInit(){this.translate.get("loading").subscribe(e=>{this.loadCustomers()})}loadCustomers(){this.isLoading=!0,this.subscriptions.push(this.apiService.getCustomers(He.getProfile().id,this.pageNo).subscribe(e=>this.customersRes(e),e=>this.customersErr(e)))}ngOnDestroy(){for(let e of this.subscriptions)e.unsubscribe();this.uiElementService.dismissLoading(),this.dismissModel()}onChangePage(e){this.pageNo=e,this.customers=[],this.translate.get("loading").subscribe(i=>{this.loadCustomers()})}search(){this.subscriptions.push(this.apiService.getCustomers(He.getProfile().id,this.pageNo,this.searchText).subscribe(e=>this.customersRes(e),e=>this.customersErr(e)))}read(){this.readAllText=!this.readAllText}customersRes(e){this.customers=e.data,this.isLoading=!1,this.pageNo=e.meta.current_page,this.pageSize=e.meta.per_page,this.pageTotal=e.meta.total,this.uiElementService.dismissLoading()}customersErr(e){console.log("productsErr",e),this.uiElementService.dismissLoading(),this.isLoading=!1}addNewCustomer(){$("#add_people").modal({backdrop:"static",keyboard:!1}),this.customerRequest=new Xx,this.customerRequest.meta.countryCode="",this.customerId=null,this.countries||this.apiService.getCountries().subscribe(e=>this.countries=e),this.changeHint(!1),this.toggleClass=!0}dismissModel(){$("#add_people").modal("hide"),this.toggleClass=!1}handleKeyboardEvent(e){e.key==="Escape"&&(this.toggleClass=!1)}editCustomer(e){e&&($("#add_people").modal({backdrop:"static",keyboard:!1}),this.countries||this.apiService.getCountries().subscribe(i=>this.countries=i),e.id&&(this.customerId=e.id),e.customer_name&&(this.customerRequest.customer_name=e.customer_name),e.customer_mobile&&(this.customerRequest.customer_mobile=e.customer_mobile),e.customer_email&&(this.customerRequest.customer_email=e.customer_email),e.vendor_id&&(this.customerRequest.vendor_id=e.vendor_id),e.meta&&e.meta.countryCode&&(this.customerRequest.meta.countryCode=e.meta.countryCode),e.meta&&e.meta.phoneNumber&&(this.customerRequest.meta.phoneNumber=e.meta.phoneNumber),this.changeHint(!0),this.toggleClass=!0)}changeHint(e){this.customerRequest.meta.phoneNumber=e?this.customerRequest.meta.phoneNumber:null,this.customerRequest.meta.countryCode&&this.customerRequest.meta.countryCode.length?this.translate.get("enter_phone_number_exluding").subscribe(i=>this.phoneNumberHint=i+" (+"+this.customerRequest.meta.countryCode+")"):this.translate.get("enter_phone_number").subscribe(i=>this.phoneNumberHint=i)}onAddCustomerRequest(){if(!this.customerRequest.customer_name||!this.customerRequest.customer_name.length)this.uiElementService.showErrorToastr(this.translate.instant("full_name"));else if(!this.customerRequest.meta.phoneNumber==null)this.uiElementService.showErrorToastr(this.phoneNumberHint);else if(!this.customerRequest.customer_email||!this.customerRequest.customer_email.length)this.uiElementService.showErrorToastr(this.translate.instant("email_address"));else{this.customerRequest.meta.phoneNumber=He.formatPhone(this.customerRequest.meta.phoneNumber.toString());let e={customer_mobile:"+"+this.customerRequest.meta.countryCode+He.formatPhone(this.customerRequest.meta.phoneNumber.toString()),customer_name:this.customerRequest.customer_name,customer_email:this.customerRequest.customer_email,meta:JSON.stringify(this.customerRequest.meta),vendor_id:He.getProfile().id};this.translate.get("create_customer").subscribe(i=>{this.uiElementService.presentLoading(i),this.customerId?this.subscriptions.push(this.apiService.updateCustomers(this.customerId,e).subscribe(r=>this.updateCustomerRes(),r=>this.createCustomerErr(r))):this.subscriptions.push(this.apiService.addCustomers(e).subscribe(r=>this.createCustomerRes(),r=>this.createCustomerErr(r)))}),this.toggleClass=!1}}createCustomerRes(){this.uiElementService.showSuccessToastr(this.translate.instant("add_customer")),this.dismissModel(),this.pageNo=1,this.loadCustomers()}updateCustomerRes(){this.uiElementService.showSuccessToastr(this.translate.instant("updated")),this.dismissModel(),this.pageNo=1,this.loadCustomers()}createCustomerErr(e){console.log("err",e),this.uiElementService.dismissLoading(),this.uiElementService.showErrorToastr(this.translate.instant("something_wrong"))}alertDeleteCustomer(e){this.translate.get(["delete_title","delete_message_customer","no","yes"]).subscribe(i=>{this.confirmationDialogService.confirm(i.delete_title,i.delete_message_customer+"'"+e.customer_name+"'?",i.yes,i.no).then(r=>{r&&this.deleteCustomer(e)}).catch(()=>{console.log("err")})})}deleteCustomer(e){this.translate.get("deleting").subscribe(i=>{this.uiElementService.presentLoading(i),this.subscriptions.push(this.apiService.deleteProduct(e.id).subscribe(r=>{this.uiElementService.showSuccessToastr(this.translate.instant("delete_title")),this.loadCustomers()},r=>{this.uiElementService.dismissLoading(),this.uiElementService.showErrorToastr(this.translate.instant("something_wrong"))}))})}static{this.\u0275fac=function(i){return new(i||n)(ae(Un),ae(qn),ae(ui),ae(ni),ae(Ca))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-people"]],hostBindings:function(i,r){i&1&&ve("keydown",function(s){return r.handleKeyboardEvent(s)},!1,np)},decls:80,vars:62,consts:[[1,"body_wrapper","p-2","p-lg-4"],[1,"pageTitle","pb-4"],[1,"row","align-items-center"],[1,"col-12","col-md-3","col-xl-7","pb-2","pb-md-0"],[1,"col-12","col-md-9","col-xl-5","pb-2","pb-md-0"],["type","button",1,"btn","m-0","mt-2","mt-md-0","end",3,"click"],[1,"card","tableCard"],[1,"p-x-0"],[1,"scroll-x"],[1,"table","customeTable","align-middle"],["scope","col",1,"text-start"],["scope","col",1,"text-center"],[4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngFor","ngForOf"],["class","empty-view animate__animated animate__fadeInUp",4,"ngIf"],["class","pagination-container",4,"ngIf"],[1,"modal","sideModel","customeModal",3,"ngClass"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modelContainer"],[1,"modelHeader"],[1,"pageTitle","p-3","px-lg-4"],[1,"modelContent","px-3","px-lg-4"],[1,"form_inner"],[1,"form-group","animate__animated","animate__fadeInUp"],[1,"input_box"],["type","name","name","customer_name",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","tel",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","email",1,"form-control",3,"ngModelChange","placeholder","ngModel"],[1,"modelFooter","p-3","px-lg-4","animate__animated","animate__fadeInUp"],[1,"row","align-items-center","g-3"],[1,"col-6","text-center"],[1,"btn","btn-clear",3,"click"],[1,"btn",3,"click"],[1,"animate__animated","animate__fadeInUp"],[1,"text-start"],["count","1","appearance","line",2,"width","100%"],["count","1","appearance","line",2,"width","90%"],["count","1","appearance","line",2,"width","80%"],[1,"text-center"],["count","1","appearance","line",1,"mx-auto",2,"width","50%"],[3,"click"],["src","assets/images/icons/ic_edit.svg"],[1,"empty-view","animate__animated","animate__fadeInUp"],[2,"text-align","center"],["src","assets/images/empty_dp.png","alt","no offers"],[2,"color","#9E9E9E","font-weight","bold"],[1,"pagination-container"],[1,"container-fluid"],[1,"col-12","col-md-6"],["aria-label","Page navigation example"],[1,"pagination","end",3,"pageChange","responsive","previousLabel","nextLabel"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),H(5),K(6,"translate"),M()(),I(7,"div",4)(8,"button",5),ve("click",function(){return r.addNewCustomer()}),H(9),K(10,"translate"),M()()()(),I(11,"div",6)(12,"div",7)(13,"div",8)(14,"table",9)(15,"thead")(16,"tr")(17,"th",10),H(18),K(19,"translate"),M(),I(20,"th",10),H(21),K(22,"translate"),M(),I(23,"th",10),H(24),K(25,"translate"),M(),I(26,"th",10),H(27),K(28,"translate"),M(),I(29,"th",11),H(30),K(31,"translate"),M()()(),he(32,wQe,2,2,"tbody",12),I(33,"tbody"),he(34,bQe,17,4,"tr",13),K(35,"paginate"),M()()()()(),he(36,CQe,6,3,"div",14)(37,EQe,15,22,"div",15),M(),I(38,"ngb-modal-window",16)(39,"div",17)(40,"div",18)(41,"div",19)(42,"div",20)(43,"div",21),he(44,SQe,3,3,"h1",12)(45,xQe,3,3,"h1",12),M()(),I(46,"div",22)(47,"form")(48,"div",23)(49,"div",24)(50,"label"),H(51),K(52,"translate"),M(),I(53,"div",25)(54,"input",26),K(55,"translate"),Ze("ngModelChange",function(s){return Xe(r.customerRequest.customer_name,s)||(r.customerRequest.customer_name=s),s}),M()()(),I(56,"div",24)(57,"label"),H(58),K(59,"translate"),M(),I(60,"div",25)(61,"input",27),K(62,"translate"),Ze("ngModelChange",function(s){return Xe(r.customerRequest.meta.phoneNumber,s)||(r.customerRequest.meta.phoneNumber=s),s}),M()()(),I(63,"div",24)(64,"label"),H(65),K(66,"translate"),M(),I(67,"div",25)(68,"input",28),K(69,"translate"),Ze("ngModelChange",function(s){return Xe(r.customerRequest.customer_email,s)||(r.customerRequest.customer_email=s),s}),M()()()()()(),I(70,"div",29)(71,"div",30)(72,"div",31)(73,"button",32),ve("click",function(){return r.dismissModel()}),H(74),K(75,"translate"),M()(),I(76,"div",31)(77,"button",33),ve("click",function(){return r.onAddCustomerRequest()}),he(78,IQe,3,3,"span",12)(79,TQe,3,3,"span",12),M()()()()()()()()),i&2&&(x(5),le(" ",z(6,27,"customers")," "),x(4),le(" + \xA0",z(10,29,"add_new")," "),x(9),le(" ",z(19,31,"customer_name")," "),x(3),de(z(22,33,"phone_number")),x(3),de(z(25,35,"email_address")),x(3),de(z(28,37,"added_on")),x(3),de(z(31,39,"action")),x(2),W("ngIf",r.isLoading&&!(r.customers&&r.customers.length)),x(2),W("ngForOf",qs(35,41,r.customers,el(58,vQe,r.pageSize,r.pageNo,r.pageTotal))),x(2),W("ngIf",!r.isLoading&&!(r.customers&&r.customers.length)),x(),W("ngIf",r.pageTotal>r.pageSize),x(),W("ngClass",r.toggleClass?"show fade":""),x(6),W("ngIf",r.customerId),x(),W("ngIf",!r.customerId),x(6),de(z(52,44,"customer_name")),x(3),nt("placeholder",z(55,46,"enter_customer_name")),Ye("ngModel",r.customerRequest.customer_name),x(4),de(z(59,48,"phone_number")),x(3),nt("placeholder",z(62,50,"enter_phone_number")),nt("placeholder",r.phoneNumberHint),Ye("ngModel",r.customerRequest.meta.phoneNumber),x(4),de(z(66,52,"email_address")),x(3),nt("placeholder",z(69,54,"enter_email_address")),Ye("ngModel",r.customerRequest.customer_email),x(6),le(" ",z(75,56,"cancel")," "),x(4),W("ngIf",r.customerId),x(),W("ngIf",!r.customerId))},dependencies:[Fr,ti,En,ji,Hi,Vi,Qi,$i,Oi,vu,bo,Gn,mu],styles:[".empty-view[_ngcontent-%COMP%]{width:fit-content;margin:25px auto auto;height:fit-content;max-width:calc(100% - 30px)}.empty-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;margin:auto}.empty-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center}"]})}}return n})();var DQe=(n,t,e)=>({itemsPerPage:n,currentPage:t,totalItems:e}),MQe=()=>[1,2,3,4,5,6,7,8,9];function OQe(n,t){if(n&1&&(I(0,"span"),H(1),se(2,"i",12),M()),n&2){let e=te();x(),le(" ",e.avg_ratings," ")}}function FQe(n,t){n&1&&(I(0,"tr",13)(1,"td",14)(2,"h3"),se(3,"ngx-skeleton-loader",15),M()(),I(4,"td",16)(5,"h3"),se(6,"ngx-skeleton-loader",17),M()(),I(7,"td",18)(8,"h3"),se(9,"ngx-skeleton-loader",17),M()(),I(10,"td",16)(11,"h3"),se(12,"ngx-skeleton-loader",17),M()()())}function BQe(n,t){n&1&&(I(0,"tbody"),he(1,FQe,13,0,"tr",9),M()),n&2&&(x(),W("ngForOf",Qr(1,MQe)))}function PQe(n,t){if(n&1&&(I(0,"tr",13)(1,"td",14)(2,"h3")(3,"span",19),se(4,"i",20),I(5,"small"),H(6),M()()()(),I(7,"td",16)(8,"h3"),H(9),M()(),I(10,"td",18)(11,"h3"),H(12),M()(),I(13,"td",16)(14,"h3"),H(15),M()()()),n&2){let e=t.$implicit;x(6),de(e.rating),x(3),le(" ",e.user.name," "),x(3),le(" ",e.review," "),x(3),le(" ",e.created_at," ")}}function kQe(n,t){n&1&&(I(0,"div",21)(1,"div",22),se(2,"img",23)(3,"span",24),K(4,"translate"),M()()),n&2&&(x(3),nt("innerHTML",z(4,1,"empty_reviews"),wa))}function NQe(n,t){if(n&1){let e=We();I(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"h2"),H(5),K(6,"translate"),K(7,"translate"),K(8,"translate"),K(9,"translate"),M()(),I(10,"div",28)(11,"nav",29)(12,"pagination-controls",30),K(13,"translate"),K(14,"translate"),ve("pageChange",function(r){we(e);let o=te();return be(o.onChangePage(r))}),M()()()()()()}if(n&2){let e=te();x(5),mc("",z(6,10,"showing")," ",e.pageNo," ",z(7,12,"to")," ",e.pageSize," ",z(8,14,"of")," ",e.pageTotal," ",z(9,16,"item")," "),x(7),W("responsive",!0)("previousLabel",z(13,18,""))("nextLabel",z(14,20,""))}}var Qae=(()=>{class n{constructor(e,i,r,o){this.router=e,this.translate=i,this.uiElementService=r,this.apiService=o,this.subscriptions=new Array,this.isLoading=!0,this.reviews=new Array,this.pageNo=1,this.readAllText=!1}ngOnInit(){this.profile=He.getProfile(),this.translate.get("loading").subscribe(e=>{this.loadReviewsVendor()})}loadReviewsVendor(){this.subscriptions.push(this.apiService.getReviewsVendor(this.profile.id,this.pageNo).subscribe(e=>this.reviewsRes(e),e=>this.reviewsErr(e)))}ngOnDestroy(){for(let e of this.subscriptions)e.unsubscribe();this.uiElementService.dismissLoading()}onChangePage(e){this.pageNo=e,this.reviews=[],this.translate.get("loading").subscribe(i=>{this.loadReviewsVendor()})}search(){this.subscriptions.push(this.apiService.getReviewsVendor(this.profile.id,this.pageNo,this.searchText).subscribe(e=>this.reviewsRes(e),e=>this.reviewsErr(e)))}read(){this.readAllText=!this.readAllText}reviewsRes(e){this.reviews=e.data,this.isLoading=!1,this.pageNo=e.meta.current_page,this.pageSize=e.meta.per_page,this.pageTotal=e.meta.total,this.uiElementService.dismissLoading(),this.reviews&&this.reviews.length&&(this.avg_ratings=Number(this.reviews[0].vendor.ratings).toFixed(2))}reviewsErr(e){console.log("productsErr",e),this.uiElementService.dismissLoading(),this.isLoading=!1}static{this.\u0275fac=function(i){return new(i||n)(ae(Un),ae(qn),ae(ui),ae(ni))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-reviews"]],decls:30,vars:27,consts:[[1,"body_wrapper","p-2","p-lg-4"],[1,"pageTitle","pb-4"],[4,"ngIf"],[1,"card","tableCard"],[1,"p-x-0"],[1,"scroll-x"],[1,"table","customeTable","align-middle"],["scope","col",1,"text-center",2,"min-width","120px"],["scope","col",1,"text-start"],["class","animate__animated animate__fadeInUp",4,"ngFor","ngForOf"],["class","empty-view animate__animated animate__fadeInUp",4,"ngIf"],["class","pagination-container",4,"ngIf"],[1,"zmdi","zmdi-star"],[1,"animate__animated","animate__fadeInUp"],[1,"text-center",2,"min-width","120px"],["count","1","appearance","line",1,"mx-auto",2,"width","90%"],[1,"text-start"],["count","1","appearance","line",2,"width","90%"],[1,"text-start","review"],[1,"badge"],[1,"zmdi","zmdi-star","text-start"],[1,"empty-view","animate__animated","animate__fadeInUp"],[2,"text-align","center"],["src","assets/images/plc_no_review.png","alt","no offers"],[2,"color","#9E9E9E","font-weight","bold",3,"innerHTML"],[1,"pagination-container"],[1,"container-fluid"],[1,"row","align-items-center"],[1,"col-12","col-md-6"],["aria-label","Page navigation example"],[1,"pagination","end",3,"pageChange","responsive","previousLabel","nextLabel"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"h1"),H(3),K(4,"translate"),he(5,OQe,3,1,"span",2),M()(),I(6,"div",3)(7,"div",4)(8,"div",5)(9,"table",6)(10,"thead")(11,"tr")(12,"th",7),H(13),K(14,"translate"),M(),I(15,"th",8),H(16),K(17,"translate"),M(),I(18,"th",8),H(19),K(20,"translate"),M(),I(21,"th",8),H(22),K(23,"translate"),M()()(),he(24,BQe,2,2,"tbody",2),I(25,"tbody"),he(26,PQe,16,4,"tr",9),K(27,"paginate"),M()()()()(),he(28,kQe,5,3,"div",10)(29,NQe,15,22,"div",11),M()),i&2&&(x(3),le(" ",z(4,10,"avg_rating")," "),x(2),W("ngIf",r.reviews&&r.reviews.length),x(8),le(" ",z(14,12,"ratings")," "),x(3),de(z(17,14,"name")),x(3),de(z(20,16,"review")),x(3),de(z(23,18,"reviewed_on")),x(2),W("ngIf",r.isLoading&&!(r.reviews&&r.reviews.length)),x(2),W("ngForOf",qs(27,20,r.reviews,el(23,DQe,r.pageSize,r.pageNo,r.pageTotal))),x(2),W("ngIf",!r.isLoading&&!(r.reviews&&r.reviews.length)),x(),W("ngIf",r.pageTotal>r.pageSize))},dependencies:[ti,En,vu,bo,Gn,mu],styles:[".empty-view[_ngcontent-%COMP%]{width:fit-content;margin:25px auto auto;height:fit-content;max-width:calc(100% - 30px)}.empty-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;margin:auto}.empty-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center}table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{background:var(--primary);border-radius:50px;display:flex;align-items:center;width:fit-content;margin:auto;font-weight:400;font-size:.65rem;padding:3px 6px;min-width:40px}table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.62rem;display:block;position:relative;top:1px}table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.71rem;min-width:13px}table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.review[_ngcontent-%COMP%]{white-space:normal}"]})}}return n})();var xs=(()=>{class n{constructor(e){this.router=e}canActivate(e,i){return He.getProfile()!=null&&He.getToken()!=null?e.routeConfig.path=="login"||e.routeConfig.path=="verification"?this.router.navigate(["dashboard"]):!0:e.routeConfig.path=="login"||e.routeConfig.path=="verification"?!0:this.router.navigate(["login"])}static{this.\u0275fac=function(i){return new(i||n)(Te(Un))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jg=class{};var Jx=class n{static defaultMatter(){let t=new n;return t.questions=[new Yv(""),new Yv(""),new Yv(""),new Yv("")],t.options=[new Zv("Excellent",1),new Zv("Good",2),new Zv("Average",3),new Zv("Not Good",4)],t}static getRequest(t){let e=new n;e.questions=[],e.options=[];for(let i of t.questions){let r=new Yv(i.title);r.id=i.id,e.questions.push(r)}for(let i of t.options){let r=new Zv(i.title,i.rank);r.id=i.id,e.options.push(r)}return e}},Yv=class{constructor(t){this.title=t}},Zv=class{constructor(t,e){this.title=t,this.rank=e}};var cb=class{constructor(){let t=He.getBankDetail();t!=null&&(this.bank_name=t.bank_name,this.bank_account_name=t.bank_account_name,this.bank_account_number=t.bank_account_number)}};var ece=Ri(jae());var Gae=(()=>{class n{constructor(){this.scripts={}}load(e){var i=[];return i.push(this.loadScript(e)),Promise.all(i)}loadScript(e){return new Promise((i,r)=>{if(this.scripts[e.name]||(this.scripts[e.name]=e),this.scripts[e.name].loaded)i({script:e.name,loaded:!0,status:"Already Loaded"});else{let o=this;e.name=="googlemaps"&&(window.mapInit=()=>{o.scripts.googlemaps.loaded=!0,i({script:"googlemaps",loaded:!0,status:"Loaded"})});let s=document.createElement("script");s.type="text/javascript",s.src=this.scripts[e.name].src,s.readyState?s.onreadystatechange=()=>{(s.readyState==="loaded"||s.readyState==="complete")&&(s.onreadystatechange=null,(e.name="googlemaps")?console.log("should be handled by window['mapInit']"):(this.scripts[e.name].loaded=!0,i({script:e.name,loaded:!0,status:"Loaded"})))}:s.onload=()=>{(e.name="googlemaps")?console.log("should be handled by window['mapInit']"):(this.scripts[e.name].loaded=!0,i({script:e.name,loaded:!0,status:"Loaded"}))},s.onerror=a=>i({script:e.name,loaded:!1,status:"Loaded"}),document.getElementsByTagName("head")[0].appendChild(s)}})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fP=class{constructor(t,e){this.name=t,this.src=e}};var ub=(()=>{class n{constructor(e,i){this.config=e,this.scriptLoader=i,this.mapInitialised=!1}init(e,i,r){return this.mapElement=e,this.pleaseConnect=i,this.myCenter=r,this.loadGoogleMaps()}loadGoogleMaps(){return new Promise(e=>{this.scriptLoader.load(new fP("googlemaps","//maps.googleapis.com/maps/api/js?key="+this.config.googleApiKey+"&callback=mapInit&libraries=places")).then(i=>{console.log("scriptLoader Loaded"),this.enableMap(),this.initMap().then(()=>e(!0))})})}initMap(){return this.mapInitialised=!0,new Promise(e=>{let i=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],o={center:new google.maps.LatLng(this.myCenter?Number(this.myCenter.latitude):39.9334,this.myCenter?Number(this.myCenter.longitude):32.8597),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:i,disableDefaultUI:!0};this.map=new google.maps.Map(this.mapElement,o),e(!0)})}disableMap(){this.pleaseConnect&&this.pleaseConnect!=null&&(this.pleaseConnect.style.display="block")}enableMap(){this.pleaseConnect&&this.pleaseConnect!=null&&(this.pleaseConnect.style.display="none")}static{this.\u0275fac=function(i){return new(i||n)(Te(Xr),Te(Gae))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:null})}}return n})();var gb=Ri(zle(),1);var Fje=["qrcElement"],qle=(()=>{class n{constructor(e,i){this.renderer=e,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new at,this.context=null}ngOnChanges(){return hd(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(e){return this.allowEmptyString===!1?!(typeof e>"u"||e===""||e==="null"||e===null):!(typeof e>"u")}toDataURL(e){return new Promise((i,r)=>{(0,gb.toDataURL)(this.qrdata,e,(o,s)=>{o?r(o):i(s)})})}toCanvas(e,i){return new Promise((r,o)=>{(0,gb.toCanvas)(e,this.qrdata,i,s=>{s?o(s):r("success")})})}toSVG(e){return new Promise((i,r)=>{(0,gb.toString)(this.qrdata,e,(o,s)=>{o?r(o):i(s)})})}renderElement(e){for(let i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){return hd(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let e={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},i=this.imageSrc,r=this.imageHeight||40,o=this.imageWidth||40;switch(this.elementType){case"canvas":{let s=this.renderer.createElement("canvas");this.context=s.getContext("2d"),this.toCanvas(s,e).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(s,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(s,"title",`${this.title}`),i&&this.context){this.centerImage=new Image(o,r),i!==this.centerImage.src&&(this.centerImage.crossOrigin="anonymous",this.centerImage.src=i),r!==this.centerImage.height&&(this.centerImage.height=r),o!==this.centerImage.width&&(this.centerImage.width=o);let a=this.centerImage;a&&(a.onload=()=>{this.context?.drawImage(a,s.width/2-o/2,s.height/2-r/2,o,r)})}this.renderElement(s),this.emitQRCodeURL(s)}).catch(a=>{console.error("[angularx-qrcode] canvas error:",a)});break}case"svg":{let s=this.renderer.createElement("div");this.toSVG(e).then(a=>{this.renderer.setProperty(s,"innerHTML",a);let l=s.firstChild;this.renderer.setAttribute(l,"height",`${this.width}`),this.renderer.setAttribute(l,"width",`${this.width}`),this.renderElement(l),this.emitQRCodeURL(l)}).catch(a=>{console.error("[angularx-qrcode] svg error:",a)});break}case"url":case"img":default:{let s=this.renderer.createElement("img");this.toDataURL(e).then(a=>{this.alt&&s.setAttribute("alt",this.alt),this.ariaLabel&&s.setAttribute("aria-label",this.ariaLabel),s.setAttribute("src",a),this.title&&s.setAttribute("title",this.title),this.renderElement(s),this.emitQRCodeURL(s)}).catch(a=>{console.error("[angularx-qrcode] img/url error:",a)})}}}catch(e){console.error("[angularx-qrcode] Error generating QR Code:",e.message)}})}convertBase64ImageUrlToBlob(e){let i=e.split(";base64,"),r=i[0].split(":")[1],o=atob(i[1]),s=new Uint8Array(o.length);for(let a=0;a<o.length;++a)s[a]=o.charCodeAt(a);return new Blob([s],{type:r})}emitQRCodeURL(e){let i=e.constructor.name;if(i===SVGSVGElement.name){let l=e.outerHTML,u=new Blob([l],{type:"image/svg+xml"}),d=URL.createObjectURL(u),h=this.sanitizer.bypassSecurityTrustUrl(d);this.qrCodeURL.emit(h);return}let r="";i===HTMLCanvasElement.name&&(r=e.toDataURL("image/png")),i===HTMLImageElement.name&&(r=e.src);let o=this.convertBase64ImageUrlToBlob(r),s=URL.createObjectURL(o),a=this.sanitizer.bypassSecurityTrustUrl(s);this.qrCodeURL.emit(a)}static{this.\u0275fac=function(i){return new(i||n)(ae(Ko),ae(q0))}}static{this.\u0275cmp=wt({type:n,selectors:[["qrcode"]],viewQuery:function(i,r){if(i&1&&Mi(Fje,7),i&2){let o;ln(o=cn())&&(r.qrcElement=o.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[ei],decls:2,vars:2,consts:[["qrcElement",""]],template:function(i,r){i&1&&se(0,"div",null,0),i&2&&Ks(r.cssClass)},encapsulation:2,changeDetection:0})}}return n})(),$le=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var Pje=n=>({"ng-toggle-focused":n});function kje(n,t){if(n&1&&(I(0,"span",7),H(1),M()),n&2){let e=te(2);W("ngStyle",e.labelLeftStyle),x(),le(" ",e.labelChecked," ")}}function Nje(n,t){if(n&1&&(I(0,"span",8),H(1),M()),n&2){let e=te(2);W("ngStyle",e.labelRightStyle),x(),le(" ",e.labelUnchecked," ")}}function Rje(n,t){if(n&1&&(zo(0),he(1,kje,2,2,"span",5)(2,Nje,2,2,"span",6),qo()),n&2){let e=te();x(),W("ngIf",e.toggled),x(),W("ngIf",!e.toggled)}}var PQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=De({token:n,factory:n.\u0275fac}),n})(),Yle="#0099CC",Lje="#e0e0e0",Uje="",Hje="",n_="#fff",Vje="#dbdbdb",Qje="silver",jje=0,xP=(()=>{class n{constructor(e,i){this.config=e,this._elementRef=i,this.value=this.config.value||!0,this.name=this.config.name||"",this.disabled=this.config.disabled||!1,this.height=this.config.height||25,this.width=this.config.width||45,this.margin=this.config.margin||2,this.fontSize=this.config.fontSize||void 0,this.speed=this.config.speed||300,this.color=this.config.color,this.switchColor=this.config.switchColor,this.labels=this.config.labels||!0,this.fontColor=this.config.fontColor||void 0,this.values=this.config.values||{checked:!0,unchecked:!1},this.textAlign=this.config.textAlign||{checked:"left",unchecked:"right"},this.id="",this.ariaLabel=null,this.ariaLabelledby=null,this.cssColors=!1,this.change=new at,this.valueChange=new at,this.onChange=r=>{},this.onTouch=()=>{},this._uniqueId="ng-toggle-"+ ++jje,this.id=this.id||this._uniqueId,this.ariaLabel=this.ariaLabel||this.name||this.id}ngOnInit(){this.setToogle()}onInput(e){this.value=e,this.onTouch(),this.onChange(this.value)}writeValue(e){this.value=e,this.setToogle()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.disabled=e}setToogle(){let e=this.value,i=Object.values(this.values).findIndex(r=>r==e);i>-1&&(this.toggled=Object.keys(this.values)[i]=="checked")}ngOnChanges(e){for(let i in e){let r=e[i];i=="value"&&this.writeValue(r.currentValue)}}get coreStyle(){return{width:hf(this.width),height:hf(this.height),transition:`all ${this.speed}ms`,backgroundColor:this.cssColors?null:this.disabled?this.colorDisabled:this.colorCurrent,borderRadius:hf(Math.round(this.height/2))}}get buttonRadius(){let e=this.height-this.margin*2;return e>0?e:0}get distance(){return hf(this.width-this.height+this.margin)}get buttonStyle(){let e=`all ${this.speed}ms`,i=hf(this.margin),r=this.toggled?Zle(this.distance,i):Zle(i,i),o=this.switchColor?this.switchColorCurrent:null;return o=this.disabled?this.switchColorDisabled:o,{width:hf(this.buttonRadius),height:hf(this.buttonRadius),transition:e,transform:r,background:o}}get labelStyle(){return{lineHeight:hf(this.height),fontSize:this.fontSize?hf(this.fontSize):null,color:this.fontColor?this.fontColorCurrent:null,width:hf(this.width-this.buttonRadius-this.margin)}}get labelLeftStyle(){return vt(Ee({},this.labelStyle),{textAlign:this.textAlign.checked||this.textAlign})}get labelRightStyle(){return vt(Ee({},this.labelStyle),{textAlign:this.textAlign.unchecked||this.textAlign})}get colorChecked(){let{color:e}=this;return SP(e)?Ld(e,"checked",Yle):e||Yle}get colorUnchecked(){return Ld(this.color,"unchecked",Lje)}get colorDisabled(){return Ld(this.color,"disabled",Vje)}get colorCurrent(){return this.toggled?this.colorChecked:this.colorUnchecked}get labelChecked(){return Ld(this.labels,"checked",Uje)}get labelUnchecked(){return Ld(this.labels,"unchecked",Hje)}get switchColorChecked(){return Ld(this.switchColor,"checked",n_)}get switchColorUnchecked(){return Ld(this.switchColor,"unchecked",n_)}get switchColorDisabled(){return Ld(this.switchColor,"disabled",Qje)}get switchColorCurrent(){return SP(this.switchColor)?this.toggled?this.switchColorChecked:this.switchColorUnchecked:this.switchColor||n_}get fontColorChecked(){return Ld(this.fontColor,"checked",n_)}get fontColorUnchecked(){return Ld(this.fontColor,"unchecked",n_)}get fontColorDisabled(){return Ld(this.fontColor,"disabled",n_)}get fontColorCurrent(){return SP(this.fontColor)?this.disabled?this.fontColorDisabled:this.toggled?this.fontColorChecked:this.fontColorUnchecked:this.fontColor||n_}get label(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:`${this._uniqueId}-label`}toggle(e){let i=!this.toggled;this.toggled=i,this.value=this.getValue(i),this.onTouch(),this.onChange(this.value),this.valueChange.emit(this.value)}getValue(e){return e===!0?this.values.checked:this.values.unchecked}onFocus(e){!this.focused&&e.relatedTarget&&(this.focused=!0)}onFocusout(e){this._elementRef.nativeElement.contains(e.relatedTarget)||(this.focused=!1,this.onTouch())}}return n.\u0275fac=function(e){return new(e||n)(ae(PQ),ae(Kt))},n.\u0275cmp=wt({type:n,selectors:[["ng-toggle"]],inputs:{value:"value",name:"name",disabled:"disabled",height:"height",width:"width",margin:"margin",fontSize:"fontSize",speed:"speed",color:"color",switchColor:"switchColor",labels:"labels",fontColor:"fontColor",values:"values",textAlign:"textAlign",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"]},outputs:{change:"change",valueChange:"valueChange"},features:[Or([{provide:bc,useExisting:ho(()=>n),multi:!0}]),ei],decls:5,vars:16,consts:[[1,"ng-toggle-switch",3,"for"],["type","checkbox","role","checkbox",1,"ng-toggle-switch-input",3,"change","focusin","focusout","checked","disabled"],[1,"ng-toggle-switch-core",3,"ngClass","ngStyle"],[1,"ng-toggle-switch-button",3,"ngStyle"],[4,"ngIf"],["class","ng-toggle-switch-label ng-toggle-left",3,"ngStyle",4,"ngIf"],["class","ng-toggle-switch-label ng-toggle-right",3,"ngStyle",4,"ngIf"],[1,"ng-toggle-switch-label","ng-toggle-left",3,"ngStyle"],[1,"ng-toggle-switch-label","ng-toggle-right",3,"ngStyle"]],template:function(e,i){e&1&&(I(0,"label",0)(1,"input",1),ve("change",function(o){return i.toggle(o)})("focusin",function(o){return i.onFocus(o)})("focusout",function(o){return i.onFocusout(o)}),M(),I(2,"div",2),se(3,"div",3),M(),he(4,Rje,3,2,"ng-container",4),M()),e&2&&(W("for",i.id),_r("id",i.label),x(),W("checked",i.value)("disabled",i.disabled),_r("id",i.id)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i.label)("aria-describedby",i.ariaDescribedby)("aria-checked",i.toggled),x(),W("ngClass",fu(14,Pje,i.focused))("ngStyle",i.coreStyle),x(),W("ngStyle",i.buttonStyle),x(),W("ngIf",i.labels))},dependencies:[Fr,En,uM],styles:["label[_ngcontent-%COMP%]{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}.ng-toggle-switch[_ngcontent-%COMP%]{display:inline-block;position:relative;vertical-align:middle;-webkit-user-select:none;user-select:none;font-size:10px;cursor:pointer}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-input[_ngcontent-%COMP%]{opacity:0;position:absolute;width:1px;height:1px}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-label[_ngcontent-%COMP%]{position:absolute;top:0;font-weight:600;color:#fff;z-index:1;padding:0 10px;box-sizing:border-box}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-label.ng-toggle-left[_ngcontent-%COMP%]{left:0}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-label.ng-toggle-right[_ngcontent-%COMP%]{right:0}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-core[_ngcontent-%COMP%]{display:block;position:relative;box-sizing:border-box;outline:0;margin:0;transition:border-color .3s,background-color .3s;-webkit-user-select:none;user-select:none}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-core[_ngcontent-%COMP%]   .ng-toggle-switch-button[_ngcontent-%COMP%]{display:block;position:absolute;overflow:hidden;top:0;left:0;border-radius:100%;background-color:#fff;z-index:2}.ng-toggle-switch.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.ng-toggle-focused[_ngcontent-%COMP%]{box-shadow:0 0 4px 3px #999}"]}),n})(),SP=n=>typeof n=="object",Gje=(n,t)=>SP(n)&&n.hasOwnProperty(t),Ld=(n,t,e)=>Gje(n,t)?n[t]:e,hf=n=>`${n}px`,Zle=(n,t)=>`translate(${n}, ${t})`,Xle=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:PQ,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ht({type:n}),n.\u0275inj=dt({providers:[PQ],imports:[As]}),n})();var Wje=["qr_container"],Kje=["canvas"],zje=["downloadLink"],qje=["pleaseConnect"],$je=["map"],Yje=()=>({standalone:!0});function Zje(n,t){if(n&1&&(I(0,"ng-option",87),H(1),M()),n&2){let e=t.$implicit;W("value",e),x(),de(e)}}function Xje(n,t){if(n&1){let e=We();I(0,"div",90),ve("click",function(){let r=we(e).$implicit,o=te(2);return be(o.selectPlace(r))}),I(1,"div",91)(2,"p"),H(3),M()()()}if(n&2){let e=t.$implicit;x(3),de(e.description)}}function Jje(n,t){if(n&1&&(I(0,"div",88),he(1,Xje,4,1,"div",89),M()),n&2){let e=te();x(),W("ngForOf",e.places)}}function e7e(n,t){if(n&1){let e=We();I(0,"div",92)(1,"div",93)(2,"div",94)(3,"div",95)(4,"input",96),Ze("ngModelChange",function(r){let o=we(e).$implicit;return Xe(o.selected,r)||(o.selected=r),be(r)}),M(),I(5,"label",97)(6,"span",98),H(7),K(8,"translate"),M()()()()(),I(9,"div",99)(10,"div",100)(11,"div",101)(12,"input",102),Ze("ngModelChange",function(r){let o=we(e).$implicit;return Xe(o.dateFromISO,r)||(o.dateFromISO=r),be(r)}),M()(),I(13,"h4",103),H(14),K(15,"translate"),M(),I(16,"div",101)(17,"input",102),Ze("ngModelChange",function(r){let o=we(e).$implicit;return Xe(o.dateToISO,r)||(o.dateToISO=r),be(r)}),M()()()()()}if(n&2){let e=t.$implicit,i=t.index;x(4),Rh("id","_",i,""),Rh("name","checkbox_",i,""),Ye("ngModel",e.selected),W("ngModelOptions",Qr(22,Yje)),x(),Rh("for","_",i,""),x(2),le(" ",z(8,18,e.days)," "),x(5),Rh("name","from_",i,""),W("disabled",!e.selected),Ye("ngModel",e.dateFromISO),x(2),le(" ",z(15,20,"to"),""),x(3),Rh("name","to_",i,""),W("disabled",!e.selected),Ye("ngModel",e.dateToISO)}}function t7e(n,t){if(n&1&&(I(0,"ng-option",87),H(1),M()),n&2){let e=t.$implicit;nt("value",e.code),x(),le(" ",e.name," ")}}function n7e(n,t){if(n&1&&(I(0,"div",104)(1,"div",105),se(2,"img",106),I(3,"div",107),se(4,"img",108),I(5,"h3"),H(6),K(7,"translate"),M()()()()),n&2){let e=te();x(2),W("src",e.profile.image_urls[0],yo),x(4),de(z(7,2,"upload_image"))}}function i7e(n,t){n&1&&(I(0,"div",104)(1,"div",105)(2,"div",107),se(3,"img",108),I(4,"h3"),H(5),K(6,"translate"),M()()()()),n&2&&(x(5),de(z(6,1,"upload_image")))}function r7e(n,t){if(n&1&&(I(0,"ng-option",109),H(1),M()),n&2){let e=t.$implicit,i=te();W("value",e.value)("ch",e.value==i.profile.meta.green_time),x(),le(" ",e.key," ")}}function o7e(n,t){if(n&1&&(I(0,"ng-option",110),H(1),M()),n&2){let e=t.$implicit,i=te();W("value",e.value)("selected",e.value==i.profile.meta.yellow_time),x(),le(" ",e.key," ")}}function s7e(n,t){if(n&1&&(I(0,"ng-option",110),H(1),M()),n&2){let e=t.$implicit,i=te();zn("selected-option",i.profile.meta.red_time),W("value",e.value)("selected",e.value==i.profile.meta.red_time),x(),le(" ",e.key," ")}}function a7e(n,t){if(n&1){let e=We();I(0,"div",104)(1,"div",14)(2,"div",15)(3,"h2"),H(4),K(5,"translate"),M()(),I(6,"div",111)(7,"label"),H(8),K(9,"translate"),M(),I(10,"div",17)(11,"input",112),Ze("ngModelChange",function(r){we(e);let o=te();return Xe(o.networkConfig.name,r)||(o.networkConfig.name=r),be(r)}),M()()(),I(12,"div",45)(13,"div",113)(14,"div",111)(15,"label"),H(16),K(17,"translate"),M(),I(18,"div",17)(19,"input",114),Ze("ngModelChange",function(r){we(e);let o=te();return Xe(o.networkConfig.host,r)||(o.networkConfig.host=r),be(r)}),M()()()(),I(20,"div",113)(21,"div",111)(22,"label"),H(23),K(24,"translate"),M(),I(25,"div",17)(26,"input",115),Ze("ngModelChange",function(r){we(e);let o=te();return Xe(o.networkConfig.port,r)||(o.networkConfig.port=r),be(r)}),M()()()()()(),I(27,"div",36)(28,"div",15)(29,"h2"),H(30),K(31,"translate"),M(),I(32,"div",37)(33,"h3",38),H(34),K(35,"translate"),M(),I(36,"ng-toggle",116),ve("click",function(){we(e);let r=te();return be(r.onCheckboxClick("auto_print"))}),M()()()()()}if(n&2){let e=te();x(4),de(z(5,13,"printer_config")),x(4),de(z(9,15,"printer_config_name")),x(3),W("value",e.networkConfig.name),Ye("ngModel",e.networkConfig.name),x(5),de(z(17,17,"printer_config_host")),x(3),W("value",e.networkConfig.host),Ye("ngModel",e.networkConfig.host),x(4),de(z(24,19,"printer_config_port")),x(3),W("value",e.networkConfig.port),Ye("ngModel",e.networkConfig.port),x(4),de(z(31,21,"auto_print")),x(4),le(" ",z(35,23,"auto_print")," "),x(2),W("checked",e.config.printerConfig.enableAutoPrint)}}function l7e(n,t){if(n&1){let e=We();I(0,"div",16)(1,"label"),H(2),K(3,"translate"),M(),I(4,"div",17)(5,"input",121),Ze("ngModelChange",function(r){let o=we(e).$implicit;return Xe(o.title,r)||(o.title=r),be(r)}),M()()()}if(n&2){let e=t.$implicit,i=t.index;x(2),pn("",z(3,6,"question")," ",i+1,""),x(3),W("name","question_"+i)("id","question_"+i)("value",e.title),Ye("ngModel",e.title)}}function c7e(n,t){n&1&&se(0,"img",127)}function u7e(n,t){n&1&&se(0,"img",128)}function d7e(n,t){n&1&&se(0,"img",129)}function h7e(n,t){n&1&&se(0,"img",130)}function f7e(n,t){if(n&1){let e=We();I(0,"div",46)(1,"div",25),he(2,c7e,1,0,"img",122)(3,u7e,1,0,"img",123)(4,d7e,1,0,"img",124)(5,h7e,1,0,"img",125),H(6," \xA0\xA0 "),I(7,"input",126),Ze("ngModelChange",function(r){let o=we(e).$implicit;return Xe(o.title,r)||(o.title=r),be(r)}),M()()()}if(n&2){let e=t.$implicit,i=t.index;x(2),W("ngIf",e.rank==1),x(),W("ngIf",e.rank==2),x(),W("ngIf",e.rank==3),x(),W("ngIf",e.rank==4),x(2),W("name","option_"+i)("id","option_"+i)("value",e.title),Ye("ngModel",e.title)}}function p7e(n,t){if(n&1&&(I(0,"div",117),he(1,l7e,6,8,"div",118),I(2,"div",119)(3,"label"),H(4),K(5,"translate"),M(),I(6,"div",12),he(7,f7e,8,8,"div",120),M()()()),n&2){let e=te();x(),W("ngForOf",e.feedbackMatter.questions),x(3),le("",z(5,3,"set_options")," 1"),x(3),W("ngForOf",e.feedbackMatter.options)}}function A7e(n,t){if(n&1&&(I(0,"div",131,5),se(2,"qrcode",132)(3,"img",133),M()),n&2){let e=te();x(2),W("qrdata",e.qrValue)("width",180)("errorCorrectionLevel","M")}}var tce=(()=>{class n{constructor(e,i,r,o,s,a,l,u){this.translate=e,this.router=i,this.myEvents=r,this.apiService=o,this.uiElementService=s,this.config=a,this.ngZone=l,this.maps=u,this.profile=j1.getDefault(),this.subscriptions=new Array,this.categoriesSelectedStrings=new Array,this.categoryStrings=new Array,this.payourRequest=new cb,this.kitchecn_app=!0,this.detecting=!1,this.query="",this.places=[],this.networkConfig={host:"",port:"",name:""},this.darkModeStatus=!1}ngOnInit(){this.defaultLanguageCode=this.config.availableLanguages[0].code;let e=window.localStorage.getItem(et.KEY_DEFAULT_LANGUAGE);e&&(this.defaultLanguageCode=e),this.darkModeStatus=He.getThemeMode()==et.THEME_MODE_DARK;let i=He.getPrinterNetworkConfig();i&&(this.networkConfig=i),this.router.getCurrentNavigation()&&this.router.getCurrentNavigation().extras.state&&(this.fresh_profile=this.router.getCurrentNavigation().extras.state.fresh_profile),this.profile=j1.getDefault(),this.translate.get(["just_moment","something_wrong"]).subscribe(o=>{this.uiElementService.presentLoading(o.just_moment),this.subscriptions.push(this.apiService.getProfile().subscribe(s=>{this.profile=s,setTimeout(()=>this.profile=s,600),this.uiElementService.dismissLoading(),this.getCategoriesStore(),this.getFeedbackMatter(),this.loadGoogleMap()},s=>{console.log("getProfile",s),this.uiElementService.dismissLoading(),this.uiElementService.showErrorToastr(o.something_wrong,"top")}))});let r=He.getBankDetail();r&&(this.payourRequest.bank_name=r.bank_name,this.payourRequest.bank_account_name=r.bank_account_name,this.payourRequest.bank_account_number=r.bank_account_number)}ngOnDestroy(){for(let e of this.subscriptions)e.unsubscribe();this.uiElementService.dismissLoading()}onLanguageClick(e){this.defaultLanguageCode=e,this.languageConfirm()}languageConfirm(){this.myEvents.setLanguageData(this.defaultLanguageCode),window.localStorage.setItem(et.KEY_DEFAULT_LANGUAGE,this.defaultLanguageCode)}onDarkMode(e){document.body.setAttribute("class",this.darkModeStatus?"dark-theme":"light-theme"),He.setDefaultThemeMode(this.darkModeStatus?et.THEME_MODE_DARK:et.THEME_MODE_LIGHT)}getCategoriesStore(){this.subscriptions.push(this.apiService.getCategoriesParents().subscribe(e=>{this.categories=e;let i=[],r=[];for(let o of this.categories)if(r.push(o.title),this.profile!=null){for(let s of this.profile.categories)if(s.id==o.id){i.push(o.title);break}}this.categoriesSelectedStrings=i,this.categoryStrings=r,console.log("categoryStrings: ",this.categoryStrings),console.log("categoriesSelectedStrings: ",this.categoriesSelectedStrings),this.setCategoriesText(),this.uiElementService.dismissLoading()},e=>{console.log("getCategoriesParents",e),this.uiElementService.dismissLoading()}))}getFeedbackMatter(){this.subscriptions.push(this.apiService.getFeedbackMatter(this.profile.id).subscribe(e=>{console.log("res: ",e),this.setupFeedbackMatter(e)},e=>{console.log("err: ",e),this.setupFeedbackMatter(null)}))}setupFeedbackMatter(e){let i=Jx.defaultMatter();this.feedbackMatter||(this.feedbackMatter=e||i);for(let r=this.feedbackMatter.questions.length;r<4;r++)this.feedbackMatter.questions.push(i.questions[r]);for(let r=this.feedbackMatter.options.length;r<4;r++)this.feedbackMatter.options.push(i.options[r])}setCategoriesText(){this.categoriesSelectedStringsFormatted="";for(let e of this.categoriesSelectedStrings)this.categoriesSelectedStringsFormatted+=e+", ";this.categoriesSelectedStringsFormatted.length&&(this.categoriesSelectedStringsFormatted=this.categoriesSelectedStringsFormatted.substring(0,this.categoriesSelectedStringsFormatted.length-2))}onCategoriesChange(){this.setCategoriesText()}loadGoogleMap(){if(!this.initialized){let e;this.profile&&this.profile.latitude&&this.profile.longitude&&(e=new jg,e.latitude=this.profile.latitude,e.longitude=this.profile.longitude,e.formatted_address=this.profile.address),this.maps.init(this.mapElement.nativeElement,this.pleaseConnect.nativeElement,e).then(()=>{if(this.autocompleteService=new google.maps.places.AutocompleteService,this.placesService=new google.maps.places.PlacesService(this.maps.map),this.maps.map.addListener("click",r=>{if(r&&r.latLng){let o=new google.maps.LatLng(r.latLng.lat(),r.latLng.lng());this.geocode(o)}}),this.initialized=!0,this.profile&&this.profile.latitude&&this.profile.longitude){let r=new google.maps.LatLng(Number(this.profile.latitude),Number(this.profile.longitude));this.plotMarker(r)}else this.detect()}).catch(r=>this.close()).catch(r=>this.close())}}searchPlace(){if(this.autocompleteService&&this.query.length>0){let e={input:this.query};this.autocompleteService.getPlacePredictions(e,(i,r)=>{r==google.maps.places.PlacesServiceStatus.OK&&i&&(this.places=[],i.forEach(o=>this.places.push(o)))})}else this.places=[]}selectPlace(e){this.query=e.description,this.places=[];let i=new jg;i.id=-1,i.formatted_address=e.name,this.placesService.getDetails({placeId:e.place_id},r=>{this.ngZone.run(()=>{let o="";r.address_components.map(l=>{l.types[0]!="administrative_area_level_2"&&l.types[0]!="country"&&l.types[0]!="postal_code"&&l.types[0]!="administrative_area_level_1"&&(o=o?o+", "+l.long_name:l.long_name)}),i.formatted_address=o,i.latitude=String(r.geometry.location.lat()),i.longitude=String(r.geometry.location.lng());let s={lat:r.geometry.location.lat(),lng:r.geometry.location.lng()};this.maps.map.setCenter(s),this.profile.address=i.formatted_address,this.profile.latitude=i.latitude,this.profile.longitude=i.longitude;let a=new google.maps.LatLng(Number(s.lat),Number(s.lng));this.plotMarker(a)})})}close(){let e=He.getLocationDefault();e&&(this.profile.address=e.formatted_address,this.profile.latitude=e.latitude,this.profile.longitude=e.longitude),He.setLocationDefault(null)}selectAddress(e){He.setAddressSelected(e),this.close()}detect(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(e=>{let i=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);this.geocode(i),this.detecting=!1})}geocode(e){let i=new google.maps.Geocoder,r={location:e};i.geocode(r,(o,s)=>{if(s==google.maps.GeocoderStatus.OK&&o.length>0){let a=new jg;a.id=-1;let l="";o[0].address_components.map(u=>{u.types[0]!="administrative_area_level_2"&&u.types[0]!="country"&&u.types[0]!="postal_code"&&u.types[0]!="administrative_area_level_1"&&(l=l?l+", "+u.long_name:u.long_name)}),a.formatted_address=l,a.latitude=String(e.lat()),a.longitude=String(e.lng()),this.profile.address=a.formatted_address,this.profile.latitude=a.latitude,this.profile.longitude=a.longitude,this.plotMarker(e),this.uiElementService.showSuccessToastr(a.formatted_address)}})}plotMarker(e){this.marker?this.marker.setPosition(e):(this.marker=new google.maps.Marker({position:e,map:this.maps.map}),this.marker.setClickable(!0),this.marker.addListener("click",i=>this.uiElementService.showSuccessToastr(this.profile.address))),this.maps.map.panTo(e)}onCheckboxClick(e){var i=document.getElementById(e);if(i!=null)switch(e){case"review_app":this.profile.meta.review_app=i.checked;break;case"kitchecn_app":this.profile.meta.kitchecn_app=i.checked;break;case"kiosk_app":this.profile.meta.kiosk_app=i.checked;break;case"emenu_app":this.profile.meta.emenu_app=i.checked,this.profile.meta.emenu_app&&(!Number(this.profile.meta.no_of_tables)||Number(this.profile.meta.no_of_tables)<1)&&(this.profile.meta.no_of_tables=1);break;case"desk_app":this.profile.meta.desk_app=i.checked;break;case"table_booking":this.profile.meta.table_booking=i.checked;break;case"delivery_app":this.profile.meta.delivery_app=i.checked;break;case"auto_print":this.config.printerConfig.enableAutoPrint=i.checked,window.localStorage.setItem(et.KEY_LAST_ENABLE_AUTO_PRINT,i.checked?"true":"false");break}}update(){He.setPrinterNetworkConfig(this.networkConfig),He.setBankDetail({bank_name:this.payourRequest.bank_name,bank_account_name:this.payourRequest.bank_account_name,bank_account_number:this.payourRequest.bank_account_number});let e=!0;if(this.profile.meta.review_app){for(let i of this.feedbackMatter.questions)if(!i.title||!i.title.length){e=!1;break}if(!e){this.translate.get("err_field_review_app_quesitons").subscribe(i=>this.uiElementService.showErrorToastr(i,"toast-top-center"));return}}else e=!1;if(!this.profile.name||!this.profile.name.length)this.translate.get("err_field_profile_name").subscribe(i=>this.uiElementService.showErrorToastr(i,"toast-top-center"));else if(!this.categoriesSelectedStrings||!this.categoriesSelectedStrings.length)this.translate.get("err_field_product_categories").subscribe(i=>this.uiElementService.showErrorToastr(i));else if(!this.profile.meta.green_time)this.translate.get("green_time_text").subscribe(i=>this.uiElementService.showErrorToastr(i,"toast-top-center"));else if(!this.profile.meta.yellow_time)this.translate.get("yellow_time_text").subscribe(i=>this.uiElementService.showErrorToastr(i,"toast-top-center"));else if(!this.profile.meta.red_time)this.translate.get("red_time_text").subscribe(i=>this.uiElementService.showErrorToastr(i,"toast-top-center"));else if(!this.profile.latitude||!this.profile.longitude||!this.profile.latitude.length||!this.profile.longitude.length||!this.profile.address||!this.profile.address.length)this.translate.get("err_field_profile_location").subscribe(i=>this.uiElementService.showErrorToastr(i,"toast-top-center"));else{let i=new Array;for(let o of this.categories)this.categoriesSelectedStrings.includes(o.title)&&i.push(o.id);this.profile.meta.no_of_tables=this.profile.meta.no_of_tables&&this.profile.meta.no_of_tables>0?this.profile.meta.no_of_tables:0;let r=j1.getUpdateRequest(this.profile);r.categories=i,!r.availability||!r.availability.length?this.translate.get("err_field_profile_availability").subscribe(o=>this.uiElementService.showErrorToastr(o)):this.translate.get(["updating","something_wrong"]).subscribe(o=>{this.uiElementService.presentLoading(o.updating),this.subscriptions.push(this.apiService.createFeedbackMatter(this.profile.id,Jx.getRequest(this.feedbackMatter)).subscribe(s=>this.setupFeedbackMatter(s),s=>console.log("createFeedbackMatter: ",s))),this.subscriptions.push(this.apiService.updateProfile(r,this.profile.id).subscribe(s=>{this.uiElementService.dismissLoading(),this.authRes!=null?He.setLoggedInUserResponse(this.authRes):He.setLoggedInUser(s.user),this.myEvents.setProfileData(s)},s=>{console.log("updateProfile",s),this.uiElementService.dismissLoading()}))})}}qrShow(){this.qrValue=this.qrValue?null:String(this.profile.id),this.qrValue&&(this.canvas.nativeElement.removeAttribute("src"),this.downloadLink.nativeElement.removeAttribute("href"),this.downloadLink.nativeElement.removeAttribute("download"))}downloadImage(){(0,ece.default)(this.qr_container.nativeElement).then(e=>{this.canvas.nativeElement.src=e.toDataURL(),this.downloadLink.nativeElement.href=e.toDataURL("image/png"),this.downloadLink.nativeElement.download="qr.png",this.downloadLink.nativeElement.click(),this.qrValue=null})}static{this.\u0275fac=function(i){return new(i||n)(ae(qn),ae(Un),ae(vs),ae(ni),ae(ui),ae(Xr),ae(Pt),ae(ub))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-setting"]],viewQuery:function(i,r){if(i&1&&(Mi(Wje,5),Mi(Kje,5),Mi(zje,5),Mi(qje,7),Mi($je,7)),i&2){let o;ln(o=cn())&&(r.qr_container=o.first),ln(o=cn())&&(r.canvas=o.first),ln(o=cn())&&(r.downloadLink=o.first),ln(o=cn())&&(r.pleaseConnect=o.first),ln(o=cn())&&(r.mapElement=o.first)}},decls:274,vars:202,consts:[["map",""],["pleaseConnect",""],["languageSelect",""],["canvas",""],["downloadLink",""],["qr_container",""],[1,"body_wrapper","p-2","p-lg-4"],[1,"pageTitle","pb-4"],[1,"row","align-items-center"],[1,"col-12","col-md-3","col-xl-7","pb-2","pb-md-0"],[1,"col-12","col-md-9","col-xl-5","pb-2","pb-md-0"],["type","submit",1,"btn","m-0","mt-2","mt-md-0","end",3,"click"],[1,"row","g-3"],[1,"col-12","col-md-12","col-lg-6"],[1,"card"],[1,"form_inner"],[1,"form-group","animate__animated","animate__fadeInUp"],[1,"input_box"],["type","text","name","name",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["name","phone","type","tel","readonly","",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","email","name","email","readonly","",1,"form-control",3,"ngModelChange","placeholder","ngModel"],[1,"card",2,"position","relative","z-index","99"],["name","select_categories",1,"end",3,"ngModelChange","change","ngModel","placeholder","multiple"],[3,"value",4,"ngFor","ngForOf"],[1,"card","restaurant_location"],[1,"input_box","d-flex"],["src","assets/images/icons/ic_search.svg",2,"width","15px"],["name","search","type","search",1,"form-control",3,"ngModelChange","keyup","placeholder","ngModel"],[1,"zmdi","zmdi-gps-dot","end",3,"click"],[1,"map"],["class","saved_address",4,"ngIf"],["id","map",1,"map",2,"height","302px"],["id","please-connect"],[1,"card","resturent_timings"],[1,"form-group"],["class","row g-0 align-items-center","style","margin-bottom: 5px;",4,"ngFor","ngForOf"],[1,"card","toggleCard"],[1,"form-group","d-flex"],[1,"d-flex"],["name","meta_auto_accept_order_customer",1,"end",3,"ngModelChange","ngModel"],["name","meta_auto_accept_order_kiosk",1,"end",3,"ngModelChange","ngModel"],["name","meta_auto_accept_order_emenu",1,"end",3,"ngModelChange","ngModel"],["name","language_selection",3,"ngModelChange","change","ngModel"],["name","dark_mode_toggle",1,"end",3,"ngModelChange","change","ngModel"],[1,"card","profilePicture"],[1,"row"],[1,"col-12","col-md-6"],["class","",4,"ngIf"],["type","text","name","bank_name",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","text","name","bank_account_name",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","text","name","bank_account_number",1,"form-control",3,"ngModelChange","placeholder","ngModel"],[1,"card","orderColorSettings"],[1,"row","g-0","align-items-center"],[1,"col-3","col-md-6"],[1,"form-group","m-0"],[1,"col-9","col-md-6"],[1,"zmdi","zmdi-circle",2,"color","#7AC81E"],[1,"form-group","select_box","animate__animated","animate__fadeInUp"],["name","green_time",3,"ngModelChange","multiple","ngModel","placeholder"],[3,"value","ch",4,"ngFor","ngForOf"],[1,"zmdi","zmdi-circle",2,"color","#F3AA1B"],[1,"form-group","select_box","select_box2","animate__animated","animate__fadeInUp",2,"z-index","99"],["name","yellow_time",3,"ngModelChange","multiple","ngModel","placeholder"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"zmdi","zmdi-circle",2,"color","#EB5757"],[1,"form-group","select_box","select_box3","animate__animated","animate__fadeInUp",2,"z-index","999"],["name","red_time",3,"ngModelChange","multiple","ngModel"],[3,"value","selected-option","selected",4,"ngFor","ngForOf"],[1,"card","qrCode"],[1,"input_box","d-flex",3,"click"],["type","text","readonly","",3,"value"],["src","assets/images/icons/ic_download.svg",1,"end"],["type","number","name","no_of_tables",1,"form-control",3,"ngModelChange","placeholder","value","ngModel"],[1,"card","toggleCard","additionalApp"],["name","kitchecn_app","value","kitchecn_app","id","kitchecn_app",1,"end",3,"click","ngModelChange","checked","ngModel"],["name","kiosk_app","value","kiosk_app","id","kiosk_app",1,"end",3,"click","ngModelChange","checked","ngModel"],["name","emenu_app","value","emenu_app","id","emenu_app",1,"end",3,"changed","ngModelChange","checked","ngModel"],["name","review_app","value","review_app","id","review_app",1,"end",3,"click","ngModelChange","checked","ngModel"],["class","questions",4,"ngIf"],[1,"qr_code_popup",3,"ngClass"],["data-wow-duration",".3s",1,"qr_code_popup_inner","animate__animated","animate__zoomIn","wow"],[1,"popup-close-button",3,"click"],[1,"zmdi","zmdi-close"],["id","qr_container","class","qr_code_img",4,"ngIf"],["id","download"],["type","submit",1,"btn","rounded-pill","py-3",3,"click"],[1,"zmdi","zmdi-download"],[3,"value"],[1,"saved_address"],["class","address_box d-flex",3,"click",4,"ngFor","ngForOf"],[1,"address_box","d-flex",3,"click"],[1,"text_box"],[1,"row","g-0","align-items-center",2,"margin-bottom","5px"],[1,"col-12","col-md-3","pb-2"],[1,"form-group","mb-0"],[1,"form-check","checkbox"],["type","checkbox",1,"form-check-input",3,"ngModelChange","id","name","ngModel","ngModelOptions"],["for","mon",1,"form-check-label",3,"for"],[1,"align-items-center","d-flex","w-100"],[1,"col-12","col-md-9","px-0","d-flex"],[1,"time_box","end"],[1,"time_picker"],["type","time",3,"ngModelChange","name","disabled","ngModel"],[1,"m-0","col-2","px-0"],[1,""],[1,"img_box","center_img","animate__animated","animate__zoomIn"],[1,"crop_img",3,"src"],[1,"img_placeholder"],["src","assets/images/icons/ic_img.svg"],[3,"value","ch"],[3,"value","selected"],[1,"form-group","animate__animated","animate__fadeInUp","wow"],["type","text","name","printer_config_name",1,"form-control",3,"ngModelChange","value","ngModel"],[1,"col-12","col-lg-6"],["type","text","name","printer_config_host","placeholder","127.0.0.1",1,"form-control",3,"ngModelChange","value","ngModel"],["type","text","name","printer_config_port","placeholder","9100",1,"form-control",3,"ngModelChange","value","ngModel"],["name","auto_print","value","auto_print","id","auto_print",1,"end",3,"click","checked"],[1,"questions"],["class","form-group  animate__animated animate__fadeInUp",4,"ngFor","ngForOf"],[1,"form-group","options"],["class","col-12 col-md-6",4,"ngFor","ngForOf"],[1,"form-control",3,"ngModelChange","name","id","value","ngModel"],["src","assets/images/loved_it.gif",4,"ngIf"],["src","assets/images/good.gif",4,"ngIf"],["src","assets/images/average.gif",4,"ngIf"],["src","assets/images/not_good.gif",4,"ngIf"],["type","text",1,"form-control",3,"ngModelChange","name","id","value","ngModel"],["src","assets/images/loved_it.gif"],["src","assets/images/good.gif"],["src","assets/images/average.gif"],["src","assets/images/not_good.gif"],["id","qr_container",1,"qr_code_img"],[3,"qrdata","width","errorCorrectionLevel"],["src","assets/images/qr_background.svg",1,"qr_background"]],template:function(i,r){if(i&1){let o=We();I(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"h1"),H(5),K(6,"translate"),M()(),I(7,"div",10)(8,"button",11),ve("click",function(){return we(o),be(r.update())}),H(9),K(10,"translate"),M()()()(),I(11,"form")(12,"div",12)(13,"div",13)(14,"div",14)(15,"div",15)(16,"h2"),H(17),K(18,"translate"),M(),I(19,"div",16)(20,"label"),H(21),K(22,"translate"),M(),I(23,"div",17)(24,"input",18),K(25,"translate"),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.name,a)||(r.profile.name=a),be(a)}),M()()(),I(26,"div",16)(27,"label"),H(28),K(29,"translate"),M(),I(30,"div",17)(31,"input",19),K(32,"translate"),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.user.mobile_number,a)||(r.profile.user.mobile_number=a),be(a)}),M()()(),I(33,"div",16)(34,"label"),H(35),K(36,"translate"),M(),I(37,"div",17)(38,"input",20),K(39,"translate"),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.user.email,a)||(r.profile.user.email=a),be(a)}),M()()()()(),I(40,"div",21)(41,"div",15)(42,"h2"),H(43),K(44,"translate"),M(),I(45,"div",16)(46,"label"),H(47),K(48,"translate"),M(),I(49,"ng-select",22),K(50,"translate"),Ze("ngModelChange",function(a){return we(o),Xe(r.categoriesSelectedStrings,a)||(r.categoriesSelectedStrings=a),be(a)}),ve("change",function(){return we(o),be(r.onCategoriesChange())}),he(51,Zje,2,2,"ng-option",23),M()()()(),I(52,"div",24)(53,"div",15)(54,"h2"),H(55),K(56,"translate"),M(),I(57,"div",16)(58,"div",25),H(59," \xA0\xA0\xA0"),se(60,"img",26),I(61,"input",27),K(62,"translate"),Ze("ngModelChange",function(a){return we(o),Xe(r.query,a)||(r.query=a),be(a)}),ve("keyup",function(){return we(o),be(r.searchPlace())}),M(),I(63,"i",28),ve("click",function(){return we(o),be(r.detect())}),M(),H(64,"\xA0\xA0\xA0 "),M()(),I(65,"div",29),he(66,Jje,2,1,"div",30),se(67,"div",31,0)(69,"div",32,1),M()()(),I(71,"div",33)(72,"div",15)(73,"h2"),H(74),K(75,"translate"),M(),I(76,"div",34),he(77,e7e,18,23,"div",35),M()()(),I(78,"div",36)(79,"div",15)(80,"h2"),H(81),K(82,"translate"),M(),I(83,"div",37)(84,"h3",38),H(85),K(86,"translate"),M(),I(87,"ng-toggle",39),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.meta.auto_accept_order_customer,a)||(r.profile.meta.auto_accept_order_customer=a),be(a)}),M()(),I(88,"div",37)(89,"h3",38),H(90),K(91,"translate"),M(),I(92,"ng-toggle",40),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.meta.auto_accept_order_kiosk,a)||(r.profile.meta.auto_accept_order_kiosk=a),be(a)}),M()(),I(93,"div",37)(94,"h3",38),H(95),K(96,"translate"),M(),I(97,"ng-toggle",41),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.meta.auto_accept_order_emenu,a)||(r.profile.meta.auto_accept_order_emenu=a),be(a)}),M()()()(),I(98,"div",21)(99,"div",15)(100,"h2"),H(101),K(102,"translate"),M(),I(103,"div",16)(104,"label"),H(105),K(106,"translate"),M(),I(107,"ng-select",42,2),Ze("ngModelChange",function(a){return we(o),Xe(r.defaultLanguageCode,a)||(r.defaultLanguageCode=a),be(a)}),ve("change",function(a){return we(o),be(r.onLanguageClick(a))}),he(109,t7e,2,2,"ng-option",23),M()()()(),I(110,"div",36)(111,"div",15)(112,"h2"),H(113),K(114,"translate"),M(),I(115,"div",16)(116,"div",37)(117,"h3",38),H(118),K(119,"translate"),M(),I(120,"ng-toggle",43),Ze("ngModelChange",function(a){return we(o),Xe(r.darkModeStatus,a)||(r.darkModeStatus=a),be(a)}),ve("change",function(a){return we(o),be(r.onDarkMode(a))}),M()()()()()(),I(121,"div",13)(122,"div",44)(123,"div",15)(124,"h2"),H(125),K(126,"translate"),M(),I(127,"div",45)(128,"div",46),he(129,n7e,8,4,"div",47)(130,i7e,7,3,"div",47),M()()()(),I(131,"div",14)(132,"div",15)(133,"h2"),H(134),K(135,"translate"),M(),I(136,"div",16)(137,"label"),H(138),K(139,"translate"),M(),I(140,"div",17)(141,"input",48),K(142,"translate"),Ze("ngModelChange",function(a){return we(o),Xe(r.payourRequest.bank_name,a)||(r.payourRequest.bank_name=a),be(a)}),M()()(),I(143,"div",16)(144,"label"),H(145),K(146,"translate"),M(),I(147,"div",17)(148,"input",49),K(149,"translate"),Ze("ngModelChange",function(a){return we(o),Xe(r.payourRequest.bank_account_name,a)||(r.payourRequest.bank_account_name=a),be(a)}),M()()(),I(150,"div",16)(151,"label"),H(152),K(153,"translate"),M(),I(154,"div",17)(155,"input",50),K(156,"translate"),Ze("ngModelChange",function(a){return we(o),Xe(r.payourRequest.bank_account_number,a)||(r.payourRequest.bank_account_number=a),be(a)}),M()()()()(),I(157,"div",51)(158,"div",15)(159,"h2"),H(160),K(161,"translate"),M(),I(162,"div",52)(163,"div",53)(164,"div",54)(165,"label"),H(166),K(167,"translate"),M()()(),I(168,"div",55)(169,"div",54)(170,"label"),H(171),K(172,"translate"),M()()()(),I(173,"div",52)(174,"div",53)(175,"div",16)(176,"h4",38),se(177,"i",56),H(178),K(179,"translate"),M()()(),I(180,"div",55)(181,"div",57)(182,"ng-select",58),K(183,"translate"),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.meta.green_time,a)||(r.profile.meta.green_time=a),be(a)}),he(184,r7e,2,3,"ng-option",59),M()()()(),I(185,"div",52)(186,"div",53)(187,"div",16)(188,"h4",38),se(189,"i",60),H(190),K(191,"translate"),M()()(),I(192,"div",55)(193,"div",61)(194,"ng-select",62),K(195,"translate"),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.meta.yellow_time,a)||(r.profile.meta.yellow_time=a),be(a)}),he(196,o7e,2,3,"ng-option",63),M()()()(),I(197,"div",52)(198,"div",53)(199,"div",16)(200,"h4",38),se(201,"i",64),H(202),K(203,"translate"),M()()(),I(204,"div",55)(205,"div",65)(206,"ng-select",66),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.meta.red_time,a)||(r.profile.meta.red_time=a),be(a)}),he(207,s7e,2,5,"ng-option",67),M()()()()()(),I(208,"div",68)(209,"div",15)(210,"h2",38),H(211),K(212,"translate"),M(),I(213,"div",16)(214,"label"),H(215),K(216,"translate"),M(),I(217,"div",69),ve("click",function(){return we(o),be(r.qrShow())}),se(218,"input",70),K(219,"translate"),se(220,"img",71),M()()()(),he(221,a7e,37,25,"div",47),I(222,"div",14)(223,"div",15)(224,"h2"),H(225),K(226,"translate"),M(),I(227,"div",16)(228,"label"),H(229),K(230,"translate"),M(),I(231,"div",17)(232,"input",72),K(233,"translate"),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.meta.no_of_tables,a)||(r.profile.meta.no_of_tables=a),be(a)}),M()()()()(),I(234,"div",73)(235,"div",15)(236,"h2"),H(237),K(238,"translate"),M(),I(239,"div",37)(240,"h3",38),H(241),K(242,"translate"),M(),I(243,"ng-toggle",74),ve("click",function(){return we(o),be(r.onCheckboxClick("kitchecn_app"))}),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.meta.kitchecn_app,a)||(r.profile.meta.kitchecn_app=a),be(a)}),M()(),I(244,"div",37)(245,"h3",38),H(246),K(247,"translate"),M(),I(248,"ng-toggle",75),ve("click",function(){return we(o),be(r.onCheckboxClick("kiosk_app"))}),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.meta.kiosk_app,a)||(r.profile.meta.kiosk_app=a),be(a)}),M()(),I(249,"div",37)(250,"h3",38),H(251),K(252,"translate"),M(),I(253,"ng-toggle",76),ve("changed",function(){return we(o),be(r.onCheckboxClick("emenu_app"))}),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.meta.emenu_app,a)||(r.profile.meta.emenu_app=a),be(a)}),M()(),I(254,"div",37)(255,"h3",38),H(256),K(257,"translate"),M(),I(258,"ng-toggle",77),ve("click",function(){return we(o),be(r.onCheckboxClick("review_app"))}),Ze("ngModelChange",function(a){return we(o),Xe(r.profile.meta.review_app,a)||(r.profile.meta.review_app=a),be(a)}),M()(),he(259,p7e,8,5,"div",78),M()()()()()(),I(260,"div",79)(261,"div",80)(262,"div",81),ve("click",function(){return we(o),be(r.qrShow())}),se(263,"i",82),M(),he(264,A7e,4,3,"div",83),I(265,"div",84),se(266,"img",null,3)(268,"a",null,4),M(),I(270,"button",85),ve("click",function(){return we(o),be(r.downloadImage())}),se(271,"i",86),H(272),K(273,"translate"),M()()()}i&2&&(x(5),le(" ",z(6,100,"settings")," "),x(4),le(" ",z(10,102,"save")," "),x(8),de(z(18,104,"resturent_details")),x(4),de(z(22,106,"store_name")),x(3),nt("placeholder",z(25,108,"enter_store_name")),Ye("ngModel",r.profile.name),x(4),de(z(29,110,"phone_number")),x(3),nt("placeholder",z(32,112,"enter_phone_number")),Ye("ngModel",r.profile.user.mobile_number),x(4),de(z(36,114,"email_address")),x(3),nt("placeholder",z(39,116,"enter_email_address")),Ye("ngModel",r.profile.user.email),x(5),de(z(44,118,"category")),x(4),de(z(48,120,"select_categories")),x(2),zn("selected-option",r.categoriesSelectedStrings),nt("placeholder",z(50,122,"select_categories")),Ye("ngModel",r.categoriesSelectedStrings),W("multiple",!0),x(2),W("ngForOf",r.categoryStrings),x(4),de(z(56,124,"restaurant_location")),x(6),nt("placeholder",z(62,126,"search_location")),Ye("ngModel",r.query),x(5),W("ngIf",r.places&&r.places.length),x(8),de(z(75,128,"restaurant_timings")),x(3),W("ngForOf",r.profile.availability),x(4),de(z(82,130,"auto_accept_order")),x(4),le(" ",z(86,132,"customer_app")," "),x(2),Ye("ngModel",r.profile.meta.auto_accept_order_customer),x(3),le(" ",z(91,134,"kiosk_app")," "),x(2),Ye("ngModel",r.profile.meta.auto_accept_order_kiosk),x(3),le(" ",z(96,136,"emenu_app")," "),x(2),Ye("ngModel",r.profile.meta.auto_accept_order_emenu),x(4),de(z(102,138,"language")),x(4),de(z(106,140,"select_app_language")),x(2),Ye("ngModel",r.defaultLanguageCode),x(2),W("ngForOf",r.config.availableLanguages),x(4),de(z(114,142,"display_settings")),x(5),le(" ",z(119,144,"select_app_theme")," "),x(2),Ye("ngModel",r.darkModeStatus),x(5),de(z(126,146,"resturent_profile_picture")),x(4),W("ngIf",r.profile&&r.profile.image_urls&&r.profile.image_urls.length),x(),W("ngIf",!r.profile||!r.profile.image_urls||!r.profile.image_urls.length),x(4),de(z(135,148,"bank_details")),x(4),de(z(139,150,"bank_name")),x(3),nt("placeholder",z(142,152,"enter_bank_name")),Ye("ngModel",r.payourRequest.bank_name),x(4),de(z(146,154,"account_holder_name")),x(3),nt("placeholder",z(149,156,"enter_account_holder_name")),Ye("ngModel",r.payourRequest.bank_account_name),x(4),de(z(153,158,"account_number")),x(3),nt("placeholder",z(156,160,"enter_account_number")),Ye("ngModel",r.payourRequest.bank_account_number),x(5),de(z(161,162,"order_color_settings")),x(6),de(z(167,164,"color")),x(5),de(z(172,166,"set_timing")),x(7),le("",z(179,168,"green")," "),x(4),zn("selected-option",r.profile.meta.green_time),nt("placeholder",z(183,170,"select_category")),W("multiple",!1),Ye("ngModel",r.profile.meta.green_time),x(2),W("ngForOf",r.apiService.times),x(6),le(" ",z(191,172,"yellow")," "),x(4),zn("selected-option",r.profile.meta.yellow_time),nt("placeholder",z(195,174,"select_category")),W("multiple",!1),Ye("ngModel",r.profile.meta.yellow_time),x(2),W("ngForOf",r.apiService.times),x(6),le("",z(203,176,"red")," "),x(4),W("multiple",!1),Ye("ngModel",r.profile.meta.red_time),x(),W("ngForOf",r.apiService.times),x(4),de(z(212,178,"qr_code")),x(4),de(z(216,180,"generate_qr_code_to_connect_with_menu")),x(3),nt("value",z(219,182,"download_now")),x(3),W("ngIf",r.config.printerConfig.enabled),x(4),de(z(226,184,"table_for_dine_in_orders")),x(4),de(z(230,186,"number_of_tables_available")),x(3),nt("placeholder",z(233,188,"enter_here")),W("value",r.profile.meta.no_of_tables),Ye("ngModel",r.profile.meta.no_of_tables),x(5),de(z(238,190,"additional_app")),x(4),le(" ",z(242,192,"kitchen_app")," "),x(2),W("checked",r.profile.meta.kitchecn_app),Ye("ngModel",r.profile.meta.kitchecn_app),x(3),le(" ",z(247,194,"kiosk_app")," "),x(2),W("checked",r.profile.meta.kiosk_app),Ye("ngModel",r.profile.meta.kiosk_app),x(3),le(" ",z(252,196,"emenu_app")," "),x(2),W("checked",r.profile.meta.emenu_app),Ye("ngModel",r.profile.meta.emenu_app),x(3),le(" ",z(257,198,"review_app")," "),x(2),W("checked",r.profile.meta.review_app),Ye("ngModel",r.profile.meta.review_app),x(),W("ngIf",r.profile.meta.review_app&&r.feedbackMatter),x(),W("ngClass",r.qrValue?"active":""),x(4),W("ngIf",r.qrValue),x(8),le(" ",z(273,200,"save_qr")," "))},dependencies:[Fr,ti,En,ji,Hi,ZE,oU,Vi,Qi,$i,Oi,qle,_u,Cc,xP,Gn],styles:['form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 15px 0;border-radius:11px;margin-bottom:15px}form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:1.08rem;font-weight:600;padding-bottom:20px}form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{margin-bottom:15px;position:relative}form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .pin_icon[_ngcontent-%COMP%]{position:absolute;z-index:99;background:var(--primary);border:2px solid var(--text-white);width:40px;height:40px;display:flex;align-items:center;border-radius:50%}form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .pin_icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;width:15px}form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .map_img[_ngcontent-%COMP%]{width:100%;height:180px;border-radius:10px}form[_ngcontent-%COMP%]   .card.resturent_timings[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .time_box[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:fit-content}form[_ngcontent-%COMP%]   .card.resturent_timings[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .time_box[_ngcontent-%COMP%]   .time_picker[_ngcontent-%COMP%]{display:flex;overflow:hidden;width:fit-content;align-items:center;min-width:fit-content;position:relative;cursor:pointer}form[_ngcontent-%COMP%]   .card.resturent_timings[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .time_box[_ngcontent-%COMP%]   .time_picker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:100%;width:fit-content;outline:0;border:0;box-shadow:none;color:var(--text-dark);font-weight:600;font-size:.85rem;background:none!important;cursor:pointer}form[_ngcontent-%COMP%]   .card.resturent_timings[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .time_box[_ngcontent-%COMP%]   .time_picker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background:none;opacity:.2}form[_ngcontent-%COMP%]   .card.resturent_timings[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .time_box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;text-align:center;color:var(--text-light);font-size:.82rem;min-width:35px}form[_ngcontent-%COMP%]   .card.toggleCard[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.82rem;font-weight:600}form[_ngcontent-%COMP%]   .card.profilePicture[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]{display:block;width:100%;height:235px;margin-bottom:20px;border-radius:8px;border:1.5px solid var(--border-line-color)}form[_ngcontent-%COMP%]   .card.profilePicture[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--primary);opacity:.1;transition:all .5s}form[_ngcontent-%COMP%]   .card.profilePicture[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:99;opacity:0}form[_ngcontent-%COMP%]   .card.profilePicture[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]   .img_placeholder[_ngcontent-%COMP%]{text-align:center;position:absolute;inset:0;height:fit-content;width:100%;padding:20px;margin:auto}form[_ngcontent-%COMP%]   .card.profilePicture[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]   .img_placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;margin-bottom:15px}form[_ngcontent-%COMP%]   .card.profilePicture[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]   .img_placeholder[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto;color:var(--text-dark);font-size:.85rem;font-weight:600;padding-top:10px}form[_ngcontent-%COMP%]   .card.orderColorSettings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.8rem;font-weight:500}form[_ngcontent-%COMP%]   .card.orderColorSettings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;font-size:.9rem;min-width:25px}form[_ngcontent-%COMP%]   .card.orderColorSettings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]{padding:0 15px}form[_ngcontent-%COMP%]   .card.orderColorSettings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0}form[_ngcontent-%COMP%]   .card.orderColorSettings[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:15px;min-width:15px}form[_ngcontent-%COMP%]   .card.qrCode[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]{padding:0 15px;background:var(--bg-white);border:1.5px solid var(--primary)!important;position:relative;cursor:pointer}form[_ngcontent-%COMP%]   .card.qrCode[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--primary);opacity:.2}form[_ngcontent-%COMP%]   .card.qrCode[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;z-index:99;color:var(--primary)!important;text-transform:uppercase;border:0!important;outline:0!important;cursor:pointer}form[_ngcontent-%COMP%]   .card.qrCode[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:18px;min-width:18px;position:relative;z-index:99}form[_ngcontent-%COMP%]   .card.additionalApp[_ngcontent-%COMP%]   .form-group.options[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]{padding:0 15px}form[_ngcontent-%COMP%]   .card.additionalApp[_ngcontent-%COMP%]   .form-group.options[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0}form[_ngcontent-%COMP%]   .card.additionalApp[_ngcontent-%COMP%]   .form-group.options[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:20px;min-width:20px}form[_ngcontent-%COMP%]   .card.restaurant_location[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:30px;height:30px;text-align:center;line-height:30px;color:var(--text-dark);cursor:pointer;border:1.5px solid var(--border-line-color);border-radius:5px;min-width:30px;font-size:1rem;background:var(--bg-secondary)}.qr_code_popup[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0000008c;z-index:999999;display:none}.qr_code_popup[_ngcontent-%COMP%]   .qr_code_popup_inner[_ngcontent-%COMP%]{background:var(--bg-white);max-width:350px;position:absolute;inset:0;margin:auto;height:fit-content;padding:0;border-radius:15px}.qr_code_popup[_ngcontent-%COMP%]   .qr_code_popup_inner[_ngcontent-%COMP%]   .popup-close-button[_ngcontent-%COMP%]{position:absolute;top:-8px;z-index:9;left:-8px;width:25px;height:25px;border-radius:50%;color:var(--primary);text-align:center;cursor:pointer;box-shadow:0 0 8px 4px #00000012;background:var(--bg-white)}.qr_code_popup[_ngcontent-%COMP%]   .qr_code_popup_inner[_ngcontent-%COMP%]   .popup-close-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:24px;width:100%;text-align:center;font-size:19px}.qr_code_popup[_ngcontent-%COMP%]   .qr_code_popup_inner[_ngcontent-%COMP%]   .qr_code_img[_ngcontent-%COMP%]{margin:auto;display:flex;align-items:center;position:relative;width:300px;height:218px}.qr_code_popup[_ngcontent-%COMP%]   .qr_code_popup_inner[_ngcontent-%COMP%]   .qr_code_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:21px;left:0;width:300px}.qr_code_popup[_ngcontent-%COMP%]   .qr_code_popup_inner[_ngcontent-%COMP%]   qrcode[_ngcontent-%COMP%]{display:block;margin:0 auto;width:fit-content;position:relative;top:47px}.qr_code_popup[_ngcontent-%COMP%]   .qr_code_popup_inner[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{border-radius:0 0 15px 15px!important;width:100%}.qr_code_popup[_ngcontent-%COMP%]   .qr_code_popup_inner[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;top:3px;font-size:20px}.qr_code_popup.active[_ngcontent-%COMP%]{display:block}']})}}return n})();var IP=class{constructor(t,e,i){this.name=t,this.email=e,this.mobile_number=i,this.message=""}};var nce=(()=>{class n{constructor(e,i,r,o){this.router=e,this.translate=i,this.uiElementService=r,this.apiService=o,this.subscriptions=new Array}ngOnInit(){let e=He.getLoggedInUser();this.supportRequest=new IP(e.name,e.email,e.mobile_number)}ngOnDestroy(){for(let e of this.subscriptions)e.unsubscribe();this.uiElementService.dismissLoading()}submit(){this.supportRequest&&this.supportRequest.message?this.translate.get(["supporting","supporting_success","something_wrong"]).subscribe(e=>{this.uiElementService.presentLoading(e.supporting),this.subscriptions.push(this.apiService.submitSupport(this.supportRequest).subscribe(i=>{this.uiElementService.dismissLoading(),this.uiElementService.showSuccessToastr(e.supporting_success),this.router.navigate(["dashboard"])},i=>{console.log("submitSupport",i),this.uiElementService.dismissLoading(),this.uiElementService.showErrorToastr(e.something_wrong)}))}):this.translate.get("err_valid_support_msg").subscribe(e=>this.uiElementService.showErrorToastr(e))}static{this.\u0275fac=function(i){return new(i||n)(ae(Un),ae(qn),ae(ui),ae(ni))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-support"]],decls:29,vars:19,consts:[[1,"body_wrapper","p-2","p-lg-4"],[1,"pageTitle","pb-4"],[1,"card"],[1,"row","g-0","align-items-center"],[1,"col-12","col-md-5","col-lg-6"],["src","assets/images/img_support.png",1,"img-fluid","col-8","mx-0","mb-3","mb-lg-0","mx-lg-auto","d-block"],[1,"col-12","col-md-7","col-lg-6"],[1,"col-12","col-xl-11","mx-auto","px-0"],[1,"col-11","col-lg-11","mx-auto","px-0"],[1,"form_inner"],[1,"pb-3","pb-lg-3","m-0","mb-lg-2","animate__animated","animate__fadeInUp"],[1,"form-group","animate__animated","animate__fadeInUp"],[1,"input_box","d-flex","align-items-center"],["name","message","rows","5",1,"form-control","py-3",3,"ngModelChange","ngModel","placeholder"],[1,"btn","rounded","animate__animated","animate__fadeInUp","w-100",3,"click"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"h1"),H(3),K(4,"translate"),M()(),I(5,"div",2)(6,"div",3)(7,"div",4),se(8,"img",5),M(),I(9,"div",6)(10,"form",7)(11,"div",8)(12,"div",9)(13,"h2",10),H(14),K(15,"translate"),M(),I(16,"h3",10),H(17),K(18,"translate"),M(),I(19,"div",11)(20,"label"),H(21),K(22,"translate"),M(),I(23,"div",12)(24,"textarea",13),K(25,"translate"),Ze("ngModelChange",function(s){return Xe(r.supportRequest.message,s)||(r.supportRequest.message=s),s}),M()()(),I(26,"button",14),ve("click",function(){return r.submit()}),H(27),K(28,"translate"),M()()()()()()()()),i&2&&(x(3),de(z(4,7,"support")),x(11),le(" ",z(15,9,"write_us_your_query")," "),x(3),le(" ",z(18,11,"we_ll_get_back_to_you_soon")," "),x(4),de(z(22,13,"your_message")),x(3),nt("placeholder",z(25,15,"write_your_message")),Ye("ngModel",r.supportRequest.message),x(3),le(" ",z(28,17,"submit")," "))},dependencies:[ji,Hi,Vi,Qi,$i,Oi,Gn],styles:[".card[_ngcontent-%COMP%]{background:var(--bg-white);border-radius:0;border:0;box-shadow:none;padding:25px 20px 0}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:1.08rem;font-weight:600;padding-bottom:10px}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.75rem;font-weight:600;padding-bottom:10px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-weight:500;font-size:.8rem;line-height:22px}.card[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{min-width:130px;width:fit-content!important}"]})}}return n})();var ice=(()=>{class n{constructor(){}ngOnInit(){this.privacy_policy=He.getSetting("terms")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=wt({type:n,selectors:[["app-terms-conditions"]],decls:10,vars:4,consts:[[1,"body_wrapper","p-2","p-lg-4"],[1,"pageTitle","pb-4"],[1,"card"],[1,"logo"],["src","assets/images/logo2.png",1,"light-theme"],["src","assets/images/logo_wt2.png",1,"dark-theme"],[1,"animate__animated","animate__fadeInUp",3,"innerHTML"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"h1"),H(3),K(4,"translate"),M()(),I(5,"div",2)(6,"div",3),se(7,"img",4)(8,"img",5),M(),se(9,"p",6),M()()),i&2&&(x(3),de(z(4,2,"terms_conditions")),x(6),W("innerHTML",r.privacy_policy,wa))},dependencies:[Gn],styles:[".card[_ngcontent-%COMP%]{background:var(--bg-white);border-radius:0;border:0;box-shadow:none;padding:25px 20px 10px}.card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding-bottom:20px}.card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.85rem;font-weight:600;padding-bottom:10px}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.77rem;font-weight:500;padding-bottom:15px;line-height:20px}"]})}}return n})();var TP=class{fromRow(t){this.senderName=t.senderName,this.senderImage=t.senderImage,this.senderStatus=t.senderStatus,this.recipientName=t.recipientName,this.recipientImage=t.recipientImage,this.recipientStatus=t.recipientStatus,this.recipientId=t.recipientId,this.senderId=t.senderId,this.chatId=t.chatId,this.id=t.id,this.body=t.body,this.dateTimeStamp=t.dateTimeStamp,this.timeDiff=He.formatMillisDateTime(Number(this.dateTimeStamp),He.getLocale()),this.delivered=t.delivered==1,this.sent=t.sent==1,this.meta=t.meta}};var g7e=e=>{var i=e,{OverlayView:n=google.maps.OverlayView}=i,t=FA(i,["OverlayView"]);class r extends n{constructor(){super(),this.latlng=t.latlng,this.html=t.html,this.setMap(t.map)}createDiv(){this.div=document.createElement("div"),this.div.style.position="absolute",this.html&&(this.div.innerHTML=this.html),google.maps.event.addDomListener(this.div,"click",s=>{google.maps.event.trigger(this,"click")})}appendDivToOverlay(){this.getPanes().overlayImage.appendChild(this.div)}positionDiv(){let s=this.getProjection().fromLatLngToDivPixel(this.latlng),a=25;s&&(this.div.style.left=`${s.x-a}px`,this.div.style.top=`${s.y-a}px`)}draw(){this.div||(this.createDiv(),this.appendDivToOverlay()),this.positionDiv()}remove(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null)}getPosition(){return this.latlng}setPosition(s){this.latlng=s,this.positionDiv()}getDraggable(){return!1}}return new r},kQ=g7e;var mb=Ri(zv());var m7e=["scrollMe"],v7e=(n,t)=>({orderInfoShow:n,deliveryInfoShow:t}),_7e=()=>[1,2,3,4,5,6,7,8,9],y7e=(n,t,e)=>({itemsPerPage:n,currentPage:t,totalItems:e});function w7e(n,t){n&1&&(I(0,"tr",21)(1,"td",22)(2,"h3"),se(3,"ngx-skeleton-loader",23),M()(),I(4,"td",22)(5,"h3"),se(6,"ngx-skeleton-loader",23),M()(),I(7,"td",22)(8,"h3"),se(9,"ngx-skeleton-loader",23),M()(),I(10,"td",24)(11,"h3"),se(12,"ngx-skeleton-loader",25),M()(),I(13,"td",22)(14,"h3"),se(15,"ngx-skeleton-loader",23),M()(),I(16,"td",22)(17,"h3"),se(18,"ngx-skeleton-loader",23),M()(),I(19,"td",22)(20,"h3"),se(21,"ngx-skeleton-loader",23),M()(),I(22,"td",24)(23,"h3"),se(24,"ngx-skeleton-loader",25),M()()())}function b7e(n,t){n&1&&(I(0,"tbody"),he(1,w7e,25,0,"tr",20),M()),n&2&&(x(),W("ngForOf",Qr(1,_7e)))}function C7e(n,t){if(n&1){let e=We();I(0,"a",29),ve("click",function(){we(e);let r=te().$implicit,o=te(2);return be(o.printReceipt(r))}),se(1,"img",32),M()}}function E7e(n,t){if(n&1){let e=We();I(0,"tr",27)(1,"td",22)(2,"h3"),H(3),M()(),I(4,"td",22)(5,"h3"),H(6),M()(),I(7,"td",22)(8,"h3"),H(9),M()(),I(10,"td",24)(11,"h3"),H(12),M()(),I(13,"td",22)(14,"h3"),H(15),K(16,"translate"),M()(),I(17,"td",22)(18,"h3"),H(19),M()(),I(20,"td",22)(21,"h3"),H(22),M()(),I(23,"td",24)(24,"h3")(25,"div",28)(26,"a",29),ve("click",function(){let r=we(e).$implicit,o=te(2);return be(o.orderDetails(r))}),se(27,"img",30),M(),he(28,C7e,2,0,"a",31),M()()()()}if(n&2){let e=t.$implicit,i=te(2);W("ngClass",e.status=="pending"||e.status=="new"?" animate__animated animate__fadeInUp  active":"  animate__animated animate__fadeInUp "),x(3),le(" ",e.id," "),x(3),le(" ",e.is_guest?e.customer_name:e.user.name," "),x(3),le(" ",e.total_toshow," "),x(3),le(" ",e.products.length," "),x(3),le(" ",z(16,9,e.order_type)," "),x(4),le(" ",e.payment==null||e.payment.payment_method==null?null:e.payment.payment_method.title," "),x(3),le(" ",e.created_at," "),x(6),W("ngIf",i.config.printerConfig.enabled)}}function S7e(n,t){if(n&1&&(I(0,"tbody"),he(1,E7e,29,11,"tr",26),K(2,"paginate"),M()),n&2){let e=te();x(),W("ngForOf",qs(2,1,e.orders,el(4,y7e,e.pageSize,e.pageNo,e.pageTotal)))}}function x7e(n,t){n&1&&(I(0,"div",33)(1,"div",34),se(2,"img",35),I(3,"span",36),H(4),K(5,"translate"),M()()()),n&2&&(x(4),le(" ",z(5,1,"empty_orders")," "))}function I7e(n,t){if(n&1){let e=We();I(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"h2"),H(5),K(6,"translate"),K(7,"translate"),K(8,"translate"),K(9,"translate"),M()(),I(10,"div",40)(11,"nav",41)(12,"pagination-controls",42),K(13,"translate"),K(14,"translate"),ve("pageChange",function(r){we(e);let o=te();return be(o.onChangePage(r))}),M()()()()()()}if(n&2){let e=te();x(5),mc("",z(6,10,"showing")," ",e.pageNo," ",z(7,12,"to")," ",e.pageSize," ",z(8,14,"of")," ",e.pageTotal," ",z(9,16,"item")," "),x(7),W("responsive",!0)("previousLabel",z(13,18,""))("nextLabel",z(14,20,""))}}function T7e(n,t){if(n&1){let e=We();I(0,"span",63)(1,"img",64),ve("click",function(){we(e);let r=te(2);return be(r.openCustomerChat())}),M(),I(2,"img",65),ve("click",function(){we(e);let r=te(2);return be(r.closeCustomerChat())}),M()()}}function D7e(n,t){if(n&1&&(I(0,"p"),H(1),M()),n&2){let e=te(2);x(),le(" ",e.order.address.formatted_address," ")}}function M7e(n,t){if(n&1&&(I(0,"div",69)(1,"h3"),H(2),M(),I(3,"h4",63),H(4),M()()),n&2){let e=t.$implicit,i=te(3);x(2),de(e.addon_choice.title),x(2),pn("",i.currency_icon,"",e.addon_choice.price,"")}}function O7e(n,t){if(n&1&&(I(0,"div",66)(1,"div",49)(2,"div",67)(3,"h2"),H(4),I(5,"span"),H(6),M()()(),I(7,"h3",63),H(8),M()(),he(9,M7e,5,3,"div",68),M()),n&2){let e=t.$implicit;x(4),le("",e.vendor_product.product.title," "),x(2),le("x",e.quantity,""),x(2),le(" ",e.vendor_product.sale_priceToShow?e.vendor_product.sale_priceToShow:e.vendor_product.priceToShow," "),x(),W("ngForOf",e.addon_choices)}}function F7e(n,t){if(n&1&&(I(0,"div",70)(1,"div",67)(2,"h2",49),H(3),K(4,"translate"),I(5,"strong",63),H(6),M()()()()),n&2){let e=te(2);x(3),le("",z(4,2,"sub_total")," "),x(3),de(e.order.subtotal_toshow)}}function B7e(n,t){if(n&1&&(I(0,"div",70)(1,"div",67)(2,"h2",49),H(3),K(4,"translate"),I(5,"strong",63),H(6),M()()()()),n&2){let e=te(2);x(3),le("",z(4,2,"service_fee")," "),x(3),de(e.order.taxes_toshow)}}function P7e(n,t){if(n&1&&(I(0,"div",70)(1,"div",67)(2,"h2",49),H(3),K(4,"translate"),I(5,"strong",63),H(6),M()()()()),n&2){let e=te(2);x(3),le("",z(4,2,"delivery_fee")," "),x(3),de(e.order.delivery_fee_toshow)}}function k7e(n,t){if(n&1&&(I(0,"div",70)(1,"div",67)(2,"h2",71),H(3),I(4,"strong",63),H(5),M()()()()),n&2){let e=te(2);x(3),le(" ",e.order.payment==null||e.order.payment.payment_method==null?null:e.order.payment.payment_method.title," "),x(2),de(e.order.total_toshow)}}function N7e(n,t){if(n&1&&se(0,"img",78),n&2){let e=te(3);W("src",e.order.delivery.delivery.user.image_url,yo)}}function R7e(n,t){n&1&&se(0,"img",79)}function L7e(n,t){if(n&1&&(I(0,"h2",49),H(1),I(2,"span",63),se(3,"img",80),M()()),n&2){let e=te(3);x(),le(" ",e.order.delivery.delivery.user.name," ")}}function U7e(n,t){n&1&&(I(0,"h3",81),H(1),K(2,"translate"),M()),n&2&&(x(),le(" ",z(2,1,"delivery_partner")," "))}function H7e(n,t){n&1&&(I(0,"h2"),H(1),K(2,"translate"),M()),n&2&&(x(),le(" ",z(2,1,"delivery_partner")," "))}function V7e(n,t){n&1&&(I(0,"h3",81),H(1),K(2,"translate"),M()),n&2&&(x(),le(" ",z(2,1,"not_assigned")," "))}function Q7e(n,t){if(n&1){let e=We();I(0,"div",72),ve("click",function(){we(e);let r=te(2);return be(r.tracking())}),I(1,"div",73),he(2,N7e,1,1,"img",74)(3,R7e,1,0,"img",75),M(),I(4,"div",48),he(5,L7e,4,1,"h2",76)(6,U7e,3,3,"h3",77)(7,H7e,3,3,"h2",11)(8,V7e,3,3,"h3",77),M()()}if(n&2){let e=te(2);x(2),W("ngIf",e.order.delivery!=null&&e.order.delivery.delivery!=null),x(),W("ngIf",!(e.order.delivery!=null&&e.order.delivery.delivery!=null)),x(2),W("ngIf",e.order.delivery!=null&&e.order.delivery.delivery!=null),x(),W("ngIf",e.order.delivery!=null&&e.order.delivery.delivery!=null),x(),W("ngIf",!(e.order.delivery!=null&&e.order.delivery.delivery!=null)),x(),W("ngIf",!(e.order.delivery!=null&&e.order.delivery.delivery!=null))}}function j7e(n,t){n&1&&(I(0,"span"),H(1),K(2,"translate"),M()),n&2&&(x(),le(" ",z(2,1,"order_status_action_mark_complete")," "))}function G7e(n,t){if(n&1&&(I(0,"span"),H(1),K(2,"translate"),M()),n&2){let e=te(3);x(),le(" ",z(2,1,"order_status_action_"+e.order.status)," ")}}function W7e(n,t){if(n&1){let e=We();I(0,"div",82)(1,"div",83)(2,"button",84),ve("click",function(){we(e);let r=te(2);return be(r.checkAndupdateOrder())}),he(3,j7e,3,3,"span",11)(4,G7e,3,3,"span",11),M()()()}if(n&2){let e=te(2);x(2),W("disabled",!e.isOrderUpdateable()),x(),W("ngIf",e.order.status=="prepared"&&e.order.order_type!="normal"),x(),W("ngIf",!(e.order.status=="prepared"&&e.order.order_type!="normal"))}}function K7e(n,t){if(n&1){let e=We();I(0,"div",82)(1,"div",85)(2,"button",86),ve("click",function(){we(e);let r=te(2);return be(r.confirmUpdate("rejected"))}),H(3),K(4,"translate"),M()(),I(5,"div",83)(6,"button",87),ve("click",function(){we(e);let r=te(2);return be(r.checkAndupdateOrder())}),H(7),K(8,"translate"),M()()()}n&2&&(x(3),le(" ",z(4,2,"order_status_action_new_reject")," "),x(4),le(" ",z(8,4,"order_status_action_new")," "))}function z7e(n,t){if(n&1){let e=We();I(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46),ve("click",function(){we(e);let r=te();return be(r.dismiss())}),se(4,"img",47),M(),I(5,"div",48)(6,"h2",49),H(7),he(8,T7e,3,0,"span",50),M(),I(9,"h3"),H(10),K(11,"translate"),M(),he(12,D7e,2,1,"p",11),M()()(),I(13,"div",51)(14,"div",52)(15,"form",53)(16,"div",54),he(17,O7e,10,4,"div",55),M()(),I(18,"form",56)(19,"div",54),he(20,F7e,7,4,"div",57)(21,B7e,7,4,"div",57)(22,P7e,7,4,"div",57)(23,k7e,6,2,"div",57),M()(),I(24,"form",58)(25,"div",54)(26,"div",59),he(27,Q7e,9,6,"div",60),M()()()()(),I(28,"div",61),he(29,W7e,5,3,"div",62)(30,K7e,9,6,"div",62),M()()}if(n&2){let e=te();x(7),le(" ",e.order.is_guest?e.order.customer_name:e.order.user.name," "),x(),W("ngIf",!e.order.is_guest),x(2),D3("",z(11,14,"order_num")," ",e.order.id," | ",e.order.created_at," "),x(2),W("ngIf",e.order.address&&e.order.address.formatted_address),x(5),W("ngForOf",e.order.products),x(3),W("ngIf",e.order.subtotal_toshow),x(),W("ngIf",e.order.taxes_toshow),x(),W("ngIf",e.order.delivery_fee_toshow),x(),W("ngIf",e.order.total_toshow),x(4),W("ngIf",!e.order.is_guest),x(2),W("ngIf",e.order.status!="new"),x(),W("ngIf",e.order.status=="new")}}function q7e(n,t){if(n&1&&(I(0,"div",27)(1,"div",98)(2,"h2"),H(3),M(),I(4,"p"),H(5),M()()()),n&2){let e=t.$implicit,i=te(2);W("ngClass",i.chatObj.myId==e.senderId?"chat_box animate__animated animate__animated animate__zoomIn d-flex send":"chat_box animate__animated animate__animated animate__zoomIn d-flex received"),x(3),de(e.body),x(2),de(e.timeDiff)}}function $7e(n,t){if(n&1){let e=We();I(0,"div",88)(1,"div",44)(2,"div",89)(3,"h2",90),H(4),K(5,"translate"),I(6,"strong",91),H(7),M()(),I(8,"h3"),H(9),K(10,"translate"),M()()(),I(11,"div",51)(12,"div",92,0),he(14,q7e,6,3,"div",26),M()(),I(15,"div",61)(16,"form")(17,"div",54)(18,"div",93)(19,"div",94)(20,"input",95),K(21,"translate"),Ze("ngModelChange",function(r){we(e);let o=te();return Xe(o.newMessageText,r)||(o.newMessageText=r),be(r)}),ve("keyup.enter",function(){we(e);let r=te();return be(r.send())}),M(),I(22,"div",96),ve("click",function(){we(e);let r=te();return be(r.send())}),se(23,"img",97),M()()()()()()()}if(n&2){let e=te();x(4),le(" ",z(5,6,"message_to")," | \xA0"),x(3),de(e.chatObj.chatName),x(2),le("",z(10,8,"customer")," "),x(5),W("ngForOf",e.messages),x(6),nt("placeholder",z(21,10,"type_message")),Ye("ngModel",e.newMessageText)}}function Y7e(n,t){if(n&1&&se(0,"img",78),n&2){let e=te(2);W("src",e.order.delivery.delivery.user.image_url,yo)}}function Z7e(n,t){n&1&&se(0,"img",79)}function X7e(n,t){if(n&1){let e=We();I(0,"img",64),ve("click",function(){we(e);let r=te(3);return be(r.openDeliveryChat())}),M()}}function J7e(n,t){if(n&1){let e=We();I(0,"img",65),ve("click",function(){we(e);let r=te(3);return be(r.closeDeliveryChat())}),M()}}function e9e(n,t){if(n&1&&(I(0,"h2",49),H(1),I(2,"span",63),he(3,X7e,1,0,"img",104)(4,J7e,1,0,"img",105),M()()),n&2){let e=te(2);x(),le(" ",e.order.delivery.delivery.user.name," "),x(2),W("ngIf",e.mapContent),x(),W("ngIf",e.chatWithRider)}}function t9e(n,t){n&1&&(I(0,"div",106)(1,"div",107),se(2,"div",108,1)(4,"div",109,2),M()())}function n9e(n,t){if(n&1&&(I(0,"div",27)(1,"div",98)(2,"h2"),H(3),M(),I(4,"p"),H(5),M()()()),n&2){let e=t.$implicit,i=te(3);W("ngClass",i.chatObj.myId==e.senderId?"chat_box animate__animated animate__animated animate__zoomIn d-flex send":"chat_box animate__animated animate__animated animate__zoomIn d-flex received"),x(3),de(e.body),x(2),de(e.timeDiff)}}function i9e(n,t){if(n&1&&(I(0,"div",51,0)(2,"div",92),he(3,n9e,6,3,"div",26),M()()),n&2){let e=te(2);x(3),W("ngForOf",e.messages)}}function r9e(n,t){if(n&1){let e=We();I(0,"div",61)(1,"form")(2,"div",54)(3,"div",93)(4,"div",94)(5,"input",95),K(6,"translate"),Ze("ngModelChange",function(r){we(e);let o=te(2);return Xe(o.newMessageText,r)||(o.newMessageText=r),be(r)}),ve("keyup.enter",function(){we(e);let r=te(2);return be(r.send())}),M(),I(7,"div",96),ve("click",function(){we(e);let r=te(2);return be(r.send())}),se(8,"img",97),M()()()()()()}if(n&2){let e=te(2);x(5),nt("placeholder",z(6,2,"type_message")),Ye("ngModel",e.newMessageText)}}function o9e(n,t){if(n&1&&(I(0,"div",99)(1,"div",44)(2,"div",100)(3,"div",73),he(4,Y7e,1,1,"img",74)(5,Z7e,1,0,"img",75),M(),I(6,"div",48),he(7,e9e,5,3,"h2",76),I(8,"h3"),H(9),K(10,"translate"),M()()()(),he(11,t9e,6,0,"div",101)(12,i9e,4,1,"div",102)(13,r9e,9,4,"div",103),M()),n&2){let e=te();x(4),W("ngIf",e.order&&e.order.delivery!=null&&e.order.delivery.delivery!=null),x(),W("ngIf",!(e.order&&e.order.delivery!=null&&e.order.delivery.delivery!=null)),x(2),W("ngIf",e.order&&e.order.delivery!=null&&e.order.delivery.delivery!=null),x(2),le("",z(10,7,"delivery_partner")," "),x(2),W("ngIf",e.mapContent),x(),W("ngIf",e.chatWithRider),x(),W("ngIf",e.chatWithRider)}}var rce=(()=>{class n{constructor(e,i,r,o,s,a,l,u,d){this.config=e,this.printerServide=i,this.translate=r,this.uiElementService=o,this.apiService=s,this.myEventsService=a,this.maps=l,this.confirmationDialogService=u,this.router=d,this.subscriptions=new Array,this.isLoading=!0,this.orders=new Array,this.pageNo=1,this.toggleClass=!1,this.canUpdate=!0,this.initialized=!1,this.numDeltas=100,this.delay=10,this.i=0,this.lastToPos=[0,0],this.viewType=!1,this.viewTypeA=!1,this.viewTypeB=!1,this.customerInfo=!1,this.deliveryInfo=!1,this.mapContent=!0,this.chatWithRider=!1,this.messages=new Array,this.chatObj=new Nd,this.handledOnce=!1,this.addFireOrderLastOrderIdMap=new Map,this.orderInfo=!1,this.DeliveryInfo=!1,this.router.getCurrentNavigation()&&this.router.getCurrentNavigation().extras.state&&(this.tempChat=this.router.getCurrentNavigation().extras.state.chat)}ngOnInit(){this.currency_icon=He.getSetting("currency_icon"),this.profile=He.getProfile(),this.myMenuItemsRef=mb.default.database().ref("vendors").child(String(this.profile.id)).child("order_products"),this.myTableStatusRef=mb.default.database().ref("vendors").child(String(this.profile.id)).child("table_status"),this.translate.get("loading").subscribe(e=>{this.getOrders()}),this.subscriptions.push(this.myEventsService.getOrderObservable().subscribe(e=>this.addFireOrder(e))),this.subscriptions.push(this.myEventsService.getChatObservable().subscribe(e=>this.showChat(e)))}ngOnDestroy(){for(let e of this.subscriptions)e.unsubscribe();this.uiElementService.dismissLoading(),$("#receipt_model").modal("hide")}getOrders(){this.isLoading=!0,this.subscriptions.push(this.apiService.getOrders(this.profile.id,this.pageNo).subscribe(e=>this.ordersRes(e),e=>this.ordersErr(e)))}onChangePage(e){this.pageNo=e,this.orders=[],this.translate.get("loading").subscribe(i=>{this.getOrders()})}search(){this.subscriptions.push(this.apiService.getOrders(this.profile.id,this.pageNo,this.searchText).subscribe(e=>this.ordersRes(e),e=>this.ordersErr(e)))}ordersRes(e){this.orders=e.data,this.isLoading=!1,this.pageNo=e.meta.current_page,this.pageSize=e.meta.per_page,this.pageTotal=e.meta.total,this.uiElementService.dismissLoading(),this.tempChat&&!this.handledOnce&&(this.handledOnce=!0,this.showChat(this.tempChat))}ordersErr(e){console.log("productsErr",e),this.isLoading=!1,this.uiElementService.dismissLoading()}orderDetails(e){this.order=e,$("#receipt_model").modal("show"),this.toggleClass=!0}printReceipt(e){if(this.config.printerConfig.enabled){let i=He.getPrinterNetworkConfig();i?i.name&&i.name.trim().length?this.printerServide.getPrinters().subscribe(r=>{console.log("getPrinters: ",r),r.indexOf(i.name.trim())==-1?this.translate.get("unable_find_printer").subscribe(o=>this.uiElementService.showErrorToastr(o.replace("<name>",i.name.trim()))):this.printWith({name:i.name.trim(),host:null,port:null},e)},r=>{console.log("getPrinters: ",r),this.translate.get("unable_load_printers").subscribe(o=>this.uiElementService.showErrorToastr(o))}):i.host&&i.host.trim().length&&i.port&&i.port.trim().length?this.printWith({name:null,host:i.host.trim(),port:i.port.trim()},e):this.translate.get("invalid_printer_config").subscribe(r=>this.uiElementService.showErrorToastr(r)):this.translate.get("invalid_printer_config").subscribe(r=>this.uiElementService.showErrorToastr(r))}}printWith(e,i){this.config.printerConfig.format==Q1.ZPL?this.printerServide.printData(e,[He.getZplReceiptFormat(i)]).subscribe(r=>{console.log("printData: ",r),this.translate.get("printing").subscribe(o=>this.uiElementService.showSuccessToastr(o))},r=>{console.log("printData: ",r),this.translate.get("unable_print").subscribe(o=>this.uiElementService.showErrorToastr(o))}):this.apiService.getReceiptFormat(i.id).subscribe(r=>{this.printerServide.printData(e,[r]).subscribe(o=>{console.log("printData: ",o),this.translate.get("printing").subscribe(s=>this.uiElementService.showSuccessToastr(s))},o=>{console.log("printData: ",o),this.translate.get("unable_print").subscribe(s=>this.uiElementService.showErrorToastr(s))})},r=>{console.log("getReceiptFormat: ",r),this.translate.get("something_wrong").subscribe(o=>this.uiElementService.showErrorToastr(o))})}handleKeyboardEvent(e){e.key==="Escape"&&(this.toggleClass=!1)}showChat(e){if(e&&He.getChatChild(e.myId,e.chatId)!=this.chatChild&&e.meta&&e.meta.includes("order_id")){let i=Number(JSON.parse(e.meta).order_id),r=-1;if(this.orders.length){for(let o=0;o<this.orders.length;o++)if(this.orders[o].id==i){r=o;break}}r==-1?this.subscriptions.push(this.apiService.getOrderById(i).subscribe(o=>{this.orderDetails(this.orders[r]),this.toggleClass=!0,e.chatId.includes(et.ROLE_USER)?this.openCustomerChat(e):this.openDeliveryChat(e)},o=>console.log("getOrderById",o))):(this.orderDetails(this.orders[r]),this.toggleClass=!0,e.chatId.includes(et.ROLE_USER)?this.openCustomerChat(e):this.openDeliveryChat(e))}}openCustomerChat(e){this.viewTypeA&&this.tracking(),$("#content").toggleClass("active1"),$("#caht-with-customer").toggleClass("active1"),this.viewType=!this.viewType,this.deliveryInfo=!1,this.orderInfo=!0,this.customerInfo=!0,this.viewType&&this.navChatCustomer(e),!this.viewType&&this.chatRef&&(this.chatRef.child(this.chatChild).off("child_added"),this.chatRef=null,this.chatChild="",console.log("off"))}tracking(){this.order&&this.order.delivery&&this.order.delivery.delivery&&(this.viewType&&this.openCustomerChat(),this.viewTypeB&&this.openDeliveryChat(),$("#content").toggleClass("active2"),$("#caht-with-delivery-partner").toggleClass("active2"),$("#content").removeClass("active1"),this.viewTypeA=!this.viewTypeA,this.deliveryInfo=!0,this.orderInfo=!1,this.customerInfo=!1,this.DeliveryInfo=!0,this.viewTypeA&&setTimeout(()=>this.loadTrackingMap(),250))}openDeliveryChat(e){$(".chat-widget-body").toggleClass("active"),$("#chat-widget-body").toggleClass("active"),this.viewTypeB=!this.viewTypeB,this.chatWithRider=!0,this.mapContent=!1,this.viewTypeB&&this.navChatDelivery(e),!this.viewTypeB&&this.chatRef&&(this.chatRef.child(this.chatChild).off("child_added"),this.chatRef=null,this.chatChild="",console.log("off"))}navChatCustomer(e){if(this.chatChild="",this.newMessageText="",this.messages=new Array,this.chatObj=new Nd,e)this.loadChat(e);else{let i=new Nd;i.chatId=this.order.user_id+et.ROLE_USER,i.chatImage=this.order.user.image_url,i.chatName=this.order.user.name,i.chatStatus=this.translate.instant("order_id")+this.order.id+" | "+this.order.created_at,i.myId=this.order.vendor.user_id+et.ROLE_VENDOR,this.loadChat(i)}}navChatDelivery(e){if(this.chatChild="",this.newMessageText="",this.messages=new Array,this.chatObj=new Nd,e)this.loadChat(e);else{let i=new Nd;i.chatId=this.order.delivery.delivery.user.id+et.ROLE_DELIVERY,i.chatImage=this.order.delivery.delivery.user.image_url,i.chatName=this.order.delivery.delivery.user.name,i.chatStatus="delivery_partner",i.myId=this.order.vendor.user_id+et.ROLE_VENDOR,this.loadChat(i)}}loadChat(e){this.chatObj=e,this.chatChild=He.getChatChild(this.chatObj.myId,this.chatObj.chatId);let i=this;this.inboxRef=mb.default.database().ref(et.REF_INBOX),this.chatRef=mb.default.database().ref(et.REF_CHAT),this.chatRef.child(this.chatChild).limitToLast(20).on("child_added",function(r,o){var s=r.val();s&&(s.timeDiff=He.formatMillisDateTime(Number(s.dateTimeStamp),He.getLocale()),i.addMessage(s),i.markDelivered(),i.scrollList())},function(r){console.error("child_added",r)}),mb.default.database().ref(et.REF_USERS_FCM_IDS).child(this.chatObj.chatId).once("value",function(r){i.userPlayerId=r.val()}),this.translate.get("just_moment").subscribe(r=>this.uiElementService.showSuccessToastr(r))}loadTrackingMap(){if(!this.initialized){let e=new jg;e.latitude=this.order.vendor.latitude,e.longitude=this.order.vendor.longitude,this.maps.init(document.getElementById("map"),document.getElementById("please-connect"),e).then(()=>{this.initialized=!0,this.plotMarkers()}).catch(r=>{console.log("maps.init",r)}).catch(r=>{console.log("mapLoaded",r)})}}plotMarkers(){let e=new google.maps.LatLng(Number(this.order.vendor.latitude),Number(this.order.vendor.longitude));new google.maps.Marker({position:e,map:this.maps.map}).addListener("click",u=>this.uiElementService.showSuccessToastr(this.order.vendor.name));let r=new google.maps.LatLng(Number(this.order.address.latitude),Number(this.order.address.longitude)),o=kQ({latlng:r,map:this.maps.map,html:'<div id="doctor_map"><img src="'+this.order.user.image_url+'"></div>'});o.addListener("click",u=>this.uiElementService.showSuccessToastr(this.order.user.name));let s=new google.maps.DirectionsService,a=new google.maps.DirectionsRenderer({map:this.maps.map,polylineOptions:{strokeColor:"#279411",strokeOpacity:1,strokeWeight:5},markerOptions:{opacity:0,clickable:!1,position:o}}),l={origin:e,destination:r,travelMode:google.maps.TravelMode.DRIVING};s.route(l,function(u,d){d==google.maps.DirectionsStatus.OK&&a.setDirections(u)}),this.order.delivery&&this.order.delivery.delivery.latitude&&this.order.delivery.delivery.longitude&&(this.posDeliveryGuy=new google.maps.LatLng(Number(this.order.delivery.delivery.latitude),Number(this.order.delivery.delivery.longitude)),this.markerDeliveryGuy=kQ({latlng:this.posDeliveryGuy,map:this.maps.map,html:'<div id="doctor_map"><img src="'+this.order.delivery.delivery.user.image_url+'"></div>'}),this.markerDeliveryGuy.addListener("click",u=>this.uiElementService.showSuccessToastr(this.order.delivery.delivery.user.name)))}scrollList(){setTimeout(()=>{try{this.myScrollContainer.nativeElement.scrollTop=this.myScrollContainer.nativeElement.scrollHeight}catch(e){console.log("myScrollContainer: ",e)}},200)}markDelivered(){this.messages&&this.messages.length&&this.messages[this.messages.length-1].senderId!=this.chatObj.myId&&(this.messages[this.messages.length-1].delivered=!0,this.chatRef.child(this.chatChild).child(this.messages[this.messages.length-1].id).child("delivered").set(!0))}addMessage(e){this.messages=this.messages.concat(e)}send(){if(this.newMessageText&&this.newMessageText.trim().length){let e=new TP;e.chatId=this.chatChild,e.body=this.newMessageText,e.dateTimeStamp=String(new Date().getTime()),e.delivered=!1,e.sent=!0,e.recipientId=this.chatObj.chatId,e.recipientImage=this.chatObj.chatImage,e.recipientName=this.chatObj.chatName,e.recipientStatus=this.chatObj.chatStatus,e.senderId=this.chatObj.myId,e.senderName=this.profile.user.name,e.senderImage=this.profile.user.image_url&&this.profile.user.image_url.length?this.profile.user.image_url:"assets/images/empty_dp.png",e.senderStatus=this.profile.user.email,e.id=this.chatRef.child(this.chatChild).push().key,this.newMessageText="",this.chatRef.child(this.chatChild).child(e.id).set(e).then(i=>{this.inboxRef.child(e.recipientId).child(e.senderId).set(e),this.inboxRef.child(e.senderId).child(e.recipientId).set(e),this.notifyMessages()})}else this.translate.get("type_message").subscribe(e=>this.uiElementService.showErrorToastr(e))}notifyMessages(){this.apiService.postNotification(this.chatObj.chatStatus=="delivery_partner"?et.ROLE_DELIVERY:et.ROLE_USER,Number(this.chatObj.chatId)?this.chatObj.chatId:this.chatObj.chatId.substring(0,this.chatObj.chatId.indexOf(this.chatObj.chatStatus=="delivery_partner"?et.ROLE_DELIVERY:et.ROLE_USER))).subscribe(e=>console.log("notiS",e),e=>console.log("notiF",e))}confirmUpdate(e){let i=e=="accepted"?"confirm_accept_title":"confirm_reject_title",r=e=="accepted"?"confirm_accept_message":"confirm_reject_message";this.translate.get([i,r,"yes","no"]).subscribe(o=>{this.confirmationDialogService.confirm(o[i],o[r],o.yes,o.no).then(s=>{s&&this.updateOrderStatus(e)}).catch(()=>{console.log("err")})})}checkAndupdateOrder(){this.translate.get(["just_moment","something_wrong"]).subscribe(e=>{this.uiElementService.presentLoading(e.just_moment),this.subscriptions.push(this.apiService.getOrderById(this.order.id).subscribe(i=>{this.order=i,this.uiElementService.dismissLoading(),this.updateOrder()},i=>{console.log("updateOrder",i),this.uiElementService.showErrorToastr(e.something_wrong),this.uiElementService.dismissLoading()}))})}updateOrder(){let e=null;switch(this.order.status){case"new":case"pending":e="accepted";break;case"accepted":e="prepared";break;case"prepared":this.order.order_type=="normal"?this.order.delivery==null?this.translate.get("delivery_na").subscribe(i=>this.uiElementService.showErrorToastr(i)):this.order.delivery.status=="new"||this.order.delivery.status=="pending"||this.order.delivery.status=="allotted"?this.translate.get("delivery_left_na").subscribe(i=>this.uiElementService.showErrorToastr(i)):e="dispatched":e="complete";break}e!=null&&this.updateOrderStatus(e)}updateOrderStatus(e){this.translate.get(["updating","something_wrong"]).subscribe(i=>{this.uiElementService.presentLoading(i.updating);let r={status:e};if(e=="prepared"||e=="complete"){let o=this.order.meta;o.product_ids_done=[];for(let s of this.order.products)o.product_ids_done.push(s.id);r.meta=JSON.stringify(o)}this.subscriptions.push(this.apiService.updateOrder(this.order.id,r).subscribe(o=>{this.order=o,this.translate.get("order_status_message_"+o.status).subscribe(a=>this.uiElementService.showSuccessToastr(a));let s=[];for(let a of this.order.products)s.push(a.id);this.myMenuItemsRef&&(this.order.status=="prepared"||this.order.status=="complete")&&this.myMenuItemsRef.child(String(this.order.id)).set({order_id:this.order.id,product_ids_done:s}),this.myTableStatusRef&&this.order.status=="complete"&&this.order.meta.table&&this.myTableStatusRef.child(String(this.order.meta.table)).child("occupied").set(!1),this.addFireOrder(o),this.uiElementService.dismissLoading()},o=>{console.log("updateOrder",o),this.uiElementService.showErrorToastr(i.something_wrong),this.uiElementService.dismissLoading()}))})}isOrderUpdateable(){let e=!0;return this.order!=null&&(this.order.status=="cancelled"||this.order.status=="refund"||this.order.status=="hold"||this.order.status=="rejected"||this.order.status=="failed"||this.order.status=="dispatched"||this.order.status=="intransit"||this.order.status=="complete")&&(e=!1),e}addFireOrder(e){if(!this.addFireOrderLastOrderIdMap.has(e.id)||this.addFireOrderLastOrderIdMap.get(e.id)!=e.status){this.addFireOrderLastOrderIdMap.set(e.id,e.status);let i=-1;if(this.orders.length){for(let r=0;r<this.orders.length;r++)if(this.orders[r].id==e.id){i=r;break}}this.apiService.setupOrder(e),i==-1?this.orders.unshift(e):(this.orders[i]=e,this.orders[i].status=="accepted"&&this.printReceipt(this.orders[i]))}}dismiss(){this.toggleClass=!1,this.DeliveryInfo=!1,this.orderInfo=!1}closeCustomerChat(){this.orderInfo=!1,this.DeliveryInfo=!1}closeDeliveryChat(){this.mapContent=!0,this.chatWithRider=!1}static{this.\u0275fac=function(i){return new(i||n)(ae(Xr),ae(uP),ae(qn),ae(ui),ae(ni),ae(vs),ae(ub),ae(Ca),ae(Un))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-transactions"]],viewQuery:function(i,r){if(i&1&&Mi(m7e,5),i&2){let o;ln(o=cn())&&(r.myScrollContainer=o.first)}},hostBindings:function(i,r){i&1&&ve("keydown",function(s){return r.handleKeyboardEvent(s)},!1,np)},decls:45,vars:39,consts:[["scrollMe",""],["map",""],["pleaseConnect",""],[1,"body_wrapper","p-2","p-lg-4"],[1,"pageTitle","pb-4"],[1,"card","tableCard"],[1,"p-x-0"],[1,"scroll-x"],[1,"table","customeTable","align-middle"],["scope","col",1,"text-start"],["scope","col",1,"text-center"],[4,"ngIf"],["class","empty-view animate__animated animate__fadeInUp ",4,"ngIf"],["class","pagination-container",4,"ngIf"],[1,"modal","sideModel","orderInfoModel","customeModal",3,"ngClass"],["role","document",1,"modal-dialog",3,"ngClass"],[1,"modal-content"],["class","modelContainer",4,"ngIf"],["class","modelContainer chatContainer",4,"ngIf"],["class","modelContainer chatContainer deliveryInfo",4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngFor","ngForOf"],[1,"animate__animated","animate__fadeInUp"],[1,"text-start"],["count","1","appearance","line",2,"width","80%"],[1,"text-center"],["count","1","appearance","line",1,"mx-auto",2,"width","80%"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"btn_box"],[3,"click"],["src","assets/images/icons/ic_eye.svg"],[3,"click",4,"ngIf"],["src","assets/images/icons/ic_receipt.svg"],[1,"empty-view","animate__animated","animate__fadeInUp"],[2,"text-align","center"],["src","assets/images/plc_no_item.png","alt","no offers"],[2,"color","#9E9E9E","font-weight","bold"],[1,"pagination-container"],[1,"container-fluid"],[1,"row","align-items-center"],[1,"col-12","col-md-6"],["aria-label","Page navigation example"],[1,"pagination","end",3,"pageChange","responsive","previousLabel","nextLabel"],[1,"modelContainer"],[1,"modelHeader"],[1,"pageTitle","p-3","px-lg-3","pb-1","d-flex"],[1,"modalClose",3,"click"],["src","assets/images/icons/ic_close.svg"],[1,"text_box","w-100"],[1,"d-flex"],["class","end",4,"ngIf"],[1,"modelContent"],[1,""],[1,"px-3"],[1,"form_inner"],["class","form-group  animate__animated animate__fadeInUp",4,"ngFor","ngForOf"],[1,"px-3","payment_info"],["class","form-group d-flex  animate__animated animate__fadeInUp",4,"ngIf"],[1,"px-3","deliveryInfo","animate__animated","animate__fadeInUp"],[1,"form-group"],["class","delivery_partner d-flex",3,"click",4,"ngIf"],[1,"modelFooter","p-3","px-lg-3","animate__animated","animate__fadeInUp"],["class","row align-items-center g-3",4,"ngIf"],[1,"end"],["src","assets/images/icons/ic_message.svg",3,"click"],["src","assets/images/icons/ic_close.svg",3,"click"],[1,"form-group","animate__animated","animate__fadeInUp"],[1,"text_box"],["class","addOn d-flex",4,"ngFor","ngForOf"],[1,"addOn","d-flex"],[1,"form-group","d-flex","animate__animated","animate__fadeInUp"],[1,"d-flex",2,"font-size",".82rem"],[1,"delivery_partner","d-flex",3,"click"],[1,"img_box","center_img"],["class","crop_img",3,"src",4,"ngIf"],["src","assets/images/empty_dp.png","class","crop_img",4,"ngIf"],["class","d-flex",4,"ngIf"],["class","d-flex w-100 align-items-center",4,"ngIf"],[1,"crop_img",3,"src"],["src","assets/images/empty_dp.png",1,"crop_img"],["src","assets/images/icons/ic_navigation.svg"],[1,"d-flex","w-100","align-items-center"],[1,"row","align-items-center","g-3"],[1,"col-12","text-center"],[1,"btn",3,"click","disabled"],[1,"col-6","text-center"],[1,"btn","btn-clear",3,"click"],[1,"btn",3,"click"],[1,"modelContainer","chatContainer"],[1,"pageTitle","p-3","px-lg-3","pb-1"],[1,"d-flex",2,"font-weight","500"],[2,"font-weight","600"],[1,"chat_container"],[1,"form-group","m-0"],[1,"input_box","d-flex","align-items-center"],["name","newMessageText",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"send_btn","end",3,"click"],["src","assets/images/icons/ic_send.svg"],[1,"chat"],[1,"modelContainer","chatContainer","deliveryInfo"],[1,"pageTitle","p-3","px-lg-3","pb-1","d-flex","align-items-start"],["class","modelContent mapContent",4,"ngIf"],["class","modelContent",4,"ngIf"],["class","modelFooter p-3 px-lg-3  animate__animated animate__fadeInUp",4,"ngIf"],["src","assets/images/icons/ic_message.svg",3,"click",4,"ngIf"],["src","assets/images/icons/ic_close.svg",3,"click",4,"ngIf"],[1,"modelContent","mapContent"],[1,"map","center_img"],["id","map",1,"map"],["id","please-connect"]],template:function(i,r){i&1&&(I(0,"div",3)(1,"div",4)(2,"h1"),H(3),K(4,"translate"),M()(),I(5,"div",5)(6,"div",6)(7,"div",7)(8,"table",8)(9,"thead")(10,"tr")(11,"th",9),H(12),K(13,"translate"),M(),I(14,"th",9),H(15),K(16,"translate"),M(),I(17,"th",9),H(18),K(19,"translate"),M(),I(20,"th",10),H(21),K(22,"translate"),M(),I(23,"th",9),H(24),K(25,"translate"),M(),I(26,"th",9),H(27),K(28,"translate"),M(),I(29,"th",9),H(30),K(31,"translate"),M(),I(32,"th",10),H(33),K(34,"translate"),M()()(),he(35,b7e,2,2,"tbody",11)(36,S7e,3,8,"tbody",11),M(),he(37,x7e,6,3,"div",12),M()()(),he(38,I7e,15,22,"div",13),M(),I(39,"ngb-modal-window",14)(40,"div",15)(41,"div",16),he(42,z7e,31,16,"div",17)(43,$7e,24,12,"div",18)(44,o9e,14,9,"div",19),M()()()),i&2&&(x(3),le(" ",z(4,18,"orders")," "),x(9),le(" ",z(13,20,"order_num")," "),x(3),de(z(16,22,"name_cust")),x(3),de(z(19,24,"amount")),x(3),de(z(22,26,"items")),x(3),de(z(25,28,"type")),x(3),de(z(28,30,"payment")),x(3),de(z(31,32,"orderd_on")),x(3),de(z(34,34,"action")),x(2),W("ngIf",r.isLoading&&!(r.orders&&r.orders.length)),x(),W("ngIf",r.orders&&r.orders.length),x(),W("ngIf",!r.isLoading&&!(r.orders&&r.orders.length)),x(),W("ngIf",r.pageTotal>r.pageSize),x(),W("ngClass",r.toggleClass?"show fade":""),x(),W("ngClass",W0(36,v7e,r.orderInfo,r.DeliveryInfo)),x(2),W("ngIf",r.order),x(),W("ngIf",r.customerInfo),x(),W("ngIf",r.deliveryInfo))},dependencies:[Fr,ti,En,ji,Hi,Vi,Qi,$i,Oi,vu,bo,Gn,mu],styles:["table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]{display:flex;align-items:center;width:fit-content;margin:0 auto}table.customeTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .btn_box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 5px}.empty-view[_ngcontent-%COMP%]{width:fit-content;margin:0 auto;height:fit-content;padding:25px 0}.empty-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;margin:auto}.empty-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center;font-weight:500!important}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]{background:var(--bg-color);padding-top:90px!important}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelHeader[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]{min-height:90px}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelHeader[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]{width:50px;min-width:50px;height:50px;border-radius:50px;margin-right:15px}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelHeader[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:1.05rem;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-bottom:8px}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelHeader[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;min-width:fit-content}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelHeader[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:18px;min-width:18px;cursor:pointer}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelHeader[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(2){display:none}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelHeader[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-light2);font-size:.78rem}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelHeader[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.7rem;font-weight:500;padding-top:2px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]{max-height:calc(100vh - 236px)}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background:var(--bg-white);margin-top:8px}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{border-bottom:1.5px dashed var(--border-line-color);margin:0;padding:10px 0}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]{width:100%}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.8rem;font-weight:600}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-light2);padding:0 2px;min-width:fit-content;font-weight:500}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{min-width:fit-content;font-weight:600}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-light2);font-size:.8rem;font-weight:500;min-width:fit-content}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:last-child{border-bottom:0}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .addOn[_ngcontent-%COMP%]{padding-top:3px}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .addOn[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-dark);font-size:.7rem}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .addOn[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:auto;font-size:.7rem;font-weight:500;color:var(--text-dark);min-width:fit-content}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   form.payment_info[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]{width:100%}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   form.payment_info[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.75rem}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]{padding:10px 10px 30px;flex-wrap:wrap}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   .chat_box[_ngcontent-%COMP%]{width:auto!important;margin-bottom:10px;min-width:70%;align-items:flex-start}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   .chat_box[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{min-width:90px;border-radius:8px;max-width:calc(100% - 45px);padding:10px 14px}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   .chat_box[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:.82rem;color:var(--text-dark);line-height:20px;padding-bottom:3px;font-weight:600}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   .chat_box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.7rem;font-weight:400;color:var(--text-light)}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   .chat_box.received[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{background:var(--bg-white)}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   .chat_box.send[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   .chat_box.send[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{background:var(--bg-secondary);margin-left:auto;margin-right:0}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   .chat_box.send[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:right}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent[_ngcontent-%COMP%]   .chat_container[_ngcontent-%COMP%]   .chat_box.send[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent.mapContent[_ngcontent-%COMP%]{max-height:calc(100vh - 157px)}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelContent.mapContent[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{min-height:calc(100vh - 157px)}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelFooter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]{padding:0 15px}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelFooter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelFooter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   .send_btn[_ngcontent-%COMP%]{padding:0;min-width:20px;position:relative}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelFooter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input_box[_ngcontent-%COMP%]   .send_btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:0;min-width:20px;position:relative}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .deliveryInfo[_ngcontent-%COMP%]{position:sticky;bottom:0}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .deliveryInfo[_ngcontent-%COMP%]   .delivery_partner[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]{width:50px;min-width:50px;height:50px;border-radius:50px;margin-right:15px}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .deliveryInfo[_ngcontent-%COMP%]   .delivery_partner[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-bottom:5px}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .deliveryInfo[_ngcontent-%COMP%]   .delivery_partner[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:15px;cursor:pointer}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .deliveryInfo[_ngcontent-%COMP%]   .delivery_partner[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;display:block}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modalClose[_ngcontent-%COMP%]{background:var(--bg-color);min-width:35px;width:35px;height:35px;border-radius:50%;cursor:pointer;display:flex;align-items:center;margin-right:15px}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modalClose[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;width:20px}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog.orderInfoShow[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelHeader[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(2){display:block}ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog.orderInfoShow[_ngcontent-%COMP%]   .modelContainer[_ngcontent-%COMP%]   .modelHeader[_ngcontent-%COMP%]   .pageTitle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(1){display:none}"]})}}return n})();var lI=class n{constructor(){this.categories=new Array,this.image_urls=new Array,this.stock_quantity=-1,this.meta={food_type:"veg"}}static fromProduct(t,e){let i;if(e&&t.vendor_products){for(let o of t.vendor_products)if(o.vendor&&o.vendor.id==e){i=o;break}}let r=new n;r.title=t.title,r.detail=t.detail,r.price=t.price,r.sale_price=i&&i.sale_price?i.sale_price:null,r.stock_quantity=Number(i.stock_quantity),r.meta=t.meta;for(let o of t.image_urls)o!="assets/images/plc_item_image.png"&&r.image_urls.push(o);return r}};var vb=Ri(zv());var oce=(()=>{class n{constructor(){}resolveUriAndUpload(e){return new Promise((i,r)=>{})}uploadBlob(e){return new Promise((i,r)=>{vb.default.storage().ref().child(new Date().getTime().toString()).put(e).then(s=>{vb.default.storage().ref(s.metadata.fullPath).getDownloadURL().then(a=>i(a)).catch(a=>r(a))},s=>{r(s)})})}uploadFile(e){return new Promise((i,r)=>{vb.default.storage().ref().child(new Date().getTime().toString()).put(e).then(s=>{vb.default.storage().ref(s.metadata.fullPath).getDownloadURL().then(a=>i(a)).catch(a=>r(a))},s=>{r(s)})})}uploadImage(e){return new Promise((i,r)=>{let s=vb.default.storage().ref().child("image").child("imageName");this.encodeImageUri(e,function(a){s.putString(a,"data_url").then(l=>{i(l.downloadURL)},l=>{r(l)})})})}encodeImageUri(e,i){var r=document.createElement("canvas"),o=r.getContext("2d"),s=new Image;s.onload=function(){var a=this;r.width=a.width,r.height=a.height,o.drawImage(s,0,0);var l=r.toDataURL("image/jpeg");i(l)},s.src=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var a9e=["videoPlayer"];function l9e(n,t){if(n&1&&(I(0,"ng-option",47),H(1),M()),n&2){let e=t.$implicit;W("value",e),x(),de(e)}}function c9e(n,t){if(n&1){let e=We();I(0,"div",48)(1,"input",49),ve("change",function(r){we(e);let o=te();return be(o.onImageChange(r))}),M(),I(2,"div",50),se(3,"img",51),I(4,"h3"),H(5),K(6,"translate"),M()()()}n&2&&(x(5),de(z(6,1,"upload_image")))}function u9e(n,t){if(n&1){let e=We();I(0,"div",48),se(1,"img",52),I(2,"input",49),ve("change",function(r){we(e);let o=te();return be(o.onImageChange(r))}),M(),I(3,"div",50),se(4,"img",51),I(5,"h3"),H(6),K(7,"translate"),M()()()}if(n&2){let e=te();x(),W("src",e.productRequest.image_urls[0],yo),x(5),de(z(7,2,"update_image"))}}function d9e(n,t){if(n&1){let e=We();I(0,"div",53)(1,"input",54),ve("change",function(r){we(e);let o=te();return be(o.onVideoChange(r))}),M(),I(2,"div",50),se(3,"img",51),I(4,"h3"),H(5),K(6,"translate"),M()()()}n&2&&(x(5),de(z(6,1,"upload_video")))}function h9e(n,t){if(n&1){let e=We();I(0,"div",53)(1,"video",55,0),se(3,"source",56),M(),I(4,"input",54),ve("change",function(r){we(e);let o=te();return be(o.onVideoChange(r))}),M(),I(5,"div",50),se(6,"img",51),I(7,"h3"),H(8),K(9,"translate"),M()()()}if(n&2){let e=te();x(),W("autoplay",!0)("loop",!0),x(2),W("src",e.productRequest.meta.video_url,yo),x(5),de(z(9,4,"update_video"))}}function f9e(n,t){if(n&1){let e=We();I(0,"span",42),ve("click",function(){we(e);let r=te().index,o=te(2);return be(o.deleteAddonGroupForm(r))}),se(1,"img",69),H(2),K(3,"translate"),M()}n&2&&(x(2),le("\xA0 ",z(3,1,"delete_group")," "))}function p9e(n,t){if(n&1){let e=We();I(0,"span",42),ve("click",function(){we(e);let r=te(3);return be(r.showAddonGroup())}),se(1,"img",69),H(2),K(3,"translate"),M()}n&2&&(x(2),le("\xA0 ",z(3,1,"delete_group")," "))}function A9e(n,t){if(n&1){let e=We();I(0,"span",42),ve("click",function(){we(e);let r=te().index,o=te().$implicit,s=te(2);return be(s.deleteAddonChoiceForm(r,o.controls.choices))}),se(1,"img",73),H(2),K(3,"translate"),M()}n&2&&(x(2),le("\xA0 ",z(3,1,"remove")," "))}function g9e(n,t){if(n&1&&(I(0,"div",70)(1,"div",71)(2,"div",16)(3,"label"),H(4),K(5,"translate"),M(),I(6,"div",17),se(7,"input",63),K(8,"translate"),M()()(),I(9,"div",71)(10,"div",16)(11,"label",5),H(12),K(13,"translate"),he(14,A9e,4,3,"span",62),M(),I(15,"div",17),se(16,"input",72),K(17,"translate"),M()()()()),n&2){let e=t.index,i=te().$implicit,r=te(2);nt("formGroupName",e),x(4),de(z(5,7,"option_title")),x(3),nt("placeholder",z(8,9,"option_title")),x(5),pn("",z(13,11,"price")," (",r.currency_icon,") "),x(2),W("ngIf",i.controls.choices.controls.length>1),x(2),nt("placeholder",z(17,13,"enter_price"))}}function m9e(n,t){if(n&1){let e=We();I(0,"div",60)(1,"div",61)(2,"label",5),H(3),K(4,"translate"),he(5,f9e,4,3,"span",62)(6,p9e,4,3,"span",62),M(),I(7,"div",17),se(8,"input",63),K(9,"translate"),M()(),I(10,"div",64)(11,"div",29)(12,"div",16)(13,"label"),H(14),K(15,"translate"),M(),I(16,"div",17),se(17,"input",65),K(18,"translate"),M()()(),I(19,"div",29)(20,"div",16)(21,"label"),H(22),K(23,"translate"),M(),I(24,"div",17),se(25,"input",66),K(26,"translate"),M()()()(),I(27,"div",67)(28,"h3",5),H(29),K(30,"translate"),I(31,"span",42),ve("click",function(){let r=we(e).index,o=te(2);return be(o.addAddonChoice(r))}),H(32),K(33,"translate"),M()(),he(34,g9e,18,15,"div",68),M()()}if(n&2){let e=t.$implicit,i=t.index,r=te(2);nt("formGroupName",i),x(3),le("",z(4,12,"addon_group_name")," "),x(2),W("ngIf",r.addonForm.controls.addon_groups.controls.length>1),x(),W("ngIf",r.addonForm.controls.addon_groups.controls.length==1),x(2),nt("placeholder",z(9,14,"enter_group_name")),x(6),de(z(15,16,"minimum_option")),x(3),nt("placeholder",z(18,18,"minimum_option")),x(5),de(z(23,20,"maximum_option")),x(3),nt("placeholder",z(26,22,"maximum_option")),x(4),le(" ",z(30,24,"options")," "),x(3),le("+ ",z(33,26,"add_option")," "),x(2),W("ngForOf",e.controls.choices.controls)}}function v9e(n,t){if(n&1&&(I(0,"form",57)(1,"div",58),he(2,m9e,35,28,"div",59),M()()),n&2){let e=te();W("formGroup",e.addonForm),x(2),W("ngForOf",e.addonForm.controls.addon_groups.controls)}}var sce=(()=>{class n{constructor(e,i,r,o,s,a,l,u,d,h){if(this.router=e,this.location=i,this.translate=r,this.confirmationDialogService=o,this.uiElementService=s,this.apiService=a,this.myEvent=l,this.fireUpService=u,this.formbuilder=d,this.route=h,this.subscriptions=new Array,this.productRequest=new lI,this.categoriesSelectedStrings=new Array,this.categoryStrings=new Array,this.productQuantityStatus=!0,this.productTypeStatus=!0,this.addOnsEnabled=!1,this.servings_for="1",this.cooking_time="1",this.energy="1",this.currency_icon=He.getSetting("currency_icon"),this.router.getCurrentNavigation()&&this.router.getCurrentNavigation().extras.state){this.product=this.router.getCurrentNavigation().extras.state.product;let f=this.router.getCurrentNavigation().extras.state.vendorId;if(this.product!=null){if(this.addOnsEnabled=this.product.addon_groups&&this.product.addon_groups.length>0,this.product.addon_groups&&this.product.addon_groups.length?this.updateAddonGroup():this.addonGroup(),this.productRequest=lI.fromProduct(this.product,f),this.productQuantityStatus=this.productRequest.stock_quantity==-1,this.productTypeStatus=this.productRequest.meta&&this.productRequest.meta.food_type=="veg",this.product&&this.product.categories&&this.product.categories.length)for(let A of this.product.categories)this.productRequest.categories.push(A.id),this.categoriesSelectedStrings.push(A.title);if(this.setCategoriesText(),this.productRequest.meta&&this.productRequest.meta.ingredients){this.productIngredient="";for(let A of this.product.meta.ingredients)A&&typeof A=="string"&&A.trim().length&&(this.productIngredient+=A.trim()+", ");this.productIngredient.length&&(this.productIngredient=this.productIngredient.substring(0,this.productIngredient.lastIndexOf(",")))}}else this.addonGroup()}else this.router.navigate(["items"])}ngOnInit(){let e=He.getProfile();this.productRequest.vendor_id=e.id,this.translate.get(this.product==null?"create_item":"edit_item").subscribe(i=>this.pageTitle=i),this.translate.get("just_moment").subscribe(i=>{this.subscriptions.push(this.apiService.getCategoriesChild(He.getProfile().categories).subscribe(r=>{for(let o of r)this.categoryStrings.push(o.title);this.categories=r},r=>{console.log("getCategoriesParents",r),this.router.navigate(["items"])}))})}handleToggleChange(e,i){this.productTypeStatus=e=="veg"&&i.target.checked==!0,console.log("productTypeStatus",this.productTypeStatus)}toggleVideo(){this.videoplayer.nativeElement.play()}updateAddonGroup(){this.addonGroup(!0),this.product.addon_groups.map((e,i)=>{this.addonForm.controls.addon_groups.push(this.addonGroupForm(e)),e.addon_choices.map(o=>{this.addonForm.get("addon_groups").controls[i].get("choices").push(this.addonChoicesForm(o))})})}addonGroup(e){this.addonForm=this.formbuilder.group({addon_groups:this.formbuilder.array(e?[]:[this.addonGroupForm()])})}addonGroupForm(e){return this.formbuilder.group({title:[e?e.title:"",[Ys.required]],min_choices:[e?e.min_choices:"",[Ys.required,Ys.pattern(/^(0|[1-9][0-9]*)$/)]],max_choices:[e?e.max_choices:"",[Ys.required,Ys.pattern(/^(0|[1-9][0-9]*)$/)]],choices:this.formbuilder.array(e?[]:[this.addonChoicesForm()])})}addonChoicesForm(e){return this.formbuilder.group({title:[e?e.title:"",Ys.required],price:[e?e.price:"",[Ys.required,Ys.pattern(/^\d+\.?\d*$/)]]})}addAddonGroup(){this.addonForm.controls.addon_groups.controls.length<5&&this.addonForm.controls.addon_groups.push(this.addonGroupForm())}addAddonChoice(e){this.addonForm.controls.addon_groups.controls[e].controls.choices.controls.length<20&&this.addonForm.controls.addon_groups.at(e).get("choices").push(this.addonChoicesForm())}deleteAddonGroupForm(e){this.addonForm.get("addon_groups").removeAt(e)}deleteAddonChoiceForm(e,i){i.removeAt(e)}setCategoriesText(){this.categoriesSelectedStringsFormatted="";for(let e of this.categoriesSelectedStrings)this.categoriesSelectedStringsFormatted+=e+", ";this.categoriesSelectedStringsFormatted.length&&(this.categoriesSelectedStringsFormatted=this.categoriesSelectedStringsFormatted.substring(0,this.categoriesSelectedStringsFormatted.length-2))}onCategoriesChange(){this.setCategoriesText()}ngOnDestroy(){for(let e of this.subscriptions)e.unsubscribe();this.uiElementService.dismissLoading()}onImageChange(e){if(e.target.files&&e.target.files.length&&e.target.accept=="image/*"){this.uploadType=1;let[i]=e.target.files;this.uploadImageVideo(i)}}onVideoChange(e){if(e.target.files&&e.target.files.length&&e.target.accept=="video/*"){this.uploadType=2;let[i]=e.target.files;this.uploadImageVideo(i)}}uploadImageVideo(e){this.translate.get(["uploading_image","uploading_video","uploading_fail_img","uploading_fail_video"]).subscribe(i=>{this.uiElementService.presentLoading(this.uploadType==1?i.uploading_image:i.uploading_video),this.fireUpService.uploadFile(e).then(r=>{this.uploadType==1&&this.productRequest.image_urls.push(String(r)),this.uploadType==2&&(this.productRequest.meta.video_url=String(r)),this.uiElementService.dismissLoading()},r=>{console.log("resolveUriAndUpload",r),this.uiElementService.dismissLoading(),this.uiElementService.showErrorToastr(this.uploadType==1?i.uploading_fail_img:i.uploading_fail_video)})})}confirmRemoveImage(e){this.translate.get(["remove_img","remove_img_desc","no","yes"]).subscribe(i=>{this.confirmationDialogService.confirm(i.remove_img,i.remove_img_desc,i.yes,i.no).then(r=>{r&&this.productRequest.image_urls.splice(e,1)}).catch(r=>console.log("err: ",r))})}confirmRemoveVideo(){this.translate.get(["remove_video","remove_video_desc","no","yes"]).subscribe(e=>{this.confirmationDialogService.confirm(e.remove_video,e.remove_video_desc,e.yes,e.no).then(i=>{i&&(this.productRequest.meta.video_url="")}).catch(i=>console.log("err: ",i))})}showAddonGroup(){this.addOnsEnabled=!this.addOnsEnabled}saveProduct(){if(!this.productRequest.title||!this.productRequest.title.length)this.translate.get("err_field_product_title").subscribe(e=>this.uiElementService.showErrorToastr(e));else if(!this.categoriesSelectedStrings||!this.categoriesSelectedStrings.length)this.translate.get("err_field_product_categories").subscribe(e=>this.uiElementService.showErrorToastr(e));else if(!this.productRequest.detail||!this.productRequest.detail.length)this.translate.get("err_field_product_detail").subscribe(e=>this.uiElementService.showErrorToastr(e));else if(!this.productRequest.meta.food_type||!this.productRequest.meta.food_type.length)this.translate.get("err_field_product_food_type").subscribe(e=>this.uiElementService.showErrorToastr(e));else if(!this.productRequest.price||Number(this.productRequest.price)<0)this.translate.get("err_field_product_price").subscribe(e=>this.uiElementService.showErrorToastr(e));else{if(this.addOnsEnabled){let e=!0;this.addonForm.controls.addon_groups.controls.map(i=>{i.controls.title.valid?i.controls.min_choices.valid?i.controls.max_choices.valid?Number(i.value.max_choices)<Number(i.value.min_choices)?(e=!1,this.translate.get("err_field_maximum_choices_cannot").subscribe(r=>this.uiElementService.showErrorToastr(r))):i.controls.choices.controls.map(r=>{r.controls.title.valid?r.controls.price.valid||this.translate.get("err_field_choice_price").subscribe(o=>this.uiElementService.showErrorToastr(o)):this.translate.get("err_field_choice_name").subscribe(o=>this.uiElementService.showErrorToastr(o))}):this.translate.get("err_field_maximum_choices").subscribe(r=>this.uiElementService.showErrorToastr(r)):this.translate.get("err_field_minimum_choices").subscribe(r=>this.uiElementService.showErrorToastr(r)):this.translate.get("err_field_product_addon_group_title").subscribe(r=>this.uiElementService.showErrorToastr(r))}),this.addonGroupStatus=this.addonForm.controls.addon_groups.status=="VALID"&&e}else this.addonGroupStatus=!0;if(this.addonGroupStatus){this.productRequest.categories=[];for(let i of this.categories)this.categoriesSelectedStrings.includes(i.title)&&this.productRequest.categories.push(i.id);if(this.productIngredient){let i=this.productIngredient.split(",");this.productRequest.meta.ingredients=[];for(let r of i)this.productRequest.meta.ingredients.push(r.trim())}this.productRequest.stock_quantity=this.productQuantityStatus?-1:0,this.productRequest.meta.food_type=this.productTypeStatus?"veg":"non_veg";let e={title:this.productRequest.title,detail:this.productRequest.detail,price:this.productRequest.price,sale_price:this.productRequest.sale_price<=0?null:this.productRequest.sale_price,vendor_id:this.productRequest.vendor_id,categories:this.productRequest.categories,image_urls:this.productRequest.image_urls,stock_quantity:this.productRequest.stock_quantity,addon_groups:this.addOnsEnabled?this.addonForm.value.addon_groups:[],meta:JSON.stringify(this.productRequest.meta)};this.translate.get(["saving"]).subscribe(i=>{this.uiElementService.presentLoading(i.saving),this.subscriptions.push(this.product!=null&&this.product.id!=null?this.apiService.updateProduct(this.product.id,e).subscribe(r=>this.handleRes(r),r=>this.handleErr(r)):this.apiService.createProduct(e).subscribe(r=>this.handleRes(r),r=>this.handleErr(r)))})}}}handleRes(e){this.router.navigate(["items"]),this.uiElementService.dismissLoading()}handleErr(e){console.log("handleErr",e),this.translate.get("something_wrong").subscribe(i=>this.uiElementService.showErrorToastr(i)),this.uiElementService.dismissLoading(),this.router.navigate(["items"])}goBack(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(ae(Un),ae(Hh),ae(qn),ae(Ca),ae(ui),ae(ni),ae(vs),ae(oce),ae(eO),ae(jh))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-upload-item"]],viewQuery:function(i,r){if(i&1&&Mi(a9e,5),i&2){let o;ln(o=cn())&&(r.videoplayer=o.first)}},decls:164,vars:134,consts:[["videoPlayer",""],[1,"body_wrapper","p-2","p-lg-4"],[1,"pageTitle","pb-4"],[1,"row","align-items-center"],[1,"col-12","col-md-3","col-xl-7","pb-2","pb-md-0"],[1,"d-flex"],[1,"zmdi","zmdi-chevron-left",3,"click"],[1,"col-12","col-md-9","col-xl-5","pb-2","pb-md-0"],["type","button",1,"btn","m-0","mt-2","mt-md-0","end",3,"click"],[1,"row","g-3"],[1,"col-12","col-md-12","col-lg-6"],[1,"card"],[1,"form_inner"],[1,"form-group","select_box","animate__animated","animate__fadeInUp"],["name","category",3,"ngModelChange","change","multiple","ngModel","placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","animate__animated","animate__fadeInUp"],[1,"input_box"],["type","text","name","title",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"form-group"],[1,"row","g-0","align-items-center","col-lg-8"],[1,"col-6"],[1,"form-check","radio"],["type","radio","name","itemType","id","veg",1,"form-check-input",3,"change","checked"],["for","veg",1,"form-check-label"],[1,"align-items-center","d-flex","w-100"],["type","radio","name","itemType","id","non_veg",1,"form-check-input",3,"change","checked"],["for","non_veg",1,"form-check-label"],["rows","5","type","text","name","detail",1,"form-control",3,"ngModelChange","placeholder","ngModel"],[1,"col-12","col-md-6"],["type","text","name","price",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","text","name","sale_price",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"col-12","col-md-6","col-lg-4"],["type","text","name","serving",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","text","name","cooking_time",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","text","name","energy",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["rows","5","name","ingredient",1,"form-control","py-1",3,"ngModelChange","ngModel","placeholder"],[1,"card","profilePicture"],[1,"animate__animated","animate__zoomIn","w-100"],["class","img_box center_img",4,"ngIf"],["class","img_box center_img  animate__animated animate__zoomIn",4,"ngIf"],[1,"card","specification"],[1,"end",3,"click"],[3,"formGroup",4,"ngIf"],[1,"card","toggleCard"],[1,"form-group","d-flex"],["name","productQuantityStatus",1,"end",3,"ngModelChange","checked","ngModel"],[3,"value"],[1,"img_box","center_img"],["id","img","type","file","name","image","accept","image/*",1,"form-control",3,"change"],[1,"img_placeholder"],["src","assets/images/icons/ic_img.svg"],["id","img",1,"crop_img",3,"src"],[1,"img_box","center_img","animate__animated","animate__zoomIn"],["id","video","type","file","accept","video/*",1,"form-control",3,"change"],["controls","",3,"autoplay","loop"],["type","video/mp4",3,"src"],[3,"formGroup"],["formArrayName","addon_groups",1,"group"],["class","",3,"formGroupName",4,"ngFor","ngForOf"],[1,"",3,"formGroupName"],[1,"form-group","animate__animated","animate__fadeInUp","mb-0"],["class","end",3,"click",4,"ngIf"],["type","text","required","","formControlName","title",1,"form-control",3,"placeholder"],[1,"row","g-3","mt-0","align-items-center"],["type","text","required","","formControlName","min_choices",1,"form-control",3,"placeholder"],["type","text","required","","formControlName","max_choices",1,"form-control",3,"placeholder"],["formArrayName","choices",1,"options"],["class","row g-3 align-items-end",3,"formGroupName",4,"ngFor","ngForOf"],["src","assets/images/icons/ic_trash.svg"],[1,"row","g-3","align-items-end",3,"formGroupName"],[1,"col-12","col-sm-12","col-md-6"],["type","text","required","","formControlName","price",1,"form-control",3,"placeholder"],["src","assets/images/icons/ic_trash.svg",2,"top","0"]],template:function(i,r){i&1&&(I(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1",5)(5,"i",6),ve("click",function(){return r.goBack()}),M(),H(6),K(7,"translate"),M()(),I(8,"div",7)(9,"button",8),ve("click",function(){return r.saveProduct()}),H(10),M()()()(),I(11,"form")(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h2"),H(17),K(18,"translate"),M(),I(19,"div",13)(20,"label"),H(21),K(22,"translate"),M(),I(23,"ng-select",14),K(24,"translate"),Ze("ngModelChange",function(s){return Xe(r.categoriesSelectedStrings,s)||(r.categoriesSelectedStrings=s),s}),ve("change",function(){return r.onCategoriesChange()}),he(25,l9e,2,2,"ng-option",15),M()(),I(26,"div",16)(27,"label"),H(28),K(29,"translate"),M(),I(30,"div",17)(31,"input",18),K(32,"translate"),Ze("ngModelChange",function(s){return Xe(r.productRequest.title,s)||(r.productRequest.title=s),s}),M()()(),I(33,"div",19)(34,"label"),H(35),K(36,"translate"),M(),I(37,"div",20)(38,"div",21)(39,"div",22)(40,"input",23),ve("change",function(s){return r.handleToggleChange("veg",s)}),M(),I(41,"label",24)(42,"span",25),H(43),K(44,"translate"),M()()()(),I(45,"div",21)(46,"div",22)(47,"input",26),ve("change",function(s){return r.handleToggleChange("non_veg",s)}),M(),I(48,"label",27)(49,"span",25),H(50),K(51,"translate"),M()()()()()(),I(52,"div",16)(53,"label"),H(54),K(55,"translate"),M(),I(56,"div",17)(57,"textarea",28),K(58,"translate"),Ze("ngModelChange",function(s){return Xe(r.productRequest.detail,s)||(r.productRequest.detail=s),s}),H(59,"                                "),M()()()()(),I(60,"div",11)(61,"div",12)(62,"h2"),H(63),K(64,"translate"),M(),I(65,"div",9)(66,"div",29)(67,"div",16)(68,"label"),H(69),K(70,"translate"),M(),I(71,"div",17)(72,"input",30),K(73,"translate"),Ze("ngModelChange",function(s){return Xe(r.productRequest.price,s)||(r.productRequest.price=s),s}),M()()()(),I(74,"div",29)(75,"div",16)(76,"label"),H(77),K(78,"translate"),M(),I(79,"div",17)(80,"input",31),K(81,"translate"),Ze("ngModelChange",function(s){return Xe(r.productRequest.sale_price,s)||(r.productRequest.sale_price=s),s}),M()()()()()()(),I(82,"div",11)(83,"div",12)(84,"h2"),H(85),K(86,"translate"),M(),I(87,"div",9)(88,"div",32)(89,"div",16)(90,"label"),H(91),K(92,"translate"),K(93,"translate"),M(),I(94,"div",17)(95,"input",33),K(96,"translate"),Ze("ngModelChange",function(s){return Xe(r.productRequest.meta.serving,s)||(r.productRequest.meta.serving=s),s}),M()()()(),I(97,"div",32)(98,"div",16)(99,"label"),H(100),K(101,"translate"),K(102,"translate"),M(),I(103,"div",17)(104,"input",34),K(105,"translate"),Ze("ngModelChange",function(s){return Xe(r.productRequest.meta.cooking_time,s)||(r.productRequest.meta.cooking_time=s),s}),M()()()(),I(106,"div",32)(107,"div",16)(108,"label"),H(109),K(110,"translate"),K(111,"translate"),M(),I(112,"div",17)(113,"input",35),K(114,"translate"),Ze("ngModelChange",function(s){return Xe(r.productRequest.meta.energy,s)||(r.productRequest.meta.energy=s),s}),M()()()()()(),I(115,"div",12)(116,"h2"),H(117),K(118,"translate"),M(),I(119,"div",16)(120,"label"),H(121),K(122,"translate"),K(123,"translate"),M(),I(124,"div",17)(125,"textarea",36),K(126,"translate"),Ze("ngModelChange",function(s){return Xe(r.productIngredient,s)||(r.productIngredient=s),s}),M()()()()()(),I(127,"div",10)(128,"div",37)(129,"div",12)(130,"h2"),H(131),K(132,"translate"),M(),I(133,"div",9)(134,"div",29)(135,"div",38),he(136,c9e,7,3,"div",39)(137,u9e,8,4,"div",39),M()(),I(138,"div",29)(139,"div",38),he(140,d9e,7,3,"div",40)(141,h9e,10,6,"div",40),M()()()()(),I(142,"div",41)(143,"div",12)(144,"h2",5),H(145),K(146,"translate"),I(147,"span"),H(148),K(149,"translate"),M(),I(150,"small",42),ve("click",function(){return r.addOnsEnabled?r.addAddonGroup():r.showAddonGroup()}),H(151),K(152,"translate"),M()(),he(153,v9e,3,2,"form",43),M()(),I(154,"div",44)(155,"div",12)(156,"h2"),H(157),K(158,"translate"),M(),I(159,"div",45)(160,"h3",5),H(161),K(162,"translate"),M(),I(163,"ng-toggle",46),Ze("ngModelChange",function(s){return Xe(r.productQuantityStatus,s)||(r.productQuantityStatus=s),s}),M()()()()()()()()),i&2&&(x(6),le(" ",z(7,62,"back")," "),x(4),le(" ",r.pageTitle," "),x(7),de(z(18,64,"item_details")),x(4),de(z(22,66,"item_category")),x(2),zn("selected-option",r.categoriesSelectedStrings),nt("placeholder",z(24,68,"select_category")),W("multiple",!0),Ye("ngModel",r.categoriesSelectedStrings),x(2),W("ngForOf",r.categoryStrings),x(3),de(z(29,70,"item_name")),x(3),nt("placeholder",z(32,72,"enter_item_name")),Ye("ngModel",r.productRequest.title),x(4),de(z(36,74,"item_type")),x(5),W("checked",r.productTypeStatus),x(3),le(" ",z(44,76,"veg")," "),x(4),W("checked",!r.productTypeStatus),x(3),le(" ",z(51,78,"non_veg")," "),x(4),pn("",z(55,80,"item_description")," (",r.currency_icon,")"),x(3),nt("placeholder",z(58,82,"enter_item_description")),Ye("ngModel",r.productRequest.detail),x(6),de(z(64,84,"price_stock")),x(6),pn("",z(70,86,"item_price")," (",r.currency_icon,")"),x(3),nt("placeholder",z(73,88,"enter_item_price")),Ye("ngModel",r.productRequest.price),x(5),pn("",z(78,90,"discounted_price")," (",r.currency_icon,")"),x(3),nt("placeholder",z(81,92,"enter_discounted_price")),Ye("ngModel",r.productRequest.sale_price),x(5),de(z(86,94,"more_info")),x(6),pn("",z(92,96,"serving_for")," (",z(93,98,"person"),")"),x(4),nt("placeholder",z(96,100,"enter_number")),Ye("ngModel",r.productRequest.meta.serving),x(5),pn("",z(101,102,"cooking_time")," (",z(102,104,"in_min"),")"),x(4),nt("placeholder",z(105,106,"enter_time")),Ye("ngModel",r.productRequest.meta.cooking_time),x(5),pn("",z(110,108,"energy")," (",z(111,110,"in_KCal"),")"),x(4),nt("placeholder",z(114,112,"enter_kcal")),Ye("ngModel",r.productRequest.meta.energy),x(4),de(z(118,114,"ingredients")),x(4),pn("",z(122,116,"add_ingredients")," (",z(123,118,"separated_by_commas"),")"),x(4),nt("placeholder",z(126,120,"enter_ingredients")),Ye("ngModel",r.productIngredient),x(6),de(z(132,122,"item_image_video")),x(5),W("ngIf",!r.productRequest.image_urls||!r.productRequest.image_urls.length),x(),W("ngIf",r.productRequest.image_urls&&r.productRequest.image_urls.length),x(3),W("ngIf",!r.productRequest||!r.productRequest.meta||!r.productRequest.meta.video_url),x(),W("ngIf",r.productRequest&&r.productRequest.meta&&r.productRequest.meta.video_url),x(4),le(" ",z(146,124,"add_on_specification")," "),x(3),le("(",z(149,126,"optional"),")"),x(3),le(" + ",z(152,128,"add_more_group")," "),x(2),W("ngIf",r.addOnsEnabled),x(4),de(z(158,130,"stock_availibility")),x(4),le(" ",z(162,132,"out_of_stock")," "),x(2),W("checked",r.productQuantityStatus),Ye("ngModel",r.productQuantityStatus))},dependencies:[ti,En,ji,Hi,Vi,Qi,X0,$i,Oi,L1,JE,U1,H1,_u,Cc,xP,Gn],styles:['.delete_addon[_ngcontent-%COMP%]{margin-top:22px;text-align:center;cursor:pointer;color:var(--red_color)}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.delete_group_button[_ngcontent-%COMP%]{color:var(--primary);text-transform:capitalize;letter-spacing:0;cursor:pointer;font-size:.9rem;display:flex;align-items:center;min-width:fit-content}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.delete_group_button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;min-width:17px}.pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-weight:500;font-size:2rem;min-width:38px;padding:0 5px;cursor:pointer}form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:20px 15px 0;border-radius:11px;margin-bottom:15px}form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-size:.75rem}form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:1.08rem;font-weight:600;padding-bottom:20px}form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{margin-bottom:15px;position:relative}form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .pin_icon[_ngcontent-%COMP%]{position:absolute;z-index:99;background:var(--primary);border:2px solid var(--text-white);width:40px;height:40px;display:flex;align-items:center;border-radius:50%}form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .pin_icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;width:15px}form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]   .map_img[_ngcontent-%COMP%]{width:100%;height:180px;border-radius:10px}form[_ngcontent-%COMP%]   .card.toggleCard[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.82rem;font-weight:600}form[_ngcontent-%COMP%]   .card.specification[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-light);min-width:fit-content}form[_ngcontent-%COMP%]   .card.specification[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--primary);cursor:pointer;font-size:.9rem;min-width:fit-content}form[_ngcontent-%COMP%]   .card.specification[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--text-light2);font-size:.9rem;min-width:fit-content;margin:0}form[_ngcontent-%COMP%]   .card.specification[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:fit-content;display:flex;align-items:center;color:var(--primary)!important;cursor:pointer;text-transform:uppercase;font-weight:600}form[_ngcontent-%COMP%]   .card.specification[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:18px;position:relative;top:-2px}form[_ngcontent-%COMP%]   .card.specification[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-height:28px}form[_ngcontent-%COMP%]   .card.specification[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:fit-content;display:flex;align-items:center;color:var(--red-color)!important;cursor:pointer;text-transform:uppercase;font-weight:600}form[_ngcontent-%COMP%]   .card.specification[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:18px;position:relative;top:-2px}form[_ngcontent-%COMP%]   .card.profilePicture[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]{width:100%;height:235px;margin-bottom:20px;border-radius:8px;border:1.5px solid var(--border-line-color);display:flex;align-items:center}form[_ngcontent-%COMP%]   .card.profilePicture[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--primary);opacity:.1;transition:all .5s}form[_ngcontent-%COMP%]   .card.profilePicture[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:99;opacity:0}form[_ngcontent-%COMP%]   .card.profilePicture[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]   .img_placeholder[_ngcontent-%COMP%]{text-align:center;position:absolute;inset:0;height:fit-content;width:100%;padding:20px;margin:auto}form[_ngcontent-%COMP%]   .card.profilePicture[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]   .img_placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;margin-bottom:15px}form[_ngcontent-%COMP%]   .card.profilePicture[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]   .img_placeholder[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto;color:var(--text-dark);font-size:.85rem;font-weight:600;padding-top:10px}video[_ngcontent-%COMP%]{width:100%}.options[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--text-light2);font-size:.9rem;min-width:fit-content;margin-bottom:15px}.options[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:fit-content;display:flex;align-items:center;color:var(--primary)!important;cursor:pointer;text-transform:uppercase;font-weight:600}.options[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:18px;position:relative;top:-2px}.options[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{display:flex;align-items:center;height:38px;width:38px;border:1.5px solid var(--red-color);margin:12px 0 0;border-radius:5px;cursor:pointer;background:#ffd2d2a1!important;font-weight:600}.options[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:18px;position:relative;margin:auto}']})}}return n})();var DP=Ri(zv());var ace=(()=>{class n{constructor(e,i,r,o,s,a,l){this.config=e,this.route=i,this.uiElementService=r,this.myEvent=o,this.router=s,this.apiService=a,this.translate=l,this.otp="",this.captchanotvarified=!0,this.buttonDisabled=!0,this.captchaVerified=!1,this.minutes=0,this.seconds=0,this.totalSeconds=0,this.intervalCalled=!1,this.resendCode=!1,this.otpNotSent=!0,this.route.queryParams.subscribe(u=>{this.phoneNumberFull=u.phoneNumberFull,this.isDemoNumber=u.isDemoNumber})}ngOnInit(){this.makeCaptcha(),this.sendOTP()}loginUser(){this.translate.get("just_moment").subscribe(e=>{this.uiElementService.presentLoading(e),this.apiService.autheticationDelegations({identifier:this.phoneNumberFull,type:et.ROLE_DESK}).subscribe(i=>{this.uiElementService.dismissLoading(),this.myEvent.setLoginData(i)},i=>{console.log(i),this.uiElementService.dismissLoading(),this.uiElementService.showErrorToastr(i&&i.error&&i.error.message&&String(i.error.message).toLowerCase().includes("role")?"User exists with different role":"Something went wrong")})})}sendOTP(){this.resendCode=!1,this.otpNotSent=!0,this.sendOtpBrowser(this.phoneNumberFull),this.intervalCalled&&clearInterval(this.timer)}createTimer(){this.intervalCalled=!0,this.totalSeconds--,this.totalSeconds==0?(this.otpNotSent=!0,this.resendCode=!0,clearInterval(this.timer)):(this.seconds=this.totalSeconds%60,this.totalSeconds>=this.seconds?this.minutes=(this.totalSeconds-this.seconds)/60:this.minutes=0)}createInterval(){this.totalSeconds=120,this.createTimer(),this.timer=setInterval(()=>{this.createTimer()},1e3)}sendOtpBrowser(e){this.translate.get("sending_otp").subscribe(i=>{let r=this;this.uiElementService.presentLoading(i),DP.default.auth().signInWithPhoneNumber(e,this.recaptchaVerifier).then(o=>{r.otpNotSent=!1,r.result=o,r.uiElementService.dismissLoading(),r.translate.get("sending_otp_success").subscribe(s=>r.uiElementService.showSuccessToastr(s)),r.isDemoNumber=="true"&&(r.otp=r.config.demoLoginCredentials.otp,r.verify()),r.intervalCalled&&clearInterval(r.timer),r.createInterval()}).catch(function(o){console.log("otp_send_fail",o),r.resendCode=!0,r.uiElementService.dismissLoading(),o.message?r.uiElementService.showErrorToastr(o.message):r.translate.get("sending_otp_fail").subscribe(s=>r.uiElementService.showErrorToastr(s))})})}verify(){this.otp&&this.otp.length?(this.otpNotSent=!0,this.verifyOtpBrowser()):this.translate.get("enter_verification_code").subscribe(e=>this.uiElementService.showErrorToastr(e))}retryOld(e){this.translate.get("verifying_otp").subscribe(i=>{this.uiElementService.presentLoading(i),DP.default.auth().signInAndRetrieveDataWithCredential(e).then(r=>{this.uiElementService.dismissLoading(),this.translate.get("verifying_otp_success").subscribe(o=>this.uiElementService.showSuccessToastr(o)),this.loginUser()},r=>{console.log("otp_verify_fail",r),this.translate.get("verifying_otp_fail").subscribe(o=>this.uiElementService.showErrorToastr(o)),this.uiElementService.dismissLoading()})})}verifyOtpBrowser(){let e=this;this.uiElementService.presentLoading(this.translate.instant("verifying_otp")),this.result.confirm(String(this.otp)).then(function(i){e.uiElementService.dismissLoading(),e.translate.get("otp_verified").subscribe(r=>e.uiElementService.showSuccessToastr(r)),e.loginUser()}).catch(function(i){console.log("otp_verify_fail",i),i.message?e.uiElementService.showErrorToastr(i.message):e.translate.get("verify_otp_err").subscribe(r=>e.uiElementService.showErrorToastr(r)),e.uiElementService.dismissLoading()})}makeCaptcha(){let e=this;this.recaptchaVerifier=new DP.default.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(i){e.captchanotvarified=!0}}),this.recaptchaVerifier.render()}static{this.\u0275fac=function(i){return new(i||n)(ae(Xr),ae(jh),ae(ui),ae(vs),ae(Un),ae(ni),ae(qn))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-verification"]],decls:32,vars:14,consts:[[1,"body-inner"],[1,"row"],[1,"col-12","col-sm-6","col-md-7","col-lg-8"],[1,"banner"],[1,"logo"],["src","assets/images/logo.png",1,"light-theme"],["src","assets/images/logo_wt.png",1,"dark-theme"],[1,"banner_img"],["src","assets/images/sign-in-banner.png",1,"animate__animated","animate__fadeInUp"],[1,"col-12","col-sm-6","col-md-5","col-lg-4"],["id","recaptcha-container",2,"display","none"],[1,"col-12","col-xl-11","mx-auto","px-0","verfiction-form",2,"padding-top","70px"],[1,"pageHeader"],[1,"backButton"],[1,"zmdi","zmdi-chevron-left"],[1,"col-11","col-lg-11","mx-auto","px-0"],[1,"form_inner"],[1,"pb-3","pb-lg-3","m-0","mb-lg-2","animate__animated","animate__fadeInUp"],[1,"form-group","animate__animated","animate__fadeInUp"],[1,"form-group"],[1,"input_box","d-flex","align-items-center"],["type","tel","name","otp","required","",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","submit",1,"btn","rounded","animate__animated","animate__fadeInUp","w-100",3,"click"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),se(5,"img",5)(6,"img",6),M(),I(7,"div",7),se(8,"img",8),M()()(),I(9,"div",9),se(10,"div",10),I(11,"form",11)(12,"div",12)(13,"div",13)(14,"a"),se(15,"i",14),M()()(),I(16,"div",15)(17,"div",16)(18,"h2",17),H(19),K(20,"translate"),M(),I(21,"div",18)(22,"label"),H(23),K(24,"translate"),M(),I(25,"div",19)(26,"div",20)(27,"input",21),K(28,"translate"),Ze("ngModelChange",function(s){return Xe(r.otp,s)||(r.otp=s),s}),M()()()(),I(29,"button",22),ve("click",function(){return r.verify()}),H(30),K(31,"translate"),M()()()()()()()),i&2&&(x(19),le(" ",z(20,6,"enter_verification_code_send_on_given_phone_number")," "),x(4),pn("",z(24,8,"verification_text")," ",r.phoneNumberFull,""),x(4),nt("placeholder",z(28,10,"enter_verification_code")),Ye("ngModel",r.otp),x(3),le(" ",z(31,12,"continue")," "))},dependencies:[ji,Hi,Vi,Qi,X0,$i,Oi,Gn],styles:['.body-inner[_ngcontent-%COMP%]{padding:0;background:var(--bg-white);min-height:100vh}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:0}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{padding:0}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{position:relative;z-index:99;background:url("./media/sign-in-bg-RJPLQJVK.png");background-size:cover;background-position:center;background-repeat:no-repeat}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;z-index:99}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:9% auto;display:block;width:120px}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner_img[_ngcontent-%COMP%]{width:100%;margin:0 auto}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;max-width:280px}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative;background:var(--bg-white)}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]{padding:20px 0 30px}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--text-dark);font-size:.95rem;padding-bottom:15px;font-weight:600;line-height:25px}.body-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form_inner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.65rem;color:var(--text-light);margin:0;padding-top:11px}']})}}return n})();var _9e=(n,t,e)=>({itemsPerPage:n,currentPage:t,totalItems:e}),y9e=()=>[1,2,3,4,5,6,7,8,9];function w9e(n,t){n&1&&(I(0,"tr",34)(1,"td",35)(2,"h3"),se(3,"ngx-skeleton-loader",36),M()(),I(4,"td",35)(5,"h3"),se(6,"ngx-skeleton-loader",36),M()(),I(7,"td",35)(8,"h3"),se(9,"ngx-skeleton-loader",36),M()(),I(10,"td",35)(11,"h3"),se(12,"ngx-skeleton-loader",36),M()()())}function b9e(n,t){n&1&&(I(0,"tbody"),he(1,w9e,13,0,"tr",12),M()),n&2&&(x(),W("ngForOf",Qr(1,y9e)))}function C9e(n,t){if(n&1&&(I(0,"h3"),H(1),K(2,"translate"),M()),n&2){let e=te().$implicit;x(),pn(" ",z(2,2,"order_num")," ",e.meta.source_id," ")}}function E9e(n,t){if(n&1&&(I(0,"h3"),H(1),K(2,"translate"),M()),n&2){let e=te().$implicit;x(),pn(" ",z(2,2,"trans_id")," ",e.id," ")}}function S9e(n,t){if(n&1&&(I(0,"tr",34)(1,"td",35),he(2,C9e,3,4,"h3",11)(3,E9e,3,4,"h3",11),M(),I(4,"td",35)(5,"h3"),H(6),M()(),I(7,"td",35)(8,"h3"),H(9),K(10,"translate"),M()(),I(11,"td",35)(12,"h3"),H(13),M()()()),n&2){let e=t.$implicit,i=te();x(2),W("ngIf",e.type=="deposit"),x(),W("ngIf",e.type!="deposit"),x(3),pn(" ",i.currency_icon,"",e.amount," "),x(3),le(" ",z(10,6,"trans_type_"+e.type)," "),x(4),le(" ",e.created_at," ")}}function x9e(n,t){if(n&1){let e=We();I(0,"div",37)(1,"div",38)(2,"div",2)(3,"div",39)(4,"h2"),H(5),K(6,"translate"),K(7,"translate"),K(8,"translate"),K(9,"translate"),M()(),I(10,"div",39)(11,"nav",40)(12,"pagination-controls",41),K(13,"translate"),K(14,"translate"),ve("pageChange",function(r){we(e);let o=te();return be(o.onChangePage(r))}),M()()()()()()}if(n&2){let e=te();x(5),mc("",z(6,10,"showing")," ",e.pageNo," ",z(7,12,"to")," ",e.pageSize," ",z(8,14,"of")," ",e.pageTotal," ",z(9,16,"item")," "),x(7),W("responsive",!0)("previousLabel",z(13,18,""))("nextLabel",z(14,20,""))}}var lce=(()=>{class n{constructor(e,i,r){this.translate=e,this.uiElementService=i,this.apiService=r,this.subscriptions=new Array,this.isLoading=!0,this.transactions=new Array,this.balance=0,this.pageNo=1,this.payourRequest=new cb,this.toggleClass=!1}ngOnInit(){this.currency_icon=He.getSetting("currency_icon"),this.refreshBalance()}ngOnDestroy(){for(let e of this.subscriptions)e.unsubscribe();this.uiElementService.dismissLoading()}refreshBalance(){this.subscriptions.push(this.apiService.getBalance().subscribe(e=>{e.balance!=this.balance||(!this.transactions||!this.transactions.length)&&e.balance!=0?(this.transactions=[],this.isLoading=!0,this.loadTransactions()):this.isLoading=!1,this.balance=e.balance},e=>{console.log("getBalance",e),this.isLoading=!1}))}loadTransactions(){this.isLoading=!0,this.translate.get("loading").subscribe(e=>{this.subscriptions.push(this.apiService.getTransactions(this.pageNo).subscribe(i=>this.handleTransactionRes(i),i=>this.handleTransactionErr(i)))})}onChangePage(e){this.pageNo=e,this.transactions=[],this.loadTransactions()}handleTransactionRes(e){this.transactions=e.data,this.pageNo=e.meta.current_page,this.pageSize=e.meta.per_page,this.pageTotal=e.meta.total,this.isLoading=!1,this.uiElementService.dismissLoading()}handleTransactionErr(e){this.uiElementService.dismissLoading(),this.isLoading=!1}send_to_bank(){let e=He.getBankDetail();e&&(this.payourRequest.bank_name=e.bank_name,this.payourRequest.bank_account_name=e.bank_account_name,this.payourRequest.bank_account_number=e.bank_account_number),$("#add_people").modal({backdrop:"static",keyboard:!1})}submitSendToBank(){!this.payourRequest.bank_name||!this.payourRequest.bank_name.length?this.translate.get("err_field_bank_name").subscribe(e=>this.uiElementService.showErrorToastr(e)):!this.payourRequest.bank_account_name||!this.payourRequest.bank_account_name.length?this.translate.get("err_field_bank_account_name").subscribe(e=>this.uiElementService.showErrorToastr(e)):!this.payourRequest.bank_account_number||!this.payourRequest.bank_account_number.length?this.translate.get("err_field_bank_account_number").subscribe(e=>this.uiElementService.showErrorToastr(e)):!this.payourRequest.bank_code||!this.payourRequest.bank_code.length?this.translate.get("err_field_bank_code").subscribe(e=>this.uiElementService.showErrorToastr(e)):!this.payourRequest.amount||this.payourRequest.amount>this.balance||this.payourRequest.amount<0?this.translate.get("err_field_amount").subscribe(e=>this.uiElementService.showErrorToastr(e)):this.translate.get(["just_moment","something_wrong"]).subscribe(e=>{this.uiElementService.presentLoading(e.just_moment),this.subscriptions.push(this.apiService.walletTransfer(this.payourRequest).subscribe(i=>{He.setBankDetail({bank_name:this.payourRequest.bank_name,bank_account_name:this.payourRequest.bank_account_name,bank_account_number:this.payourRequest.bank_account_number}),this.uiElementService.dismissLoading(),this.dismissModel(),this.refreshBalance(),this.toggleClass=!1},i=>{console.log("walletTransfer",i),this.uiElementService.showErrorToastr(e.something_wrong),this.uiElementService.dismissLoading(),this.dismissModel()}))})}dismissModel(){$("#add_people").modal("hide"),this.toggleClass=!1}sendToBank(){this.toggleClass=!0}static{this.\u0275fac=function(i){return new(i||n)(ae(qn),ae(ui),ae(ni))}}static{this.\u0275cmp=wt({type:n,selectors:[["app-wallet"]],decls:94,vars:78,consts:[[1,"body_wrapper","p-2","p-lg-4"],[1,"pageTitle","pb-4"],[1,"row","align-items-center"],[1,"col-12","col-md-3","col-xl-7","pb-2","pb-md-0"],[1,"col-12","col-md-9","col-xl-5","pb-2","pb-md-0"],[1,"btn","m-0","mt-2","mt-md-0","end",3,"click"],[1,"card","tableCard"],[1,"p-x-0"],[1,"scroll-x"],[1,"table","customeTable","align-middle"],["scope","col",1,"text-start"],[4,"ngIf"],["class","animate__animated animate__fadeInUp",4,"ngFor","ngForOf"],["class","pagination-container",4,"ngIf"],[1,"modal","sideModel","customeModal",3,"ngClass"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modelContainer"],[1,"modelHeader"],[1,"pageTitle","p-3","px-lg-4"],[1,"modelContent","px-3","px-lg-4"],[1,"form_inner"],[1,"form-group","animate__animated","animate__fadeInUp"],[1,"input_box"],["type","text","name","bank_name",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","name","name","bank_account_name",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","text","name","bank_account_number",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","text","name","bank_code",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","number","name","amount",1,"form-control",3,"ngModelChange","placeholder","ngModel"],[1,"modelFooter","p-3","px-lg-4","animate__animated","animate__fadeInUp"],[1,"row","align-items-center","g-3"],[1,"col-6","text-center"],[1,"btn","btn-clear",3,"click"],[1,"btn",3,"click"],[1,"animate__animated","animate__fadeInUp"],[1,"text-start"],["count","1","appearance","line",2,"width","90%"],[1,"pagination-container"],[1,"container-fluid"],[1,"col-12","col-md-6"],["aria-label","Page navigation example"],[1,"pagination","end",3,"pageChange","responsive","previousLabel","nextLabel"]],template:function(i,r){i&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),H(5),K(6,"translate"),I(7,"span"),H(8),M()()(),I(9,"div",4)(10,"button",5),ve("click",function(){return r.sendToBank()}),H(11),K(12,"translate"),M()()()(),I(13,"div",6)(14,"div",7)(15,"div",8)(16,"table",9)(17,"thead")(18,"tr")(19,"th",10),H(20),K(21,"translate"),M(),I(22,"th",10),H(23),K(24,"translate"),M(),I(25,"th",10),H(26),K(27,"translate"),M(),I(28,"th",10),H(29),K(30,"translate"),M()()(),he(31,b9e,2,2,"tbody",11),I(32,"tbody"),he(33,S9e,14,8,"tr",12),K(34,"paginate"),M()()()()(),he(35,x9e,15,22,"div",13),M(),I(36,"ngb-modal-window",14)(37,"div",15)(38,"div",16)(39,"div",17)(40,"div",18)(41,"div",19)(42,"h1"),H(43),K(44,"translate"),M()()(),I(45,"div",20)(46,"form")(47,"div",21)(48,"div",22)(49,"label"),H(50),K(51,"translate"),M(),I(52,"div",23)(53,"input",24),K(54,"translate"),Ze("ngModelChange",function(s){return Xe(r.payourRequest.bank_name,s)||(r.payourRequest.bank_name=s),s}),M()()(),I(55,"div",22)(56,"label"),H(57),K(58,"translate"),M(),I(59,"div",23)(60,"input",25),K(61,"translate"),Ze("ngModelChange",function(s){return Xe(r.payourRequest.bank_account_name,s)||(r.payourRequest.bank_account_name=s),s}),M()()(),I(62,"div",22)(63,"label"),H(64),K(65,"translate"),M(),I(66,"div",23)(67,"input",26),K(68,"translate"),K(69,"translate"),Ze("ngModelChange",function(s){return Xe(r.payourRequest.bank_account_number,s)||(r.payourRequest.bank_account_number=s),s}),M()()(),I(70,"div",22)(71,"label"),H(72),K(73,"translate"),M(),I(74,"div",23)(75,"input",27),K(76,"translate"),Ze("ngModelChange",function(s){return Xe(r.payourRequest.bank_code,s)||(r.payourRequest.bank_code=s),s}),M()()(),I(77,"div",22)(78,"label"),H(79),K(80,"translate"),M(),I(81,"div",23)(82,"input",28),K(83,"translate"),Ze("ngModelChange",function(s){return Xe(r.payourRequest.amount,s)||(r.payourRequest.amount=s),s}),M()()()()()(),I(84,"div",29)(85,"div",30)(86,"div",31)(87,"button",32),ve("click",function(){return r.dismissModel()}),H(88),K(89,"translate"),M()(),I(90,"div",31)(91,"button",33),ve("click",function(){return r.submitSendToBank()}),H(92),K(93,"translate"),M()()()()()()()()),i&2&&(x(5),le(" ",z(6,31,"wallet_balance")," : "),x(3),pn("",r.currency_icon," ",r.balance,""),x(3),le(" ",z(12,33,"send_to_bank")," "),x(9),le(" ",z(21,35,"trans_src")," "),x(3),de(z(24,37,"amount")),x(3),de(z(27,39,"type")),x(3),de(z(30,41,"date_and_time")),x(2),W("ngIf",r.isLoading&&!(r.transactions&&r.transactions.length)),x(2),W("ngForOf",qs(34,43,r.transactions,el(74,_9e,r.pageSize,r.pageNo,r.pageTotal))),x(2),W("ngIf",r.pageTotal>r.pageSize),x(),W("ngClass",r.toggleClass?"show fade":""),x(7),le(" ",z(44,46,"send_to_bank"),""),x(7),de(z(51,48,"bank_name")),x(3),nt("placeholder",z(54,50,"enter_bank_name")),Ye("ngModel",r.payourRequest.bank_name),x(4),de(z(58,52,"account_holder_name")),x(3),nt("placeholder",z(61,54,"enter_account_holder_name")),Ye("ngModel",r.payourRequest.bank_account_name),x(4),de(z(65,56,"account_number")),x(3),nt("placeholder",z(68,58,"enter_account_holder_name")),nt("placeholder",z(69,60,"enter_account_number")),Ye("ngModel",r.payourRequest.bank_account_number),x(5),de(z(73,62,"branch_code")),x(3),nt("placeholder",z(76,64,"enter_branch_code")),Ye("ngModel",r.payourRequest.bank_code),x(4),de(z(80,66,"enter_amount_to_transfer")),x(3),nt("placeholder",z(83,68,"enter_amount_to_transfer")),Ye("ngModel",r.payourRequest.amount),x(6),le(" ",z(89,70,"cancel")," "),x(4),le(" ",z(93,72,"send_to_bank")," "))},dependencies:[Fr,ti,En,ji,Hi,ZE,Vi,Qi,$i,Oi,vu,bo,Gn,mu],styles:[".pageTitle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-dark);font-weight:500;font-size:1.46rem}"]})}}return n})();var I9e=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Rae,canActivate:[xs]},{path:"verification",component:ace,canActivate:[xs]},{path:"dashboard",component:fJ,canActivate:[xs]},{path:"home",component:kae,canActivate:[xs]},{path:"booking",component:zY,canActivate:[xs]},{path:"authentication",component:dY,canActivate:[xs]},{path:"items",component:Nae,canActivate:[xs]},{path:"orders_status",component:Uae,canActivate:[xs]},{path:"people",component:Vae,canActivate:[xs]},{path:"reviews",component:Qae,canActivate:[xs]},{path:"setting",component:tce,canActivate:[xs]},{path:"support",component:nce,canActivate:[xs]},{path:"terms_conditions",component:ice,canActivate:[xs]},{path:"transactions",component:rce,canActivate:[xs]},{path:"upload_item",component:sce,canActivate:[xs]},{path:"wallet",component:lce,canActivate:[xs]},{path:"change_language",component:qY,canActivate:[xs]},{path:"**",component:Hae}],cce=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({imports:[JL.forRoot(I9e,{scrollPositionRestoration:"enabled",useHash:!0}),JL]})}}return n})();var MP=class{http;prefix;suffix;constructor(t,e="/assets/i18n/",i=".json"){this.http=t,this.prefix=e,this.suffix=i}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}};function uce(n){return new Qe(3e3,!1)}function T9e(){return new Qe(3100,!1)}function D9e(){return new Qe(3101,!1)}function M9e(n){return new Qe(3001,!1)}function O9e(n){return new Qe(3003,!1)}function F9e(n){return new Qe(3004,!1)}function B9e(n,t){return new Qe(3005,!1)}function P9e(){return new Qe(3006,!1)}function k9e(){return new Qe(3007,!1)}function N9e(n,t){return new Qe(3008,!1)}function R9e(n){return new Qe(3002,!1)}function L9e(n,t,e,i,r){return new Qe(3010,!1)}function U9e(){return new Qe(3011,!1)}function H9e(){return new Qe(3012,!1)}function V9e(){return new Qe(3200,!1)}function Q9e(){return new Qe(3202,!1)}function j9e(){return new Qe(3013,!1)}function G9e(n){return new Qe(3014,!1)}function W9e(n){return new Qe(3015,!1)}function K9e(n){return new Qe(3016,!1)}function z9e(n,t){return new Qe(3404,!1)}function q9e(n){return new Qe(3502,!1)}function $9e(n){return new Qe(3503,!1)}function Y9e(){return new Qe(3300,!1)}function Z9e(n){return new Qe(3504,!1)}function X9e(n){return new Qe(3301,!1)}function J9e(n,t){return new Qe(3302,!1)}function eGe(n){return new Qe(3303,!1)}function tGe(n,t){return new Qe(3400,!1)}function nGe(n){return new Qe(3401,!1)}function iGe(n){return new Qe(3402,!1)}function rGe(n,t){return new Qe(3505,!1)}function qg(n){switch(n.length){case 0:return new og;case 1:return n[0];default:return new tS(n)}}function Ece(n,t,e=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(t.forEach(l=>{let u=l.get("offset"),d=u==s,h=d&&a||new Map;l.forEach((f,A)=>{let g=A,m=f;if(A!=="offset")switch(g=n.normalizePropertyName(g,r),m){case cO:m=e.get(A);break;case Gh:m=i.get(A);break;default:m=n.normalizeStyleValue(A,g,m,r);break}h.set(g,m)}),d||o.push(h),a=h,s=u}),r.length)throw q9e(r);return o}function rj(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&NQ(e,"start",n)));break;case"done":n.onDone(()=>i(e&&NQ(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&NQ(e,"destroy",n)));break}}function NQ(n,t,e){let i=e.totalTime,r=!!e.disabled,o=oj(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function oj(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Fc(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function dce(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var oGe=typeof document>"u"?null:document.documentElement;function sj(n){let t=n.parentNode||n.host||null;return t===oGe?null:t}function sGe(n){return n.substring(1,6)=="ebkit"}var i_=null,hce=!1;function aGe(n){i_||(i_=lGe()||{},hce=i_.style?"WebkitAppearance"in i_.style:!1);let t=!0;return i_.style&&!sGe(n)&&(t=n in i_.style,!t&&hce&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in i_.style)),t}function lGe(){return typeof document<"u"?document.body:null}function Sce(n,t){for(;t;){if(t===n)return!0;t=sj(t)}return!1}function xce(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var aj=(()=>{class n{validateStyleProperty(e){return aGe(e)}containsElement(e,i){return Sce(e,i)}getParentElement(e){return sj(e)}query(e,i,r){return xce(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new og(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})(),s_=class{static{this.NOOP=new aj}},a_=class{};var cGe=1e3,Ice="{{",uGe="}}",Tce="ng-enter",QQ="ng-leave",OP="ng-trigger",NP=".ng-trigger",fce="ng-animating",jQ=".ng-animating";function Up(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:GQ(parseFloat(t[1]),t[2])}function GQ(n,t){switch(t){case"s":return n*cGe;default:return n}}function RP(n,t,e){return n.hasOwnProperty("duration")?n:dGe(n,t,e)}function dGe(n,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof n=="string"){let a=n.match(i);if(a===null)return t.push(uce(n)),{duration:0,delay:0,easing:""};r=GQ(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=GQ(parseFloat(l),a[4]));let u=a[5];u&&(s=u)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(T9e()),a=!0),o<0&&(t.push(D9e()),a=!0),a&&t.splice(l,0,uce(n))}return{duration:r,delay:o,easing:s}}function hGe(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function ff(n,t,e){t.forEach((i,r)=>{let o=lj(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function o_(n,t){t.forEach((e,i)=>{let r=lj(i);n.style[r]=""})}function cI(n){return Array.isArray(n)?n.length==1?n[0]:$$(n):n}function fGe(n,t,e){let i=t.params||{},r=Dce(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(M9e(o))})}var WQ=new RegExp(`${Ice}\\s*(.+?)\\s*${uGe}`,"g");function Dce(n){let t=[];if(typeof n=="string"){let e;for(;e=WQ.exec(n);)t.push(e[1]);WQ.lastIndex=0}return t}function dI(n,t,e){let i=`${n}`,r=i.replace(WQ,(o,s)=>{let a=t[s];return a==null&&(e.push(O9e(s)),a=""),a.toString()});return r==i?n:r}var pGe=/-+([a-z0-9])/g;function lj(n){return n.replace(pGe,(...t)=>t[1].toUpperCase())}function AGe(n,t){return n===0||t===0}function gGe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,cj(n,a)))}}return t}function Oc(n,t,e){switch(t.type){case mn.Trigger:return n.visitTrigger(t,e);case mn.State:return n.visitState(t,e);case mn.Transition:return n.visitTransition(t,e);case mn.Sequence:return n.visitSequence(t,e);case mn.Group:return n.visitGroup(t,e);case mn.Animate:return n.visitAnimate(t,e);case mn.Keyframes:return n.visitKeyframes(t,e);case mn.Style:return n.visitStyle(t,e);case mn.Reference:return n.visitReference(t,e);case mn.AnimateChild:return n.visitAnimateChild(t,e);case mn.AnimateRef:return n.visitAnimateRef(t,e);case mn.Query:return n.visitQuery(t,e);case mn.Stagger:return n.visitStagger(t,e);default:throw F9e(t.type)}}function cj(n,t){return window.getComputedStyle(n)[t]}var mGe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),LP=class extends a_{normalizePropertyName(t,e){return lj(t)}normalizeStyleValue(t,e,i,r){let o="",s=i.toString().trim();if(mGe.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(B9e(t,i))}return s+o}};var UP="*";function vGe(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>_Ge(i,e,t)):e.push(n),e}function _Ge(n,t,e){if(n[0]==":"){let l=yGe(n,e);if(typeof l=="function"){t.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(W9e(n)),t;let r=i[1],o=i[2],s=i[3];t.push(pce(r,s));let a=r==UP&&s==UP;o[0]=="<"&&!a&&t.push(pce(s,r))}function yGe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(K9e(n)),"* => *"}}var FP=new Set(["true","1"]),BP=new Set(["false","0"]);function pce(n,t){let e=FP.has(n)||BP.has(n),i=FP.has(t)||BP.has(t);return(r,o)=>{let s=n==UP||n==r,a=t==UP||t==o;return!s&&e&&typeof r=="boolean"&&(s=r?FP.has(n):BP.has(n)),!a&&i&&typeof o=="boolean"&&(a=o?FP.has(t):BP.has(t)),s&&a}}var Mce=":self",wGe=new RegExp(`s*${Mce}s*,?`,"g");function Oce(n,t,e,i){return new KQ(n).build(t,e,i)}var Ace="",KQ=class{constructor(t){this._driver=t}build(t,e,i){let r=new zQ(e);return this._resetContextStyleTimingState(r),Oc(this,cI(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=Ace,t.collectedStyles=new Map,t.collectedStyles.set(Ace,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(P9e()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==mn.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,e))}),l.name=u}else if(a.type==mn.Transition){let l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(k9e())}),{type:mn.Trigger,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Dce(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&e.errors.push(N9e(t.name,[...o.values()]))}return{type:mn.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=Oc(this,cI(t.animation),e),r=vGe(t.expr,e.errors);return{type:mn.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:r_(t.options)}}visitSequence(t,e){return{type:mn.Sequence,steps:t.steps.map(i=>Oc(this,i,e)),options:r_(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,o=t.steps.map(s=>{e.currentTime=i;let a=Oc(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:mn.Group,steps:o,options:r_(t.options)}}visitAnimate(t,e){let i=SGe(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Cd({});if(o.type==mn.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let u={};i.easing&&(u.easing=i.easing),s=Cd(u)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:mn.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===Gh?i.push(a):e.errors.push(R9e(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(Ice)>=0){o=!0;break}}}),{type:mn.Style,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let u=e.collectedStyles.get(e.currentQuerySelector),d=u.get(l),h=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(L9e(l,d.startTime,d.endTime,o,r)),h=!1),o=d.startTime),h&&u.set(l,{startTime:o,endTime:r}),e.options&&fGe(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:mn.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(U9e()),i;let r=1,o=0,s=[],a=!1,l=!1,u=0,d=t.steps.map(S=>{let F=this._makeStyleAst(S,e),R=F.offset!=null?F.offset:EGe(F.styles),B=0;return R!=null&&(o++,B=F.offset=R),l=l||B<0||B>1,a=a||B<u,u=B,s.push(B),F});l&&e.errors.push(H9e()),a&&e.errors.push(V9e());let h=t.steps.length,f=0;o>0&&o<h?e.errors.push(Q9e()):o==0&&(f=r/(h-1));let A=h-1,g=e.currentTime,m=e.currentAnimateTimings,b=m.duration;return d.forEach((S,F)=>{let R=f>0?F==A?1:f*F:s[F],B=R*b;e.currentTime=g+m.delay+B,m.duration=B,this._validateStyleAst(S,e),S.offset=R,i.styles.push(S)}),i}visitReference(t,e){return{type:mn.Reference,animation:Oc(this,cI(t.animation),e),options:r_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:mn.AnimateChild,options:r_(t.options)}}visitAnimateRef(t,e){return{type:mn.AnimateRef,animation:this.visitReference(t.animation,e),options:r_(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=bGe(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Fc(e.collectedStyles,e.currentQuerySelector,new Map);let a=Oc(this,cI(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:mn.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:r_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(j9e());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:RP(t.timings,e.errors,!0);return{type:mn.Stagger,animation:Oc(this,cI(t.animation),e),timings:i,options:null}}};function bGe(n){let t=!!n.split(/\s*,\s*/).find(e=>e==Mce);return t&&(n=n.replace(wGe,"")),n=n.replace(/@\*/g,NP).replace(/@\w+/g,e=>NP+"-"+e.slice(1)).replace(/:animating/g,jQ),[n,t]}function CGe(n){return n?Ee({},n):null}var zQ=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function EGe(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function SGe(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=RP(n,t).duration;return RQ(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=RQ(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=RP(e,t);return RQ(r.duration,r.delay,r.easing)}function r_(n){return n?(n=Ee({},n),n.params&&(n.params=CGe(n.params))):n={},n}function RQ(n,t,e){return{duration:n,delay:t,easing:e}}function uj(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var hI=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},xGe=1,IGe=":enter",TGe=new RegExp(IGe,"g"),DGe=":leave",MGe=new RegExp(DGe,"g");function Fce(n,t,e,i,r,o=new Map,s=new Map,a,l,u=[]){return new qQ().buildKeyframes(n,t,e,i,r,o,s,a,l,u)}var qQ=class{buildKeyframes(t,e,i,r,o,s,a,l,u,d=[]){u=u||new hI;let h=new $Q(t,e,u,r,o,d,[]);h.options=l;let f=l.delay?Up(l.delay):0;h.currentTimeline.delayNextStep(f),h.currentTimeline.setStyles([s],null,h.errors,l),Oc(this,i,h);let A=h.timelines.filter(g=>g.containsAnimation());if(A.length&&a.size){let g;for(let m=A.length-1;m>=0;m--){let b=A[m];if(b.element===e){g=b;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,h.errors,l)}return A.length?A.map(g=>g.buildKeyframes()):[uj(e,[],[],[],0,f,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let o=r?.delay;if(o){let s=typeof o=="number"?o:Up(dI(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime,s=i.duration!=null?Up(i.duration):null,a=i.delay!=null?Up(i.delay):null;return s!==0&&t.forEach(l=>{let u=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Oc(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==mn.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=HP);let s=Up(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Oc(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Up(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),Oc(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?dI(i,e.params,e.errors):i;return RP(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=t.style;o.type==mn.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Up(r.delay):0;o&&(e.previousNode.type===mn.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=HP);let s=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((u,d)=>{e.currentQueryIndex=d;let h=e.createSubContext(t.options,u);o&&h.delayNextStep(o),u===e.element&&(l=h.currentTimeline),Oc(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe();let f=h.currentTimeline.currentTime;s=Math.max(s,f)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let d=e.currentTimeline;l&&d.delayNextStep(l);let h=d.currentTime;Oc(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}},HP={},$Q=class n{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=HP,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new VP(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=Up(i.duration)),i.delay!=null&&(r.delay=Up(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=dI(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=HP,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new YQ(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(TGe,"."+this._enterClassName),t=t.replace(MGe,"."+this._leaveClassName);let l=i!=1,u=this._driver.query(this.element,t,l);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&a.length==0&&s.push(G9e(e)),a}},VP=class n{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=xGe,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Gh),this._currentKeyframe.set(e,Gh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=OGe(t,this._globalTimelineStyles);for(let[a,l]of s){let u=dI(l,o,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Gh),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,h)=>{d===cO?t.add(h):d===Gh&&e.add(h)}),i||u.set("offset",l/this.duration),r.push(u)});let o=[...t.values()],s=[...e.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return uj(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},YQ=class extends VP{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=i+e,a=e/s,l=new Map(t[0]);l.set("offset",0),o.push(l);let u=new Map(t[0]);u.set("offset",gce(a)),o.push(u);let d=t.length-1;for(let h=1;h<=d;h++){let f=new Map(t[h]),A=f.get("offset"),g=e+A*i;f.set("offset",gce(g/s)),o.push(f)}i=s,e=0,r="",t=o}return uj(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function gce(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function OGe(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let o of i)e.set(o,Gh)}else for(let[o,s]of r)e.set(o,s)}),e}function mce(n,t,e,i,r,o,s,a,l,u,d,h,f){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:h,errors:f}}var LQ={},QP=class{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return FGe(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,l,u,d){let h=[],f=this.ast.options&&this.ast.options.params||LQ,A=a&&a.params||LQ,g=this.buildStyles(i,A,h),m=l&&l.params||LQ,b=this.buildStyles(r,m,h),S=new Set,F=new Map,R=new Map,B=r==="void",P={params:Bce(m,f),delay:this.ast.options?.delay},L=d?[]:Fce(t,e,this.ast.animation,o,s,g,b,P,u,h),j=0;return L.forEach(G=>{j=Math.max(G.duration+G.delay,j)}),h.length?mce(e,this._triggerName,i,r,B,g,b,[],[],F,R,j,h):(L.forEach(G=>{let Y=G.element,Z=Fc(F,Y,new Set);G.preStyleProps.forEach(xe=>Z.add(xe));let _e=Fc(R,Y,new Set);G.postStyleProps.forEach(xe=>_e.add(xe)),Y!==e&&S.add(Y)}),mce(e,this._triggerName,i,r,B,g,b,L,[...S.values()],F,R,j))}};function FGe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}function Bce(n,t){let e=Ee({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var ZQ=class{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=Bce(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=dI(s,r,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}};function BGe(n,t,e){return new XQ(n,t,e)}var XQ=class{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new ZQ(r.style,o,i))}),vce(this.states,"true","1"),vce(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new QP(t,r,this.states))}),this.fallbackTransition=PGe(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function PGe(n,t,e){let i=[(s,a)=>!0],r={type:mn.Sequence,steps:[],options:null},o={type:mn.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new QP(n,o,t)}function vce(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var kGe=new hI,JQ=class{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let i=[],r=[],o=Oce(this._driver,e,i,r);if(i.length)throw $9e(i);r.length&&void 0,this._animations.set(t,o)}_buildPlayer(t,e,i){let r=t.element,o=Ece(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],o=this._animations.get(t),s,a=new Map;if(o?(s=Fce(this._driver,e,o,Tce,QQ,new Map,new Map,i,kGe,r),s.forEach(d=>{let h=Fc(a,d.element,new Map);d.postStyleProps.forEach(f=>h.set(f,null))})):(r.push(Y9e()),s=[]),r.length)throw Z9e(r);a.forEach((d,h)=>{d.forEach((f,A)=>{d.set(A,this._driver.computeStyle(h,A,Gh))})});let l=s.map(d=>{let h=a.get(d.element);return this._buildPlayer(d,new Map,h)}),u=qg(l);return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw X9e(t);return e}listen(t,e,i,r){let o=oj(e,"","","");return rj(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},_ce="ng-animate-queued",NGe=".ng-animate-queued",UQ="ng-animate-disabled",RGe=".ng-animate-disabled",LGe="ng-star-inserted",UGe=".ng-star-inserted",HGe=[],Pce={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},VGe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ud="__ng_removed",fI=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=jGe(r),i){let o=t,{value:s}=o,a=FA(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},uI="void",HQ=new fI(uI),ej=class{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ru(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw J9e(i,e);if(i==null||i.length==0)throw eGe(e);if(!GGe(i))throw tGe(i,e);let o=Fc(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);let a=Fc(this._engine.statesByElement,t,new Map);return a.has(e)||(Ru(t,OP),Ru(t,OP+"-"+e),a.set(e,HQ)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw nGe(t);return e}trigger(t,e,i,r=!0){let o=this._getTrigger(e),s=new pI(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Ru(t,OP),Ru(t,OP+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),u=new fI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(e,u),l||(l=HQ),!(u.value===uI)&&l.value===u.value){if(!zGe(l.params,u.params)){let m=[],b=o.matchStyles(l.value,l.params,m),S=o.matchStyles(u.value,u.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{o_(t,b),ff(t,S)})}return}let f=Fc(this._engine.playersByElement,t,[]);f.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let A=o.matchTransition(l.value,u.value,t,u.params),g=!1;if(!A){if(!r)return;A=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:A,fromState:l,toState:u,player:s,isFallbackTransition:g}),g||(Ru(t,_ce),s.onStart(()=>{_b(t,_ce)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);let b=this._engine.playersByElement.get(t);if(b){let S=b.indexOf(s);S>=0&&b.splice(S,1)}}),this.players.push(s),f.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,NP,!0);i.forEach(r=>{if(r[Ud])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){let d=this.trigger(t,u,uI,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&qg(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,u=i.get(s)||HQ,d=new fI(uI),h=new pI(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:u,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let o=t[Ud];(!o||o===Pce)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ru(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let l=oj(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,rj(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},tj=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new ej(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let u=i.indexOf(l);i.splice(u+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,i,r){if(PP(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!PP(e))return;let o=e[Ud];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ru(t,UQ)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),_b(t,UQ))}removeNode(t,e,i){if(PP(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Ud]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return PP(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,NP,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,jQ,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qg(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Ud];if(e&&e.setForRemoval){if(t[Ud]=Pce,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(UQ)&&this.markElementAsDisabled(t,!1),this.driver.query(t,RGe,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Ru(r,LGe)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?qg(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw iGe(t)}_flushAnimations(t,e){let i=new hI,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(re=>{d.add(re);let ue=this.driver.query(re,NGe,!0);for(let Fe=0;Fe<ue.length;Fe++)d.add(ue[Fe])});let h=this.bodyNode,f=Array.from(this.statesByElement.keys()),A=bce(f,this.collectedEnterElements),g=new Map,m=0;A.forEach((re,ue)=>{let Fe=Tce+m++;g.set(ue,Fe),re.forEach(Ue=>Ru(Ue,Fe))});let b=[],S=new Set,F=new Set;for(let re=0;re<this.collectedLeaveElements.length;re++){let ue=this.collectedLeaveElements[re],Fe=ue[Ud];Fe&&Fe.setForRemoval&&(b.push(ue),S.add(ue),Fe.hasAnimation?this.driver.query(ue,UGe,!0).forEach(Ue=>S.add(Ue)):F.add(ue))}let R=new Map,B=bce(f,Array.from(S));B.forEach((re,ue)=>{let Fe=QQ+m++;R.set(ue,Fe),re.forEach(Ue=>Ru(Ue,Fe))}),t.push(()=>{A.forEach((re,ue)=>{let Fe=g.get(ue);re.forEach(Ue=>_b(Ue,Fe))}),B.forEach((re,ue)=>{let Fe=R.get(ue);re.forEach(Ue=>_b(Ue,Fe))}),b.forEach(re=>{this.processLeaveNode(re)})});let P=[],L=[];for(let re=this._namespaceList.length-1;re>=0;re--)this._namespaceList[re].drainQueuedTransitions(e).forEach(Fe=>{let Ue=Fe.player,Je=Fe.element;if(P.push(Ue),this.collectedEnterElements.length){let Jt=Je[Ud];if(Jt&&Jt.setForMove){if(Jt.previousTriggersValues&&Jt.previousTriggersValues.has(Fe.triggerName)){let Rt=Jt.previousTriggersValues.get(Fe.triggerName),Sr=this.statesByElement.get(Fe.element);if(Sr&&Sr.has(Fe.triggerName)){let Br=Sr.get(Fe.triggerName);Br.value=Rt,Sr.set(Fe.triggerName,Br)}}Ue.destroy();return}}let xt=!h||!this.driver.containsElement(h,Je),lt=R.get(Je),Le=g.get(Je),it=this._buildInstruction(Fe,i,Le,lt,xt);if(it.errors&&it.errors.length){L.push(it);return}if(xt){Ue.onStart(()=>o_(Je,it.fromStyles)),Ue.onDestroy(()=>ff(Je,it.toStyles)),r.push(Ue);return}if(Fe.isFallbackTransition){Ue.onStart(()=>o_(Je,it.fromStyles)),Ue.onDestroy(()=>ff(Je,it.toStyles)),r.push(Ue);return}let Xn=[];it.timelines.forEach(Jt=>{Jt.stretchStartingKeyframe=!0,this.disabledNodes.has(Jt.element)||Xn.push(Jt)}),it.timelines=Xn,i.append(Je,it.timelines);let Yt={instruction:it,player:Ue,element:Je};s.push(Yt),it.queriedElements.forEach(Jt=>Fc(a,Jt,[]).push(Ue)),it.preStyleProps.forEach((Jt,Rt)=>{if(Jt.size){let Sr=l.get(Rt);Sr||l.set(Rt,Sr=new Set),Jt.forEach((Br,Oo)=>Sr.add(Oo))}}),it.postStyleProps.forEach((Jt,Rt)=>{let Sr=u.get(Rt);Sr||u.set(Rt,Sr=new Set),Jt.forEach((Br,Oo)=>Sr.add(Oo))})});if(L.length){let re=[];L.forEach(ue=>{re.push(rGe(ue.triggerName,ue.errors))}),P.forEach(ue=>ue.destroy()),this.reportError(re)}let j=new Map,G=new Map;s.forEach(re=>{let ue=re.element;i.has(ue)&&(G.set(ue,ue),this._beforeAnimationBuild(re.player.namespaceId,re.instruction,j))}),r.forEach(re=>{let ue=re.element;this._getPreviousPlayers(ue,!1,re.namespaceId,re.triggerName,null).forEach(Ue=>{Fc(j,ue,[]).push(Ue),Ue.destroy()})});let Y=b.filter(re=>Cce(re,l,u)),Z=new Map;wce(Z,this.driver,F,u,Gh).forEach(re=>{Cce(re,l,u)&&Y.push(re)});let xe=new Map;A.forEach((re,ue)=>{wce(xe,this.driver,new Set(re),l,cO)}),Y.forEach(re=>{let ue=Z.get(re),Fe=xe.get(re);Z.set(re,new Map([...ue?.entries()??[],...Fe?.entries()??[]]))});let qe=[],ge=[],me={};s.forEach(re=>{let{element:ue,player:Fe,instruction:Ue}=re;if(i.has(ue)){if(d.has(ue)){Fe.onDestroy(()=>ff(ue,Ue.toStyles)),Fe.disabled=!0,Fe.overrideTotalTime(Ue.totalTime),r.push(Fe);return}let Je=me;if(G.size>1){let lt=ue,Le=[];for(;lt=lt.parentNode;){let it=G.get(lt);if(it){Je=it;break}Le.push(lt)}Le.forEach(it=>G.set(it,Je))}let xt=this._buildAnimation(Fe.namespaceId,Ue,j,o,xe,Z);if(Fe.setRealPlayer(xt),Je===me)qe.push(Fe);else{let lt=this.playersByElement.get(Je);lt&&lt.length&&(Fe.parentPlayer=qg(lt)),r.push(Fe)}}else o_(ue,Ue.fromStyles),Fe.onDestroy(()=>ff(ue,Ue.toStyles)),ge.push(Fe),d.has(ue)&&r.push(Fe)}),ge.forEach(re=>{let ue=o.get(re.element);if(ue&&ue.length){let Fe=qg(ue);re.setRealPlayer(Fe)}}),r.forEach(re=>{re.parentPlayer?re.syncPlayerEvents(re.parentPlayer):re.destroy()});for(let re=0;re<b.length;re++){let ue=b[re],Fe=ue[Ud];if(_b(ue,QQ),Fe&&Fe.hasAnimation)continue;let Ue=[];if(a.size){let xt=a.get(ue);xt&&xt.length&&Ue.push(...xt);let lt=this.driver.query(ue,jQ,!0);for(let Le=0;Le<lt.length;Le++){let it=a.get(lt[Le]);it&&it.length&&Ue.push(...it)}}let Je=Ue.filter(xt=>!xt.destroyed);Je.length?WGe(this,ue,Je):this.processLeaveNode(ue)}return b.length=0,qe.forEach(re=>{this.players.push(re),re.onDone(()=>{re.destroy();let ue=this.players.indexOf(re);this.players.splice(ue,1)}),re.play()}),qe}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==uI;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let u=l.element,d=u!==o,h=Fc(i,u,[]);this._getPreviousPlayers(u,d,s,a,e.toState).forEach(A=>{let g=A.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),A.destroy(),h.push(A)})}o_(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){let a=e.triggerName,l=e.element,u=[],d=new Set,h=new Set,f=e.timelines.map(g=>{let m=g.element;d.add(m);let b=m[Ud];if(b&&b.removedBeforeQueried)return new og(g.duration,g.delay);let S=m!==l,F=KGe((i.get(m)||HGe).map(j=>j.getRealPlayer())).filter(j=>{let G=j;return G.element?G.element===m:!1}),R=o.get(m),B=s.get(m),P=Ece(this._normalizer,g.keyframes,R,B),L=this._buildPlayer(g,P,F);if(g.subTimeline&&r&&h.add(m),S){let j=new pI(t,a,m);j.setRealPlayer(L),u.push(j)}return L});u.forEach(g=>{Fc(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>QGe(this.playersByQueriedElement,g.element,g))}),d.forEach(g=>Ru(g,fce));let A=qg(f);return A.onDestroy(()=>{d.forEach(g=>_b(g,fce)),ff(l,e.toStyles)}),h.forEach(g=>{Fc(r,g,[]).push(A)}),A}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new og(t.duration,t.delay)}},pI=class{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new og,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>rj(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Fc(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function QGe(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function jGe(n){return n??null}function PP(n){return n&&n.nodeType===1}function GGe(n){return n=="start"||n=="done"}function yce(n,t){let e=n.style.display;return n.style.display=t??"none",e}function wce(n,t,e,i,r){let o=[];e.forEach(l=>o.push(yce(l)));let s=[];i.forEach((l,u)=>{let d=new Map;l.forEach(h=>{let f=t.computeStyle(u,h,r);d.set(h,f),(!f||f.length==0)&&(u[Ud]=VGe,s.push(u))}),n.set(u,d)});let a=0;return e.forEach(l=>yce(l,o[a++])),s}function bce(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,r=new Set(t),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;let u=a.parentNode;return e.has(u)?l=u:r.has(u)?l=i:l=s(u),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==i&&e.get(l).push(a)}),e}function Ru(n,t){n.classList?.add(t)}function _b(n,t){n.classList?.remove(t)}function WGe(n,t,e){qg(e).onDone(()=>n.processLeaveNode(t))}function KGe(n){let t=[];return kce(n,t),t}function kce(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof tS?kce(i.players,t):t.push(i)}}function zGe(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function Cce(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}var yb=class{constructor(t,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new tj(t.body,e,i),this._timelineEngine=new JQ(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){let s=t+"-"+r,a=this._triggerCache[s];if(!a){let l=[],u=[],d=Oce(this._driver,o,l,u);if(l.length)throw z9e(r,l);u.length&&void 0,a=BGe(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[o,s]=dce(i),a=r;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if(i.charAt(0)=="@"){let[s,a]=dce(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function qGe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=VQ(t[0]),t.length>1&&(i=VQ(t[t.length-1]))):t instanceof Map&&(e=VQ(t)),e||i?new nj(n,e,i):null}var nj=class n{static{this.initialStylesByElement=new WeakMap}constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let r=n.initialStylesByElement.get(t);r||n.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ff(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ff(this._element,this._initialStyles),this._endStyles&&(ff(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(o_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(o_(this._element,this._endStyles),this._endStyles=null),ff(this._element,this._initialStyles),this._state=3)}};function VQ(n){let t=null;return n.forEach((e,i)=>{$Ge(i)&&(t=t||new Map,t.set(i,e))}),t}function $Ge(n){return n==="display"||n==="position"}var jP=class{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:cj(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},GP=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Sce(t,e)}getParentElement(t){return sj(t)}query(t,e,i){return xce(t,e,i)}computeStyle(t,e,i){return cj(t,e)}animate(t,e,i,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};o&&(l.easing=o);let u=new Map,d=s.filter(A=>A instanceof jP);AGe(i,r)&&d.forEach(A=>{A.currentSnapshot.forEach((g,m)=>u.set(m,g))});let h=hGe(e).map(A=>new Map(A));h=gGe(t,h,u);let f=qGe(t,h);return new jP(t,h,l,f)}};var kP="@",Nce="@.disabled",WP=class{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==kP&&e==Nce?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},ij=class extends WP{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==kP?e.charAt(1)=="."&&e==Nce?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if(e.charAt(0)==kP){let r=YGe(t),o=e.slice(1),s="";return o.charAt(0)!=kP&&([o,s]=ZGe(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(t,e,i)}};function YGe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function ZGe(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var KP=class{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{let s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(t,e){let i="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let u=this._rendererCache,d=u.get(r);if(!d){let h=()=>u.delete(r);d=new WP(i,r,this.engine,h),u.set(r,d)}return d}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,t,u.name,u)};return e.data.animation.forEach(a),new ij(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var JGe=(()=>{class n extends yb{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(Te(rn),Te(s_),Te(a_))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac})}}return n})();function eWe(){return new LP}function tWe(n,t,e){return new KP(n,t,e)}var Lce=[{provide:a_,useFactory:eWe},{provide:yb,useClass:JGe},{provide:GA,useFactory:tWe,deps:[vM,yb,Pt]}],Rce=[{provide:s_,useFactory:()=>new GP},{provide:lE,useValue:"BrowserAnimations"},...Lce],nWe=[{provide:s_,useClass:aj},{provide:lE,useValue:"NoopAnimations"},...Lce],Uce=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?nWe:Rce}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({providers:Rce,imports:[yM]})}}return n})();var Hp=class extends Error{},zP=class extends Hp{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}},qP=class extends Hp{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}},$P=class extends Hp{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}},Hd=class extends Hp{},wb=class extends Hp{constructor(t){super(`Invalid unit ${t}`)}},no=class extends Hp{},Vd=class extends Hp{constructor(){super("Zone is an abstract class")}};var pt="numeric",Qd="short",Bc="long",$g={year:pt,month:pt,day:pt},AI={year:pt,month:Qd,day:pt},dj={year:pt,month:Qd,day:pt,weekday:Qd},gI={year:pt,month:Bc,day:pt},mI={year:pt,month:Bc,day:pt,weekday:Bc},vI={hour:pt,minute:pt},_I={hour:pt,minute:pt,second:pt},yI={hour:pt,minute:pt,second:pt,timeZoneName:Qd},wI={hour:pt,minute:pt,second:pt,timeZoneName:Bc},bI={hour:pt,minute:pt,hourCycle:"h23"},CI={hour:pt,minute:pt,second:pt,hourCycle:"h23"},EI={hour:pt,minute:pt,second:pt,hourCycle:"h23",timeZoneName:Qd},SI={hour:pt,minute:pt,second:pt,hourCycle:"h23",timeZoneName:Bc},xI={year:pt,month:pt,day:pt,hour:pt,minute:pt},II={year:pt,month:pt,day:pt,hour:pt,minute:pt,second:pt},TI={year:pt,month:Qd,day:pt,hour:pt,minute:pt},DI={year:pt,month:Qd,day:pt,hour:pt,minute:pt,second:pt},hj={year:pt,month:Qd,day:pt,weekday:Qd,hour:pt,minute:pt},MI={year:pt,month:Bc,day:pt,hour:pt,minute:pt,timeZoneName:Qd},OI={year:pt,month:Bc,day:pt,hour:pt,minute:pt,second:pt,timeZoneName:Qd},FI={year:pt,month:Bc,day:pt,weekday:Bc,hour:pt,minute:pt,timeZoneName:Bc},BI={year:pt,month:Bc,day:pt,weekday:Bc,hour:pt,minute:pt,second:pt,timeZoneName:Bc};var Pc=class{get type(){throw new Vd}get name(){throw new Vd}get ianaName(){return this.name}get isUniversal(){throw new Vd}offsetName(t,e){throw new Vd}formatOffset(t,e){throw new Vd}offset(t){throw new Vd}equals(t){throw new Vd}get isValid(){throw new Vd}};var fj=null,l_=class n extends Pc{static get instance(){return fj===null&&(fj=new n),fj}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return ZP(t,e,i)}formatOffset(t,e){return Yg(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}};var JP={};function iWe(n){return JP[n]||(JP[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),JP[n]}var rWe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function oWe(n,t){let e=n.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(e),[,r,o,s,a,l,u,d]=i;return[s,r,o,a,l,u,d]}function sWe(n,t){let e=n.formatToParts(t),i=[];for(let r=0;r<e.length;r++){let{type:o,value:s}=e[r],a=rWe[o];o==="era"?i[a]=s:Ut(a)||(i[a]=parseInt(s,10))}return i}var XP={},Al=class n extends Pc{static create(t){return XP[t]||(XP[t]=new n(t)),XP[t]}static resetCache(){XP={},JP={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=n.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return ZP(t,e,i,this.name)}formatOffset(t,e){return Yg(this.offset(t),e)}offset(t){let e=new Date(t);if(isNaN(e))return NaN;let i=iWe(this.name),[r,o,s,a,l,u,d]=i.formatToParts?sWe(i,e):oWe(i,e);a==="BC"&&(r=-Math.abs(r)+1);let f=bb({year:r,month:o,day:s,hour:l===24?0:l,minute:u,second:d,millisecond:0}),A=+e,g=A%1e3;return A-=g>=0?g:1e3+g,(f-A)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}};var Hce={};function aWe(n,t={}){let e=JSON.stringify([n,t]),i=Hce[e];return i||(i=new Intl.ListFormat(n,t),Hce[e]=i),i}var pj={};function Aj(n,t={}){let e=JSON.stringify([n,t]),i=pj[e];return i||(i=new Intl.DateTimeFormat(n,t),pj[e]=i),i}var gj={};function lWe(n,t={}){let e=JSON.stringify([n,t]),i=gj[e];return i||(i=new Intl.NumberFormat(n,t),gj[e]=i),i}var mj={};function cWe(n,t={}){let s=t,{base:e}=s,i=FA(s,["base"]),r=JSON.stringify([n,i]),o=mj[r];return o||(o=new Intl.RelativeTimeFormat(n,t),mj[r]=o),o}var PI=null;function uWe(){return PI||(PI=new Intl.DateTimeFormat().resolvedOptions().locale,PI)}var Vce={};function dWe(n){let t=Vce[n];if(!t){let e=new Intl.Locale(n);t="getWeekInfo"in e?e.getWeekInfo():e.weekInfo,Vce[n]=t}return t}function hWe(n){let t=n.indexOf("-x-");t!==-1&&(n=n.substring(0,t));let e=n.indexOf("-u-");if(e===-1)return[n];{let i,r;try{i=Aj(n).resolvedOptions(),r=n}catch{let l=n.substring(0,e);i=Aj(l).resolvedOptions(),r=l}let{numberingSystem:o,calendar:s}=i;return[r,o,s]}}function fWe(n,t,e){return(e||t)&&(n.includes("-u-")||(n+="-u"),e&&(n+=`-ca-${e}`),t&&(n+=`-nu-${t}`)),n}function pWe(n){let t=[];for(let e=1;e<=12;e++){let i=Zn.utc(2009,e,1);t.push(n(i))}return t}function AWe(n){let t=[];for(let e=1;e<=7;e++){let i=Zn.utc(2016,11,13+e);t.push(n(i))}return t}function ek(n,t,e,i){let r=n.listingMode();return r==="error"?null:r==="en"?e(t):i(t)}function gWe(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var vj=class{constructor(t,e,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;let a=i,{padTo:r,floor:o}=a,s=FA(a,["padTo","floor"]);if(!e||Object.keys(s).length>0){let l=Ee({useGrouping:!1},i);i.padTo>0&&(l.minimumIntegerDigits=i.padTo),this.inf=lWe(t,l)}}format(t){if(this.inf){let e=this.floor?Math.floor(t):t;return this.inf.format(e)}else{let e=this.floor?Math.floor(t):Cb(t,3);return qr(e,this.padTo)}}},_j=class{constructor(t,e,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){let s=-1*(t.offset/60),a=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;t.offset!==0&&Al.create(a).valid?(r=a,this.dt=t):(r="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,r=t.zone.name):(r="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);let o=Ee({},this.opts);o.timeZone=o.timeZone||r,this.dtf=Aj(e,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(e=>{if(e.type==="timeZoneName"){let i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return vt(Ee({},e),{value:i})}else return e}):t}resolvedOptions(){return this.dtf.resolvedOptions()}},yj=class{constructor(t,e,i){this.opts=Ee({style:"long"},i),!e&&tk()&&(this.rtf=cWe(t,i))}format(t,e){return this.rtf?this.rtf.format(t,e):Qce(e,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}},mWe={firstDay:1,minimalDays:4,weekend:[6,7]},vi=class n{static fromOpts(t){return n.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,e,i,r,o=!1){let s=t||mi.defaultLocale,a=s||(o?"en-US":uWe()),l=e||mi.defaultNumberingSystem,u=i||mi.defaultOutputCalendar,d=kI(r)||mi.defaultWeekSettings;return new n(a,l,u,d,s)}static resetCache(){PI=null,pj={},gj={},mj={}}static fromObject({locale:t,numberingSystem:e,outputCalendar:i,weekSettings:r}={}){return n.create(t,e,i,r)}constructor(t,e,i,r,o){let[s,a,l]=hWe(t);this.locale=s,this.numberingSystem=e||a||null,this.outputCalendar=i||l||null,this.weekSettings=r,this.intl=fWe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=gWe(this)),this.fastNumbersCached}listingMode(){let t=this.isEnglish(),e=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&e?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:n.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,kI(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone(vt(Ee({},t),{defaultToEN:!0}))}redefaultToSystem(t={}){return this.clone(vt(Ee({},t),{defaultToEN:!1}))}months(t,e=!1){return ek(this,t,wj,()=>{let i=e?{month:t,day:"numeric"}:{month:t},r=e?"format":"standalone";return this.monthsCache[r][t]||(this.monthsCache[r][t]=pWe(o=>this.extract(o,i,"month"))),this.monthsCache[r][t]})}weekdays(t,e=!1){return ek(this,t,bj,()=>{let i=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},r=e?"format":"standalone";return this.weekdaysCache[r][t]||(this.weekdaysCache[r][t]=AWe(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[r][t]})}meridiems(){return ek(this,void 0,()=>Cj,()=>{if(!this.meridiemCache){let t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Zn.utc(2016,11,13,9),Zn.utc(2016,11,13,19)].map(e=>this.extract(e,t,"dayperiod"))}return this.meridiemCache})}eras(t){return ek(this,t,Ej,()=>{let e={era:t};return this.eraCache[t]||(this.eraCache[t]=[Zn.utc(-40,1,1),Zn.utc(2017,1,1)].map(i=>this.extract(i,e,"era"))),this.eraCache[t]})}extract(t,e,i){let r=this.dtFormatter(t,e),o=r.formatToParts(),s=o.find(a=>a.type.toLowerCase()===i);return s?s.value:null}numberFormatter(t={}){return new vj(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new _j(t,this.intl,e)}relFormatter(t={}){return new yj(this.intl,this.isEnglish(),t)}listFormatter(t={}){return aWe(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:nk()?dWe(this.locale):mWe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}};var xj=null,ia=class n extends Pc{static get utcInstance(){return xj===null&&(xj=new n(0)),xj}static instance(t){return t===0?n.utcInstance:new n(t)}static parseSpecifier(t){if(t){let e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new n(c_(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Yg(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Yg(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return Yg(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}};var NI=class extends Pc{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function jd(n,t){let e;if(Ut(n)||n===null)return t;if(n instanceof Pc)return n;if(jce(n)){let i=n.toLowerCase();return i==="default"?t:i==="local"||i==="system"?l_.instance:i==="utc"||i==="gmt"?ia.utcInstance:ia.parseSpecifier(i)||Al.create(n)}else return Gd(n)?ia.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new NI(n)}var Ij={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Gce={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},vWe=Ij.hanidec.replace(/[\[|\]]/g,"").split("");function Wce(n){let t=parseInt(n,10);if(isNaN(t)){t="";for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(n[e].search(Ij.hanidec)!==-1)t+=vWe.indexOf(n[e]);else for(let r in Gce){let[o,s]=Gce[r];i>=o&&i<=s&&(t+=i-o)}}return parseInt(t,10)}else return t}var Eb={};function Kce(){Eb={}}function Lu({numberingSystem:n},t=""){let e=n||"latn";return Eb[e]||(Eb[e]={}),Eb[e][t]||(Eb[e][t]=new RegExp(`${Ij[e]}${t}`)),Eb[e][t]}var zce=()=>Date.now(),qce="system",$ce=null,Yce=null,Zce=null,Xce=60,Jce,eue=null,mi=class{static get now(){return zce}static set now(t){zce=t}static set defaultZone(t){qce=t}static get defaultZone(){return jd(qce,l_.instance)}static get defaultLocale(){return $ce}static set defaultLocale(t){$ce=t}static get defaultNumberingSystem(){return Yce}static set defaultNumberingSystem(t){Yce=t}static get defaultOutputCalendar(){return Zce}static set defaultOutputCalendar(t){Zce=t}static get defaultWeekSettings(){return eue}static set defaultWeekSettings(t){eue=kI(t)}static get twoDigitCutoffYear(){return Xce}static set twoDigitCutoffYear(t){Xce=t%100}static get throwOnInvalid(){return Jce}static set throwOnInvalid(t){Jce=t}static resetCaches(){vi.resetCache(),Al.resetCache(),Zn.resetCache(),Kce()}};var ra=class{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var tue=[0,31,59,90,120,151,181,212,243,273,304,334],nue=[0,31,60,91,121,152,182,213,244,274,305,335];function Uu(n,t){return new ra("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${n}, which is invalid`)}function ik(n,t,e){let i=new Date(Date.UTC(n,t-1,e));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);let r=i.getUTCDay();return r===0?7:r}function iue(n,t,e){return e+(d_(n)?nue:tue)[t-1]}function rue(n,t){let e=d_(n)?nue:tue,i=e.findIndex(o=>o<t),r=t-e[i];return{month:i+1,day:r}}function rk(n,t){return(n-t+7)%7+1}function RI(n,t=4,e=1){let{year:i,month:r,day:o}=n,s=iue(i,r,o),a=rk(ik(i,r,o),e),l=Math.floor((s-a+14-t)/7),u;return l<1?(u=i-1,l=u_(u,t,e)):l>u_(i,t,e)?(u=i+1,l=1):u=i,Ee({weekYear:u,weekNumber:l,weekday:a},UI(n))}function Tj(n,t=4,e=1){let{weekYear:i,weekNumber:r,weekday:o}=n,s=rk(ik(i,1,t),e),a=Zg(i),l=r*7+o-s-7+t,u;l<1?(u=i-1,l+=Zg(u)):l>a?(u=i+1,l-=Zg(i)):u=i;let{month:d,day:h}=rue(u,l);return Ee({year:u,month:d,day:h},UI(n))}function ok(n){let{year:t,month:e,day:i}=n,r=iue(t,e,i);return Ee({year:t,ordinal:r},UI(n))}function Dj(n){let{year:t,ordinal:e}=n,{month:i,day:r}=rue(t,e);return Ee({year:t,month:i,day:r},UI(n))}function Mj(n,t){if(!Ut(n.localWeekday)||!Ut(n.localWeekNumber)||!Ut(n.localWeekYear)){if(!Ut(n.weekday)||!Ut(n.weekNumber)||!Ut(n.weekYear))throw new Hd("Cannot mix locale-based week fields with ISO-based week fields");return Ut(n.localWeekday)||(n.weekday=n.localWeekday),Ut(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),Ut(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function oue(n,t=4,e=1){let i=LI(n.weekYear),r=kc(n.weekNumber,1,u_(n.weekYear,t,e)),o=kc(n.weekday,1,7);return i?r?o?!1:Uu("weekday",n.weekday):Uu("week",n.weekNumber):Uu("weekYear",n.weekYear)}function sue(n){let t=LI(n.year),e=kc(n.ordinal,1,Zg(n.year));return t?e?!1:Uu("ordinal",n.ordinal):Uu("year",n.year)}function Oj(n){let t=LI(n.year),e=kc(n.month,1,12),i=kc(n.day,1,Sb(n.year,n.month));return t?e?i?!1:Uu("day",n.day):Uu("month",n.month):Uu("year",n.year)}function Fj(n){let{hour:t,minute:e,second:i,millisecond:r}=n,o=kc(t,0,23)||t===24&&e===0&&i===0&&r===0,s=kc(e,0,59),a=kc(i,0,59),l=kc(r,0,999);return o?s?a?l?!1:Uu("millisecond",r):Uu("second",i):Uu("minute",e):Uu("hour",t)}function Ut(n){return typeof n>"u"}function Gd(n){return typeof n=="number"}function LI(n){return typeof n=="number"&&n%1===0}function jce(n){return typeof n=="string"}function lue(n){return Object.prototype.toString.call(n)==="[object Date]"}function tk(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function nk(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function cue(n){return Array.isArray(n)?n:[n]}function Bj(n,t,e){if(n.length!==0)return n.reduce((i,r)=>{let o=[t(r),r];return i&&e(i[0],o[0])===i[0]?i:o},null)[1]}function uue(n,t){return t.reduce((e,i)=>(e[i]=n[i],e),{})}function Xg(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function kI(n){if(n==null)return null;if(typeof n!="object")throw new no("Week settings must be an object");if(!kc(n.firstDay,1,7)||!kc(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(t=>!kc(t,1,7)))throw new no("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function kc(n,t,e){return LI(n)&&n>=t&&n<=e}function _We(n,t){return n-t*Math.floor(n/t)}function qr(n,t=2){let e=n<0,i;return e?i="-"+(""+-n).padStart(t,"0"):i=(""+n).padStart(t,"0"),i}function Vp(n){if(!(Ut(n)||n===null||n===""))return parseInt(n,10)}function Jg(n){if(!(Ut(n)||n===null||n===""))return parseFloat(n)}function HI(n){if(!(Ut(n)||n===null||n==="")){let t=parseFloat("0."+n)*1e3;return Math.floor(t)}}function Cb(n,t,e=!1){let i=10**t;return(e?Math.trunc:Math.round)(n*i)/i}function d_(n){return n%4===0&&(n%100!==0||n%400===0)}function Zg(n){return d_(n)?366:365}function Sb(n,t){let e=_We(t-1,12)+1,i=n+(t-e)/12;return e===2?d_(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function bb(n){let t=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(t=new Date(t),t.setUTCFullYear(n.year,n.month-1,n.day)),+t}function aue(n,t,e){return-rk(ik(n,1,t),e)+t-1}function u_(n,t=4,e=1){let i=aue(n,t,e),r=aue(n+1,t,e);return(Zg(n)-i+r)/7}function VI(n){return n>99?n:n>mi.twoDigitCutoffYear?1900+n:2e3+n}function ZP(n,t,e,i=null){let r=new Date(n),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(o.timeZone=i);let s=Ee({timeZoneName:t},o),a=new Intl.DateTimeFormat(e,s).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function c_(n,t){let e=parseInt(n,10);Number.isNaN(e)&&(e=0);let i=parseInt(t,10)||0,r=e<0||Object.is(e,-0)?-i:i;return e*60+r}function Pj(n){let t=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(t))throw new no(`Invalid unit value ${n}`);return t}function xb(n,t){let e={};for(let i in n)if(Xg(n,i)){let r=n[i];if(r==null)continue;e[t(i)]=Pj(r)}return e}function Yg(n,t){let e=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),r=n>=0?"+":"-";switch(t){case"short":return`${r}${qr(e,2)}:${qr(i,2)}`;case"narrow":return`${r}${e}${i>0?`:${i}`:""}`;case"techie":return`${r}${qr(e,2)}${qr(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function UI(n){return uue(n,["hour","minute","second","millisecond"])}var yWe=["January","February","March","April","May","June","July","August","September","October","November","December"],kj=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wWe=["J","F","M","A","M","J","J","A","S","O","N","D"];function wj(n){switch(n){case"narrow":return[...wWe];case"short":return[...kj];case"long":return[...yWe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Nj=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Rj=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],bWe=["M","T","W","T","F","S","S"];function bj(n){switch(n){case"narrow":return[...bWe];case"short":return[...Rj];case"long":return[...Nj];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Cj=["AM","PM"],CWe=["Before Christ","Anno Domini"],EWe=["BC","AD"],SWe=["B","A"];function Ej(n){switch(n){case"narrow":return[...SWe];case"short":return[...EWe];case"long":return[...CWe];default:return null}}function due(n){return Cj[n.hour<12?0:1]}function hue(n,t){return bj(t)[n.weekday-1]}function fue(n,t){return wj(t)[n.month-1]}function pue(n,t){return Ej(t)[n.year<0?0:1]}function Qce(n,t,e="always",i=!1){let r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(n)===-1;if(e==="auto"&&o){let h=n==="days";switch(t){case 1:return h?"tomorrow":`next ${r[n][0]}`;case-1:return h?"yesterday":`last ${r[n][0]}`;case 0:return h?"today":`this ${r[n][0]}`;default:}}let s=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,u=r[n],d=i?l?u[1]:u[2]||u[1]:l?r[n][0]:n;return s?`${a} ${d} ago`:`in ${a} ${d}`}function Aue(n,t){let e="";for(let i of n)i.literal?e+=i.val:e+=t(i.val);return e}var xWe={D:$g,DD:AI,DDD:gI,DDDD:mI,t:vI,tt:_I,ttt:yI,tttt:wI,T:bI,TT:CI,TTT:EI,TTTT:SI,f:xI,ff:TI,fff:MI,ffff:FI,F:II,FF:DI,FFF:OI,FFFF:BI},oa=class n{static create(t,e={}){return new n(t,e)}static parseFormat(t){let e=null,i="",r=!1,o=[];for(let s=0;s<t.length;s++){let a=t.charAt(s);a==="'"?(i.length>0&&o.push({literal:r||/^\s+$/.test(i),val:i}),e=null,i="",r=!r):r||a===e?i+=a:(i.length>0&&o.push({literal:/^\s+$/.test(i),val:i}),i=a,e=a)}return i.length>0&&o.push({literal:r||/^\s+$/.test(i),val:i}),o}static macroTokenToFormatOpts(t){return xWe[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,Ee(Ee({},this.opts),e)).format()}dtFormatter(t,e={}){return this.loc.dtFormatter(t,Ee(Ee({},this.opts),e))}formatDateTime(t,e){return this.dtFormatter(t,e).format()}formatDateTimeParts(t,e){return this.dtFormatter(t,e).formatToParts()}formatInterval(t,e){return this.dtFormatter(t.start,e).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,e){return this.dtFormatter(t,e).resolvedOptions()}num(t,e=0){if(this.opts.forceSimple)return qr(t,e);let i=Ee({},this.opts);return e>0&&(i.padTo=e),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,e){let i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(A,g)=>this.loc.extract(t,A,g),s=A=>t.isOffsetFixed&&t.offset===0&&A.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,A.format):"",a=()=>i?due(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(A,g)=>i?fue(t,A):o(g?{month:A}:{month:A,day:"numeric"},"month"),u=(A,g)=>i?hue(t,A):o(g?{weekday:A}:{weekday:A,month:"long",day:"numeric"},"weekday"),d=A=>{let g=n.macroTokenToFormatOpts(A);return g?this.formatWithSystemDefault(t,g):A},h=A=>i?pue(t,A):o({era:A},"era"),f=A=>{switch(A){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return r?o({day:"numeric"},"day"):this.num(t.day);case"dd":return r?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return r?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?o({month:"numeric"},"month"):this.num(t.month);case"MM":return r?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?o({year:"numeric"},"year"):this.num(t.year);case"yy":return r?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return r?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return r?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return d(A)}};return Aue(n.parseFormat(e),f)}formatDurationFromString(t,e){let i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>u=>{let d=i(u);return d?this.num(l.get(d),u.length):u},o=n.parseFormat(e),s=o.reduce((l,{literal:u,val:d})=>u?l:l.concat(d),[]),a=t.shiftTo(...s.map(i).filter(l=>l));return Aue(o,r(a))}};var mue=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Tb(...n){let t=n.reduce((e,i)=>e+i.source,"");return RegExp(`^${t}$`)}function Db(...n){return t=>n.reduce(([e,i,r],o)=>{let[s,a,l]=o(t,r);return[Ee(Ee({},e),s),a||i,l]},[{},null,1]).slice(0,2)}function Mb(n,...t){if(n==null)return[null,null];for(let[e,i]of t){let r=e.exec(n);if(r)return i(r)}return[null,null]}function vue(...n){return(t,e)=>{let i={},r;for(r=0;r<n.length;r++)i[n[r]]=Vp(t[e+r]);return[i,null,e+r]}}var _ue=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,IWe=`(?:${_ue.source}?(?:\\[(${mue.source})\\])?)?`,Lj=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,yue=RegExp(`${Lj.source}${IWe}`),Uj=RegExp(`(?:T${yue.source})?`),TWe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,DWe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,MWe=/(\d{4})-?(\d{3})/,OWe=vue("weekYear","weekNumber","weekDay"),FWe=vue("year","ordinal"),BWe=/(\d{4})-(\d\d)-(\d\d)/,wue=RegExp(`${Lj.source} ?(?:${_ue.source}|(${mue.source}))?`),PWe=RegExp(`(?: ${wue.source})?`);function Ib(n,t,e){let i=n[t];return Ut(i)?e:Vp(i)}function kWe(n,t){return[{year:Ib(n,t),month:Ib(n,t+1,1),day:Ib(n,t+2,1)},null,t+3]}function Ob(n,t){return[{hours:Ib(n,t,0),minutes:Ib(n,t+1,0),seconds:Ib(n,t+2,0),milliseconds:HI(n[t+3])},null,t+4]}function QI(n,t){let e=!n[t]&&!n[t+1],i=c_(n[t+1],n[t+2]),r=e?null:ia.instance(i);return[{},r,t+3]}function jI(n,t){let e=n[t]?Al.create(n[t]):null;return[{},e,t+1]}var NWe=RegExp(`^T?${Lj.source}$`),RWe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function LWe(n){let[t,e,i,r,o,s,a,l,u]=n,d=t[0]==="-",h=l&&l[0]==="-",f=(A,g=!1)=>A!==void 0&&(g||A&&d)?-A:A;return[{years:f(Jg(e)),months:f(Jg(i)),weeks:f(Jg(r)),days:f(Jg(o)),hours:f(Jg(s)),minutes:f(Jg(a)),seconds:f(Jg(l),l==="-0"),milliseconds:f(HI(u),h)}]}var UWe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Hj(n,t,e,i,r,o,s){let a={year:t.length===2?VI(Vp(t)):Vp(t),month:kj.indexOf(e)+1,day:Vp(i),hour:Vp(r),minute:Vp(o)};return s&&(a.second=Vp(s)),n&&(a.weekday=n.length>3?Nj.indexOf(n)+1:Rj.indexOf(n)+1),a}var HWe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function VWe(n){let[,t,e,i,r,o,s,a,l,u,d,h]=n,f=Hj(t,r,i,e,o,s,a),A;return l?A=UWe[l]:u?A=0:A=c_(d,h),[f,new ia(A)]}function QWe(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var jWe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,GWe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,WWe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function gue(n){let[,t,e,i,r,o,s,a]=n;return[Hj(t,r,i,e,o,s,a),ia.utcInstance]}function KWe(n){let[,t,e,i,r,o,s,a]=n;return[Hj(t,a,e,i,r,o,s),ia.utcInstance]}var zWe=Tb(TWe,Uj),qWe=Tb(DWe,Uj),$We=Tb(MWe,Uj),YWe=Tb(yue),bue=Db(kWe,Ob,QI,jI),ZWe=Db(OWe,Ob,QI,jI),XWe=Db(FWe,Ob,QI,jI),JWe=Db(Ob,QI,jI);function Cue(n){return Mb(n,[zWe,bue],[qWe,ZWe],[$We,XWe],[YWe,JWe])}function Eue(n){return Mb(QWe(n),[HWe,VWe])}function Sue(n){return Mb(n,[jWe,gue],[GWe,gue],[WWe,KWe])}function xue(n){return Mb(n,[RWe,LWe])}var eKe=Db(Ob);function Iue(n){return Mb(n,[NWe,eKe])}var tKe=Tb(BWe,PWe),nKe=Tb(wue),iKe=Db(Ob,QI,jI);function Tue(n){return Mb(n,[tKe,bue],[nKe,iKe])}var Due="Invalid Duration",Oue={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},rKe=Ee({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},Oue),Hu=146097/400,Fb=146097/4800,oKe=Ee({years:{quarters:4,months:12,weeks:Hu/7,days:Hu,hours:Hu*24,minutes:Hu*24*60,seconds:Hu*24*60*60,milliseconds:Hu*24*60*60*1e3},quarters:{months:3,weeks:Hu/28,days:Hu/4,hours:Hu*24/4,minutes:Hu*24*60/4,seconds:Hu*24*60*60/4,milliseconds:Hu*24*60*60*1e3/4},months:{weeks:Fb/7,days:Fb,hours:Fb*24,minutes:Fb*24*60,seconds:Fb*24*60*60,milliseconds:Fb*24*60*60*1e3}},Oue),h_=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],sKe=h_.slice(0).reverse();function em(n,t,e=!1){let i={values:e?t.values:Ee(Ee({},n.values),t.values||{}),loc:n.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||n.conversionAccuracy,matrix:t.matrix||n.matrix};return new io(i)}function Fue(n,t){let e=t.milliseconds??0;for(let i of sKe.slice(1))t[i]&&(e+=t[i]*n[i].milliseconds);return e}function Mue(n,t){let e=Fue(n,t)<0?-1:1;h_.reduceRight((i,r)=>{if(Ut(t[r]))return i;if(i){let o=t[i]*e,s=n[r][i],a=Math.floor(o/s);t[r]+=a*e,t[i]-=a*s*e}return r},null),h_.reduce((i,r)=>{if(Ut(t[r]))return i;if(i){let o=t[i]%1;t[i]-=o,t[r]+=o*n[i][r]}return r},null)}function aKe(n){let t={};for(let[e,i]of Object.entries(n))i!==0&&(t[e]=i);return t}var io=class n{constructor(t){let e=t.conversionAccuracy==="longterm"||!1,i=e?oKe:rKe;t.matrix&&(i=t.matrix),this.values=t.values,this.loc=t.loc||vi.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(t,e){return n.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(t==null||typeof t!="object")throw new no(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new n({values:xb(t,n.normalizeUnit),loc:vi.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(t){if(Gd(t))return n.fromMillis(t);if(n.isDuration(t))return t;if(typeof t=="object")return n.fromObject(t);throw new no(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,e){let[i]=xue(t);return i?n.fromObject(i,e):n.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){let[i]=Iue(t);return i?n.fromObject(i,e):n.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new no("need to specify a reason the Duration is invalid");let i=t instanceof ra?t:new ra(t,e);if(mi.throwOnInvalid)throw new $P(i);return new n({invalid:i})}static normalizeUnit(t){let e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!e)throw new wb(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){let i=vt(Ee({},e),{floor:e.round!==!1&&e.floor!==!1});return this.isValid?oa.create(this.loc,i).formatDurationFromString(this,t):Due}toHuman(t={}){if(!this.isValid)return Due;let e=h_.map(i=>{let r=this.values[i];return Ut(r)?null:this.loc.numberFormatter(vt(Ee({style:"unit",unitDisplay:"long"},t),{unit:i.slice(0,-1)})).format(r)}).filter(i=>i);return this.loc.listFormatter(Ee({type:"conjunction",style:t.listStyle||"narrow"},t)).format(e)}toObject(){return this.isValid?Ee({},this.values):{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=Cb(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;let e=this.toMillis();return e<0||e>=864e5?null:(t=vt(Ee({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},t),{includeOffset:!1}),Zn.fromMillis(e,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Fue(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;let e=n.fromDurationLike(t),i={};for(let r of h_)(Xg(e.values,r)||Xg(this.values,r))&&(i[r]=e.get(r)+this.get(r));return em(this,{values:i},!0)}minus(t){if(!this.isValid)return this;let e=n.fromDurationLike(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;let e={};for(let i of Object.keys(this.values))e[i]=Pj(t(this.values[i],i));return em(this,{values:e},!0)}get(t){return this[n.normalizeUnit(t)]}set(t){if(!this.isValid)return this;let e=Ee(Ee({},this.values),xb(t,n.normalizeUnit));return em(this,{values:e})}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:i,matrix:r}={}){let s={loc:this.loc.clone({locale:t,numberingSystem:e}),matrix:r,conversionAccuracy:i};return em(this,s)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;let t=this.toObject();return Mue(this.matrix,t),em(this,{values:t},!0)}rescale(){if(!this.isValid)return this;let t=aKe(this.normalize().shiftToAll().toObject());return em(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(s=>n.normalizeUnit(s));let e={},i={},r=this.toObject(),o;for(let s of h_)if(t.indexOf(s)>=0){o=s;let a=0;for(let u in i)a+=this.matrix[u][s]*i[u],i[u]=0;Gd(r[s])&&(a+=r[s]);let l=Math.trunc(a);e[s]=l,i[s]=(a*1e3-l*1e3)/1e3}else Gd(r[s])&&(i[s]=r[s]);for(let s in i)i[s]!==0&&(e[o]+=s===o?i[s]:i[s]/this.matrix[o][s]);return Mue(this.matrix,e),em(this,{values:e},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let t={};for(let e of Object.keys(this.values))t[e]=this.values[e]===0?0:-this.values[e];return em(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function e(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(let i of h_)if(!e(this.values[i],t.values[i]))return!1;return!0}};var Bb="Invalid Interval";function lKe(n,t){return!n||!n.isValid?tm.invalid("missing or invalid start"):!t||!t.isValid?tm.invalid("missing or invalid end"):t<n?tm.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${t.toISO()}`):null}var tm=class n{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new no("need to specify a reason the Interval is invalid");let i=t instanceof ra?t:new ra(t,e);if(mi.throwOnInvalid)throw new qP(i);return new n({invalid:i})}static fromDateTimes(t,e){let i=Pb(t),r=Pb(e),o=lKe(i,r);return o??new n({start:i,end:r})}static after(t,e){let i=io.fromDurationLike(e),r=Pb(t);return n.fromDateTimes(r,r.plus(i))}static before(t,e){let i=io.fromDurationLike(e),r=Pb(t);return n.fromDateTimes(r.minus(i),r)}static fromISO(t,e){let[i,r]=(t||"").split("/",2);if(i&&r){let o,s;try{o=Zn.fromISO(i,e),s=o.isValid}catch{s=!1}let a,l;try{a=Zn.fromISO(r,e),l=a.isValid}catch{l=!1}if(s&&l)return n.fromDateTimes(o,a);if(s){let u=io.fromISO(r,e);if(u.isValid)return n.after(o,u)}else if(l){let u=io.fromISO(i,e);if(u.isValid)return n.before(a,u)}}return n.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",e){if(!this.isValid)return NaN;let i=this.start.startOf(t,e),r;return e?.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(t,e),Math.floor(r.diff(i,t).get(t))+(r.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:e}={}){return this.isValid?n.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];let e=t.map(Pb).filter(s=>this.contains(s)).sort((s,a)=>s.toMillis()-a.toMillis()),i=[],{s:r}=this,o=0;for(;r<this.e;){let s=e[o]||this.e,a=+s>+this.e?this.e:s;i.push(n.fromDateTimes(r,a)),r=a,o+=1}return i}splitBy(t){let e=io.fromDurationLike(t);if(!this.isValid||!e.isValid||e.as("milliseconds")===0)return[];let{s:i}=this,r=1,o,s=[];for(;i<this.e;){let a=this.start.plus(e.mapUnits(l=>l*r));o=+a>+this.e?this.e:a,s.push(n.fromDateTimes(i,o)),i=o,r+=1}return s}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;let e=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return e>=i?null:n.fromDateTimes(e,i)}union(t){if(!this.isValid)return this;let e=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return n.fromDateTimes(e,i)}static merge(t){let[e,i]=t.sort((r,o)=>r.s-o.s).reduce(([r,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[r,o.union(s)]:[r.concat([o]),s]:[r,s],[[],null]);return i&&e.push(i),e}static xor(t){let e=null,i=0,r=[],o=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),s=Array.prototype.concat(...o),a=s.sort((l,u)=>l.time-u.time);for(let l of a)i+=l.type==="s"?1:-1,i===1?e=l.time:(e&&+e!=+l.time&&r.push(n.fromDateTimes(e,l.time)),e=null);return n.merge(r)}difference(...t){return n.xor([this].concat(t)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Bb}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=$g,e={}){return this.isValid?oa.create(this.s.loc.clone(e),t).formatInterval(this):Bb}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Bb}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Bb}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Bb}toFormat(t,{separator:e=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:Bb}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):io.invalid(this.invalidReason)}mapEndpoints(t){return n.fromDateTimes(t(this.s),t(this.e))}};var Qp=class{static hasDST(t=mi.defaultZone){let e=Zn.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return Al.isValidZone(t)}static normalizeZone(t){return jd(t,mi.defaultZone)}static getStartOfWeek({locale:t=null,locObj:e=null}={}){return(e||vi.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:e=null}={}){return(e||vi.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:e=null}={}){return(e||vi.create(t)).getWeekendDays().slice()}static months(t="long",{locale:e=null,numberingSystem:i=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||vi.create(e,i,o)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||vi.create(e,i,o)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:i=null,locObj:r=null}={}){return(r||vi.create(e,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:r=null}={}){return(r||vi.create(e,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return vi.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return vi.create(e,null,"gregory").eras(t)}static features(){return{relative:tk(),localeWeek:nk()}}};function Bue(n,t){let e=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=e(t)-e(n);return Math.floor(io.fromMillis(i).as("days"))}function cKe(n,t,e){let i=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{let d=Bue(l,u);return(d-d%7)/7}],["days",Bue]],r={},o=n,s,a;for(let[l,u]of i)e.indexOf(l)>=0&&(s=l,r[l]=u(n,t),a=o.plus(r),a>t?(r[l]--,n=o.plus(r),n>t&&(a=n,r[l]--,n=o.plus(r))):n=a);return[n,r,a,s]}function Pue(n,t,e,i){let[r,o,s,a]=cKe(n,t,e),l=t-r,u=e.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);u.length===0&&(s<t&&(s=r.plus({[a]:1})),s!==r&&(o[a]=(o[a]||0)+l/(s-r)));let d=io.fromObject(o,i);return u.length>0?io.fromMillis(l,i).shiftTo(...u).plus(d):d}var uKe="missing Intl.DateTimeFormat.formatToParts support";function _i(n,t=e=>e){return{regex:n,deser:([e])=>t(Wce(e))}}var dKe="\xA0",Rue=`[ ${dKe}]`,Lue=new RegExp(Rue,"g");function hKe(n){return n.replace(/\./g,"\\.?").replace(Lue,Rue)}function kue(n){return n.replace(/\./g,"").replace(Lue," ").toLowerCase()}function Wd(n,t){return n===null?null:{regex:RegExp(n.map(hKe).join("|")),deser:([e])=>n.findIndex(i=>kue(e)===kue(i))+t}}function Nue(n,t){return{regex:n,deser:([,e,i])=>c_(e,i),groups:t}}function sk(n){return{regex:n,deser:([t])=>t}}function fKe(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function pKe(n,t){let e=Lu(t),i=Lu(t,"{2}"),r=Lu(t,"{3}"),o=Lu(t,"{4}"),s=Lu(t,"{6}"),a=Lu(t,"{1,2}"),l=Lu(t,"{1,3}"),u=Lu(t,"{1,6}"),d=Lu(t,"{1,9}"),h=Lu(t,"{2,4}"),f=Lu(t,"{4,6}"),A=b=>({regex:RegExp(fKe(b.val)),deser:([S])=>S,literal:!0}),m=(b=>{if(n.literal)return A(b);switch(b.val){case"G":return Wd(t.eras("short"),0);case"GG":return Wd(t.eras("long"),0);case"y":return _i(u);case"yy":return _i(h,VI);case"yyyy":return _i(o);case"yyyyy":return _i(f);case"yyyyyy":return _i(s);case"M":return _i(a);case"MM":return _i(i);case"MMM":return Wd(t.months("short",!0),1);case"MMMM":return Wd(t.months("long",!0),1);case"L":return _i(a);case"LL":return _i(i);case"LLL":return Wd(t.months("short",!1),1);case"LLLL":return Wd(t.months("long",!1),1);case"d":return _i(a);case"dd":return _i(i);case"o":return _i(l);case"ooo":return _i(r);case"HH":return _i(i);case"H":return _i(a);case"hh":return _i(i);case"h":return _i(a);case"mm":return _i(i);case"m":return _i(a);case"q":return _i(a);case"qq":return _i(i);case"s":return _i(a);case"ss":return _i(i);case"S":return _i(l);case"SSS":return _i(r);case"u":return sk(d);case"uu":return sk(a);case"uuu":return _i(e);case"a":return Wd(t.meridiems(),0);case"kkkk":return _i(o);case"kk":return _i(h,VI);case"W":return _i(a);case"WW":return _i(i);case"E":case"c":return _i(e);case"EEE":return Wd(t.weekdays("short",!1),1);case"EEEE":return Wd(t.weekdays("long",!1),1);case"ccc":return Wd(t.weekdays("short",!0),1);case"cccc":return Wd(t.weekdays("long",!0),1);case"Z":case"ZZ":return Nue(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return Nue(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return sk(/[a-z_+-/]{1,256}?/i);case" ":return sk(/[^\S\n\r]/);default:return A(b)}})(n)||{invalidReason:uKe};return m.token=n,m}var AKe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function gKe(n,t,e){let{type:i,value:r}=n;if(i==="literal"){let l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}let o=t[i],s=i;i==="hour"&&(t.hour12!=null?s=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?s="hour12":s="hour24":s=e.hour12?"hour12":"hour24");let a=AKe[s];if(typeof a=="object"&&(a=a[o]),a)return{literal:!1,val:a}}function mKe(n){return[`^${n.map(e=>e.regex).reduce((e,i)=>`${e}(${i.source})`,"")}$`,n]}function vKe(n,t,e){let i=n.match(t);if(i){let r={},o=1;for(let s in e)if(Xg(e,s)){let a=e[s],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(i.slice(o,o+l))),o+=l}return[i,r]}else return[i,{}]}function _Ke(n){let t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},e=null,i;return Ut(n.z)||(e=Al.create(n.z)),Ut(n.Z)||(e||(e=new ia(n.Z)),i=n.Z),Ut(n.q)||(n.M=(n.q-1)*3+1),Ut(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),Ut(n.u)||(n.S=HI(n.u)),[Object.keys(n).reduce((o,s)=>{let a=t(s);return a&&(o[a]=n[s]),o},{}),e,i]}var Vj=null;function yKe(){return Vj||(Vj=Zn.fromMillis(1555555555555)),Vj}function wKe(n,t){if(n.literal)return n;let e=oa.macroTokenToFormatOpts(n.val),i=Gj(e,t);return i==null||i.includes(void 0)?n:i}function Qj(n,t){return Array.prototype.concat(...n.map(e=>wKe(e,t)))}var GI=class{constructor(t,e){if(this.locale=t,this.format=e,this.tokens=Qj(oa.parseFormat(e),t),this.units=this.tokens.map(i=>pKe(i,t)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){let[i,r]=mKe(this.units);this.regex=RegExp(i,"i"),this.handlers=r}}explainFromTokens(t){if(this.isValid){let[e,i]=vKe(t,this.regex,this.handlers),[r,o,s]=i?_Ke(i):[null,null,void 0];if(Xg(i,"a")&&Xg(i,"H"))throw new Hd("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:e,matches:i,result:r,zone:o,specificOffset:s}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}};function jj(n,t,e){return new GI(n,e).explainFromTokens(t)}function Uue(n,t,e){let{result:i,zone:r,specificOffset:o,invalidReason:s}=jj(n,t,e);return[i,r,o,s]}function Gj(n,t){if(!n)return null;let i=oa.create(t,n).dtFormatter(yKe()),r=i.formatToParts(),o=i.resolvedOptions();return r.map(s=>gKe(s,n,o))}var Wj="Invalid DateTime",Hue=864e13;function WI(n){return new ra("unsupported zone",`the zone "${n.name}" is not supported`)}function Kj(n){return n.weekData===null&&(n.weekData=RI(n.c)),n.weekData}function zj(n){return n.localWeekData===null&&(n.localWeekData=RI(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function f_(n,t){let e={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new Zn(vt(Ee(Ee({},e),t),{old:e}))}function zue(n,t,e){let i=n-t*60*1e3,r=e.offset(i);if(t===r)return[i,t];i-=(r-t)*60*1e3;let o=e.offset(i);return r===o?[i,r]:[n-Math.min(r,o)*60*1e3,Math.max(r,o)]}function ak(n,t){n+=t*60*1e3;let e=new Date(n);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function ck(n,t,e){return zue(bb(n),t,e)}function Vue(n,t){let e=n.o,i=n.c.year+Math.trunc(t.years),r=n.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o=vt(Ee({},n.c),{year:i,month:r,day:Math.min(n.c.day,Sb(i,r))+Math.trunc(t.days)+Math.trunc(t.weeks)*7}),s=io.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=bb(o),[l,u]=zue(a,e,n.zone);return s!==0&&(l+=s,u=n.zone.offset(l)),{ts:l,o:u}}function kb(n,t,e,i,r,o){let{setZone:s,zone:a}=e;if(n&&Object.keys(n).length!==0||t){let l=t||a,u=Zn.fromObject(n,vt(Ee({},e),{zone:l,specificOffset:o}));return s?u:u.setZone(a)}else return Zn.invalid(new ra("unparsable",`the input "${r}" can't be parsed as ${i}`))}function lk(n,t,e=!0){return n.isValid?oa.create(vi.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(n,t):null}function qj(n,t){let e=n.c.year>9999||n.c.year<0,i="";return e&&n.c.year>=0&&(i+="+"),i+=qr(n.c.year,e?6:4),t?(i+="-",i+=qr(n.c.month),i+="-",i+=qr(n.c.day)):(i+=qr(n.c.month),i+=qr(n.c.day)),i}function Que(n,t,e,i,r,o){let s=qr(n.c.hour);return t?(s+=":",s+=qr(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!e)&&(s+=":")):s+=qr(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!e)&&(s+=qr(n.c.second),(n.c.millisecond!==0||!i)&&(s+=".",s+=qr(n.c.millisecond,3))),r&&(n.isOffsetFixed&&n.offset===0&&!o?s+="Z":n.o<0?(s+="-",s+=qr(Math.trunc(-n.o/60)),s+=":",s+=qr(Math.trunc(-n.o%60))):(s+="+",s+=qr(Math.trunc(n.o/60)),s+=":",s+=qr(Math.trunc(n.o%60)))),o&&(s+="["+n.zone.ianaName+"]"),s}var que={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},bKe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},CKe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},$ue=["year","month","day","hour","minute","second","millisecond"],EKe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],SKe=["year","ordinal","hour","minute","second","millisecond"];function xKe(n){let t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!t)throw new wb(n);return t}function jue(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return xKe(n)}}function IKe(n){return dk[n]||(uk===void 0&&(uk=mi.now()),dk[n]=n.offset(uk)),dk[n]}function Gue(n,t){let e=jd(t.zone,mi.defaultZone);if(!e.isValid)return Zn.invalid(WI(e));let i=vi.fromObject(t),r,o;if(Ut(n.year))r=mi.now();else{for(let l of $ue)Ut(n[l])&&(n[l]=que[l]);let s=Oj(n)||Fj(n);if(s)return Zn.invalid(s);let a=IKe(e);[r,o]=ck(n,a,e)}return new Zn({ts:r,zone:e,loc:i,o})}function Wue(n,t,e){let i=Ut(e.round)?!0:e.round,r=(s,a)=>(s=Cb(s,i||e.calendary?0:2,!0),t.loc.clone(e).relFormatter(e).format(s,a)),o=s=>e.calendary?t.hasSame(n,s)?0:t.startOf(s).diff(n.startOf(s),s).get(s):t.diff(n,s).get(s);if(e.unit)return r(o(e.unit),e.unit);for(let s of e.units){let a=o(s);if(Math.abs(a)>=1)return r(a,s)}return r(n>t?-0:0,e.units[e.units.length-1])}function Kue(n){let t={},e;return n.length>0&&typeof n[n.length-1]=="object"?(t=n[n.length-1],e=Array.from(n).slice(0,n.length-1)):e=Array.from(n),[t,e]}var uk,dk={},Zn=class n{constructor(t){let e=t.zone||mi.defaultZone,i=t.invalid||(Number.isNaN(t.ts)?new ra("invalid input"):null)||(e.isValid?null:WI(e));this.ts=Ut(t.ts)?mi.now():t.ts;let r=null,o=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[r,o]=[t.old.c,t.old.o];else{let a=Gd(t.o)&&!t.old?t.o:e.offset(this.ts);r=ak(this.ts,a),i=Number.isNaN(r.year)?new ra("invalid input"):null,r=i?null:r,o=i?null:a}this._zone=e,this.loc=t.loc||vi.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=o,this.isLuxonDateTime=!0}static now(){return new n({})}static local(){let[t,e]=Kue(arguments),[i,r,o,s,a,l,u]=e;return Gue({year:i,month:r,day:o,hour:s,minute:a,second:l,millisecond:u},t)}static utc(){let[t,e]=Kue(arguments),[i,r,o,s,a,l,u]=e;return t.zone=ia.utcInstance,Gue({year:i,month:r,day:o,hour:s,minute:a,second:l,millisecond:u},t)}static fromJSDate(t,e={}){let i=lue(t)?t.valueOf():NaN;if(Number.isNaN(i))return n.invalid("invalid input");let r=jd(e.zone,mi.defaultZone);return r.isValid?new n({ts:i,zone:r,loc:vi.fromObject(e)}):n.invalid(WI(r))}static fromMillis(t,e={}){if(Gd(t))return t<-Hue||t>Hue?n.invalid("Timestamp out of range"):new n({ts:t,zone:jd(e.zone,mi.defaultZone),loc:vi.fromObject(e)});throw new no(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(Gd(t))return new n({ts:t*1e3,zone:jd(e.zone,mi.defaultZone),loc:vi.fromObject(e)});throw new no("fromSeconds requires a numerical input")}static fromObject(t,e={}){t=t||{};let i=jd(e.zone,mi.defaultZone);if(!i.isValid)return n.invalid(WI(i));let r=vi.fromObject(e),o=xb(t,jue),{minDaysInFirstWeek:s,startOfWeek:a}=Mj(o,r),l=mi.now(),u=Ut(e.specificOffset)?i.offset(l):e.specificOffset,d=!Ut(o.ordinal),h=!Ut(o.year),f=!Ut(o.month)||!Ut(o.day),A=h||f,g=o.weekYear||o.weekNumber;if((A||d)&&g)throw new Hd("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&d)throw new Hd("Can't mix ordinal dates with month/day");let m=g||o.weekday&&!A,b,S,F=ak(l,u);m?(b=EKe,S=bKe,F=RI(F,s,a)):d?(b=SKe,S=CKe,F=ok(F)):(b=$ue,S=que);let R=!1;for(let Z of b){let _e=o[Z];Ut(_e)?R?o[Z]=S[Z]:o[Z]=F[Z]:R=!0}let B=m?oue(o,s,a):d?sue(o):Oj(o),P=B||Fj(o);if(P)return n.invalid(P);let L=m?Tj(o,s,a):d?Dj(o):o,[j,G]=ck(L,u,i),Y=new n({ts:j,zone:i,o:G,loc:r});return o.weekday&&A&&t.weekday!==Y.weekday?n.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${Y.toISO()}`):Y.isValid?Y:n.invalid(Y.invalid)}static fromISO(t,e={}){let[i,r]=Cue(t);return kb(i,r,e,"ISO 8601",t)}static fromRFC2822(t,e={}){let[i,r]=Eue(t);return kb(i,r,e,"RFC 2822",t)}static fromHTTP(t,e={}){let[i,r]=Sue(t);return kb(i,r,e,"HTTP",e)}static fromFormat(t,e,i={}){if(Ut(t)||Ut(e))throw new no("fromFormat requires an input string and a format");let{locale:r=null,numberingSystem:o=null}=i,s=vi.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),[a,l,u,d]=Uue(s,t,e);return d?n.invalid(d):kb(a,l,i,`format ${e}`,t,u)}static fromString(t,e,i={}){return n.fromFormat(t,e,i)}static fromSQL(t,e={}){let[i,r]=Tue(t);return kb(i,r,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new no("need to specify a reason the DateTime is invalid");let i=t instanceof ra?t:new ra(t,e);if(mi.throwOnInvalid)throw new zP(i);return new n({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,e={}){let i=Gj(t,vi.fromObject(e));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(t,e={}){return Qj(oa.parseFormat(t),vi.fromObject(e)).map(r=>r.val).join("")}static resetCache(){uk=void 0,dk={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Kj(this).weekYear:NaN}get weekNumber(){return this.isValid?Kj(this).weekNumber:NaN}get weekday(){return this.isValid?Kj(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?zj(this).weekday:NaN}get localWeekNumber(){return this.isValid?zj(this).weekNumber:NaN}get localWeekYear(){return this.isValid?zj(this).weekYear:NaN}get ordinal(){return this.isValid?ok(this.c).ordinal:NaN}get monthShort(){return this.isValid?Qp.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Qp.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Qp.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Qp.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let t=864e5,e=6e4,i=bb(this.c),r=this.zone.offset(i-t),o=this.zone.offset(i+t),s=this.zone.offset(i-r*e),a=this.zone.offset(i-o*e);if(s===a)return[this];let l=i-s*e,u=i-a*e,d=ak(l,s),h=ak(u,a);return d.hour===h.hour&&d.minute===h.minute&&d.second===h.second&&d.millisecond===h.millisecond?[f_(this,{ts:l}),f_(this,{ts:u})]:[this]}get isInLeapYear(){return d_(this.year)}get daysInMonth(){return Sb(this.year,this.month)}get daysInYear(){return this.isValid?Zg(this.year):NaN}get weeksInWeekYear(){return this.isValid?u_(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?u_(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){let{locale:e,numberingSystem:i,calendar:r}=oa.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:i,outputCalendar:r}}toUTC(t=0,e={}){return this.setZone(ia.instance(t),e)}toLocal(){return this.setZone(mi.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:i=!1}={}){if(t=jd(t,mi.defaultZone),t.equals(this.zone))return this;if(t.isValid){let r=this.ts;if(e||i){let o=t.offset(this.ts),s=this.toObject();[r]=ck(s,o,t)}return f_(this,{ts:r,zone:t})}else return n.invalid(WI(t))}reconfigure({locale:t,numberingSystem:e,outputCalendar:i}={}){let r=this.loc.clone({locale:t,numberingSystem:e,outputCalendar:i});return f_(this,{loc:r})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;let e=xb(t,jue),{minDaysInFirstWeek:i,startOfWeek:r}=Mj(e,this.loc),o=!Ut(e.weekYear)||!Ut(e.weekNumber)||!Ut(e.weekday),s=!Ut(e.ordinal),a=!Ut(e.year),l=!Ut(e.month)||!Ut(e.day),u=a||l,d=e.weekYear||e.weekNumber;if((u||s)&&d)throw new Hd("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&s)throw new Hd("Can't mix ordinal dates with month/day");let h;o?h=Tj(Ee(Ee({},RI(this.c,i,r)),e),i,r):Ut(e.ordinal)?(h=Ee(Ee({},this.toObject()),e),Ut(e.day)&&(h.day=Math.min(Sb(h.year,h.month),h.day))):h=Dj(Ee(Ee({},ok(this.c)),e));let[f,A]=ck(h,this.o,this.zone);return f_(this,{ts:f,o:A})}plus(t){if(!this.isValid)return this;let e=io.fromDurationLike(t);return f_(this,Vue(this,e))}minus(t){if(!this.isValid)return this;let e=io.fromDurationLike(t).negate();return f_(this,Vue(this,e))}startOf(t,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;let i={},r=io.normalizeUnit(t);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break;case"milliseconds":break}if(r==="weeks")if(e){let o=this.loc.getStartOfWeek(),{weekday:s}=this;s<o&&(i.weekNumber=this.weekNumber-1),i.weekday=o}else i.weekday=1;if(r==="quarters"){let o=Math.ceil(this.month/3);i.month=(o-1)*3+1}return this.set(i)}endOf(t,e){return this.isValid?this.plus({[t]:1}).startOf(t,e).minus(1):this}toFormat(t,e={}){return this.isValid?oa.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):Wj}toLocaleString(t=$g,e={}){return this.isValid?oa.create(this.loc.clone(e),t).formatDateTime(this):Wj}toLocaleParts(t={}){return this.isValid?oa.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:e=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;let s=t==="extended",a=qj(this,s);return a+="T",a+=Que(this,s,e,i,r,o),a}toISODate({format:t="extended"}={}){return this.isValid?qj(this,t==="extended"):null}toISOWeekDate(){return lk(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:o=!1,format:s="extended"}={}){return this.isValid?(r?"T":"")+Que(this,s==="extended",e,t,i,o):null}toRFC2822(){return lk(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return lk(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?qj(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:e=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(e||t)&&(i&&(r+=" "),e?r+="z":t&&(r+="ZZ")),lk(this,r,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Wj}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};let e=Ee({},this.c);return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",i={}){if(!this.isValid||!t.isValid)return io.invalid("created by diffing an invalid DateTime");let r=Ee({locale:this.locale,numberingSystem:this.numberingSystem},i),o=cue(e).map(io.normalizeUnit),s=t.valueOf()>this.valueOf(),a=s?this:t,l=s?t:this,u=Pue(a,l,o,r);return s?u.negate():u}diffNow(t="milliseconds",e={}){return this.diff(n.now(),t,e)}until(t){return this.isValid?tm.fromDateTimes(this,t):this}hasSame(t,e,i){if(!this.isValid)return!1;let r=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(e,i)<=r&&r<=o.endOf(e,i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;let e=t.base||n.fromObject({},{zone:this.zone}),i=t.padding?this<e?-t.padding:t.padding:0,r=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(r=t.unit,o=void 0),Wue(e,this.plus(i),vt(Ee({},t),{numeric:"always",units:r,unit:o}))}toRelativeCalendar(t={}){return this.isValid?Wue(t.base||n.fromObject({},{zone:this.zone}),this,vt(Ee({},t),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...t){if(!t.every(n.isDateTime))throw new no("min requires all arguments be DateTimes");return Bj(t,e=>e.valueOf(),Math.min)}static max(...t){if(!t.every(n.isDateTime))throw new no("max requires all arguments be DateTimes");return Bj(t,e=>e.valueOf(),Math.max)}static fromFormatExplain(t,e,i={}){let{locale:r=null,numberingSystem:o=null}=i,s=vi.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0});return jj(s,t,e)}static fromStringExplain(t,e,i={}){return n.fromFormatExplain(t,e,i)}static buildFormatParser(t,e={}){let{locale:i=null,numberingSystem:r=null}=e,o=vi.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});return new GI(o,t)}static fromFormatParser(t,e,i={}){if(Ut(t)||Ut(e))throw new no("fromFormatParser requires an input string and a format parser");let{locale:r=null,numberingSystem:o=null}=i,s=vi.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0});if(!s.equals(e.locale))throw new no(`fromFormatParser called with a locale of ${s}, but the format parser was created for ${e.locale}`);let{result:a,zone:l,specificOffset:u,invalidReason:d}=e.explainFromTokens(t);return d?n.invalid(d):kb(a,l,i,`format ${e.format}`,t,u)}static get DATE_SHORT(){return $g}static get DATE_MED(){return AI}static get DATE_MED_WITH_WEEKDAY(){return dj}static get DATE_FULL(){return gI}static get DATE_HUGE(){return mI}static get TIME_SIMPLE(){return vI}static get TIME_WITH_SECONDS(){return _I}static get TIME_WITH_SHORT_OFFSET(){return yI}static get TIME_WITH_LONG_OFFSET(){return wI}static get TIME_24_SIMPLE(){return bI}static get TIME_24_WITH_SECONDS(){return CI}static get TIME_24_WITH_SHORT_OFFSET(){return EI}static get TIME_24_WITH_LONG_OFFSET(){return SI}static get DATETIME_SHORT(){return xI}static get DATETIME_SHORT_WITH_SECONDS(){return II}static get DATETIME_MED(){return TI}static get DATETIME_MED_WITH_SECONDS(){return DI}static get DATETIME_MED_WITH_WEEKDAY(){return hj}static get DATETIME_FULL(){return MI}static get DATETIME_FULL_WITH_SECONDS(){return OI}static get DATETIME_HUGE(){return FI}static get DATETIME_HUGE_WITH_SECONDS(){return BI}};function Pb(n){if(Zn.isDateTime(n))return n;if(n&&n.valueOf&&Gd(n.valueOf()))return Zn.fromJSDate(n);if(n&&typeof n=="object")return Zn.fromObject(n);throw new no(`Unknown datetime argument: ${n}, of type ${typeof n}`)}var hk=function(n){return n.AM="AM",n.PM="PM",n}(hk||{}),p_=function(n){return n.TWELVE="hh:mm a",n.TWELVE_SHORT="h:m a",n.TWENTY_FOUR="HH:mm",n.TWENTY_FOUR_SHORT="H:m",n}(p_||{});function $j(n,t,e="minutes"){if(e==="hours")return n.hour>=t.hour;if(e==="minutes")return n.hasSame(t,e)||n.valueOf()>t.valueOf()}function Yj(n,t,e="minutes"){if(e==="hours")return n.hour<=t.hour;if(e==="minutes")return n.hasSame(t,e)||n.valueOf()<=t.valueOf()}function TKe(n,t,e,i="minutes"){if(i==="hours")return Yj(n,e,i)&&$j(n,t,i);if(i==="minutes")return Yj(n,e)&&$j(n,t)}var Zj=(()=>{class n{static parseTime(e,i){let{numberingSystem:r,locale:o}=n.getLocaleOptionsByTime(e,i),a=e.split(" ").length===2?p_.TWELVE_SHORT:p_.TWENTY_FOUR_SHORT;return Zn.fromFormat(e,a,{numberingSystem:r,locale:o})}static formatTime(e,i){if(!e)return"Invalid Time";let{format:r}=i,o=n.parseTime(e,i).setLocale(n.DEFAULT_LOCALE);return o.isValid?r!==24?o.toLocaleString(Object.assign(Object.assign({},Zn.TIME_SIMPLE),{hour12:r!==24,numberingSystem:n.DEFAULT_NUMBERING_SYSTEM})).replace(/\u200E/g,"").replace(/\u202F/g," "):o.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"").replace(/\u202F/g," "):null}static toLocaleTimeString(e,i={}){let{format:r=n.DEFAULT_FORMAT,locale:o=n.DEFAULT_LOCALE}=i,s=r===24?"h23":"h12",a=Object.assign(Object.assign({},Zn.TIME_SIMPLE),{hourCycle:s}),l=r===24?p_.TWENTY_FOUR_SHORT:p_.TWELVE_SHORT,u=Object.assign({locale:i.locale,numberingSystem:i.numberingSystem},a);return Zn.fromFormat(e,l).setLocale(o).toLocaleString(u).replace(/\u202F/g," ")}static isTimeAvailable(e,i,r,o,s,a){if(!e)return;let l=this.parseTime(e,{format:a}),u=l.minute;if(s&&u===u&&u%s!==0)throw new Error(`Your minutes - ${u} doesn't match your minutesGap - ${s}`);let d=i&&!r&&$j(l,i,o),h=r&&!i&&Yj(l,r,o),f=i&&r&&TKe(l,i,r,o);return d||h||f||!i&&!r}static formatHour(e,i,r){if(i===24)return e;let o=r===hk.AM?e:e+12;return r===hk.AM&&o===12?0:r===hk.PM&&o===24?12:o}static fromDateTimeToString(e,i){let r=i===24?p_.TWENTY_FOUR:p_.TWELVE;return e.reconfigure({numberingSystem:n.DEFAULT_NUMBERING_SYSTEM,locale:n.DEFAULT_LOCALE}).toFormat(r).replace(/\u202F/g," ")}static getLocaleOptionsByTime(e,i){let r={numberingSystem:i.numberingSystem,locale:i.locale},o={numberingSystem:n.DEFAULT_NUMBERING_SYSTEM,locale:n.DEFAULT_LOCALE};return isNaN(parseInt(e,10))?r:o}}return n.DEFAULT_FORMAT=12,n.DEFAULT_LOCALE="en-US",n.DEFAULT_NUMBERING_SYSTEM="latn",n})();var DKe=new Ke("TimeLocale",{providedIn:"root",factory:()=>Zj.DEFAULT_LOCALE}),MKe=new Ke("NumberingSystem",{providedIn:"root",factory:()=>Zj.DEFAULT_NUMBERING_SYSTEM});var Yue=(()=>{class n{static setOpts(e,i=Zj.DEFAULT_NUMBERING_SYSTEM){return{ngModule:n,providers:[{provide:DKe,useValue:e},{provide:MKe,useValue:i}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ht({type:n}),n.\u0275inj=dt({imports:[[As,tO,nO]]}),n})();var OKe=(()=>{class n{errorHandler;constructor(e){this.errorHandler=e}log(e,...i){$2()&&console.log(e,...i)}error(e){this.errorHandler.handleError(e)}warn(e,...i){console.warn(e,...i)}static \u0275fac=function(i){return new(i||n)(Te(lu))};static \u0275prov=De({token:n,factory:n.\u0275fac})}return n})();var Zue=new Ke("WindowToken"),KI=class{get nativeWindow(){throw new Error("Not implemented.")}},FKe=(()=>{class n extends KI{constructor(){super()}get nativeWindow(){return window}static \u0275fac=function(i){return new(i||n)};static \u0275prov=De({token:n,factory:n.\u0275fac})}return n})();function BKe(n,t){return Vh(t)?n.nativeWindow:{setTimeout:(i,r)=>{},clearTimeout:i=>{}}}var PKe={provide:KI,useClass:FKe},kKe={provide:Zue,useFactory:BKe,deps:[KI,Wo]},NKe=[PKe,kKe],RKe=new Ke("DocumentToken"),zI=class{get nativeDocument(){throw new Error("Not implemented.")}},LKe=(()=>{class n extends zI{constructor(){super()}get nativeDocument(){return document}static \u0275fac=function(i){return new(i||n)};static \u0275prov=De({token:n,factory:n.\u0275fac})}return n})();function UKe(n,t){return Vh(t)?n.nativeDocument:{hidden:!1,visibilityState:"visible"}}var HKe={provide:zI,useClass:LKe},VKe={provide:RKe,useFactory:UKe,deps:[zI,Wo]},QKe=[HKe,VKe];var jKe=(()=>{class n{resizeObservable$;get onResize$(){return this.resizeObservable$}constructor(e,i){this.resizeObservable$=Vh(i)?Ur(e,"resize"):new St().asObservable()}static \u0275fac=function(i){return new(i||n)(Te(Zue),Te(Wo))};static \u0275prov=De({token:n,factory:n.\u0275fac})}return n})();var Xue=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ht({type:n});static \u0275inj=dt({providers:[NKe,jKe,QKe,OKe],imports:[As]})}return n})();var GKe=new Ke("cdk-dir-doc",{providedIn:"root",factory:WKe});function WKe(){return Oe(rn)}var KKe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function zKe(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?KKe.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Jue=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new at,e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=zKe(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(Te(GKe,8))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var qI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();var $I=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},fk=class extends $I{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},pk=class extends $I{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Xj=class extends $I{constructor(t){super(),this.element=t instanceof Kt?t.nativeElement:t}},Jj=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof fk)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof pk)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Xj)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ak=class extends Jj{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Ci.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var gk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})();function e7(n){return Array.isArray(n)?n:[n]}function po(n){return n==null?"":typeof n=="string"?n:`${n}px`}function ede(n){return n instanceof Kt?n.nativeElement:n}var t7;try{t7=typeof Intl<"u"&&Intl.v8BreakIterator}catch{t7=!1}var g_=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Vh(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||t7)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(Te(Wo))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var A_;function tde(){if(A_==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return A_=!1,A_;if("scrollBehavior"in document.documentElement.style)A_=!0;else{let n=Element.prototype.scrollTo;n?A_=!/\{\s*\[native code\]\s*\}/.test(n.toString()):A_=!1}}return A_}function n7(n){return n.composedPath?n.composedPath()[0]:n.target}function i7(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var $Ke=20,rde=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new St,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=$Ke){return this._platform.isBrowser?new $t(i=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe($y(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):_t()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Di(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=ede(i),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return Ur(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(Te(Pt),Te(g_),Te(rn,8))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var YKe=20,r7=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new St,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),s=-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(e=YKe){return e>0?this._change.pipe($y(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(Te(g_),Te(Pt),Te(rn,8))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ide=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({})}}return n})(),o7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({imports:[qI,ide,qI,ide]})}}return n})();var ode=tde(),s7=class{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=po(-this._previousScrollPosition.left),t.style.top=po(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,r=e.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ode&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ode&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var a7=class{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Di(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},mk=class{enable(){}disable(){}attach(){}};function l7(n,t){return t.some(e=>{let i=n.bottom<e.top,r=n.top>e.bottom,o=n.right<e.left,s=n.left>e.right;return i||r||o||s})}function sde(n,t){return t.some(e=>{let i=n.top<e.top,r=n.bottom>e.bottom,o=n.left<e.left,s=n.right>e.right;return i||r||o||s})}var c7=class{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();l7(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},XKe=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new mk,this.close=s=>new a7(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new s7(this._viewportRuler,this._document),this.reposition=s=>new c7(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(Te(rde),Te(r7),Te(Pt),Te(rn))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),u7=class{constructor(t){if(this.scrollStrategy=new mk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var d7=class{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var hde=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(Te(rn))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JKe=(()=>{class n extends hde{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{let o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){let a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(Te(rn),Te(Pt,8))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eze=(()=>{class n extends hde{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=n7(o)},this._clickListener=o=>{let s=n7(o),a=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){let d=l[u];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(ade(d.overlayElement,s)||ade(d.overlayElement,a))break;let h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(e){if(super.add(e),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(Te(rn),Te(g_),Te(Pt,8))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ade(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var fde=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||i7()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(e),i7()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(Te(rn),Te(g_))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),h7=class{constructor(t,e,i,r,o,s,a,l,u,d=!1,h){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._injector=h,this._backdropElement=null,this._backdropClick=new St,this._attachments=new St,this._detachments=new St,this._locationChanges=Li.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new St,this._outsidePointerEvents=new St,this._renders=new St,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=pu(()=>H2(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=ip(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Ee(Ee({},this._config),t),this._updateElementSize()}setDirection(t){this._config=vt(Ee({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=po(this._config.width),t.height=po(this._config.height),t.minWidth=po(this._config.minWidth),t.minHeight=po(this._config.minHeight),t.maxWidth=po(this._config.maxWidth),t.maxHeight=po(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){let r=e7(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Ui(zf(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},lde="cdk-overlay-connected-position-bounding-box",tze=/([A-Za-z%]+)$/,f7=class{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new St,this._resizeSubscription=Li.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(lde),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),u=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(u,e,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,u,i)){o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:u,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(let u of o){let d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>l&&(l=d,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&m_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(lde),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=i.originX=="start"?s:a}e.left<0&&(r-=e.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){let o=ude(e),{x:s,y:a}=t,l=this._getOffset(r,"x"),u=this._getOffset(r,"y");l&&(s+=l),u&&(a+=u);let d=0-s,h=s+o.width-i.width,f=0-a,A=a+o.height-i.height,g=this._subtractOverflows(o.width,d,h),m=this._subtractOverflows(o.height,f,A),b=g*m;return{visibleArea:b,isCompletelyWithinViewport:o.width*o.height===b,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:g==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,o=i.right-e.x,s=cde(this._overlayRef.getConfig().minHeight),a=cde(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=r,u=t.fitsInViewportHorizontally||a!=null&&a<=o;return l&&u}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=ude(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),u=Math.max(o.left-i.left-t.x,0),d=0,h=0;return r.width<=o.width?d=u||-s:d=t.x<this._viewportMargin?o.left-i.left-t.x:0,r.height<=o.height?h=l||-a:h=t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:d,y:h},{x:t.x+d,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!nze(this._lastScrollVisibility,i)){let r=new d7(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(e.overlayY==="top")s=t.y,o=i.height-s+this._viewportMargin;else if(e.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let A=Math.min(i.bottom-t.y+i.top,t.y),g=this._lastBoundingBoxSize.height;o=A*2,s=t.y-A,o>g&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-g/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,u=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,d,h,f;if(u)f=i.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)h=t.x,d=i.right-t.x;else{let A=Math.min(i.right-t.x+i.left,t.x),g=this._lastBoundingBoxSize.width;d=A*2,h=t.x-A,d>g&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-g/2)}return{top:s,left:h,bottom:a,right:f,width:d,height:o}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=po(i.height),r.top=po(i.top),r.bottom=po(i.bottom),r.width=po(i.width),r.left=po(i.left),r.right=po(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=po(o)),s&&(r.maxWidth=po(s))}this._lastBoundingBoxSize=i,m_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){m_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){m_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();m_(i,this._getExactOverlayY(e,t,d)),m_(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",l=this._getOffset(e,"x"),u=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),u&&(a+=`translateY(${u}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=po(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=po(s.maxWidth):o&&(i.maxWidth="")),m_(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=po(o.y);return r}_getExactOverlayX(t,e,i){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=po(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:sde(t,i),isOriginOutsideView:l7(t,i),isOverlayClipped:sde(e,i),isOverlayOutsideView:l7(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&e7(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Kt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function m_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function cde(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(tze);return!e||e==="px"?parseFloat(t):null}return n||null}function ude(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function nze(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var dde="cdk-global-overlay-wrapper",p7=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(dde),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,h=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",A="",g="",m="";l?m="flex-start":d==="center"?(m="center",f?g=h:A=h):f?d==="left"||d==="end"?(m="flex-end",A=h):(d==="right"||d==="start")&&(m="flex-start",g=h):d==="left"||d==="start"?(m="flex-start",A=h):(d==="right"||d==="end")&&(m="flex-end",g=h),t.position=this._cssPosition,t.marginLeft=l?"0":A,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":g,e.justifyContent=m,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(dde),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},ize=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new p7}flexibleConnectedTo(e){return new f7(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(Te(r7),Te(rn),Te(g_),Te(fde))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rze=0,A7=(()=>{class n{constructor(e,i,r,o,s,a,l,u,d,h,f,A){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=u,this._directionality=d,this._location=h,this._outsideClickDispatcher=f,this._animationsModuleType=A}create(e){let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new u7(e);return s.direction=s.direction||this._directionality.value,new h7(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(uo))}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=`cdk-overlay-${rze++}`,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get($s)),new Ak(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(Te(XKe),Te(fde),Te(cu),Te(ize),Te(JKe),Te(Ci),Te(Pt),Te(rn),Te(Jue),Te(Hh),Te(eze),Te(lE,8))}}static{this.\u0275prov=De({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var oze=new Ke("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=Oe(A7);return()=>n.scrollStrategies.reposition()}});function sze(n){return()=>n.scrollStrategies.reposition()}var aze={provide:oze,deps:[A7],useFactory:sze},pde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({providers:[A7,aze],imports:[qI,gk,o7,o7]})}}return n})();var fr={DONE:'<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24"><path d="m12 15-5-5h10Z"/></svg>',ENTER:'<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24"><path d="m9 18-6-6 6-6 1.4 1.4L6.8 11H19V7h2v6H6.8l3.6 3.6Z"/></svg>',SHIFT:'<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24"><path d="M10.8796773,2.4676627 C10.7983669,2.53542133 10.7233714,2.61041687 10.6556128,2.69172724 L2.79065437,12.1296773 C2.17191723,12.8721619 2.27223434,13.9756501 3.01471891,14.5943872 L3.15432027,14.6993778 C3.44275103,14.8945506 3.78413686,15 4.13504161,15 L6.999,15 L7,20.25 C7,21.2164983 7.78350169,22 8.75,22 L15.25,22 L15.3935272,21.9941988 C16.2928897,21.9211923 17,21.1681734 17,20.25 L16.999,15 L19.8649584,15 C20.8314567,15 21.6149584,14.2164983 21.6149584,13.25 C21.6149584,12.8406111 21.47143,12.4441786 21.2093456,12.1296773 L13.3443872,2.69172724 C12.7600244,1.99049181 11.7432755,1.8620539 11.0066223,2.37118457 L10.8796773,2.4676627 Z M12.1920553,3.65200384 L20.0570137,13.0899539 C20.0944543,13.1348827 20.1149584,13.1915159 20.1149584,13.25 C20.1149584,13.3880712 20.0030296,13.5 19.8649584,13.5 L16.25,13.5 C15.8357864,13.5 15.5,13.8357864 15.5,14.25 L15.5,20.25 C15.5,20.3880712 15.3880712,20.5 15.25,20.5 L8.75,20.5 C8.61192881,20.5 8.5,20.3880712 8.5,20.25 L8.5,14.25 C8.5,13.8357864 8.16421356,13.5 7.75,13.5 L4.13504161,13.5 C4.07655749,13.5 4.01992426,13.4794959 3.97499551,13.4420553 C3.86892629,13.3536643 3.85459527,13.1960231 3.94298629,13.0899539 L11.8079447,3.65200384 C11.8176245,3.64038807 11.8283381,3.62967442 11.8399539,3.61999462 C11.9460231,3.5316036 12.1036643,3.54593461 12.1920553,3.65200384 Z"></path></svg>',BACKSPACE:'<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24"><path d="M18.75,4 C20.4830315,4 21.8992459,5.35645477 21.9948552,7.06557609 L22,7.25 L22,16.75 C22,18.4830315 20.6435452,19.8992459 18.9344239,19.9948552 L18.75,20 L10.2488122,20 C9.48467584,20 8.74731983,19.7308489 8.16441163,19.243553 L8.00936186,19.1052839 L3.01367221,14.3552839 C1.71288481,13.1184697 1.66102433,11.0613371 2.89783857,9.76054971 L3.01367221,9.64471607 L8.00936186,4.89471607 C8.56313355,4.36817906 9.28295917,4.05514987 10.0411712,4.00663485 L10.2488122,4 L18.75,4 Z M18.75,5.5 L10.2488122,5.5 C9.85605678,5.5 9.47644043,5.63205173 9.16975262,5.87226779 L9.04295431,5.98177019 L4.04726465,10.7317702 L3.98489269,10.7941421 C3.3580909,11.4533647 3.34595643,12.473346 3.93064574,13.1462921 L4.04726465,13.2682298 L9.04295431,18.0182298 C9.32758521,18.2888625 9.69368599,18.4547433 10.0814672,18.4919848 L10.2488122,18.5 L18.75,18.5 C19.6681734,18.5 20.4211923,17.7928897 20.4941988,16.8935272 L20.5,16.75 L20.5,7.25 C20.5,6.3318266 19.7928897,5.57880766 18.8935272,5.5058012 L18.75,5.5 Z M11.4462117,8.39705176 L11.5303301,8.46966991 L14.000116,10.939 L16.4696699,8.46966991 C16.7625631,8.1767767 17.2374369,8.1767767 17.5303301,8.46966991 C17.7965966,8.73593648 17.8208027,9.15260016 17.6029482,9.44621165 L17.5303301,9.53033009 L15.061116,12 L17.5303301,14.4696699 C17.8232233,14.7625631 17.8232233,15.2374369 17.5303301,15.5303301 C17.2640635,15.7965966 16.8473998,15.8208027 16.5537883,15.6029482 L16.4696699,15.5303301 L14.000116,13.061 L11.5303301,15.5303301 C11.2374369,15.8232233 10.7625631,15.8232233 10.4696699,15.5303301 C10.2034034,15.2640635 10.1791973,14.8473998 10.3970518,14.5537883 L10.4696699,14.4696699 L12.939116,12 L10.4696699,9.53033009 C10.1767767,9.23743687 10.1767767,8.76256313 10.4696699,8.46966991 C10.7359365,8.20340335 11.1526002,8.1791973 11.4462117,8.39705176 Z"></path></svg>',LANGUAGE:'<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24"><path d="M12 22q-2.05 0-3.875-.788-1.825-.787-3.187-2.15-1.363-1.362-2.15-3.187Q2 14.05 2 12q0-2.075.788-3.887.787-1.813 2.15-3.175Q6.3 3.575 8.125 2.787 9.95 2 12 2q2.075 0 3.887.787 1.813.788 3.175 2.151 1.363 1.362 2.15 3.175Q22 9.925 22 12q0 2.05-.788 3.875-.787 1.825-2.15 3.187-1.362 1.363-3.175 2.15Q14.075 22 12 22Zm0-2.05q.65-.9 1.125-1.875T13.9 16h-3.8q.3 1.1.775 2.075.475.975 1.125 1.875Zm-2.6-.4q-.45-.825-.787-1.713Q8.275 16.95 8.05 16H5.1q.725 1.25 1.812 2.175Q8 19.1 9.4 19.55Zm5.2 0q1.4-.45 2.487-1.375Q18.175 17.25 18.9 16h-2.95q-.225.95-.562 1.837-.338.888-.788 1.713ZM4.25 14h3.4q-.075-.5-.113-.988Q7.5 12.525 7.5 12t.037-1.012q.038-.488.113-.988h-3.4q-.125.5-.188.988Q4 11.475 4 12t.062 1.012q.063.488.188.988Zm5.4 0h4.7q.075-.5.113-.988.037-.487.037-1.012t-.037-1.012q-.038-.488-.113-.988h-4.7q-.075.5-.112.988Q9.5 11.475 9.5 12t.038 1.012q.037.488.112.988Zm6.7 0h3.4q.125-.5.188-.988Q20 12.525 20 12t-.062-1.012q-.063-.488-.188-.988h-3.4q.075.5.112.988.038.487.038 1.012t-.038 1.012q-.037.488-.112.988Zm-.4-6h2.95q-.725-1.25-1.813-2.175Q16 4.9 14.6 4.45q.45.825.788 1.712.337.888.562 1.838ZM10.1 8h3.8q-.3-1.1-.775-2.075Q12.65 4.95 12 4.05q-.65.9-1.125 1.875T10.1 8Zm-5 0h2.95q.225-.95.563-1.838.337-.887.787-1.712Q8 4.9 6.912 5.825 5.825 6.75 5.1 8Z"/></svg>',SPACE:" ",TAB:'<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24"><path d="m12 18-1.425-1.4 3.6-3.6H2v-2h12.175L10.6 7.4 12 6l6 6Zm8 0V6h2v12Z"/></svg>'};var qft={"{done}":fr.DONE,"{shift}":fr.SHIFT,"{backspace}":fr.BACKSPACE,"{space}":fr.SPACE,"{alphabetic}":"ABC","{numeric}":"123","{symbolic}":"#+="};var $ft={"{done}":fr.DONE,"{shift}":fr.SHIFT,"{backspace}":fr.BACKSPACE,"{space}":fr.SPACE,"{alphabetic}":"ABC","{numeric}":"123","{symbolic}":"#+="};var Yft={"{done}":fr.DONE,"{backspace}":fr.BACKSPACE,"{space}":fr.SPACE,"{alphabetic}":"\u0627\u200C\u0628\u200C\u067E","{numeric}":"\u06F1\u06F2\u06F3","{symbolic}":"=+#"};var Zft={"{done}":fr.DONE,"{backspace}":fr.BACKSPACE,"{space}":fr.SPACE,"{alphabetic}":"\u05D0\u05D1\u05D2","{numeric}":"123","{symbolic}":"=+#"};var Xft={"{done}":fr.DONE,"{shift}":fr.SHIFT,"{backspace}":fr.BACKSPACE,"{space}":fr.SPACE,"{alphabetic}":"\u10D0\u10D1\u10D2","{numeric}":"123","{symbolic}":"#+="};var Jft={"{done}":fr.DONE,"{shift}":fr.SHIFT,"{backspace}":fr.BACKSPACE,"{space}":fr.SPACE,"{alphabetic}":"\u0410\u0411\u0412","{numeric}":"123","{symbolic}":"#+="};var ept={"{done}":fr.DONE,"{shift}":fr.SHIFT,"{backspace}":fr.BACKSPACE,"{space}":fr.SPACE,"{alphabetic}":"ABC","{numeric}":"123","{symbolic}":"#+="};var Ade=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n})}static{this.\u0275inj=dt({imports:[As,pde,gk]})}}return n})();function lze(n){return new MP(n,"./assets/i18n/")}var gde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ht({type:n,bootstrap:[XB]})}static{this.\u0275inj=dt({providers:[{provide:Xr,useValue:q$},Ca,ub],imports:[yM,cce,gq,IU,tO,nO,$le,LY,nY,Fae,KY,Xle,kY,uY,Ade,Xue,dJ,hP,Yue,Uce,J$.forRoot({preventDuplicates:!0}),IU.forRoot({loader:{provide:ag,useFactory:lze,deps:[_E]}})]})}}return n})();var mde={production:!1};mde.production&&void 0;Cq().bootstrapModule(gde).catch(n=>console.error(n));
